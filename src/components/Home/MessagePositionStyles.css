/**
 * MessagePositionStyles.css
 * Styles for positioning message cards in the chat interface
 * Updated for modern chat UI with right-aligned incoming messages
 */

/* Style for messages from other users - position on the left */
.pro-message-blurb.pro-blurb-incoming {
  align-self: flex-start !important;
  margin-right: auto !important; /* Ensure messages stay on the left */
  margin-left: 16px !important;  /* Add some margin on the left */
  background-color: #8a2be2 !important; /* Purple color for other users' messages */
  color: #fff !important; /* White text for better contrast */
  border-radius: 3px 18px 18px 18px !important; /* Rounded corners with point on left */
  border-left: none !important; /* Remove left border */
  max-width: 70% !important; /* Limit message width */
}

/* Style for current user's messages - position on the right side */
.pro-message-blurb.pro-blurb-outgoing {
  align-self: flex-end !important;
  margin-left: auto !important; /* Push to the right side */
  margin-right: 16px !important; /* Add some margin on the right */
  background-color: #00796b !important; /* Teal color for current device user's messages */
  color: #fff !important; /* White text for better contrast */
  border-radius: 18px 3px 18px 18px !important; /* Rounded corners with point on right */
  max-width: 70% !important; /* Limit message width */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1) !important; /* Add subtle shadow */
}

/* Hover states for messages */
.pro-message-blurb.pro-blurb-incoming:hover {
  background-color: #9d44e9; /* Slightly lighter purple on hover */
}

.pro-message-blurb.pro-blurb-outgoing:hover {
  background-color: #009688; /* Slightly lighter teal on hover */
}

/* For dark mode */
.dark-theme .pro-message-blurb.pro-blurb-incoming {
  background-color: #6a1b9a; /* Darker purple for dark mode */
  color: #f5f5f5;
  border-left: none;
}

.dark-theme .pro-message-blurb.pro-blurb-outgoing {
  background-color: #004d40; /* Darker teal for dark mode */
  color: #f5f5f5;
}

/* Adjust meta information display for incoming and outgoing messages */
.pro-message-blurb.pro-blurb-incoming .pro-blurb-meta {
  text-align: left;
}

.pro-message-blurb.pro-blurb-outgoing .pro-blurb-meta {
  text-align: right;
}

/* Fix text colors for better readability */
.pro-message-blurb.pro-blurb-incoming .pro-blurb-sender,
.pro-message-blurb.pro-blurb-incoming .pro-blurb-time,
.pro-message-blurb.pro-blurb-incoming .pro-blurb-text {
  color: rgba(255, 255, 255, 0.9);
}

.pro-message-blurb.pro-blurb-outgoing .pro-blurb-sender,
.pro-message-blurb.pro-blurb-outgoing .pro-blurb-time,
.pro-message-blurb.pro-blurb-outgoing .pro-blurb-text {
  color: rgba(255, 255, 255, 0.9);
}

/* Adjust avatar positioning for outgoing messages */
.pro-message-blurb.pro-blurb-outgoing .pro-blurb-left {
  order: 3; /* Move avatar to the right side */
}

.pro-message-blurb.pro-blurb-outgoing .pro-blurb-right {
  order: 1; /* Move actions to the left side */
}

.pro-message-blurb.pro-blurb-outgoing .pro-blurb-body {
  order: 2; /* Keep body in the middle */
  text-align: right; /* Right-align text for outgoing messages */
}

/* Reset avatar positioning for incoming messages */
.pro-message-blurb.pro-blurb-incoming .pro-blurb-left {
  order: 1; /* Keep avatar on the left side */
}

.pro-message-blurb.pro-blurb-incoming .pro-blurb-right {
  order: 3; /* Keep actions on the right side */
}

.pro-message-blurb.pro-blurb-incoming .pro-blurb-body {
  order: 2; /* Keep body in the middle */
  text-align: left; /* Left-align text for incoming messages */
}

/* Fix flex layout for better positioning */
.pro-message-blurb {
  display: flex;
  width: fit-content;
}

/* Make sure the message list has the right flex container properties */
.pro-message-list {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  width: 100%;
}

/* Properly style the dynamic preview card for outgoing messages */
.pro-message-blurb.pro-blurb-outgoing.dynamic-preview {
  align-self: flex-start !important;
  margin-right: auto !important;
  margin-left: 16px !important;
  background-color: #00796b; /* Match the teal color for current user */
  position: relative;
  left: 0 !important;
  right: auto !important;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Match the shadow */
}

/* Ensure consistent message width when they contain attachments */
.pro-message-blurb.pro-blurb-incoming .pro-attachments,
.pro-message-blurb.pro-blurb-outgoing .pro-attachments {
  max-width: 100%;
}

/* Fix for grouped messages to maintain proper alignment */
.pro-message-blurb.pro-blurb-incoming.pro-blurb-grouped {
  margin-left: 50px; /* Give space for avatar even when grouped */
}

.pro-message-blurb.pro-blurb-outgoing.pro-blurb-grouped {
  margin-right: 50px; /* Give space for avatar even when grouped */
}

/* Special styling for marketing team and specific users - position on right with different color */
.pro-message-blurb.pro-blurb-special-user {
  align-self: flex-end !important;
  margin-left: auto !important;
  margin-right: 16px !important;
  background-color: #e65100 !important; /* Orange color for special users */
  color: #fff !important;
  border-radius: 18px 3px 18px 18px !important; /* Rounded corners with point on right */
  max-width: 70% !important;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1) !important;
}

/* Hover state for special users */
.pro-message-blurb.pro-blurb-special-user:hover {
  background-color: #ef6c00 !important; /* Slightly lighter orange on hover */
}

/* Dark mode for special users */
.dark-theme .pro-message-blurb.pro-blurb-special-user {
  background-color: #bf360c !important; /* Darker orange for dark mode */
  color: #f5f5f5 !important;
}

/* Text styling for special users */
.pro-message-blurb.pro-blurb-special-user .pro-blurb-sender,
.pro-message-blurb.pro-blurb-special-user .pro-blurb-time,
.pro-message-blurb.pro-blurb-special-user .pro-blurb-text {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Avatar and content positioning for special users - same as outgoing messages */
.pro-message-blurb.pro-blurb-special-user .pro-blurb-left {
  order: 3 !important; /* Move avatar to the right side */
}

.pro-message-blurb.pro-blurb-special-user .pro-blurb-right {
  order: 1 !important; /* Move actions to the left side */
}

.pro-message-blurb.pro-blurb-special-user .pro-blurb-body {
  order: 2 !important; /* Keep body in the middle */
  text-align: right !important; /* Right-align text */
}

/* Fix for grouped messages with special users */
.pro-message-blurb.pro-blurb-special-user.pro-blurb-grouped {
  margin-right: 50px !important; /* Give space for avatar even when grouped */
}

/* Dynamic message typing preview - force right alignment with stronger specificity */
.pro-message-blurb.dynamic-preview.pro-blurb-outgoing,
.dynamic-preview.pro-message-blurb.pro-blurb-outgoing {
  align-self: flex-end !important;
  float: right !important;
  left: auto !important;
  right: 0 !important;
  margin-left: auto !important;
  margin-right: 16px !important;
  background-color: #00796b !important; /* Match the teal color */
}