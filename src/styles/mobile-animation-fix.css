/* Mobile Animation Fix CSS */
/* Prevents screen shake and improves performance on mobile devices */

/* Disable problematic animations on small screens */
@media (max-width: 768px) {
  * {
    /* Reduce animation intensity */
    animation-duration: 0.2s !important;
    transition-duration: 0.2s !important;
  }
  
  /* Disable problematic transforms that cause screen shake */
  .shake-prone {
    transform: none !important;
    animation: none !important;
  }
  
  /* Smooth scrolling fixes */
  html {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Prevent layout shift animations */
  .layout-stable {
    contain: layout style paint;
  }
  
  /* Hardware acceleration for smooth animations */
  .hardware-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }
  
  /* Reduce motion for accessibility and performance */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* Extra small screens - more aggressive fixes */
@media (max-width: 480px) {
  * {
    animation: none !important;
    transition: none !important;
  }
  
  /* Only allow essential transitions */
  .essential-transition {
    transition: opacity 0.15s ease !important;
  }
  
  /* Prevent viewport jumping */
  body {
    position: relative;
    overflow-x: hidden;
  }
  
  /* Stabilize chat interface */
  .chat-container {
    transform: translateZ(0);
    will-change: auto;
  }
}

/* Specific fixes for common shake-causing elements */
.button-container,
.modal-overlay,
.dropdown-menu {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Prevent text selection animations that cause shake */
::selection {
  background: rgba(0, 123, 255, 0.3);
}

::-moz-selection {
  background: rgba(0, 123, 255, 0.3);
}