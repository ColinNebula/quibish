/* Image Display Fixes - Comprehensive solution for cut-off images */

/* Global image fixes */
img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Message container image fixes */
.pro-message-container img,
.message-bubble img,
.attachment-image,
.photo-message-container img {
  max-width: 100% !important;
  height: auto !important;
  width: auto !important;
  object-fit: contain !important;
  border-radius: 8px;
  display: block;
}

/* Avatar image fixes */
.user-avatar img,
.contact-avatar img,
.conversation-avatar img,
.profile-avatar img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  border-radius: 50%;
}

/* Message attachment fixes */
.message-attachment img {
  max-width: 280px;
  max-height: 240px;
  width: auto;
  height: auto;
  object-fit: contain;
  border-radius: 12px;
  cursor: pointer;
  transition: transform 0.2s ease;
}

/* Media preview fixes */
.media-preview img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  border-radius: 8px;
}

/* Prevent image overflow */
.message-content,
.message-bubble,
.pro-message-container {
  overflow: hidden;
  word-wrap: break-word;
}

/* Mobile responsive image fixes */
@media screen and (max-width: 768px) {
  .attachment-image,
  .photo-message-container img,
  .message-attachment img {
    max-width: calc(100vw - 120px) !important;
    max-height: 200px;
  }
  
  .user-avatar img {
    width: 48px !important;
    height: 48px !important;
  }
}

@media screen and (max-width: 480px) {
  .attachment-image,
  .photo-message-container img,
  .message-attachment img {
    max-width: calc(100vw - 100px) !important;
    max-height: 180px;
  }
  
  .user-avatar img {
    width: 44px !important;
    height: 44px !important;
  }
}

/* Ensure proper container sizing */
.message-media-container {
  max-width: 100%;
  overflow: hidden;
  border-radius: 12px;
}

/* Fix for lightbox/modal images */
.image-lightbox img,
.modal-image img {
  max-width: 90vw !important;
  max-height: 90vh !important;
  width: auto !important;
  height: auto !important;
  object-fit: contain !important;
}

/* Profile/settings image fixes */
.profile-image img,
.avatar-upload img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

/* File preview image fixes */
.file-preview img {
  max-width: 100%;
  height: auto;
  object-fit: contain;
  border-radius: 8px;
}

/* Ensure images don't break layout */
.chat-messages img,
.conversation-content img {
  max-width: 100%;
  height: auto;
  vertical-align: top;
}

/* Fix for GIF images */
.gif-image,
.emoji-gif img {
  max-width: 200px !important;
  max-height: 200px !important;
  width: auto;
  height: auto;
  object-fit: contain;
  border-radius: 8px;
}

@media screen and (max-width: 480px) {
  .gif-image,
  .emoji-gif img {
    max-width: 150px !important;
    max-height: 150px !important;
  }
}