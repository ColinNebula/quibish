/* Image Display Fixes - Comprehensive solution for cut-off images */

/* Global image fixes */
img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Message container image fixes */
.pro-message-container img,
.message-bubble img,
.attachment-image,
.attached-image,
.photo-message-container img {
  max-width: 100% !important;
  height: auto !important;
  width: auto !important;
  object-fit: contain !important;
  border-radius: 8px;
  display: block;
  cursor: pointer;
}

/* Specific attached image styles */
.attached-image,
.attachment-image {
  max-width: 300px !important;
  max-height: 200px !important;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.2s ease;
  object-fit: contain;
}

.attached-image:hover,
.attachment-image:hover {
  transform: scale(1.02);
}

/* GIF specific styles */
.gif-image {
  max-width: 350px !important;
  max-height: 250px !important;
}

/* Image attachment container */
.image-attachment {
  position: relative;
  display: inline-block;
  max-width: 100%;
  overflow: hidden;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
}

.gif-attachment {
  background: rgba(255, 255, 255, 0.05);
}

/* Avatar image fixes */
.user-avatar img,
.contact-avatar img,
.conversation-avatar img,
.profile-avatar img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  border-radius: 50%;
}

/* Message attachment fixes */
.message-attachment img {
  max-width: 280px;
  max-height: 240px;
  width: auto;
  height: auto;
  object-fit: contain;
  border-radius: 12px;
  cursor: pointer;
  transition: transform 0.2s ease;
}

/* Media preview fixes */
.media-preview img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  border-radius: 8px;
}

/* Prevent image overflow */
.message-content,
.message-bubble,
.pro-message-container {
  overflow: hidden;
  word-wrap: break-word;
}

/* Mobile responsive image fixes */
@media screen and (max-width: 768px) {
  .attachment-image,
  .attached-image,
  .photo-message-container img,
  .message-attachment img {
    max-width: calc(100vw - 120px) !important;
    max-height: 200px !important;
  }
  
  .gif-image {
    max-width: calc(100vw - 100px) !important;
    max-height: 180px !important;
  }
  
  .user-avatar img {
    width: 48px !important;
    height: 48px !important;
  }
  
  /* Ensure containers don't constrain images */
  .pro-message-content,
  .message-bubble {
    max-width: none !important;
  }
}

@media screen and (max-width: 480px) {
  .attachment-image,
  .attached-image,
  .photo-message-container img,
  .message-attachment img {
    max-width: calc(100vw - 100px) !important;
    max-height: 180px !important;
  }
  
  .gif-image {
    max-width: calc(100vw - 80px) !important;
    max-height: 160px !important;
  }
  
  .user-avatar img {
    width: 44px !important;
    height: 44px !important;
  }
  
  /* Ensure containers don't constrain images */
  .pro-message-content,
  .message-bubble {
    max-width: none !important;
  }
}

/* Ensure proper container sizing */
.message-media-container,
.message-attachment {
  max-width: 100%;
  overflow: visible;
  border-radius: 12px;
}

/* Message bubble adjustments for images */
.message-bubble:has(.attached-image),
.pro-message-content:has(.attached-image) {
  max-width: none !important;
  width: auto;
}

/* Fix for lightbox/modal images */
.image-lightbox img,
.modal-image img {
  max-width: 90vw !important;
  max-height: 90vh !important;
  width: auto !important;
  height: auto !important;
  object-fit: contain !important;
}

/* Profile/settings image fixes */
.profile-image img,
.avatar-upload img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

/* File preview image fixes */
.file-preview img {
  max-width: 100%;
  height: auto;
  object-fit: contain;
  border-radius: 8px;
}

/* Ensure images don't break layout */
.chat-messages img,
.conversation-content img {
  max-width: 100%;
  height: auto;
  vertical-align: top;
}

/* Fix for GIF images */
.gif-image,
.emoji-gif img {
  max-width: 200px !important;
  max-height: 200px !important;
  width: auto;
  height: auto;
  object-fit: contain;
  border-radius: 8px;
}

@media screen and (max-width: 480px) {
  .gif-image,
  .emoji-gif img {
    max-width: 150px !important;
    max-height: 150px !important;
  }
}