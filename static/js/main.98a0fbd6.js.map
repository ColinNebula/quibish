{"version":3,"file":"static/js/main.98a0fbd6.js","mappings":"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","sources":["../node_modules/react-dom/cjs/react-dom-client.production.js","../node_modules/react/index.js","components/NativeFeatures/NativeContactPicker.js","services/contactService.js","components/Home/HelpModal.js","components/PWA/InstallPrompt.js","services/pstnCallService.js","components/Voice/InternationalDialer.js","components/UserProfile/EditProfileModal.js","components/Home/FeedbackModal.js","../node_modules/react/cjs/react.production.js","components/UserProfile/PrivacySettings.js","components/UserProfile/ProfileAnalytics.js","components/UserProfile/EnhancedMediaGallery.js","components/UserProfile/AvatarUpload.js","components/Encryption/EncryptionSettings.js","components/UserProfile/UserProfile.js","components/UserProfile/UserProfileModal.js","services/localStorageService.js","utils/authHelper.js","services/messageService.js","services/nativeDeviceFeaturesService.js","components/Contacts/ContactModal.js","services/connectionService.js","components/NativeFeatures/NativeCamera.js","../node_modules/react-dom/client.js","components/NewChat/NewChatModal.js","services/mobileInteractionService.js","components/Home/VideoCall.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/react/jsx-runtime.js","services/enhancedVoiceCallService.js","components/Home/UserActivityService.js","../node_modules/react-dom/cjs/react-dom.production.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/lib/core/AxiosError.js","../node_modules/axios/lib/helpers/toFormData.js","../node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/defaults/transitional.js","../node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../node_modules/axios/lib/platform/browser/index.js","../node_modules/axios/lib/platform/browser/classes/FormData.js","../node_modules/axios/lib/platform/browser/classes/Blob.js","../node_modules/axios/lib/platform/common/utils.js","../node_modules/axios/lib/platform/index.js","../node_modules/axios/lib/helpers/formDataToJSON.js","../node_modules/axios/lib/defaults/index.js","../node_modules/axios/lib/helpers/toURLEncodedForm.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/core/AxiosHeaders.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/cancel/CanceledError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/speedometer.js","../node_modules/axios/lib/helpers/throttle.js","../node_modules/axios/lib/helpers/progressEventReducer.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/helpers/resolveConfig.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/helpers/parseProtocol.js","../node_modules/axios/lib/helpers/composeSignals.js","../node_modules/@babel/runtime/helpers/esm/OverloadYield.js","../node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js","../node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js","../node_modules/@babel/runtime/helpers/esm/asyncGeneratorDelegate.js","../node_modules/@babel/runtime/helpers/esm/asyncIterator.js","../node_modules/axios/lib/helpers/trackStream.js","../node_modules/axios/lib/adapters/fetch.js","../node_modules/axios/lib/adapters/adapters.js","../node_modules/axios/lib/helpers/null.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/env/data.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/HttpStatusCode.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js","services/userDataService.js","services/apiClient.js","../node_modules/react/cjs/react-jsx-runtime.production.js","utils/compatibilityValidator.js","components/Profile/EnhancedProfile.js","components/Home/UserAnalytics.js","../node_modules/qrcode.react/lib/esm/index.js","components/TwoFactorAuth/TwoFactorSetup.js","components/TwoFactorAuth/TwoFactorSettings.js","components/Profile/ColorPreferences.js","components/Home/NotificationSettings.js","components/Home/SettingsModal.js","../node_modules/scheduler/index.js","services/websocketService.js","utils/testingSuite.js","../node_modules/scheduler/cjs/scheduler.production.js","../node_modules/react-dom/index.js","components/GifPicker/GifPicker.js","services/encryptionService.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","components/Contacts/ContactCard.js","components/Contacts/ContactGroups.js","components/Contacts/ContactManager.js","services/donationService.js","components/Donation/DonationModal.js","components/Donation/DonationPrompt.js","services/encryptedMessageService.js","services/globalVoiceCallService.js","components/Voice/GlobalUsers.js","services/feedbackService.js","components/Home/ProChat.js","context/AuthContext.js","components/TwoFactorAuth/TwoFactorVerify.js","utils/iPhoneProAuthUtils.js","components/Login.js","services/emailValidationService.js","components/EmailVerification/EmailVerificationModal.js","components/Register.js","components/UI/LoadingSpinner.js","components/UI/DynamicSplashScreen.js","components/ErrorHandling/ErrorBoundary.js","utils/serviceWorkerManager.js","components/ServiceWorker/PWAStatus.js","components/TestingDashboard/TestingDashboard.js","services/EnhancedConnectionManager.js","components/ConnectionStatus/ConnectionStatus.js","services/frontendHealthService.js","services/pwaShortcutService.js","services/memoryManagementService.js","services/lazyLoadingService.js","utils/modernViewportUtils.js","utils/advancedTouchSystem.js","services/nextGenPWAService.js","utils/smartphonePerformanceOptimizer.js","utils/adaptiveUIManager.js","App.js","AppWithProviders.js","reportWebVitals.js","index.js"],"sourcesContent":["/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$0 = parentA.child; child$0; ) {\n        if (child$0 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$0 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$0 = child$0.sibling;\n      }\n      if (!didFindChild) {\n        for (child$0 = parentB.child; child$0; ) {\n          if (child$0 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$0 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$0 = child$0.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar assign = Object.assign,\n  REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nvar REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\");\nSymbol.for(\"react.view_transition\");\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n    case REACT_ACTIVITY_TYPE:\n      return \"Activity\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_PORTAL_TYPE:\n        return \"Portal\";\n      case REACT_CONTEXT_TYPE:\n        return (type.displayName || \"Context\") + \".Provider\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  switch (nextRootInstance.nodeType) {\n    case 9:\n    case 11:\n      fiber = (fiber = nextRootInstance.documentElement)\n        ? (fiber = fiber.namespaceURI)\n          ? getOwnHostContext(fiber)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = nextRootInstance.tagName),\n        (nextRootInstance = nextRootInstance.namespaceURI))\n      )\n        (nextRootInstance = getOwnHostContext(nextRootInstance)),\n          (fiber = getChildHostContextProd(nextRootInstance, fiber));\n      else\n        switch (fiber) {\n          case \"svg\":\n            fiber = 1;\n            break;\n          case \"math\":\n            fiber = 2;\n            break;\n          default:\n            fiber = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, fiber);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionLane = 256,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n      return 128;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 4194048;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes, rootHasPendingCommit) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes;\n  root = root.warmLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : rootHasPendingCommit ||\n              ((rootHasPendingCommit = nonIdlePendingLanes & ~root),\n              0 !== rootHasPendingCommit &&\n                (nextLanes = getHighestPriorityLanes(rootHasPendingCommit)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : rootHasPendingCommit ||\n            ((rootHasPendingCommit = pendingLanes & ~root),\n            0 !== rootHasPendingCommit &&\n              (nextLanes = getHighestPriorityLanes(rootHasPendingCommit))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (rootHasPendingCommit = wipLanes & -wipLanes),\n        suspendedLanes >= rootHasPendingCommit ||\n          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n    case 64:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextTransitionLane() {\n  var lane = nextTransitionLane;\n  nextTransitionLane <<= 1;\n  0 === (nextTransitionLane & 4194048) && (nextTransitionLane = 256);\n  return lane;\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$5 = 31 - clz32(remainingLanes),\n      lane = 1 << index$5;\n    entanglements[index$5] = 0;\n    expirationTimes[index$5] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$5];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$5] = null, index$5 = 0;\n        index$5 < hiddenUpdatesForLane.length;\n        index$5++\n      ) {\n        var update = hiddenUpdatesForLane[index$5];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 4194090);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$6 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$6;\n    (lane & entangledLanes) | (root[index$6] & entangledLanes) &&\n      (root[index$6] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction getBumpedLaneForHydrationByLane(lane) {\n  switch (lane) {\n    case 2:\n      lane = 1;\n      break;\n    case 8:\n      lane = 4;\n      break;\n    case 32:\n      lane = 16;\n      break;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      lane = 128;\n      break;\n    case 268435456:\n      lane = 134217728;\n      break;\n    default:\n      lane = 0;\n  }\n  return lane;\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentSuspenseInstance(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentSuspenseInstance(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$8 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$8 && \"aria-\" !== prefix$8) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nvar prefix, suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$9) {\n                control = x$9;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$10) {\n              control = x$10;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return describeNativeComponentFrame(fiber.type, !1);\n    case 11:\n      return describeNativeComponentFrame(fiber.type.render, !1);\n    case 1:\n      return describeNativeComponentFrame(fiber.type, !0);\n    case 31:\n      return describeBuiltInComponentFrame(\"Activity\");\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\";\n    do\n      (info += describeFiber(workInProgress)),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node) {\n  var valueField = isCheckable(node) ? \"checked\" : \"value\",\n    descriptor = Object.getOwnPropertyDescriptor(\n      node.constructor.prototype,\n      valueField\n    ),\n    currentValue = \"\" + node[valueField];\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  node._valueTracker || (node._valueTracker = trackValueOnNode(node));\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    )\n      return;\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$282;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_417 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_417) {\n      var element$jscomp$inline_418 = document.createElement(\"div\");\n      element$jscomp$inline_418.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_417 =\n        \"function\" === typeof element$jscomp$inline_418.oninput;\n    }\n    JSCompiler_inline_result$jscomp$282 = isSupported$jscomp$inline_417;\n  } else JSCompiler_inline_result$jscomp$282 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$282 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nsimpleEventPluginEvents.push(\"scrollEnd\");\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  return 3 === sourceFiber.tag\n    ? ((parent = sourceFiber.stateNode),\n      isHidden &&\n        null !== update &&\n        ((isHidden = 31 - clz32(lane)),\n        (sourceFiber = parent.hiddenUpdates),\n        (alternate = sourceFiber[isHidden]),\n        null === alternate\n          ? (sourceFiber[isHidden] = [update])\n          : alternate.push(update),\n        (update.lane = lane | 536870912)),\n      parent)\n    : null;\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {};\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 65011712;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 65011714;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_ACTIVITY_TYPE:\n        return (\n          (type = createFiberImplClass(31, pendingProps, key, mode)),\n          (type.elementType = REACT_ACTIVITY_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_PROVIDER_TYPE:\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(formatProdErrorMessage(418, \"\"));\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      track(instance);\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children),\n        track(instance);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 5:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      case 27:\n      case 3:\n        rootOrSingletonContext = !0;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var tag = fiber.tag,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {\n    if ((JSCompiler_temp = 5 === tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    a: {\n      fiber = fiber.nextSibling;\n      for (tag = 0; fiber; ) {\n        if (8 === fiber.nodeType)\n          if (((JSCompiler_temp = fiber.data), \"/$\" === JSCompiler_temp)) {\n            if (0 === tag) {\n              nextHydratableInstance = getNextHydratable(fiber.nextSibling);\n              break a;\n            }\n            tag--;\n          } else\n            (\"$\" !== JSCompiler_temp &&\n              \"$!\" !== JSCompiler_temp &&\n              \"$?\" !== JSCompiler_temp) ||\n              tag++;\n        fiber = fiber.nextSibling;\n      }\n      nextHydratableInstance = null;\n    }\n  } else\n    27 === tag\n      ? ((tag = nextHydratableInstance),\n        isSingletonScope(fiber.type)\n          ? ((fiber = previousHydratableOnEnteringScopedSingleton),\n            (previousHydratableOnEnteringScopedSingleton = null),\n            (nextHydratableInstance = fiber))\n          : (nextHydratableInstance = tag))\n      : (nextHydratableInstance = hydrationParentFiber\n          ? getNextHydratable(fiber.stateNode.nextSibling)\n          : null);\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction upgradeHydrationErrorsToRecoverable() {\n  var queuedErrors = hydrationErrors;\n  null !== queuedErrors &&\n    (null === workInProgressRootRecoverableErrors\n      ? (workInProgressRootRecoverableErrors = queuedErrors)\n      : workInProgressRootRecoverableErrors.push.apply(\n          workInProgressRootRecoverableErrors,\n          queuedErrors\n        ),\n    (hydrationErrors = null));\n  return queuedErrors;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber$1 = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber$1 = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber$1, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber$1 && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  SuspenseActionException = Error(formatProdErrorMessage(542)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction noop$3() {}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$3, noop$3), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw (\n        ((thenableState = thenable.reason),\n        checkIfUseWrappedInAsyncCatch(thenableState),\n        thenableState)\n      );\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$3, noop$3);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw (\n            ((thenableState = thenable.reason),\n            checkIfUseWrappedInAsyncCatch(thenableState),\n            thenableState)\n          );\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nfunction checkIfUseWrappedInAsyncCatch(rejectedReason) {\n  if (\n    rejectedReason === SuspenseException ||\n    rejectedReason === SuspenseActionException\n  )\n    throw Error(formatProdErrorMessage(483));\n}\nvar hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nvar currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter$1 = 0,\n  thenableState$1 = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter$1 = 0;\n  thenableState$1 = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState$1 = null);\n    thenableIndexCounter$1 = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter$1 = localIdCounter = 0;\n  thenableState$1 = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nfunction createFunctionComponentUpdateQueue() {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n}\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  thenable = trackUsedThenable(thenableState$1, thenable, index);\n  index = currentlyRenderingFiber;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$32 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$32 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$32 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$32 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  var create = subscribeToStore.bind(null, fiber, hook, subscribe);\n  updateEffectImpl(2048, 8, create, [subscribe]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushSimpleEffect(\n      9,\n      createEffectInstance(),\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 124) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      ReactSharedInternals.T = prevTransition;\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$38) {\n      onActionError(actionQueue, node, error$38);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  if (\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n  )\n    try {\n      var state = useThenable(currentStateHook);\n    } catch (x) {\n      if (x === SuspenseException) throw SuspenseActionException;\n      throw x;\n    }\n  else state = currentStateHook;\n  currentStateHook = updateWorkInProgressHook();\n  var actionQueue = currentStateHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== currentStateHook.memoizedState &&\n    ((currentlyRenderingFiber.flags |= 2048),\n    pushSimpleEffect(\n      9,\n      createEffectInstance(),\n      actionStateActionEffect.bind(null, actionQueue, action),\n      null\n    ));\n  return [state, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushSimpleEffect(tag, inst, create, createDeps) {\n  tag = { tag: tag, create: create, deps: createDeps, inst: inst, next: null };\n  inst = currentlyRenderingFiber.updateQueue;\n  null === inst &&\n    ((inst = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = inst));\n  create = inst.lastEffect;\n  null === create\n    ? (inst.lastEffect = tag.next = tag)\n    : ((createDeps = create.next),\n      (create.next = tag),\n      (tag.next = createDeps),\n      (inst.lastEffect = tag));\n  return tag;\n}\nfunction createEffectInstance() {\n  return { destroy: void 0, resource: void 0 };\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, createDeps) {\n  var hook = mountWorkInProgressHook();\n  createDeps = void 0 === createDeps ? null : createDeps;\n  currentlyRenderingFiber.flags |= fiberFlags;\n  hook.memoizedState = pushSimpleEffect(\n    1 | hookFlags,\n    createEffectInstance(),\n    create,\n    createDeps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushSimpleEffect(hookFlags, inst, create, deps))\n    : ((currentlyRenderingFiber.flags |= fiberFlags),\n      (hook.memoizedState = pushSimpleEffect(\n        1 | hookFlags,\n        inst,\n        create,\n        deps\n      )));\n}\nfunction mountEffect(create, createDeps) {\n  mountEffectImpl(8390656, 8, create, createDeps);\n}\nfunction updateEffect(create, createDeps) {\n  updateEffectImpl(2048, 8, create, createDeps);\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (void 0 === initialValue || 0 !== (renderLanes & 1073741824))\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (0 === (renderLanes & 42))\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop$2() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop$2\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var resetStateQueue = ensureFormComponentIsStateful(formFiber).next.queue;\n  dispatchSetStateInternal(formFiber, resetStateQueue, {}, requestUpdateLane());\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$41 = enqueueUpdate(provider, fiber, lane);\n        null !== root$41 &&\n          (scheduleUpdateOnFiber(root$41, provider, lane),\n          entangleTransitions(root$41, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber ||\n    (null !== alternate && alternate === currentlyRenderingFiber)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194048)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n    readContext: readContext,\n    use: use,\n    useCallback: throwInvalidHookError,\n    useContext: throwInvalidHookError,\n    useEffect: throwInvalidHookError,\n    useImperativeHandle: throwInvalidHookError,\n    useLayoutEffect: throwInvalidHookError,\n    useInsertionEffect: throwInvalidHookError,\n    useMemo: throwInvalidHookError,\n    useReducer: throwInvalidHookError,\n    useRef: throwInvalidHookError,\n    useState: throwInvalidHookError,\n    useDebugValue: throwInvalidHookError,\n    useDeferredValue: throwInvalidHookError,\n    useTransition: throwInvalidHookError,\n    useSyncExternalStore: throwInvalidHookError,\n    useId: throwInvalidHookError,\n    useHostTransitionStatus: throwInvalidHookError,\n    useFormState: throwInvalidHookError,\n    useActionState: throwInvalidHookError,\n    useOptimistic: throwInvalidHookError,\n    useMemoCache: throwInvalidHookError,\n    useCacheRefresh: throwInvalidHookError\n  },\n  HooksDispatcherOnMount = {\n    readContext: readContext,\n    use: use,\n    useCallback: function (callback, deps) {\n      mountWorkInProgressHook().memoizedState = [\n        callback,\n        void 0 === deps ? null : deps\n      ];\n      return callback;\n    },\n    useContext: readContext,\n    useEffect: mountEffect,\n    useImperativeHandle: function (ref, create, deps) {\n      deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n      mountEffectImpl(\n        4194308,\n        4,\n        imperativeHandleEffect.bind(null, create, ref),\n        deps\n      );\n    },\n    useLayoutEffect: function (create, deps) {\n      return mountEffectImpl(4194308, 4, create, deps);\n    },\n    useInsertionEffect: function (create, deps) {\n      mountEffectImpl(4, 2, create, deps);\n    },\n    useMemo: function (nextCreate, deps) {\n      var hook = mountWorkInProgressHook();\n      deps = void 0 === deps ? null : deps;\n      var nextValue = nextCreate();\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          nextCreate();\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n      hook.memoizedState = [nextValue, deps];\n      return nextValue;\n    },\n    useReducer: function (reducer, initialArg, init) {\n      var hook = mountWorkInProgressHook();\n      if (void 0 !== init) {\n        var initialState = init(initialArg);\n        if (shouldDoubleInvokeUserFnsInHooksDEV) {\n          setIsStrictModeForDevtools(!0);\n          try {\n            init(initialArg);\n          } finally {\n            setIsStrictModeForDevtools(!1);\n          }\n        }\n      } else initialState = initialArg;\n      hook.memoizedState = hook.baseState = initialState;\n      reducer = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: reducer,\n        lastRenderedState: initialState\n      };\n      hook.queue = reducer;\n      reducer = reducer.dispatch = dispatchReducerAction.bind(\n        null,\n        currentlyRenderingFiber,\n        reducer\n      );\n      return [hook.memoizedState, reducer];\n    },\n    useRef: function (initialValue) {\n      var hook = mountWorkInProgressHook();\n      initialValue = { current: initialValue };\n      return (hook.memoizedState = initialValue);\n    },\n    useState: function (initialState) {\n      initialState = mountStateImpl(initialState);\n      var queue = initialState.queue,\n        dispatch = dispatchSetState.bind(null, currentlyRenderingFiber, queue);\n      queue.dispatch = dispatch;\n      return [initialState.memoizedState, dispatch];\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = mountWorkInProgressHook();\n      return mountDeferredValueImpl(hook, value, initialValue);\n    },\n    useTransition: function () {\n      var stateHook = mountStateImpl(!1);\n      stateHook = startTransition.bind(\n        null,\n        currentlyRenderingFiber,\n        stateHook.queue,\n        !0,\n        !1\n      );\n      mountWorkInProgressHook().memoizedState = stateHook;\n      return [!1, stateHook];\n    },\n    useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n      var fiber = currentlyRenderingFiber,\n        hook = mountWorkInProgressHook();\n      if (isHydrating) {\n        if (void 0 === getServerSnapshot)\n          throw Error(formatProdErrorMessage(407));\n        getServerSnapshot = getServerSnapshot();\n      } else {\n        getServerSnapshot = getSnapshot();\n        if (null === workInProgressRoot)\n          throw Error(formatProdErrorMessage(349));\n        0 !== (workInProgressRootRenderLanes & 124) ||\n          pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n      }\n      hook.memoizedState = getServerSnapshot;\n      var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n      hook.queue = inst;\n      mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n        subscribe\n      ]);\n      fiber.flags |= 2048;\n      pushSimpleEffect(\n        9,\n        createEffectInstance(),\n        updateStoreInstance.bind(\n          null,\n          fiber,\n          inst,\n          getServerSnapshot,\n          getSnapshot\n        ),\n        null\n      );\n      return getServerSnapshot;\n    },\n    useId: function () {\n      var hook = mountWorkInProgressHook(),\n        identifierPrefix = workInProgressRoot.identifierPrefix;\n      if (isHydrating) {\n        var JSCompiler_inline_result = treeContextOverflow;\n        var idWithLeadingBit = treeContextId;\n        JSCompiler_inline_result =\n          (\n            idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n          ).toString(32) + JSCompiler_inline_result;\n        identifierPrefix =\n          \"\\u00ab\" + identifierPrefix + \"R\" + JSCompiler_inline_result;\n        JSCompiler_inline_result = localIdCounter++;\n        0 < JSCompiler_inline_result &&\n          (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n        identifierPrefix += \"\\u00bb\";\n      } else\n        (JSCompiler_inline_result = globalClientIdCounter++),\n          (identifierPrefix =\n            \"\\u00ab\" +\n            identifierPrefix +\n            \"r\" +\n            JSCompiler_inline_result.toString(32) +\n            \"\\u00bb\");\n      return (hook.memoizedState = identifierPrefix);\n    },\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: mountActionState,\n    useActionState: mountActionState,\n    useOptimistic: function (passthrough) {\n      var hook = mountWorkInProgressHook();\n      hook.memoizedState = hook.baseState = passthrough;\n      var queue = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: null,\n        lastRenderedState: null\n      };\n      hook.queue = queue;\n      hook = dispatchOptimisticSetState.bind(\n        null,\n        currentlyRenderingFiber,\n        !0,\n        queue\n      );\n      queue.dispatch = hook;\n      return [passthrough, hook];\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: function () {\n      return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n        null,\n        currentlyRenderingFiber\n      ));\n    }\n  },\n  HooksDispatcherOnUpdate = {\n    readContext: readContext,\n    use: use,\n    useCallback: updateCallback,\n    useContext: readContext,\n    useEffect: updateEffect,\n    useImperativeHandle: updateImperativeHandle,\n    useInsertionEffect: updateInsertionEffect,\n    useLayoutEffect: updateLayoutEffect,\n    useMemo: updateMemo,\n    useReducer: updateReducer,\n    useRef: updateRef,\n    useState: function () {\n      return updateReducer(basicStateReducer);\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return updateDeferredValueImpl(\n        hook,\n        currentHook.memoizedState,\n        value,\n        initialValue\n      );\n    },\n    useTransition: function () {\n      var booleanOrThenable = updateReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    },\n    useSyncExternalStore: updateSyncExternalStore,\n    useId: updateId,\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: updateActionState,\n    useActionState: updateActionState,\n    useOptimistic: function (passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: updateRefresh\n  },\n  HooksDispatcherOnRerender = {\n    readContext: readContext,\n    use: use,\n    useCallback: updateCallback,\n    useContext: readContext,\n    useEffect: updateEffect,\n    useImperativeHandle: updateImperativeHandle,\n    useInsertionEffect: updateInsertionEffect,\n    useLayoutEffect: updateLayoutEffect,\n    useMemo: updateMemo,\n    useReducer: rerenderReducer,\n    useRef: updateRef,\n    useState: function () {\n      return rerenderReducer(basicStateReducer);\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return null === currentHook\n        ? mountDeferredValueImpl(hook, value, initialValue)\n        : updateDeferredValueImpl(\n            hook,\n            currentHook.memoizedState,\n            value,\n            initialValue\n          );\n    },\n    useTransition: function () {\n      var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    },\n    useSyncExternalStore: updateSyncExternalStore,\n    useId: updateId,\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: rerenderActionState,\n    useActionState: rerenderActionState,\n    useOptimistic: function (passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      if (null !== currentHook)\n        return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n      hook.baseState = passthrough;\n      return [passthrough, hook.queue.dispatch];\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: updateRefresh\n  },\n  thenableState = null,\n  thenableIndexCounter = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  return trackUsedThenable(thenableState, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectType(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction resolveLazy(lazyType) {\n  var init = lazyType._init;\n  return init(lazyType._payload);\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 67108866), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 67108866;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 67108866);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return createChild(returnFiber, newChild, lanes);\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return updateFromMap(\n            existingChildren,\n            returnFiber,\n            newIdx,\n            newChild,\n            lanes\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException || x === SuspenseActionException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  if (22 === fiber.tag) {\n    if (\n      (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary)\n    ) {\n      var current = fiber.alternate;\n      null !== current &&\n        null !== current.memoizedState &&\n        (shellBoundary = fiber);\n    }\n  } else reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state ||\n          \"$?\" === state.data ||\n          isSuspenseInstanceFallback(state))\n      )\n        return node;\n    } else if (19 === node.tag && void 0 !== node.memoizedProps.revealOrder) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$73 in Component)\n      void 0 === newProps[propName$73] &&\n        (newProps[propName$73] = Component[propName$73]);\n  }\n  return newProps;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$74) {\n    setTimeout(function () {\n      throw e$74;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$75) {\n    setTimeout(function () {\n      throw e$75;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    nextChildren = nextProps.children,\n    prevState = null !== current ? current.memoizedState : null;\n  if (\"hidden\" === nextProps.mode) {\n    if (0 !== (workInProgress.flags & 128)) {\n      nextProps =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextChildren = workInProgress.child = current.child;\n        for (prevState = 0; null !== nextChildren; )\n          (prevState =\n            prevState | nextChildren.lanes | nextChildren.childLanes),\n            (nextChildren = nextChildren.sibling);\n        workInProgress.childLanes = prevState & ~nextProps;\n      } else (workInProgress.childLanes = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        nextProps,\n        renderLanes\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (workInProgress.lanes = workInProgress.childLanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  return null;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 4194816);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 4194816;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = {\n  dehydrated: null,\n  treeContext: null,\n  retryLane: 0,\n  hydrationErrors: null\n};\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      if (isHydrating) {\n        var nextInstance = nextHydratableInstance,\n          JSCompiler_temp$jscomp$0;\n        if ((JSCompiler_temp$jscomp$0 = nextInstance)) {\n          c: {\n            JSCompiler_temp$jscomp$0 = nextInstance;\n            for (\n              nextInstance = rootOrSingletonContext;\n              8 !== JSCompiler_temp$jscomp$0.nodeType;\n\n            ) {\n              if (!nextInstance) {\n                nextInstance = null;\n                break c;\n              }\n              JSCompiler_temp$jscomp$0 = getNextHydratable(\n                JSCompiler_temp$jscomp$0.nextSibling\n              );\n              if (null === JSCompiler_temp$jscomp$0) {\n                nextInstance = null;\n                break c;\n              }\n            }\n            nextInstance = JSCompiler_temp$jscomp$0;\n          }\n          null !== nextInstance\n            ? ((workInProgress.memoizedState = {\n                dehydrated: nextInstance,\n                treeContext:\n                  null !== treeContextProvider\n                    ? { id: treeContextId, overflow: treeContextOverflow }\n                    : null,\n                retryLane: 536870912,\n                hydrationErrors: null\n              }),\n              (JSCompiler_temp$jscomp$0 = createFiberImplClass(\n                18,\n                null,\n                null,\n                0\n              )),\n              (JSCompiler_temp$jscomp$0.stateNode = nextInstance),\n              (JSCompiler_temp$jscomp$0.return = workInProgress),\n              (workInProgress.child = JSCompiler_temp$jscomp$0),\n              (hydrationParentFiber = workInProgress),\n              (nextHydratableInstance = null),\n              (JSCompiler_temp$jscomp$0 = !0))\n            : (JSCompiler_temp$jscomp$0 = !1);\n        }\n        JSCompiler_temp$jscomp$0 || throwOnHydrationMismatch(workInProgress);\n      }\n      nextInstance = workInProgress.memoizedState;\n      if (\n        null !== nextInstance &&\n        ((nextInstance = nextInstance.dehydrated), null !== nextInstance)\n      )\n        return (\n          isSuspenseInstanceFallback(nextInstance)\n            ? (workInProgress.lanes = 32)\n            : (workInProgress.lanes = 536870912),\n          null\n        );\n      popSuspenseHandler(workInProgress);\n    }\n    nextInstance = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextInstance = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextInstance },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextInstance.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextInstance.sibling = nextProps),\n        (workInProgress.child = nextInstance),\n        (showFallback = workInProgress.child),\n        (showFallback.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        nextProps\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextInstance);\n  }\n  JSCompiler_temp$jscomp$0 = current.memoizedState;\n  if (\n    null !== JSCompiler_temp$jscomp$0 &&\n    ((nextInstance = JSCompiler_temp$jscomp$0.dehydrated),\n    null !== nextInstance)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (showFallback = nextProps.fallback),\n            (nextInstance = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              nextInstance\n            )),\n            (showFallback = createFiberFromFragment(\n              showFallback,\n              nextInstance,\n              renderLanes,\n              null\n            )),\n            (showFallback.flags |= 2),\n            (nextProps.return = workInProgress),\n            (showFallback.return = workInProgress),\n            (nextProps.sibling = showFallback),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = showFallback));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      isSuspenseInstanceFallback(nextInstance))\n    ) {\n      JSCompiler_temp =\n        nextInstance.nextSibling && nextInstance.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (\n        null !== JSCompiler_temp &&\n        ((nextProps = renderLanes & -renderLanes),\n        (nextProps =\n          0 !== (nextProps & 42)\n            ? 1\n            : getBumpedLaneForHydrationByLane(nextProps)),\n        (nextProps =\n          0 !== (nextProps & (JSCompiler_temp.suspendedLanes | renderLanes))\n            ? 0\n            : nextProps),\n        0 !== nextProps && nextProps !== JSCompiler_temp$jscomp$0.retryLane)\n      )\n        throw (\n          ((JSCompiler_temp$jscomp$0.retryLane = nextProps),\n          enqueueConcurrentRenderForLane(current, nextProps),\n          scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n          SelectiveHydrationException)\n        );\n      \"$?\" === nextInstance.data || renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      \"$?\" === nextInstance.data\n        ? ((workInProgress.flags |= 192),\n          (workInProgress.child = current.child),\n          (workInProgress = null))\n        : ((current = JSCompiler_temp$jscomp$0.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextInstance.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            ((idStack[idStackIndex++] = treeContextId),\n            (idStack[idStackIndex++] = treeContextOverflow),\n            (idStack[idStackIndex++] = treeContextProvider),\n            (treeContextId = current.id),\n            (treeContextOverflow = current.overflow),\n            (treeContextProvider = workInProgress)),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (showFallback = nextProps.fallback),\n      (nextInstance = workInProgress.mode),\n      (JSCompiler_temp$jscomp$0 = current.child),\n      (digest = JSCompiler_temp$jscomp$0.sibling),\n      (nextProps = createWorkInProgress(JSCompiler_temp$jscomp$0, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags =\n        JSCompiler_temp$jscomp$0.subtreeFlags & 65011712),\n      null !== digest\n        ? (showFallback = createWorkInProgress(digest, showFallback))\n        : ((showFallback = createFiberFromFragment(\n            showFallback,\n            nextInstance,\n            renderLanes,\n            null\n          )),\n          (showFallback.flags |= 2)),\n      (showFallback.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = showFallback),\n      (workInProgress.child = nextProps),\n      (nextProps = showFallback),\n      (showFallback = workInProgress.child),\n      (nextInstance = current.child.memoizedState),\n      null === nextInstance\n        ? (nextInstance = mountSuspenseOffscreenState(renderLanes))\n        : ((JSCompiler_temp$jscomp$0 = nextInstance.cachePool),\n          null !== JSCompiler_temp$jscomp$0\n            ? ((digest = CacheContext._currentValue),\n              (JSCompiler_temp$jscomp$0 =\n                JSCompiler_temp$jscomp$0.parent !== digest\n                  ? { parent: digest, pool: digest }\n                  : JSCompiler_temp$jscomp$0))\n            : (JSCompiler_temp$jscomp$0 = getSuspendedCache()),\n          (nextInstance = {\n            baseLanes: nextInstance.baseLanes | renderLanes,\n            cachePool: JSCompiler_temp$jscomp$0\n          })),\n      (showFallback.memoizedState = nextInstance),\n      (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      nextProps\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  offscreenProps = createFiberImplClass(22, offscreenProps, null, mode);\n  offscreenProps.lanes = 0;\n  offscreenProps.stateNode = {\n    _visibility: 1,\n    _pendingMarkers: null,\n    _retryCache: null,\n    _transitions: null\n  };\n  return offscreenProps;\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  reconcileChildren(current, workInProgress, nextProps.children, renderLanes);\n  nextProps = suspenseStackCursor.current;\n  if (0 !== (nextProps & 2))\n    (nextProps = (nextProps & 1) | 2), (workInProgress.flags |= 128);\n  else {\n    if (null !== current && 0 !== (current.flags & 128))\n      a: for (current = workInProgress.child; null !== current; ) {\n        if (13 === current.tag)\n          null !== current.memoizedState &&\n            scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (19 === current.tag)\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (null !== current.child) {\n          current.child.return = current;\n          current = current.child;\n          continue;\n        }\n        if (current === workInProgress) break a;\n        for (; null === current.sibling; ) {\n          if (null === current.return || current.return === workInProgress)\n            break a;\n          current = current.return;\n        }\n        current.sibling.return = current.return;\n        current = current.sibling;\n      }\n    nextProps &= 1;\n  }\n  push(suspenseStackCursor, nextProps);\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode\n      );\n      break;\n    case \"backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(workInProgress, !1, null, null, void 0);\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 13:\n      var state = workInProgress.memoizedState;\n      if (null !== state) {\n        if (null !== state.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state = 0 !== (renderLanes & workInProgress.childLanes);\n      state ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state) break;\n      else return null;\n    case 22:\n    case 23:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(current, workInProgress, renderLanes)\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        current = workInProgress.pendingProps;\n        var lazyComponent = workInProgress.elementType,\n          init = lazyComponent._init;\n        lazyComponent = init(lazyComponent._payload);\n        workInProgress.type = lazyComponent;\n        if (\"function\" === typeof lazyComponent)\n          shouldConstruct(lazyComponent)\n            ? ((current = resolveClassComponentProps(lazyComponent, current)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== lazyComponent && null !== lazyComponent)\n            if (\n              ((init = lazyComponent.$$typeof), init === REACT_FORWARD_REF_TYPE)\n            ) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            } else if (init === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            }\n          workInProgress =\n            getComponentNameFromType(lazyComponent) || lazyComponent;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (lazyComponent = workInProgress.type),\n        (init = resolveClassComponentProps(\n          lazyComponent,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          lazyComponent,\n          init,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        lazyComponent = workInProgress.pendingProps;\n        var prevState = workInProgress.memoizedState;\n        init = prevState.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, lazyComponent, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        lazyComponent = nextState.cache;\n        pushProvider(workInProgress, CacheContext, lazyComponent);\n        lazyComponent !== prevState.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        lazyComponent = nextState.element;\n        if (prevState.isDehydrated)\n          if (\n            ((prevState = {\n              element: lazyComponent,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = prevState),\n            (workInProgress.memoizedState = prevState),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            );\n            break a;\n          } else if (lazyComponent !== init) {\n            init = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError(init);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            );\n            break a;\n          } else {\n            current = workInProgress.stateNode.containerInfo;\n            switch (current.nodeType) {\n              case 9:\n                current = current.body;\n                break;\n              default:\n                current =\n                  \"HTML\" === current.nodeName\n                    ? current.ownerDocument.body\n                    : current;\n            }\n            nextHydratableInstance = getNextHydratable(current.firstChild);\n            hydrationParentFiber = workInProgress;\n            isHydrating = !0;\n            hydrationErrors = null;\n            rootOrSingletonContext = !0;\n            renderLanes = mountChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            );\n            for (workInProgress.child = renderLanes; renderLanes; )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n          }\n        else {\n          resetHydrationState();\n          if (lazyComponent === init) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(\n            current,\n            workInProgress,\n            lazyComponent,\n            renderLanes\n          );\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (lazyComponent = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (lazyComponent[internalInstanceKey] = workInProgress),\n              (lazyComponent[internalPropsKey] = current),\n              setInitialProperties(lazyComponent, renderLanes, current),\n              markNodeAsHoistable(lazyComponent),\n              (workInProgress.stateNode = lazyComponent))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((lazyComponent = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          (init = nextHydratableInstance),\n          isSingletonScope(workInProgress.type)\n            ? ((previousHydratableOnEnteringScopedSingleton = init),\n              (nextHydratableInstance = getNextHydratable(\n                lazyComponent.firstChild\n              )))\n            : (nextHydratableInstance = init)),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        markRef(current, workInProgress),\n        null === current && (workInProgress.flags |= 4194304),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if ((init = lazyComponent = nextHydratableInstance))\n          (lazyComponent = canHydrateInstance(\n            lazyComponent,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== lazyComponent\n              ? ((workInProgress.stateNode = lazyComponent),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(\n                  lazyComponent.firstChild\n                )),\n                (rootOrSingletonContext = !1),\n                (init = !0))\n              : (init = !1);\n        init || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      init = workInProgress.type;\n      prevState = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      lazyComponent = prevState.children;\n      shouldSetTextContent(init, prevState)\n        ? (lazyComponent = null)\n        : null !== nextState &&\n          shouldSetTextContent(init, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        ((init = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = init));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, lazyComponent, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (lazyComponent = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            ))\n          : reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            ),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, lazyComponent.value),\n        reconcileChildren(\n          current,\n          workInProgress,\n          lazyComponent.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        (init = workInProgress.type._context),\n        (lazyComponent = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        (init = readContext(init)),\n        (lazyComponent = lazyComponent(init)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, lazyComponent, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 31:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        (renderLanes = workInProgress.mode),\n        (lazyComponent = {\n          mode: lazyComponent.mode,\n          children: lazyComponent.children\n        }),\n        null === current\n          ? ((renderLanes = mountWorkInProgressOffscreenFiber(\n              lazyComponent,\n              renderLanes\n            )),\n            (renderLanes.ref = workInProgress.ref),\n            (workInProgress.child = renderLanes),\n            (renderLanes.return = workInProgress),\n            (workInProgress = renderLanes))\n          : ((renderLanes = createWorkInProgress(current.child, lazyComponent)),\n            (renderLanes.ref = workInProgress.ref),\n            (workInProgress.child = renderLanes),\n            (renderLanes.return = workInProgress),\n            (workInProgress = renderLanes)),\n        workInProgress\n      );\n    case 22:\n      return updateOffscreenComponent(current, workInProgress, renderLanes);\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (lazyComponent = readContext(CacheContext)),\n        null === current\n          ? ((init = peekCacheFromPool()),\n            null === init &&\n              ((init = workInProgressRoot),\n              (prevState = createCache()),\n              (init.pooledCache = prevState),\n              prevState.refCount++,\n              null !== prevState && (init.pooledCacheLanes |= renderLanes),\n              (init = prevState)),\n            (workInProgress.memoizedState = {\n              parent: lazyComponent,\n              cache: init\n            }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, init))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            (init = current.memoizedState),\n            (prevState = workInProgress.memoizedState),\n            init.parent !== lazyComponent\n              ? ((init = { parent: lazyComponent, cache: lazyComponent }),\n                (workInProgress.memoizedState = init),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      init),\n                pushProvider(workInProgress, CacheContext, lazyComponent))\n              : ((lazyComponent = prevState.cache),\n                pushProvider(workInProgress, CacheContext, lazyComponent),\n                lazyComponent !== init.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource))) {\n    resource = suspenseHandlerStackCursor.current;\n    if (\n      null !== resource &&\n      ((workInProgressRootRenderLanes & 4194048) ===\n      workInProgressRootRenderLanes\n        ? null !== shellBoundary\n        : ((workInProgressRootRenderLanes & 62914560) !==\n            workInProgressRootRenderLanes &&\n            0 === (workInProgressRootRenderLanes & 536870912)) ||\n          resource !== shellBoundary)\n    )\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n    workInProgress.flags |= 8192;\n  }\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$113 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$113 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$113\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$113.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$114 = completedWork.child; null !== child$114; )\n      (newChildLanes |= child$114.lanes | child$114.childLanes),\n        (subtreeFlags |= child$114.subtreeFlags & 65011712),\n        (subtreeFlags |= child$114.flags & 65011712),\n        (child$114.return = completedWork),\n        (child$114 = child$114.sibling);\n  else\n    for (child$114 = completedWork.child; null !== child$114; )\n      (newChildLanes |= child$114.lanes | child$114.childLanes),\n        (subtreeFlags |= child$114.subtreeFlags),\n        (subtreeFlags |= child$114.flags),\n        (child$114.return = completedWork),\n        (child$114 = child$114.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 31:\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            upgradeHydrationErrorsToRecoverable());\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      return (\n        (renderLanes = workInProgress.memoizedState),\n        null === current\n          ? (markUpdate(workInProgress),\n            null !== renderLanes\n              ? (bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217)))\n          : renderLanes\n            ? renderLanes !== current.memoizedState\n              ? (markUpdate(workInProgress),\n                bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217))\n            : (current.memoizedProps !== newProps && markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217)),\n        null\n      );\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      var type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      renderLanes = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, current);\n        else {\n          type = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (current) {\n            case 1:\n              current = type.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                renderLanes\n              );\n              break;\n            case 2:\n              current = type.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                renderLanes\n              );\n              break;\n            default:\n              switch (renderLanes) {\n                case \"svg\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    renderLanes\n                  );\n                  break;\n                case \"math\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    renderLanes\n                  );\n                  break;\n                case \"script\":\n                  current = type.createElement(\"div\");\n                  current.innerHTML = \"<script>\\x3c/script>\";\n                  current = current.removeChild(current.firstChild);\n                  break;\n                case \"select\":\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(\"select\", { is: newProps.is })\n                      : type.createElement(\"select\");\n                  newProps.multiple\n                    ? (current.multiple = !0)\n                    : newProps.size && (current.size = newProps.size);\n                  break;\n                default:\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(renderLanes, { is: newProps.is })\n                      : type.createElement(renderLanes);\n              }\n          }\n          current[internalInstanceKey] = workInProgress;\n          current[internalPropsKey] = newProps;\n          a: for (type = workInProgress.child; null !== type; ) {\n            if (5 === type.tag || 6 === type.tag)\n              current.appendChild(type.stateNode);\n            else if (4 !== type.tag && 27 !== type.tag && null !== type.child) {\n              type.child.return = type;\n              type = type.child;\n              continue;\n            }\n            if (type === workInProgress) break a;\n            for (; null === type.sibling; ) {\n              if (null === type.return || type.return === workInProgress)\n                break a;\n              type = type.return;\n            }\n            type.sibling.return = type.return;\n            type = type.sibling;\n          }\n          workInProgress.stateNode = current;\n          a: switch (\n            (setInitialProperties(current, renderLanes, newProps), renderLanes)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              current = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              current = !0;\n              break a;\n            default:\n              current = !1;\n          }\n          current && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      workInProgress.flags &= -16777217;\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          (type = upgradeHydrationErrorsToRecoverable()),\n            null !== current &&\n              null !== current.memoizedState &&\n              (current.memoizedState.hydrationErrors = type),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      if (renderLanes) {\n        newProps = workInProgress.child;\n        type = null;\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool);\n        var cache$127 = null;\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (cache$127 = newProps.memoizedState.cachePool.pool);\n        cache$127 !== type && (newProps.flags |= 2048);\n      }\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      type = workInProgress.memoizedState;\n      if (null === type) return bubbleProperties(workInProgress), null;\n      newProps = 0 !== (workInProgress.flags & 128);\n      cache$127 = type.rendering;\n      if (null === cache$127)\n        if (newProps) cutOffTailIfNeeded(type, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              cache$127 = findFirstSuspended(current);\n              if (null !== cache$127) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(type, !1);\n                current = cache$127.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== type.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (newProps = !0),\n            cutOffTailIfNeeded(type, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!newProps)\n          if (((current = findFirstSuspended(cache$127)), null !== current)) {\n            if (\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(type, !0),\n              null === type.tail &&\n                \"hidden\" === type.tailMode &&\n                !cache$127.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - type.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              cutOffTailIfNeeded(type, !1),\n              (workInProgress.lanes = 4194304));\n        type.isBackwards\n          ? ((cache$127.sibling = workInProgress.child),\n            (workInProgress.child = cache$127))\n          : ((current = type.last),\n            null !== current\n              ? (current.sibling = cache$127)\n              : (workInProgress.child = cache$127),\n            (type.last = cache$127));\n      }\n      if (null !== type.tail)\n        return (\n          (workInProgress = type.tail),\n          (type.rendering = workInProgress),\n          (type.tail = workInProgress.sibling),\n          (type.renderingStartTime = now()),\n          (workInProgress.sibling = null),\n          (current = suspenseStackCursor.current),\n          push(suspenseStackCursor, newProps ? (current & 1) | 2 : current & 1),\n          workInProgress\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n    case 30:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0,\n              destroy_ = destroy;\n            try {\n              destroy_();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = current.stateNode;\n          break;\n        case 30:\n          instanceToUse = current.stateNode;\n          break;\n        default:\n          instanceToUse = current.stateNode;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$143) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$143);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    (27 === fiber.tag && isSingletonScope(fiber.type)) ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;\n\n    ) {\n      if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? (9 === parent.nodeType\n            ? parent.body\n            : \"HTML\" === parent.nodeName\n              ? parent.ownerDocument.body\n              : parent\n          ).insertBefore(node, before)\n        : ((before =\n            9 === parent.nodeType\n              ? parent.body\n              : \"HTML\" === parent.nodeName\n                ? parent.ownerDocument.body\n                : parent),\n          before.appendChild(node),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (\n    4 !== tag &&\n    (27 === tag &&\n      isSingletonScope(node.type) &&\n      ((parent = node.stateNode), (before = null)),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (\n    4 !== tag &&\n    (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nfunction commitHostSingletonAcquisition(finishedWork) {\n  var singleton = finishedWork.stateNode,\n    props = finishedWork.memoizedProps;\n  try {\n    for (\n      var type = finishedWork.type, attributes = singleton.attributes;\n      attributes.length;\n\n    )\n      singleton.removeAttributeNode(attributes[0]);\n    setInitialProperties(singleton, type, props);\n    singleton[internalInstanceKey] = finishedWork;\n    singleton[internalPropsKey] = props;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1024) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset,\n                  JSCompiler_temp.elementType === JSCompiler_temp.type\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$142) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$142\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (\n        flags & 64 &&\n        ((finishedRoot = finishedWork.updateQueue), null !== finishedRoot)\n      ) {\n        current = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              current = finishedWork.child.stateNode;\n              break;\n            case 1:\n              current = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(finishedRoot, current);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 27:\n      null === current &&\n        flags & 4 &&\n        commitHostSingletonAcquisition(finishedWork);\n    case 26:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      flags & 64 &&\n        ((finishedRoot = finishedWork.memoizedState),\n        null !== finishedRoot &&\n          ((finishedRoot = finishedRoot.dehydrated),\n          null !== finishedRoot &&\n            ((finishedWork = retryDehydratedSuspenseBoundary.bind(\n              null,\n              finishedWork\n            )),\n            registerSuspenseInstanceRetry(finishedRoot, finishedWork))));\n      break;\n    case 22:\n      flags = null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!flags) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        prevProps = offscreenSubtreeIsHidden;\n        var prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = flags;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevProps;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      break;\n    case 30:\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      isSingletonScope(deletedFiber.type) &&\n        ((hostParent = deletedFiber.stateNode), (hostParentIsContainer = !1));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      releaseSingletonInstance(deletedFiber.stateNode);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (9 === hostParent.nodeType\n              ? hostParent.body\n              : \"HTML\" === hostParent.nodeName\n                ? hostParent.ownerDocument.body\n                : hostParent\n            ).removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((finishedRoot = hostParent),\n            clearSuspenseBoundary(\n              9 === finishedRoot.nodeType\n                ? finishedRoot.body\n                : \"HTML\" === finishedRoot.nodeName\n                  ? finishedRoot.ownerDocument.body\n                  : finishedRoot,\n              deletedFiber.stateNode\n            ),\n            retryIfBlockedOn(finishedRoot))\n          : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n    retryCache.has(wakeable) ||\n      (retryCache.add(wakeable), wakeable.then(retry, retry));\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n            if (isSingletonScope(parent.type)) {\n              hostParent = parent.stateNode;\n              hostParentIsContainer = !1;\n              break a;\n            }\n            break;\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13878)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href || \"\" === current.href\n                              ? null\n                              : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      null !== current &&\n        flags & 4 &&\n        commitHostUpdate(\n          finishedWork,\n          finishedWork.memoizedProps,\n          current.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      hoistableRoot = null !== finishedWork.memoizedState;\n      var wasHidden = null !== current && null !== current.memoizedState,\n        prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n        prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden || hoistableRoot;\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || wasHidden;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 8192)\n        a: for (\n          root = finishedWork.stateNode,\n            root._visibility = hoistableRoot\n              ? root._visibility & -2\n              : root._visibility | 1,\n            hoistableRoot &&\n              (null === current ||\n                wasHidden ||\n                offscreenSubtreeIsHidden ||\n                offscreenSubtreeWasHidden ||\n                recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n            current = null,\n            root = finishedWork;\n          ;\n\n        ) {\n          if (5 === root.tag || 26 === root.tag) {\n            if (null === current) {\n              wasHidden = current = root;\n              try {\n                if (((currentResource = wasHidden.stateNode), hoistableRoot))\n                  (maybeNodes = currentResource.style),\n                    \"function\" === typeof maybeNodes.setProperty\n                      ? maybeNodes.setProperty(\"display\", \"none\", \"important\")\n                      : (maybeNodes.display = \"none\");\n                else {\n                  i = wasHidden.stateNode;\n                  var styleProp = wasHidden.memoizedProps.style,\n                    display =\n                      void 0 !== styleProp &&\n                      null !== styleProp &&\n                      styleProp.hasOwnProperty(\"display\")\n                        ? styleProp.display\n                        : null;\n                  i.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              wasHidden = root;\n              try {\n                wasHidden.stateNode.nodeValue = hoistableRoot\n                  ? \"\"\n                  : wasHidden.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 30:\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      for (\n        var hostParentFiber, parentFiber = finishedWork.return;\n        null !== parentFiber;\n\n      ) {\n        if (isHostParent(parentFiber)) {\n          hostParentFiber = parentFiber;\n          break;\n        }\n        parentFiber = parentFiber.return;\n      }\n      if (null == hostParentFiber) throw Error(formatProdErrorMessage(160));\n      switch (hostParentFiber.tag) {\n        case 27:\n          var parent = hostParentFiber.stateNode,\n            before = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before, parent);\n          break;\n        case 5:\n          var parent$144 = hostParentFiber.stateNode;\n          hostParentFiber.flags & 32 &&\n            (setTextContent(parent$144, \"\"), (hostParentFiber.flags &= -33));\n          var before$145 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before$145, parent$144);\n          break;\n        case 3:\n        case 4:\n          var parent$146 = hostParentFiber.stateNode.containerInfo,\n            before$147 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNodeIntoContainer(\n            finishedWork,\n            before$147,\n            parent$146\n          );\n          break;\n        default:\n          throw Error(formatProdErrorMessage(161));\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 27:\n        releaseSingletonInstance(finishedWork.stateNode);\n      case 26:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 30:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 27:\n        commitHostSingletonAcquisition(finishedWork);\n      case 26:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 30:\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 1:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 13:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      id = finishedWork.alternate;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256)\n            ));\n      flags & 2048 && commitOffscreenPassiveMountEffects(id, finishedWork);\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 10256);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 2\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(parentFiber) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(fiber),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(fiber));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 2 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 2 &&\n          ((i._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  pendingEffectsStatus = 0,\n  pendingEffectsRoot = null,\n  pendingFinishedWork = null,\n  pendingEffectsLanes = 0,\n  pendingEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  pendingRecoverableErrors = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  if (0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes)\n    return workInProgressRootRenderLanes & -workInProgressRootRenderLanes;\n  if (null !== ReactSharedInternals.T) {\n    var actionScopeLane = currentEntangledLane;\n    return 0 !== actionScopeLane ? actionScopeLane : requestTransitionLane();\n  }\n  return resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  0 === workInProgressDeferredLane &&\n    (workInProgressDeferredLane =\n      0 === (workInProgressRootRenderLanes & 536870912) || isHydrating\n        ? claimNextTransitionLane()\n        : 536870912);\n  var suspenseHandler = suspenseHandlerStackCursor.current;\n  null !== suspenseHandler && (suspenseHandler.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 124) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                (null === workInProgressRootRecoverableErrors\n                  ? (workInProgressRootRecoverableErrors = renderWasConcurrent)\n                  : workInProgressRootRecoverableErrors.push.apply(\n                      workInProgressRootRecoverableErrors,\n                      renderWasConcurrent\n                    ));\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        renderWasConcurrent = exitStatus;\n        switch (renderWasConcurrent) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194048) !== lanes) break;\n          case 6:\n            markRootSuspended(\n              shouldTimeSlice,\n              lanes,\n              workInProgressDeferredLane,\n              !workInProgressRootDidSkipSuspendedSiblings\n            );\n            break a;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        if (\n          (lanes & 62914560) === lanes &&\n          ((exitStatus = globalMostRecentFallbackTime + 300 - now()),\n          10 < exitStatus)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0, !0)) break a;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              renderWasConcurrent,\n              2,\n              -0,\n              0\n            ),\n            exitStatus\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          renderWasConcurrent,\n          0,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  exitStatus,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  root.timeoutHandle = -1;\n  suspendedCommitReason = finishedWork.subtreeFlags;\n  if (\n    suspendedCommitReason & 8192 ||\n    16785408 === (suspendedCommitReason & 16785408)\n  )\n    if (\n      ((suspendedState = { stylesheets: null, count: 0, unsuspend: noop }),\n      accumulateSuspenseyCommitOnFiber(finishedWork),\n      (suspendedCommitReason = waitForCommitToBeReady()),\n      null !== suspendedCommitReason)\n    ) {\n      root.cancelPendingCommit = suspendedCommitReason(\n        commitRoot.bind(\n          null,\n          root,\n          finishedWork,\n          lanes,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          exitStatus,\n          1,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  commitRoot(\n    root,\n    finishedWork,\n    lanes,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$4 = 31 - clz32(lanes),\n      lane = 1 << index$4;\n    didAttemptEntireTree[index$4] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber$1 = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState = null),\n        (thenableIndexCounter = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$2 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$2;\n      lanes |= root[index$2];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException || thrownValue === SuspenseActionException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194048) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 9:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$167) {\n      handleThrow(root, thrownValue$167);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n          case 9:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              (2 !== workInProgressSuspendedReason &&\n                9 !== workInProgressSuspendedReason) ||\n                workInProgressRoot !== root ||\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (resource ? preloadResource(resource) : 1) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrentByScheduler();\n      break;\n    } catch (thrownValue$169) {\n      handleThrow(root, thrownValue$169);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrentByScheduler() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState = null;\n  thenableIndexCounter = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason ||\n        9 === suspendedReason ||\n        3 === suspendedReason ||\n        6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  finishedWork,\n  lanes,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  root.cancelPendingCommit = null;\n  do flushPendingEffects();\n  while (0 !== pendingEffectsStatus);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  if (null !== finishedWork) {\n    if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n    didIncludeRenderPhaseUpdate = finishedWork.lanes | finishedWork.childLanes;\n    didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;\n    markRootFinished(\n      root,\n      lanes,\n      didIncludeRenderPhaseUpdate,\n      spawnedLane,\n      updatedLanes,\n      suspendedRetryLanes\n    );\n    root === workInProgressRoot &&\n      ((workInProgress = workInProgressRoot = null),\n      (workInProgressRootRenderLanes = 0));\n    pendingFinishedWork = finishedWork;\n    pendingEffectsRoot = root;\n    pendingEffectsLanes = lanes;\n    pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;\n    pendingPassiveTransitions = transitions;\n    pendingRecoverableErrors = recoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? ((root.callbackNode = null),\n        (root.callbackPriority = 0),\n        scheduleCallback$1(NormalPriority$1, function () {\n          flushPassiveEffects(!0);\n          return null;\n        }))\n      : ((root.callbackNode = null), (root.callbackPriority = 0));\n    recoverableErrors = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {\n      recoverableErrors = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      transitions = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      spawnedLane = executionContext;\n      executionContext |= 4;\n      try {\n        commitBeforeMutationEffects(root, finishedWork, lanes);\n      } finally {\n        (executionContext = spawnedLane),\n          (ReactDOMSharedInternals.p = transitions),\n          (ReactSharedInternals.T = recoverableErrors);\n      }\n    }\n    pendingEffectsStatus = 1;\n    flushMutationEffects();\n    flushLayoutEffects();\n    flushSpawnedWork();\n  }\n}\nfunction flushMutationEffects() {\n  if (1 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootMutationHasEffect = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || rootMutationHasEffect) {\n      rootMutationHasEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitMutationEffectsOnFiber(finishedWork, root);\n        var priorSelectionInformation = selectionInformation,\n          curFocusedElem = getActiveElementDeep(root.containerInfo),\n          priorFocusedElem = priorSelectionInformation.focusedElem,\n          priorSelectionRange = priorSelectionInformation.selectionRange;\n        if (\n          curFocusedElem !== priorFocusedElem &&\n          priorFocusedElem &&\n          priorFocusedElem.ownerDocument &&\n          containsNode(\n            priorFocusedElem.ownerDocument.documentElement,\n            priorFocusedElem\n          )\n        ) {\n          if (\n            null !== priorSelectionRange &&\n            hasSelectionCapabilities(priorFocusedElem)\n          ) {\n            var start = priorSelectionRange.start,\n              end = priorSelectionRange.end;\n            void 0 === end && (end = start);\n            if (\"selectionStart\" in priorFocusedElem)\n              (priorFocusedElem.selectionStart = start),\n                (priorFocusedElem.selectionEnd = Math.min(\n                  end,\n                  priorFocusedElem.value.length\n                ));\n            else {\n              var doc = priorFocusedElem.ownerDocument || document,\n                win = (doc && doc.defaultView) || window;\n              if (win.getSelection) {\n                var selection = win.getSelection(),\n                  length = priorFocusedElem.textContent.length,\n                  start$jscomp$0 = Math.min(priorSelectionRange.start, length),\n                  end$jscomp$0 =\n                    void 0 === priorSelectionRange.end\n                      ? start$jscomp$0\n                      : Math.min(priorSelectionRange.end, length);\n                !selection.extend &&\n                  start$jscomp$0 > end$jscomp$0 &&\n                  ((curFocusedElem = end$jscomp$0),\n                  (end$jscomp$0 = start$jscomp$0),\n                  (start$jscomp$0 = curFocusedElem));\n                var startMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    start$jscomp$0\n                  ),\n                  endMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    end$jscomp$0\n                  );\n                if (\n                  startMarker &&\n                  endMarker &&\n                  (1 !== selection.rangeCount ||\n                    selection.anchorNode !== startMarker.node ||\n                    selection.anchorOffset !== startMarker.offset ||\n                    selection.focusNode !== endMarker.node ||\n                    selection.focusOffset !== endMarker.offset)\n                ) {\n                  var range = doc.createRange();\n                  range.setStart(startMarker.node, startMarker.offset);\n                  selection.removeAllRanges();\n                  start$jscomp$0 > end$jscomp$0\n                    ? (selection.addRange(range),\n                      selection.extend(endMarker.node, endMarker.offset))\n                    : (range.setEnd(endMarker.node, endMarker.offset),\n                      selection.addRange(range));\n                }\n              }\n            }\n          }\n          doc = [];\n          for (\n            selection = priorFocusedElem;\n            (selection = selection.parentNode);\n\n          )\n            1 === selection.nodeType &&\n              doc.push({\n                element: selection,\n                left: selection.scrollLeft,\n                top: selection.scrollTop\n              });\n          \"function\" === typeof priorFocusedElem.focus &&\n            priorFocusedElem.focus();\n          for (\n            priorFocusedElem = 0;\n            priorFocusedElem < doc.length;\n            priorFocusedElem++\n          ) {\n            var info = doc[priorFocusedElem];\n            info.element.scrollLeft = info.left;\n            info.element.scrollTop = info.top;\n          }\n        }\n        _enabled = !!eventsEnabled;\n        selectionInformation = eventsEnabled = null;\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootMutationHasEffect);\n      }\n    }\n    root.current = finishedWork;\n    pendingEffectsStatus = 2;\n  }\n}\nfunction flushLayoutEffects() {\n  if (2 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootHasLayoutEffect = 0 !== (finishedWork.flags & 8772);\n    if (0 !== (finishedWork.subtreeFlags & 8772) || rootHasLayoutEffect) {\n      rootHasLayoutEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork);\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootHasLayoutEffect);\n      }\n    }\n    pendingEffectsStatus = 3;\n  }\n}\nfunction flushSpawnedWork() {\n  if (4 === pendingEffectsStatus || 3 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    requestPaint();\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      lanes = pendingEffectsLanes,\n      recoverableErrors = pendingRecoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? (pendingEffectsStatus = 5)\n      : ((pendingEffectsStatus = 0),\n        (pendingFinishedWork = pendingEffectsRoot = null),\n        releaseRootPooledCache(root, root.pendingLanes));\n    var remainingLanes = root.pendingLanes;\n    0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n    lanesToEventPriority(lanes);\n    finishedWork = finishedWork.stateNode;\n    if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n      try {\n        injectedHook.onCommitFiberRoot(\n          rendererID,\n          finishedWork,\n          void 0,\n          128 === (finishedWork.current.flags & 128)\n        );\n      } catch (err) {}\n    if (null !== recoverableErrors) {\n      finishedWork = ReactSharedInternals.T;\n      remainingLanes = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      ReactSharedInternals.T = null;\n      try {\n        for (\n          var onRecoverableError = root.onRecoverableError, i = 0;\n          i < recoverableErrors.length;\n          i++\n        ) {\n          var recoverableError = recoverableErrors[i];\n          onRecoverableError(recoverableError.value, {\n            componentStack: recoverableError.stack\n          });\n        }\n      } finally {\n        (ReactSharedInternals.T = finishedWork),\n          (ReactDOMSharedInternals.p = remainingLanes);\n      }\n    }\n    0 !== (pendingEffectsLanes & 3) && flushPendingEffects();\n    ensureRootIsScheduled(root);\n    remainingLanes = root.pendingLanes;\n    0 !== (lanes & 4194090) && 0 !== (remainingLanes & 42)\n      ? root === rootWithNestedUpdates\n        ? nestedUpdateCount++\n        : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n      : (nestedUpdateCount = 0);\n    flushSyncWorkAcrossRoots_impl(0, !1);\n  }\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPendingEffects(wasDelayedCommit) {\n  flushMutationEffects();\n  flushLayoutEffects();\n  flushSpawnedWork();\n  return flushPassiveEffects(wasDelayedCommit);\n}\nfunction flushPassiveEffects() {\n  if (5 !== pendingEffectsStatus) return !1;\n  var root = pendingEffectsRoot,\n    remainingLanes = pendingEffectsRemainingLanes;\n  pendingEffectsRemainingLanes = 0;\n  var renderPriority = lanesToEventPriority(pendingEffectsLanes),\n    prevTransition = ReactSharedInternals.T,\n    previousPriority = ReactDOMSharedInternals.p;\n  try {\n    ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n    ReactSharedInternals.T = null;\n    renderPriority = pendingPassiveTransitions;\n    pendingPassiveTransitions = null;\n    var root$jscomp$0 = pendingEffectsRoot,\n      lanes = pendingEffectsLanes;\n    pendingEffectsStatus = 0;\n    pendingFinishedWork = pendingEffectsRoot = null;\n    pendingEffectsLanes = 0;\n    if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(331));\n    var prevExecutionContext = executionContext;\n    executionContext |= 4;\n    commitPassiveUnmountOnFiber(root$jscomp$0.current);\n    commitPassiveMountOnFiber(\n      root$jscomp$0,\n      root$jscomp$0.current,\n      lanes,\n      renderPriority\n    );\n    executionContext = prevExecutionContext;\n    flushSyncWorkAcrossRoots_impl(0, !1);\n    if (\n      injectedHook &&\n      \"function\" === typeof injectedHook.onPostCommitFiberRoot\n    )\n      try {\n        injectedHook.onPostCommitFiberRoot(rendererID, root$jscomp$0);\n      } catch (err) {}\n    return !0;\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition),\n      releaseRootPooledCache(root, remainingLanes);\n  }\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0), scheduleImmediateRootScheduleTask());\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$174 = firstScheduledRoot; null !== root$174; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$174.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$174.suspendedLanes,\n                pingedLanes = root$174.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326741\n                  ? (JSCompiler_inline_result & 201326741) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$174, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$174,\n                root$174 === workInProgressRoot ? JSCompiler_inline_result : 0,\n                null !== root$174.cancelPendingCommit ||\n                  -1 !== root$174.timeoutHandle\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$174, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$174, JSCompiler_inline_result));\n        root$174 = root$174.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInImmediateTask() {\n  processRootScheduleInMicrotask();\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    (shouldAttemptEagerTransition() &&\n      (syncTransitionLanes = currentEventTransitionLane),\n    (currentEventTransitionLane = 0));\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$3 = 31 - clz32(lanes),\n      lane = 1 << index$3,\n      expirationTime = expirationTimes[index$3];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$3] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  if (0 !== pendingEffectsStatus && 5 !== pendingEffectsStatus)\n    return (root.callbackNode = null), (root.callbackPriority = 0), null;\n  var originalCallbackNode = root.callbackNode;\n  if (flushPendingEffects(!0) && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPendingEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateRootScheduleTask() {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(\n          ImmediatePriority,\n          processRootScheduleInImmediateTask\n        )\n      : processRootScheduleInMicrotask();\n  });\n}\nfunction requestTransitionLane() {\n  0 === currentEventTransitionLane &&\n    (currentEventTransitionLane = claimNextTransitionLane());\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1528 = 0;\n  i$jscomp$inline_1528 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1528++\n) {\n  var eventName$jscomp$inline_1529 =\n      simpleEventPluginEvents[i$jscomp$inline_1528],\n    domEventName$jscomp$inline_1530 =\n      eventName$jscomp$inline_1529.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1531 =\n      eventName$jscomp$inline_1529[0].toUpperCase() +\n      eventName$jscomp$inline_1529.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1530,\n    \"on\" + capitalizedEvent$jscomp$inline_1531\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (container === targetContainer) break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (\n              (3 === grandTag || 4 === grandTag) &&\n              nodeTag.stateNode.containerInfo === targetContainer\n            )\n              return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = SyntheticEventCtor;\n                reactEventName = reactEventType;\n                instance = 0;\n                for (\n                  lastHostComponent = inCapturePhase;\n                  lastHostComponent;\n                  lastHostComponent = getParent(lastHostComponent)\n                )\n                  instance++;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = getParent(_instance)\n                )\n                  lastHostComponent++;\n                for (; 0 < instance - lastHostComponent; )\n                  (inCapturePhase = getParent(inCapturePhase)), instance--;\n                for (; 0 < lastHostComponent - instance; )\n                  (reactEventName = getParent(reactEventName)),\n                    lastHostComponent--;\n                for (; instance--; ) {\n                  if (\n                    inCapturePhase === reactEventName ||\n                    (null !== reactEventName &&\n                      inCapturePhase === reactEventName.alternate)\n                  )\n                    break b;\n                  inCapturePhase = getParent(inCapturePhase);\n                  reactEventName = getParent(reactEventName);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    if (3 === targetFiber.tag) return listeners;\n    targetFiber = targetFiber.return;\n  }\n  return [];\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction noop$1() {}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$188 = props[hasSrc];\n          if (null != propValue$188)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$188;\n                break;\n              case \"type\":\n                propValue = propValue$188;\n                break;\n              case \"checked\":\n                checked = propValue$188;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$188;\n                break;\n              case \"value\":\n                propKey = propValue$188;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$188;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$188)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$188, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      track(domElement);\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      track(domElement);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$188 in props)\n          props.hasOwnProperty(propValue$188) &&\n            ((hasSrc = props[propValue$188]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$188,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$205 in nextProps) {\n        var propKey = nextProps[propKey$205];\n        lastProp = lastProps[propKey$205];\n        if (\n          nextProps.hasOwnProperty(propKey$205) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$205) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$205,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$205 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$205 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$205\n        ? updateOptions(domElement, !!lastProps, propKey$205, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$205 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$205 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$205, propKey);\n      return;\n    case \"option\":\n      for (var propKey$221 in lastProps)\n        if (\n          ((propKey$205 = lastProps[propKey$221]),\n          lastProps.hasOwnProperty(propKey$221) &&\n            null != propKey$205 &&\n            !nextProps.hasOwnProperty(propKey$221))\n        )\n          switch (propKey$221) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$221,\n                null,\n                nextProps,\n                propKey$205\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$205 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$205 !== propKey &&\n            (null != propKey$205 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$205 &&\n                \"function\" !== typeof propKey$205 &&\n                \"symbol\" !== typeof propKey$205;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$226 in lastProps)\n        (propKey$205 = lastProps[propKey$226]),\n          lastProps.hasOwnProperty(propKey$226) &&\n            null != propKey$205 &&\n            !nextProps.hasOwnProperty(propKey$226) &&\n            setProp(domElement, tag, propKey$226, null, nextProps, propKey$205);\n      for (checked in nextProps)\n        if (\n          ((propKey$205 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$205 !== propKey &&\n            (null != propKey$205 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$205)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$231 in lastProps)\n          (propKey$205 = lastProps[propKey$231]),\n            lastProps.hasOwnProperty(propKey$231) &&\n              void 0 !== propKey$205 &&\n              !nextProps.hasOwnProperty(propKey$231) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$231,\n                void 0,\n                nextProps,\n                propKey$205\n              );\n        for (defaultChecked in nextProps)\n          (propKey$205 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$205 === propKey ||\n              (void 0 === propKey$205 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$236 in lastProps)\n    (propKey$205 = lastProps[propKey$236]),\n      lastProps.hasOwnProperty(propKey$236) &&\n        null != propKey$205 &&\n        !nextProps.hasOwnProperty(propKey$236) &&\n        setProp(domElement, tag, propKey$236, null, nextProps, propKey$205);\n  for (lastProp in nextProps)\n    (propKey$205 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$205 === propKey ||\n        (null == propKey$205 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$205, nextProps, propKey);\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction isSingletonScope(type) {\n  return \"head\" === type;\n}\nfunction clearSuspenseBoundary(parentInstance, suspenseInstance) {\n  var node = suspenseInstance,\n    possiblePreambleContribution = 0,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node)) {\n        if (\n          0 < possiblePreambleContribution &&\n          8 > possiblePreambleContribution\n        ) {\n          node = possiblePreambleContribution;\n          var ownerDocument = parentInstance.ownerDocument;\n          node & 1 && releaseSingletonInstance(ownerDocument.documentElement);\n          node & 2 && releaseSingletonInstance(ownerDocument.body);\n          if (node & 4)\n            for (\n              node = ownerDocument.head,\n                releaseSingletonInstance(node),\n                ownerDocument = node.firstChild;\n              ownerDocument;\n\n            ) {\n              var nextNode$jscomp$0 = ownerDocument.nextSibling,\n                nodeName = ownerDocument.nodeName;\n              ownerDocument[internalHoistableMarker] ||\n                \"SCRIPT\" === nodeName ||\n                \"STYLE\" === nodeName ||\n                (\"LINK\" === nodeName &&\n                  \"stylesheet\" === ownerDocument.rel.toLowerCase()) ||\n                node.removeChild(ownerDocument);\n              ownerDocument = nextNode$jscomp$0;\n            }\n        }\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(suspenseInstance);\n          return;\n        }\n        depth--;\n      } else\n        \"$\" === node || \"$?\" === node || \"$!\" === node\n          ? depth++\n          : (possiblePreambleContribution = node.charCodeAt(0) - 48);\n    else possiblePreambleContribution = 0;\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(suspenseInstance);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href || \"\" === anyProps.href\n                ? null\n                : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction isSuspenseInstanceFallback(instance) {\n  return (\n    \"$!\" === instance.data ||\n    (\"$?\" === instance.data && \"complete\" === instance.ownerDocument.readyState)\n  );\n}\nfunction registerSuspenseInstanceRetry(instance, callback) {\n  var ownerDocument = instance.ownerDocument;\n  if (\"$?\" !== instance.data || \"complete\" === ownerDocument.readyState)\n    callback();\n  else {\n    var listener = function () {\n      callback();\n      ownerDocument.removeEventListener(\"DOMContentLoaded\", listener);\n    };\n    ownerDocument.addEventListener(\"DOMContentLoaded\", listener);\n    instance._reactRetry = listener;\n  }\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nvar previousHydratableOnEnteringScopedSingleton = null;\nfunction getParentSuspenseInstance(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\"$\" === data || \"$!\" === data || \"$?\" === data) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else \"/$\" === data && depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nfunction releaseSingletonInstance(instance) {\n  for (var attributes = instance.attributes; attributes.length; )\n    instance.removeAttributeNode(attributes[0]);\n  detachDeletedInstance(instance);\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : 9 === container.nodeType\n      ? container\n      : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$244 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$245 = styles$244.get(type);\n        resource$245 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$245 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$244.set(type, resource$245),\n          (styles$244 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$244._p &&\n            ((resource$245.instance = styles$244),\n            (resource$245.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$244 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$245.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$245;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$250 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$250)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$250),\n            markNodeAsHoistable(instance$250),\n            instance$250\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$250 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$250);\n        var linkInstance = instance$250;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$250, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$250, props.precedence, hoistableRoot);\n        return (resource.instance = instance$250);\n      case \"script\":\n        instance$250 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$250)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$250)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nvar suspendedState = null;\nfunction noop() {}\nfunction suspendResource(hoistableRoot, resource, props) {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nfunction waitForCommitToBeReady() {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4);\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count)\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.pingCache = this.current = this.pendingChildren = null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  transitionCallbacks,\n  formState\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            if (13 === nearestMounted.tag) {\n              var lane = requestUpdateLane();\n              lane = getBumpedLaneForHydrationByLane(lane);\n              var root = enqueueConcurrentRenderForLane(nearestMounted, lane);\n              null !== root &&\n                scheduleUpdateOnFiber(root, nearestMounted, lane);\n              markRetryLaneIfNotHydrated(nearestMounted, lane);\n            }\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1785 = React.version;\nif (\n  \"19.1.1\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1785\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1785,\n      \"19.1.1\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2256 = {\n  bundleType: 0,\n  version: \"19.1.1\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  reconcilerVersion: \"19.1.1\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2257 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2257.isDisabled &&\n    hook$jscomp$inline_2257.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2257.inject(\n        internals$jscomp$inline_2256\n      )),\n        (injectedHook = hook$jscomp$inline_2257);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    null\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    formState\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  isStrictMode = getBumpedLaneForHydrationByLane(isStrictMode);\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  options = isStrictMode;\n  initialChildren.current.lanes = options;\n  markRootUpdated$1(initialChildren, options);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.1.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","import React, { useState } from 'react';\r\nimport { deviceUtils } from '../../services/nativeDeviceFeaturesService';\r\nimport { mobileUtils } from '../../services/mobileInteractionService';\r\nimport './NativeContactPicker.css';\r\n\r\nconst NativeContactPicker = ({ onContactSelect, onClose, multiple = false }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [selectedContacts, setSelectedContacts] = useState([]);\r\n  const [isSupported, setIsSupported] = useState(deviceUtils.isSupported('contacts'));\r\n\r\n  const handlePickContacts = async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    mobileUtils.haptic('light');\r\n\r\n    try {\r\n      const contacts = await deviceUtils.pickContacts({\r\n        multiple: multiple,\r\n        properties: ['name', 'email', 'tel']\r\n      });\r\n\r\n      console.log('✅ Contacts selected:', contacts);\r\n      \r\n      if (contacts && contacts.length > 0) {\r\n        setSelectedContacts(contacts);\r\n        onContactSelect(multiple ? contacts : contacts[0]);\r\n        \r\n        if (!multiple) {\r\n          onClose();\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('❌ Contact selection failed:', err);\r\n      \r\n      if (err.name === 'AbortError') {\r\n        setError('Contact selection was cancelled');\r\n      } else {\r\n        setError('Failed to access contacts. Please check permissions.');\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFallbackContactInput = () => {\r\n    // Fallback for browsers that don't support Contact Picker API\r\n    const name = prompt('Enter contact name:');\r\n    const phone = prompt('Enter phone number:');\r\n    const email = prompt('Enter email (optional):');\r\n\r\n    if (name && phone) {\r\n      const contact = {\r\n        name: [name],\r\n        tel: [phone],\r\n        email: email ? [email] : []\r\n      };\r\n\r\n      onContactSelect(contact);\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const formatContact = (contact) => {\r\n    const name = contact.name?.[0] || 'Unknown';\r\n    const phone = contact.tel?.[0] || '';\r\n    const email = contact.email?.[0] || '';\r\n    \r\n    return { name, phone, email };\r\n  };\r\n\r\n  const handleConfirmSelection = () => {\r\n    if (selectedContacts.length > 0) {\r\n      onContactSelect(selectedContacts);\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const removeContact = (index) => {\r\n    setSelectedContacts(prev => prev.filter((_, i) => i !== index));\r\n    mobileUtils.haptic('light');\r\n  };\r\n\r\n  return (\r\n    <div className=\"native-contact-picker-overlay\">\r\n      <div className=\"native-contact-picker\">\r\n        {/* Header */}\r\n        <div className=\"contact-picker-header\">\r\n          <h3>{multiple ? 'Select Contacts' : 'Select Contact'}</h3>\r\n          <button \r\n            className=\"close-btn touch-target touch-ripple\"\r\n            onClick={onClose}\r\n            aria-label=\"Close\"\r\n          >\r\n            ✕\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"contact-picker-content\">\r\n          {isSupported ? (\r\n            <>\r\n              <div className=\"contact-picker-info\">\r\n                <div className=\"info-icon\">📞</div>\r\n                <p>\r\n                  {multiple \r\n                    ? 'Select multiple contacts from your device contacts'\r\n                    : 'Select a contact from your device contacts'\r\n                  }\r\n                </p>\r\n              </div>\r\n\r\n              {error && (\r\n                <div className=\"contact-picker-error\">\r\n                  <p>{error}</p>\r\n                  <button \r\n                    className=\"retry-btn touch-target\"\r\n                    onClick={handlePickContacts}\r\n                  >\r\n                    Try Again\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {/* Selected Contacts */}\r\n              {selectedContacts.length > 0 && (\r\n                <div className=\"selected-contacts\">\r\n                  <h4>Selected Contacts ({selectedContacts.length})</h4>\r\n                  <div className=\"contact-list\">\r\n                    {selectedContacts.map((contact, index) => {\r\n                      const { name, phone, email } = formatContact(contact);\r\n                      return (\r\n                        <div key={index} className=\"contact-item\">\r\n                          <div className=\"contact-avatar\">\r\n                            {name.charAt(0).toUpperCase()}\r\n                          </div>\r\n                          <div className=\"contact-info\">\r\n                            <div className=\"contact-name\">{name}</div>\r\n                            {phone && <div className=\"contact-phone\">{phone}</div>}\r\n                            {email && <div className=\"contact-email\">{email}</div>}\r\n                          </div>\r\n                          <button \r\n                            className=\"remove-contact-btn touch-target\"\r\n                            onClick={() => removeContact(index)}\r\n                            aria-label=\"Remove contact\"\r\n                          >\r\n                            ✕\r\n                          </button>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Action Buttons */}\r\n              <div className=\"contact-picker-actions\">\r\n                <button \r\n                  className=\"pick-contacts-btn touch-target touch-ripple haptic-medium\"\r\n                  onClick={handlePickContacts}\r\n                  disabled={isLoading}\r\n                >\r\n                  {isLoading ? (\r\n                    <>\r\n                      <div className=\"loading-spinner small\"></div>\r\n                      Loading...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      📱 {multiple ? 'Add Contacts' : 'Pick Contact'}\r\n                    </>\r\n                  )}\r\n                </button>\r\n\r\n                {multiple && selectedContacts.length > 0 && (\r\n                  <button \r\n                    className=\"confirm-btn touch-target touch-ripple\"\r\n                    onClick={handleConfirmSelection}\r\n                  >\r\n                    Confirm Selection ({selectedContacts.length})\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div className=\"contact-picker-info\">\r\n                <div className=\"info-icon\">⚠️</div>\r\n                <p>\r\n                  Contact Picker is not supported on this device.\r\n                  You can manually enter contact information.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"contact-picker-actions\">\r\n                <button \r\n                  className=\"manual-input-btn touch-target touch-ripple\"\r\n                  onClick={handleFallbackContactInput}\r\n                >\r\n                  ✏️ Enter Contact Manually\r\n                </button>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Features Info */}\r\n        <div className=\"contact-picker-footer\">\r\n          <small>\r\n            {isSupported \r\n              ? 'Contacts are accessed securely through your device\\'s native contact picker'\r\n              : 'Manual entry allows you to share contact information'\r\n            }\r\n          </small>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NativeContactPicker;","/**\r\n * Contact Service\r\n * Manages contact data storage, retrieval, and synchronization\r\n * Handles both local storage (IndexedDB) and remote API integration\r\n */\r\n\r\n// IndexedDB configuration\r\nconst DB_NAME = 'quibishContacts';\r\nconst DB_VERSION = 1;\r\nconst STORE_NAME = 'contacts';\r\n\r\n// API configuration\r\nconst API_BASE_URL = 'http://localhost:5005/api';\r\n\r\nclass ContactService {\r\n  constructor() {\r\n    this.db = null;\r\n    this.isInitialized = false;\r\n    this.initPromise = this.init();\r\n  }\r\n\r\n  // Initialize IndexedDB\r\n  async init() {\r\n    if (this.isInitialized) return;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const request = indexedDB.open(DB_NAME, DB_VERSION);\r\n\r\n      request.onerror = () => {\r\n        console.error('Failed to open contacts database');\r\n        reject(request.error);\r\n      };\r\n\r\n      request.onsuccess = () => {\r\n        this.db = request.result;\r\n        this.isInitialized = true;\r\n        console.log('📇 Contact database initialized');\r\n        resolve();\r\n      };\r\n\r\n      request.onupgradeneeded = (event) => {\r\n        const db = event.target.result;\r\n        \r\n        // Create contacts store\r\n        if (!db.objectStoreNames.contains(STORE_NAME)) {\r\n          const store = db.createObjectStore(STORE_NAME, { keyPath: 'id' });\r\n          store.createIndex('name', 'name', { unique: false });\r\n          store.createIndex('email', 'email', { unique: false });\r\n          store.createIndex('phone', 'phone', { unique: false });\r\n          store.createIndex('category', 'category', { unique: false });\r\n          store.createIndex('isFavorite', 'isFavorite', { unique: false });\r\n          store.createIndex('lastContacted', 'lastContacted', { unique: false });\r\n          store.createIndex('createdAt', 'createdAt', { unique: false });\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  // Ensure database is ready\r\n  async ensureReady() {\r\n    if (!this.isInitialized) {\r\n      await this.initPromise;\r\n    }\r\n  }\r\n\r\n  // Get all contacts with stats\r\n  async getAllContacts() {\r\n    await this.ensureReady();\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db.transaction([STORE_NAME], 'readonly');\r\n      const store = transaction.objectStore(STORE_NAME);\r\n      const request = store.getAll();\r\n\r\n      request.onsuccess = () => {\r\n        const contacts = request.result || [];\r\n        \r\n        // Calculate stats\r\n        const stats = this.calculateContactStats(contacts);\r\n        \r\n        resolve({\r\n          contacts: contacts.sort((a, b) => a.name.localeCompare(b.name)),\r\n          stats\r\n        });\r\n      };\r\n\r\n      request.onerror = () => {\r\n        console.error('Failed to get contacts');\r\n        reject(request.error);\r\n      };\r\n    });\r\n  }\r\n\r\n  // Calculate contact statistics\r\n  calculateContactStats(contacts) {\r\n    const now = new Date();\r\n    const sevenDaysAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n\r\n    return {\r\n      total: contacts.length,\r\n      favorites: contacts.filter(c => c.isFavorite).length,\r\n      recentlyAdded: contacts.filter(c => new Date(c.createdAt) > sevenDaysAgo).length,\r\n      frequentlyContacted: contacts.filter(c => (c.contactCount || 0) > 5).length,\r\n      categories: {\r\n        work: contacts.filter(c => c.category === 'work' || c.company).length,\r\n        family: contacts.filter(c => c.category === 'family').length,\r\n        friends: contacts.filter(c => c.category === 'friends').length,\r\n        business: contacts.filter(c => c.category === 'business').length,\r\n        other: contacts.filter(c => c.category === 'other' || !c.category).length\r\n      }\r\n    };\r\n  }\r\n\r\n  // Find duplicate contacts based on name, email, or phone\r\n  async findDuplicates(contactData, excludeId = null) {\r\n    const { contacts } = await this.getAllContacts();\r\n    \r\n    const duplicates = contacts.filter(contact => {\r\n      // Skip the contact being updated\r\n      if (excludeId && contact.id === excludeId) return false;\r\n      \r\n      // Check for exact name match (case insensitive)\r\n      if (contactData.name && contact.name && \r\n          contactData.name.toLowerCase().trim() === contact.name.toLowerCase().trim()) {\r\n        return true;\r\n      }\r\n      \r\n      // Check for email matches\r\n      if (contactData.emails && contact.emails) {\r\n        const newEmails = contactData.emails.map(e => e.value.toLowerCase().trim()).filter(e => e);\r\n        const existingEmails = contact.emails.map(e => e.value.toLowerCase().trim()).filter(e => e);\r\n        if (newEmails.some(email => existingEmails.includes(email))) {\r\n          return true;\r\n        }\r\n      }\r\n      \r\n      // Backward compatibility - check legacy email field\r\n      if (contactData.email && contact.email && \r\n          contactData.email.toLowerCase().trim() === contact.email.toLowerCase().trim()) {\r\n        return true;\r\n      }\r\n      \r\n      // Check for phone matches\r\n      if (contactData.phones && contact.phones) {\r\n        const newPhones = contactData.phones.map(p => this.normalizePhone(p.value)).filter(p => p);\r\n        const existingPhones = contact.phones.map(p => this.normalizePhone(p.value)).filter(p => p);\r\n        if (newPhones.some(phone => existingPhones.includes(phone))) {\r\n          return true;\r\n        }\r\n      }\r\n      \r\n      // Backward compatibility - check legacy phone field\r\n      if (contactData.phone && contact.phone && \r\n          this.normalizePhone(contactData.phone) === this.normalizePhone(contact.phone)) {\r\n        return true;\r\n      }\r\n      \r\n      return false;\r\n    });\r\n    \r\n    return duplicates;\r\n  }\r\n\r\n  // Normalize phone number for comparison\r\n  normalizePhone(phone) {\r\n    if (!phone) return '';\r\n    return phone.replace(/[\\s\\-()\\\\+]/g, '').replace(/^1/, ''); // Remove formatting and leading 1\r\n  }\r\n\r\n  // Get potential duplicates with similarity scoring\r\n  async getPotentialDuplicates(contactData, threshold = 0.7) {\r\n    const { contacts } = await this.getAllContacts();\r\n    \r\n    const potentialDuplicates = contacts.map(contact => {\r\n      let score = 0;\r\n      let reasons = [];\r\n      \r\n      // Name similarity\r\n      const nameSimilarity = this.calculateSimilarity(\r\n        contactData.name?.toLowerCase() || '', \r\n        contact.name?.toLowerCase() || ''\r\n      );\r\n      if (nameSimilarity > 0.8) {\r\n        score += nameSimilarity * 0.4;\r\n        reasons.push(`Name similarity: ${Math.round(nameSimilarity * 100)}%`);\r\n      }\r\n      \r\n      // Email matches\r\n      const emails1 = contactData.emails?.map(e => e.value.toLowerCase()) || [];\r\n      const emails2 = contact.emails?.map(e => e.value.toLowerCase()) || [];\r\n      if (contactData.email) emails1.push(contactData.email.toLowerCase());\r\n      if (contact.email) emails2.push(contact.email.toLowerCase());\r\n      \r\n      const emailMatches = emails1.filter(e1 => emails2.includes(e1));\r\n      if (emailMatches.length > 0) {\r\n        score += 0.5;\r\n        reasons.push(`Matching emails: ${emailMatches.join(', ')}`);\r\n      }\r\n      \r\n      // Phone matches\r\n      const phones1 = contactData.phones?.map(p => this.normalizePhone(p.value)) || [];\r\n      const phones2 = contact.phones?.map(p => this.normalizePhone(p.value)) || [];\r\n      if (contactData.phone) phones1.push(this.normalizePhone(contactData.phone));\r\n      if (contact.phone) phones2.push(this.normalizePhone(contact.phone));\r\n      \r\n      const phoneMatches = phones1.filter(p1 => phones2.includes(p1));\r\n      if (phoneMatches.length > 0) {\r\n        score += 0.4;\r\n        reasons.push(`Matching phones: ${phoneMatches.length} match(es)`);\r\n      }\r\n      \r\n      return {\r\n        contact,\r\n        score,\r\n        reasons,\r\n        isDuplicate: score >= threshold\r\n      };\r\n    }).filter(result => result.score >= threshold);\r\n    \r\n    return potentialDuplicates.sort((a, b) => b.score - a.score);\r\n  }\r\n\r\n  // Calculate string similarity using Levenshtein distance\r\n  calculateSimilarity(str1, str2) {\r\n    if (!str1 || !str2) return 0;\r\n    if (str1 === str2) return 1;\r\n    \r\n    const longer = str1.length > str2.length ? str1 : str2;\r\n    const shorter = str1.length > str2.length ? str2 : str1;\r\n    \r\n    if (longer.length === 0) return 1;\r\n    \r\n    const editDistance = this.levenshteinDistance(longer, shorter);\r\n    return (longer.length - editDistance) / longer.length;\r\n  }\r\n\r\n  // Levenshtein distance algorithm\r\n  levenshteinDistance(str1, str2) {\r\n    const matrix = [];\r\n    \r\n    for (let i = 0; i <= str2.length; i++) {\r\n      matrix[i] = [i];\r\n    }\r\n    \r\n    for (let j = 0; j <= str1.length; j++) {\r\n      matrix[0][j] = j;\r\n    }\r\n    \r\n    for (let i = 1; i <= str2.length; i++) {\r\n      for (let j = 1; j <= str1.length; j++) {\r\n        if (str2.charAt(i - 1) === str1.charAt(j - 1)) {\r\n          matrix[i][j] = matrix[i - 1][j - 1];\r\n        } else {\r\n          matrix[i][j] = Math.min(\r\n            matrix[i - 1][j - 1] + 1,\r\n            matrix[i][j - 1] + 1,\r\n            matrix[i - 1][j] + 1\r\n          );\r\n        }\r\n      }\r\n    }\r\n    \r\n    return matrix[str2.length][str1.length];\r\n  }\r\n\r\n  // Create new contact\r\n  async createContact(contactData) {\r\n    await this.ensureReady();\r\n\r\n    // Check for duplicates before creating\r\n    const duplicates = await this.findDuplicates(contactData);\r\n    if (duplicates.length > 0) {\r\n      throw new Error(`Duplicate contact found: ${duplicates[0].name} (${duplicates[0].email || duplicates[0].phone})`);\r\n    }\r\n\r\n    const contact = {\r\n      id: `contact_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n      ...contactData,\r\n      createdAt: new Date().toISOString(),\r\n      updatedAt: new Date().toISOString(),\r\n      contactCount: 0,\r\n      isFavorite: contactData.isFavorite || false,\r\n      lastContacted: null\r\n    };\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db.transaction([STORE_NAME], 'readwrite');\r\n      const store = transaction.objectStore(STORE_NAME);\r\n      const request = store.add(contact);\r\n\r\n      request.onsuccess = () => {\r\n        console.log('✅ Contact created:', contact.name);\r\n        resolve(contact);\r\n      };\r\n\r\n      request.onerror = () => {\r\n        console.error('Failed to create contact');\r\n        reject(request.error);\r\n      };\r\n    });\r\n  }\r\n\r\n  // Update existing contact\r\n  async updateContact(contactId, updateData) {\r\n    await this.ensureReady();\r\n\r\n    // Check for duplicates before updating (excluding current contact)\r\n    const duplicates = await this.findDuplicates(updateData, contactId);\r\n    if (duplicates.length > 0) {\r\n      throw new Error(`Duplicate contact found: ${duplicates[0].name} (${duplicates[0].email || duplicates[0].phone})`);\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db.transaction([STORE_NAME], 'readwrite');\r\n      const store = transaction.objectStore(STORE_NAME);\r\n      const getRequest = store.get(contactId);\r\n\r\n      getRequest.onsuccess = () => {\r\n        const existingContact = getRequest.result;\r\n        if (!existingContact) {\r\n          reject(new Error('Contact not found'));\r\n          return;\r\n        }\r\n\r\n        const updatedContact = {\r\n          ...existingContact,\r\n          ...updateData,\r\n          updatedAt: new Date().toISOString()\r\n        };\r\n\r\n        const putRequest = store.put(updatedContact);\r\n        \r\n        putRequest.onsuccess = () => {\r\n          console.log('✅ Contact updated:', updatedContact.name);\r\n          resolve(updatedContact);\r\n        };\r\n\r\n        putRequest.onerror = () => {\r\n          reject(putRequest.error);\r\n        };\r\n      };\r\n\r\n      getRequest.onerror = () => {\r\n        reject(getRequest.error);\r\n      };\r\n    });\r\n  }\r\n\r\n  // Merge two contacts\r\n  async mergeContacts(primaryContactId, secondaryContactId, mergeStrategy = 'primary') {\r\n    await this.ensureReady();\r\n\r\n    const { contacts } = await this.getAllContacts();\r\n    const primaryContact = contacts.find(c => c.id === primaryContactId);\r\n    const secondaryContact = contacts.find(c => c.id === secondaryContactId);\r\n\r\n    if (!primaryContact || !secondaryContact) {\r\n      throw new Error('One or both contacts not found');\r\n    }\r\n\r\n    let mergedContact;\r\n\r\n    switch (mergeStrategy) {\r\n      case 'primary':\r\n        // Keep primary contact, add missing fields from secondary\r\n        mergedContact = this.mergePrimaryStrategy(primaryContact, secondaryContact);\r\n        break;\r\n      case 'secondary':\r\n        // Keep secondary contact, add missing fields from primary\r\n        mergedContact = this.mergePrimaryStrategy(secondaryContact, primaryContact);\r\n        break;\r\n      case 'newest':\r\n        // Keep the newer contact\r\n        const newerContact = new Date(primaryContact.createdAt) > new Date(secondaryContact.createdAt) \r\n          ? primaryContact : secondaryContact;\r\n        const olderContact = newerContact === primaryContact ? secondaryContact : primaryContact;\r\n        mergedContact = this.mergePrimaryStrategy(newerContact, olderContact);\r\n        break;\r\n      case 'mostComplete':\r\n        // Keep the contact with more complete information\r\n        const primaryScore = this.calculateCompletenessScore(primaryContact);\r\n        const secondaryScore = this.calculateCompletenessScore(secondaryContact);\r\n        const moreComplete = primaryScore >= secondaryScore ? primaryContact : secondaryContact;\r\n        const lessComplete = moreComplete === primaryContact ? secondaryContact : primaryContact;\r\n        mergedContact = this.mergePrimaryStrategy(moreComplete, lessComplete);\r\n        break;\r\n      default:\r\n        mergedContact = this.mergePrimaryStrategy(primaryContact, secondaryContact);\r\n    }\r\n\r\n    // Update the primary contact with merged data\r\n    await this.updateContact(primaryContactId, mergedContact);\r\n    \r\n    // Delete the secondary contact\r\n    await this.deleteContact(secondaryContactId);\r\n\r\n    console.log('🔗 Contacts merged successfully');\r\n    return mergedContact;\r\n  }\r\n\r\n  // Merge strategy: keep primary, add missing from secondary\r\n  mergePrimaryStrategy(primary, secondary) {\r\n    const merged = { ...primary };\r\n\r\n    // Merge emails\r\n    const primaryEmails = primary.emails || [];\r\n    const secondaryEmails = secondary.emails || [];\r\n    const allEmails = [...primaryEmails];\r\n    \r\n    secondaryEmails.forEach(secEmail => {\r\n      if (!primaryEmails.some(primEmail => \r\n        primEmail.value.toLowerCase() === secEmail.value.toLowerCase())) {\r\n        allEmails.push(secEmail);\r\n      }\r\n    });\r\n    merged.emails = allEmails;\r\n\r\n    // Merge phones\r\n    const primaryPhones = primary.phones || [];\r\n    const secondaryPhones = secondary.phones || [];\r\n    const allPhones = [...primaryPhones];\r\n    \r\n    secondaryPhones.forEach(secPhone => {\r\n      if (!primaryPhones.some(primPhone => \r\n        this.normalizePhone(primPhone.value) === this.normalizePhone(secPhone.value))) {\r\n        allPhones.push(secPhone);\r\n      }\r\n    });\r\n    merged.phones = allPhones;\r\n\r\n    // Merge tags\r\n    const primaryTags = primary.tags || [];\r\n    const secondaryTags = secondary.tags || [];\r\n    merged.tags = [...new Set([...primaryTags, ...secondaryTags])];\r\n\r\n    // Merge social links\r\n    merged.socialLinks = {\r\n      ...secondary.socialLinks,\r\n      ...primary.socialLinks // Primary takes precedence\r\n    };\r\n\r\n    // Fill in missing fields from secondary\r\n    Object.keys(secondary).forEach(key => {\r\n      if (!merged[key] && secondary[key] && \r\n          !['id', 'createdAt', 'updatedAt', 'emails', 'phones', 'tags', 'socialLinks'].includes(key)) {\r\n        merged[key] = secondary[key];\r\n      }\r\n    });\r\n\r\n    // Merge contact analytics\r\n    merged.contactCount = (primary.contactCount || 0) + (secondary.contactCount || 0);\r\n    merged.isFavorite = primary.isFavorite || secondary.isFavorite;\r\n    \r\n    // Keep the most recent contact date\r\n    if (secondary.lastContacted && (!primary.lastContacted || \r\n        new Date(secondary.lastContacted) > new Date(primary.lastContacted))) {\r\n      merged.lastContacted = secondary.lastContacted;\r\n    }\r\n\r\n    merged.updatedAt = new Date().toISOString();\r\n    return merged;\r\n  }\r\n\r\n  // Calculate completeness score for merge strategy\r\n  calculateCompletenessScore(contact) {\r\n    let score = 0;\r\n    \r\n    if (contact.name) score += 10;\r\n    if (contact.emails && contact.emails.length > 0) score += 8;\r\n    if (contact.phones && contact.phones.length > 0) score += 8;\r\n    if (contact.company) score += 5;\r\n    if (contact.jobTitle) score += 3;\r\n    if (contact.location) score += 3;\r\n    if (contact.website) score += 2;\r\n    if (contact.avatar) score += 5;\r\n    if (contact.birthdate) score += 3;\r\n    if (contact.notes) score += 2;\r\n    if (contact.socialLinks && Object.values(contact.socialLinks).some(link => link)) score += 4;\r\n    if (contact.tags && contact.tags.length > 0) score += 2;\r\n    \r\n    return score;\r\n  }\r\n\r\n  // Delete contact\r\n  async deleteContact(contactId) {\r\n    await this.ensureReady();\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db.transaction([STORE_NAME], 'readwrite');\r\n      const store = transaction.objectStore(STORE_NAME);\r\n      const request = store.delete(contactId);\r\n\r\n      request.onsuccess = () => {\r\n        console.log('🗑️ Contact deleted:', contactId);\r\n        resolve();\r\n      };\r\n\r\n      request.onerror = () => {\r\n        console.error('Failed to delete contact');\r\n        reject(request.error);\r\n      };\r\n    });\r\n  }\r\n\r\n  // Toggle favorite status\r\n  async toggleFavorite(contactId) {\r\n    await this.ensureReady();\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db.transaction([STORE_NAME], 'readwrite');\r\n      const store = transaction.objectStore(STORE_NAME);\r\n      const getRequest = store.get(contactId);\r\n\r\n      getRequest.onsuccess = () => {\r\n        const contact = getRequest.result;\r\n        if (!contact) {\r\n          reject(new Error('Contact not found'));\r\n          return;\r\n        }\r\n\r\n        contact.isFavorite = !contact.isFavorite;\r\n        contact.updatedAt = new Date().toISOString();\r\n\r\n        const putRequest = store.put(contact);\r\n        \r\n        putRequest.onsuccess = () => {\r\n          console.log('⭐ Favorite toggled:', contact.name, contact.isFavorite);\r\n          resolve(contact);\r\n        };\r\n\r\n        putRequest.onerror = () => {\r\n          reject(putRequest.error);\r\n        };\r\n      };\r\n\r\n      getRequest.onerror = () => {\r\n        reject(getRequest.error);\r\n      };\r\n    });\r\n  }\r\n\r\n  // Import contacts from device\r\n  async importContacts(deviceContacts) {\r\n    await this.ensureReady();\r\n\r\n    let importedCount = 0;\r\n    const errors = [];\r\n\r\n    for (const deviceContact of deviceContacts) {\r\n      try {\r\n        const contact = this.parseDeviceContact(deviceContact);\r\n        await this.createContact(contact);\r\n        importedCount++;\r\n      } catch (error) {\r\n        console.error('Failed to import contact:', error);\r\n        errors.push(error.message);\r\n      }\r\n    }\r\n\r\n    return {\r\n      count: importedCount,\r\n      errors: errors,\r\n      total: deviceContacts.length\r\n    };\r\n  }\r\n\r\n  // Parse device contact format\r\n  parseDeviceContact(deviceContact) {\r\n    return {\r\n      name: deviceContact.name?.[0] || 'Unknown Contact',\r\n      email: deviceContact.email?.[0] || '',\r\n      phone: deviceContact.tel?.[0] || '',\r\n      category: 'other',\r\n      tags: ['imported'],\r\n      notes: 'Imported from device contacts'\r\n    };\r\n  }\r\n\r\n  // Export contacts to CSV\r\n  async exportContacts() {\r\n    const { contacts } = await this.getAllContacts();\r\n\r\n    const csvHeaders = [\r\n      'Name', 'Email', 'Phone', 'Company', 'Job Title', \r\n      'Category', 'Location', 'Website', 'Notes', 'Tags'\r\n    ];\r\n\r\n    const csvRows = contacts.map(contact => [\r\n      contact.name || '',\r\n      contact.email || '',\r\n      contact.phone || '',\r\n      contact.company || '',\r\n      contact.jobTitle || '',\r\n      contact.category || '',\r\n      contact.location || '',\r\n      contact.website || '',\r\n      contact.notes || '',\r\n      (contact.tags || []).join('; ')\r\n    ]);\r\n\r\n    const csvContent = [\r\n      csvHeaders.join(','),\r\n      ...csvRows.map(row => \r\n        row.map(field => `\"${String(field).replace(/\"/g, '\"\"')}\"`).join(',')\r\n      )\r\n    ].join('\\n');\r\n\r\n    return {\r\n      csv: csvContent,\r\n      count: contacts.length,\r\n      filename: `contacts_${new Date().toISOString().split('T')[0]}.csv`\r\n    };\r\n  }\r\n\r\n  // Update contact interaction count\r\n  async recordContactInteraction(contactId, interactionType = 'message') {\r\n    await this.ensureReady();\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db.transaction([STORE_NAME], 'readwrite');\r\n      const store = transaction.objectStore(STORE_NAME);\r\n      const getRequest = store.get(contactId);\r\n\r\n      getRequest.onsuccess = () => {\r\n        const contact = getRequest.result;\r\n        if (!contact) {\r\n          reject(new Error('Contact not found'));\r\n          return;\r\n        }\r\n\r\n        contact.contactCount = (contact.contactCount || 0) + 1;\r\n        contact.lastContacted = new Date().toISOString();\r\n        contact.lastInteractionType = interactionType;\r\n        contact.updatedAt = new Date().toISOString();\r\n\r\n        const putRequest = store.put(contact);\r\n        \r\n        putRequest.onsuccess = () => {\r\n          console.log('📊 Contact interaction recorded:', contact.name);\r\n          resolve(contact);\r\n        };\r\n\r\n        putRequest.onerror = () => {\r\n          reject(putRequest.error);\r\n        };\r\n      };\r\n\r\n      getRequest.onerror = () => {\r\n        reject(getRequest.error);\r\n      };\r\n    });\r\n  }\r\n\r\n  // Search contacts\r\n  async searchContacts(query, limit = 10) {\r\n    const { contacts } = await this.getAllContacts();\r\n    const searchTerm = query.toLowerCase();\r\n\r\n    const results = contacts\r\n      .filter(contact => \r\n        contact.name?.toLowerCase().includes(searchTerm) ||\r\n        contact.email?.toLowerCase().includes(searchTerm) ||\r\n        contact.phone?.includes(searchTerm) ||\r\n        contact.company?.toLowerCase().includes(searchTerm) ||\r\n        (contact.tags || []).some(tag => tag.toLowerCase().includes(searchTerm))\r\n      )\r\n      .slice(0, limit);\r\n\r\n    return results;\r\n  }\r\n\r\n  // Get recent contacts\r\n  async getRecentContacts(limit = 5) {\r\n    const { contacts } = await this.getAllContacts();\r\n    \r\n    return contacts\r\n      .filter(contact => contact.lastContacted)\r\n      .sort((a, b) => new Date(b.lastContacted) - new Date(a.lastContacted))\r\n      .slice(0, limit);\r\n  }\r\n\r\n  // Get frequent contacts\r\n  async getFrequentContacts(limit = 5) {\r\n    const { contacts } = await this.getAllContacts();\r\n    \r\n    return contacts\r\n      .filter(contact => (contact.contactCount || 0) > 0)\r\n      .sort((a, b) => (b.contactCount || 0) - (a.contactCount || 0))\r\n      .slice(0, limit);\r\n  }\r\n\r\n  // Update contact interaction analytics\r\n  async updateContactInteraction(contactId, interactionType) {\r\n    try {\r\n      const db = await this.getDatabase();\r\n      const tx = db.transaction(['contacts'], 'readwrite');\r\n      const store = tx.objectStore('contacts');\r\n      \r\n      const contact = await new Promise((resolve, reject) => {\r\n        const req = store.get(contactId);\r\n        req.onsuccess = () => resolve(req.result);\r\n        req.onerror = () => reject(req.error);\r\n      });\r\n      \r\n      if (contact) {\r\n        // Initialize analytics if not exists\r\n        if (!contact.analytics) {\r\n          contact.analytics = {\r\n            totalInteractions: 0,\r\n            lastInteraction: null,\r\n            interactions: [],\r\n            frequencyScore: 0,\r\n            chatCount: 0,\r\n            callCount: 0,\r\n            lastChatDate: null,\r\n            lastCallDate: null\r\n          };\r\n        }\r\n        \r\n        const now = new Date();\r\n        \r\n        // Update interaction counts\r\n        contact.analytics.totalInteractions++;\r\n        contact.analytics.lastInteraction = now.toISOString();\r\n        \r\n        // Track specific interaction types\r\n        if (interactionType === 'chat_started') {\r\n          contact.analytics.chatCount++;\r\n          contact.analytics.lastChatDate = now.toISOString();\r\n        } else if (interactionType === 'call_made') {\r\n          contact.analytics.callCount++;\r\n          contact.analytics.lastCallDate = now.toISOString();\r\n        }\r\n        \r\n        // Add to interactions history (keep last 50)\r\n        contact.analytics.interactions.unshift({\r\n          type: interactionType,\r\n          timestamp: now.toISOString(),\r\n          id: Date.now()\r\n        });\r\n        \r\n        if (contact.analytics.interactions.length > 50) {\r\n          contact.analytics.interactions = contact.analytics.interactions.slice(0, 50);\r\n        }\r\n        \r\n        // Calculate frequency score (interactions in last 30 days)\r\n        const thirtyDaysAgo = new Date(now.getTime() - (30 * 24 * 60 * 60 * 1000));\r\n        const recentInteractions = contact.analytics.interactions.filter(\r\n          interaction => new Date(interaction.timestamp) >= thirtyDaysAgo\r\n        );\r\n        contact.analytics.frequencyScore = recentInteractions.length;\r\n        \r\n        // Update last modified\r\n        contact.lastModified = now.toISOString();\r\n        \r\n        // Save updated contact\r\n        await new Promise((resolve, reject) => {\r\n          const updateReq = store.put(contact);\r\n          updateReq.onsuccess = () => resolve();\r\n          updateReq.onerror = () => reject(updateReq.error);\r\n        });\r\n        \r\n        await tx.complete;\r\n        console.log(`Updated analytics for contact ${contactId}:`, contact.analytics);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating contact interaction:', error);\r\n    }\r\n  }\r\n\r\n  // Get contact analytics summary\r\n  async getContactAnalytics() {\r\n    try {\r\n      const contacts = await this.getAllContacts();\r\n      const now = new Date();\r\n      const sevenDaysAgo = new Date(now.getTime() - (7 * 24 * 60 * 60 * 1000));\r\n      const thirtyDaysAgo = new Date(now.getTime() - (30 * 24 * 60 * 60 * 1000));\r\n      \r\n      // Calculate analytics\r\n      const analytics = {\r\n        totalContacts: contacts.length,\r\n        recentlyAdded: contacts.filter(c => new Date(c.dateAdded) >= sevenDaysAgo).length,\r\n        frequentlyContacted: contacts\r\n          .filter(c => c.analytics?.frequencyScore > 3)\r\n          .sort((a, b) => (b.analytics?.frequencyScore || 0) - (a.analytics?.frequencyScore || 0))\r\n          .slice(0, 10),\r\n        recentlyContacted: contacts\r\n          .filter(c => c.analytics?.lastInteraction && new Date(c.analytics.lastInteraction) >= sevenDaysAgo)\r\n          .sort((a, b) => new Date(b.analytics?.lastInteraction || 0) - new Date(a.analytics?.lastInteraction || 0))\r\n          .slice(0, 10),\r\n        mostCalled: contacts\r\n          .filter(c => c.analytics?.callCount > 0)\r\n          .sort((a, b) => (b.analytics?.callCount || 0) - (a.analytics?.callCount || 0))\r\n          .slice(0, 5),\r\n        mostChatted: contacts\r\n          .filter(c => c.analytics?.chatCount > 0)\r\n          .sort((a, b) => (b.analytics?.chatCount || 0) - (a.analytics?.chatCount || 0))\r\n          .slice(0, 5),\r\n        interactionStats: {\r\n          totalChats: contacts.reduce((sum, c) => sum + (c.analytics?.chatCount || 0), 0),\r\n          totalCalls: contacts.reduce((sum, c) => sum + (c.analytics?.callCount || 0), 0),\r\n          totalInteractions: contacts.reduce((sum, c) => sum + (c.analytics?.totalInteractions || 0), 0),\r\n          activeInLastWeek: contacts.filter(c => \r\n            c.analytics?.lastInteraction && new Date(c.analytics.lastInteraction) >= sevenDaysAgo\r\n          ).length,\r\n          activeInLastMonth: contacts.filter(c => \r\n            c.analytics?.lastInteraction && new Date(c.analytics.lastInteraction) >= thirtyDaysAgo\r\n          ).length\r\n        },\r\n        categoryBreakdown: {\r\n          work: contacts.filter(c => c.category === 'work' || c.company).length,\r\n          family: contacts.filter(c => c.category === 'family').length,\r\n          friends: contacts.filter(c => c.category === 'friends').length,\r\n          other: contacts.filter(c => !c.category || (c.category !== 'work' && c.category !== 'family' && c.category !== 'friends')).length\r\n        }\r\n      };\r\n      \r\n      return analytics;\r\n    } catch (error) {\r\n      console.error('Error getting contact analytics:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Seed minimal demo contacts for testing (memory optimized)\r\n  async seedDemoContacts() {\r\n    const demoContacts = [\r\n      {\r\n        name: 'Alice Johnson',\r\n        email: 'alice@example.com',\r\n        phone: '+1 (555) 123-4567',\r\n        category: 'work',\r\n        isFavorite: true,\r\n        tags: ['work']\r\n      },\r\n      {\r\n        name: 'Bob Smith', \r\n        email: 'bob@example.com',\r\n        phone: '+1 (555) 234-5678',\r\n        category: 'friends',\r\n        isFavorite: false,\r\n        contactCount: 8,\r\n        tags: ['designer', 'creative'],\r\n        socialLinks: {\r\n          instagram: '@bobsmith_design'\r\n        }\r\n      },\r\n      {\r\n        name: 'Charlie Brown',\r\n        email: 'charlie@personal.com',\r\n        phone: '+1 (555) 345-6789',\r\n        category: 'friends',\r\n        location: 'Los Angeles, CA',\r\n        isFavorite: true,\r\n        contactCount: 22,\r\n        lastContacted: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\r\n        tags: ['college', 'close friend'],\r\n        notes: 'Met in college, great friend!'\r\n      },\r\n      {\r\n        name: 'Diana Prince',\r\n        email: 'diana.prince@law.com',\r\n        phone: '+1 (555) 456-7890',\r\n        company: 'Prince & Associates',\r\n        jobTitle: 'Attorney',\r\n        category: 'business',\r\n        location: 'Washington, DC',\r\n        website: 'https://princelaw.com',\r\n        isFavorite: false,\r\n        contactCount: 3,\r\n        tags: ['lawyer', 'professional']\r\n      },\r\n      {\r\n        name: 'Emma Wilson',\r\n        email: 'emma@family.com',\r\n        phone: '+1 (555) 567-8901',\r\n        category: 'family',\r\n        location: 'Chicago, IL',\r\n        isFavorite: true,\r\n        contactCount: 45,\r\n        lastContacted: new Date(Date.now() - 12 * 60 * 60 * 1000).toISOString(),\r\n        tags: ['sister', 'family'],\r\n        notes: 'My amazing sister!'\r\n      }\r\n    ];\r\n\r\n    // Clear existing demo data to save memory\r\n    try {\r\n      const existingContacts = await this.getAllContacts();\r\n      if (existingContacts.length > 0) {\r\n        console.log('⚡ Skipping demo data - contacts already exist');\r\n        return;\r\n      }\r\n    } catch (error) {\r\n      console.log('⚡ Proceeding with demo data seeding');\r\n    }\r\n\r\n    for (const contact of demoContacts) {\r\n      await this.createContact(contact);\r\n    }\r\n\r\n    console.log(`🌱 ${demoContacts.length} minimal demo contacts seeded`);\r\n  }\r\n\r\n  // Sync with backend API (future feature)\r\n  async syncWithBackend() {\r\n    try {\r\n      // This would sync local contacts with the backend\r\n      // Implementation depends on backend API structure\r\n      console.log('🔄 Backend sync not implemented yet');\r\n    } catch (error) {\r\n      console.error('Failed to sync with backend:', error);\r\n    }\r\n  }\r\n\r\n  // Clear all contacts (for testing)\r\n  async clearAllContacts() {\r\n    await this.ensureReady();\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db.transaction([STORE_NAME], 'readwrite');\r\n      const store = transaction.objectStore(STORE_NAME);\r\n      const request = store.clear();\r\n\r\n      request.onsuccess = () => {\r\n        console.log('🗑️ All contacts cleared');\r\n        resolve();\r\n      };\r\n\r\n      request.onerror = () => {\r\n        reject(request.error);\r\n      };\r\n    });\r\n  }\r\n\r\n  // Get contact statistics with duplicate detection\r\n  async getContactStatistics() {\r\n    const { contacts } = await this.getAllContacts();\r\n    const stats = this.calculateContactStats(contacts);\r\n    \r\n    // Find all potential duplicates\r\n    const allDuplicates = [];\r\n    for (let i = 0; i < contacts.length; i++) {\r\n      const contact = contacts[i];\r\n      const duplicates = await this.findDuplicates(contact, contact.id);\r\n      if (duplicates.length > 0) {\r\n        allDuplicates.push({\r\n          contact,\r\n          duplicates\r\n        });\r\n      }\r\n    }\r\n    \r\n    return {\r\n      ...stats,\r\n      duplicates: {\r\n        count: allDuplicates.length,\r\n        contacts: allDuplicates\r\n      }\r\n    };\r\n  }\r\n\r\n  // Batch cleanup duplicates\r\n  async cleanupDuplicates(strategy = 'mostComplete') {\r\n    const { contacts } = await this.getAllContacts();\r\n    const processed = new Set();\r\n    const cleanupResults = {\r\n      merged: 0,\r\n      deleted: 0,\r\n      errors: []\r\n    };\r\n\r\n    for (const contact of contacts) {\r\n      if (processed.has(contact.id)) continue;\r\n      \r\n      try {\r\n        const duplicates = await this.findDuplicates(contact, contact.id);\r\n        if (duplicates.length > 0) {\r\n          for (const duplicate of duplicates) {\r\n            if (!processed.has(duplicate.id)) {\r\n              await this.mergeContacts(contact.id, duplicate.id, strategy);\r\n              processed.add(duplicate.id);\r\n              cleanupResults.merged++;\r\n            }\r\n          }\r\n        }\r\n        processed.add(contact.id);\r\n      } catch (error) {\r\n        cleanupResults.errors.push({\r\n          contactId: contact.id,\r\n          contactName: contact.name,\r\n          error: error.message\r\n        });\r\n      }\r\n    }\r\n\r\n    console.log(`🧹 Duplicate cleanup completed: ${cleanupResults.merged} merged, ${cleanupResults.errors.length} errors`);\r\n    return cleanupResults;\r\n  }\r\n}\r\n\r\n// Create global instance\r\nconst contactService = new ContactService();\r\n\r\nexport { contactService };","import React, { useState, useEffect, useMemo } from 'react';\r\nimport './HelpModal.css';\r\n\r\n// Move helpSections outside component to prevent recreation on every render\r\nconst helpSections = [\r\n  {\r\n    id: 'getting-started',\r\n    title: 'Getting Started',\r\n    icon: '🚀',\r\n    content: [\r\n      {\r\n        question: 'How do I start using Quibish?',\r\n        answer: 'Welcome to Quibish! To get started, simply log in with your credentials. If you\\'re new, you can create an account by clicking the Sign Up button.',\r\n        tags: ['login', 'account', 'demo']\r\n      },\r\n      {\r\n        question: 'How do I create a new conversation?',\r\n        answer: 'Click the \"New Chat\" button in the sidebar, then select a user from the list or create a group conversation. You can also click on any user in the contacts list to start chatting.',\r\n        tags: ['chat', 'conversation', 'new']\r\n      },\r\n      {\r\n        question: 'How do I navigate the interface?',\r\n        answer: 'The main interface consists of three parts: the sidebar (conversations list), the chat area (messages), and the user panel. You can collapse the sidebar by clicking the menu button.',\r\n        tags: ['interface', 'navigation', 'sidebar']\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 'messaging',\r\n    title: 'Messaging',\r\n    icon: '💬',\r\n    content: [\r\n      {\r\n        question: 'How do I send a message?',\r\n        answer: 'Type your message in the input field at the bottom and press Enter or click the send button. You can also use Shift+Enter for line breaks.',\r\n        tags: ['send', 'message', 'text']\r\n      },\r\n      {\r\n        question: 'Can I send emojis and GIFs?',\r\n        answer: 'Yes! Click the emoji button (😊) to open the emoji picker, or click the GIF button to search and send GIFs. You can also type emojis directly using your keyboard.',\r\n        tags: ['emoji', 'gif', 'media']\r\n      },\r\n      {\r\n        question: 'How do I share files and images?',\r\n        answer: 'Click the attachment button (📎) to upload files, or the image button (📷) for photos. You can drag and drop files directly into the chat area. Supported formats include images, videos, and documents.',\r\n        tags: ['files', 'images', 'upload', 'attachment']\r\n      },\r\n      {\r\n        question: 'Can I edit or delete messages?',\r\n        answer: 'Hover over your message and click the three dots menu to edit or delete. You can edit messages within a certain time frame after sending.',\r\n        tags: ['edit', 'delete', 'message']\r\n      },\r\n      {\r\n        question: 'How do message reactions work?',\r\n        answer: 'Hover over any message and click the emoji reaction button, or double-click a message to quickly add a heart reaction. You can see who reacted by hovering over the reaction.',\r\n        tags: ['reactions', 'emoji', 'like']\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 'profile',\r\n    title: 'Profile & Settings',\r\n    icon: '👤',\r\n    content: [\r\n      {\r\n        question: 'How do I update my profile?',\r\n        answer: 'Click on your profile picture or name in the sidebar, then select \"Edit Profile\". You can update your name, bio, avatar, and other personal information.',\r\n        tags: ['profile', 'edit', 'avatar', 'settings']\r\n      },\r\n      {\r\n        question: 'How do I change my avatar?',\r\n        answer: 'In the profile edit modal, click on your current avatar or the camera icon to upload a new profile picture. Supported formats are JPG, PNG, and GIF up to 5MB.',\r\n        tags: ['avatar', 'profile', 'picture', 'upload']\r\n      },\r\n      {\r\n        question: 'How do I enable dark mode?',\r\n        answer: 'Click the settings gear icon in the sidebar and toggle the \"Dark Mode\" option. The interface will switch between light and dark themes.',\r\n        tags: ['dark mode', 'theme', 'settings']\r\n      },\r\n      {\r\n        question: 'What are the privacy settings?',\r\n        answer: 'In Settings, you can control who can message you, see your online status, and view your profile information. You can also manage blocked users and notification preferences.',\r\n        tags: ['privacy', 'settings', 'blocked', 'notifications']\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 'features',\r\n    title: 'Advanced Features',\r\n    icon: '⭐',\r\n    content: [\r\n      {\r\n        question: 'How does video calling work?',\r\n        answer: 'Click the video call button in a conversation to start a video call. Make sure you have camera and microphone permissions enabled in your browser.',\r\n        tags: ['video', 'call', 'camera', 'microphone']\r\n      },\r\n      {\r\n        question: 'Can I search through my messages?',\r\n        answer: 'Yes! Use the search bar in the sidebar to find conversations, or use the in-chat search to find specific messages within a conversation.',\r\n        tags: ['search', 'find', 'messages']\r\n      },\r\n      {\r\n        question: 'What are smart previews?',\r\n        answer: 'When you share links, Quibish automatically generates previews showing the page title, description, and thumbnail image for a richer sharing experience.',\r\n        tags: ['links', 'preview', 'smart', 'sharing']\r\n      },\r\n      {\r\n        question: 'How do I use keyboard shortcuts?',\r\n        answer: 'Press Ctrl+K (Cmd+K on Mac) to quickly search conversations, Escape to close modals, and Enter to send messages. Many more shortcuts are available throughout the interface.',\r\n        tags: ['shortcuts', 'keyboard', 'hotkeys']\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 'troubleshooting',\r\n    title: 'Troubleshooting',\r\n    icon: '🔧',\r\n    content: [\r\n      {\r\n        question: 'Messages are not sending',\r\n        answer: 'Check your internet connection first. If the problem persists, try refreshing the page. Make sure your browser supports modern web standards and has JavaScript enabled.',\r\n        tags: ['sending', 'connection', 'error']\r\n      },\r\n      {\r\n        question: 'I can\\'t see new messages',\r\n        answer: 'Try refreshing the page or check your internet connection. If you\\'re in a group chat, make sure you haven\\'t been removed from the conversation.',\r\n        tags: ['receiving', 'messages', 'refresh']\r\n      },\r\n      {\r\n        question: 'Video calls are not working',\r\n        answer: 'Ensure your browser has permission to access your camera and microphone. Try using a different browser or check if other participants can hear/see you.',\r\n        tags: ['video', 'call', 'permissions', 'browser']\r\n      },\r\n      {\r\n        question: 'The app is running slowly',\r\n        answer: 'Clear your browser cache and cookies. Close other browser tabs and applications. If you have many conversations, try archiving old ones to improve performance.',\r\n        tags: ['slow', 'performance', 'cache']\r\n      },\r\n      {\r\n        question: 'I forgot my password',\r\n        answer: 'Use the \"Forgot Password\" link on the login page to reset your password. You\\'ll receive an email with instructions to create a new password.',\r\n        tags: ['password', 'reset', 'forgot', 'login']\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 'shortcuts',\r\n    title: 'Keyboard Shortcuts',\r\n    icon: '⌨️',\r\n    content: [\r\n      {\r\n        question: 'Navigation Shortcuts',\r\n        answer: 'Ctrl/Cmd + K: Quick search conversations\\nEscape: Close modals and dialogs\\nCtrl/Cmd + N: New conversation\\nCtrl/Cmd + ,: Open settings',\r\n        tags: ['navigation', 'keyboard', 'shortcuts']\r\n      },\r\n      {\r\n        question: 'Messaging Shortcuts',\r\n        answer: 'Enter: Send message\\nShift + Enter: New line\\nCtrl/Cmd + E: Insert emoji\\nCtrl/Cmd + U: Upload file\\nUp Arrow: Edit last message',\r\n        tags: ['messaging', 'keyboard', 'shortcuts']\r\n      },\r\n      {\r\n        question: 'General Shortcuts',\r\n        answer: 'Ctrl/Cmd + F: Search in current conversation\\nCtrl/Cmd + R: Refresh\\nF11: Toggle fullscreen\\nCtrl/Cmd + +/-: Zoom in/out',\r\n        tags: ['general', 'keyboard', 'shortcuts']\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nconst HelpModal = ({ isOpen, onClose }) => {\r\n  const [activeSection, setActiveSection] = useState('getting-started');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  // Prevent body scroll when modal is open\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  // Use useMemo for search functionality to prevent infinite re-renders\r\n  const filteredContent = useMemo(() => {\r\n    if (searchQuery.trim() === '') {\r\n      return [];\r\n    }\r\n\r\n    const query = searchQuery.toLowerCase();\r\n    const results = [];\r\n\r\n    helpSections.forEach(section => {\r\n      section.content.forEach(item => {\r\n        const matchesQuestion = item.question.toLowerCase().includes(query);\r\n        const matchesAnswer = item.answer.toLowerCase().includes(query);\r\n        const matchesTags = item.tags.some(tag => tag.toLowerCase().includes(query));\r\n\r\n        if (matchesQuestion || matchesAnswer || matchesTags) {\r\n          results.push({\r\n            ...item,\r\n            section: section.title,\r\n            sectionId: section.id,\r\n            sectionIcon: section.icon\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n    return results;\r\n  }, [searchQuery]);\r\n\r\n  const handleSectionClick = (sectionId) => {\r\n    setActiveSection(sectionId);\r\n    setSearchQuery('');\r\n  };\r\n\r\n  const handleSearchResultClick = (sectionId) => {\r\n    setActiveSection(sectionId);\r\n    setSearchQuery('');\r\n  };\r\n\r\n  const highlightText = (text, query) => {\r\n    if (!query) return text;\r\n    \r\n    const regex = new RegExp(`(${query})`, 'gi');\r\n    const parts = text.split(regex);\r\n    \r\n    return parts.map((part, index) => \r\n      regex.test(part) ? \r\n        <mark key={index} className=\"search-highlight\">{part}</mark> : \r\n        part\r\n    );\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"help-modal-backdrop\" onClick={(e) => e.target === e.currentTarget && onClose()}>\r\n      <div className=\"help-modal\">\r\n        <div className=\"help-modal-header\">\r\n          <h2>Help & Support</h2>\r\n          <button className=\"help-close-btn\" onClick={onClose}>×</button>\r\n        </div>\r\n\r\n        <div className=\"help-modal-content\">\r\n          {/* Search Bar */}\r\n          <div className=\"help-search-section\">\r\n            <div className=\"help-search-bar\">\r\n              <span className=\"help-search-icon\">🔍</span>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search for help topics...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"help-search-input\"\r\n              />\r\n              {searchQuery && (\r\n                <button \r\n                  className=\"help-search-clear\"\r\n                  onClick={() => setSearchQuery('')}\r\n                >\r\n                  ×\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {/* Search Results */}\r\n            {searchQuery && (\r\n              <div className=\"help-search-results\">\r\n                <h4>Search Results ({filteredContent.length})</h4>\r\n                {filteredContent.length > 0 ? (\r\n                  <div className=\"help-search-items\">\r\n                    {filteredContent.map((item, index) => (\r\n                      <div \r\n                        key={index} \r\n                        className=\"help-search-item\"\r\n                        onClick={() => handleSearchResultClick(item.sectionId)}\r\n                      >\r\n                        <div className=\"help-search-item-header\">\r\n                          <span className=\"help-search-section-badge\">\r\n                            {item.sectionIcon} {item.section}\r\n                          </span>\r\n                        </div>\r\n                        <h5>{highlightText(item.question, searchQuery)}</h5>\r\n                        <p>{highlightText(item.answer.substring(0, 150), searchQuery)}...</p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"help-no-results\">\r\n                    <p>No results found for \"{searchQuery}\"</p>\r\n                    <p>Try different keywords or browse the sections below.</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"help-main-content\">\r\n            {/* Sidebar Navigation */}\r\n            <div className=\"help-sidebar\">\r\n              <div className=\"help-sections\">\r\n                {helpSections.map(section => (\r\n                  <button\r\n                    key={section.id}\r\n                    className={`help-section-btn ${activeSection === section.id ? 'active' : ''}`}\r\n                    onClick={() => handleSectionClick(section.id)}\r\n                  >\r\n                    <span className=\"help-section-icon\">{section.icon}</span>\r\n                    <span className=\"help-section-title\">{section.title}</span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"help-quick-actions\">\r\n                <h4>Quick Actions</h4>\r\n                <button className=\"help-action-btn\" onClick={() => window.open('mailto:support@quibish.com')}>\r\n                  📧 Contact Support\r\n                </button>\r\n                <button className=\"help-action-btn\" onClick={() => setActiveSection('troubleshooting')}>\r\n                  🔧 Troubleshooting\r\n                </button>\r\n                <button className=\"help-action-btn\" onClick={() => setActiveSection('shortcuts')}>\r\n                  ⌨️ Keyboard Shortcuts\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content Area */}\r\n            <div className=\"help-content-area\">\r\n              {!searchQuery && (\r\n                <>\r\n                  {(() => {\r\n                    const currentSection = helpSections.find(s => s.id === activeSection);\r\n                    return (\r\n                      <div className=\"help-section-content\">\r\n                        <div className=\"help-section-header\">\r\n                          <h3>\r\n                            <span className=\"help-section-icon-large\">{currentSection.icon}</span>\r\n                            {currentSection.title}\r\n                          </h3>\r\n                        </div>\r\n\r\n                        <div className=\"help-items\">\r\n                          {currentSection.content.map((item, index) => (\r\n                            <div key={index} className=\"help-item\">\r\n                              <h4 className=\"help-question\">{item.question}</h4>\r\n                              <div className=\"help-answer\">\r\n                                {item.answer.split('\\n').map((line, lineIndex) => (\r\n                                  <p key={lineIndex}>{line}</p>\r\n                                ))}\r\n                              </div>\r\n                              {item.tags && (\r\n                                <div className=\"help-tags\">\r\n                                  {item.tags.map(tag => (\r\n                                    <span key={tag} className=\"help-tag\">#{tag}</span>\r\n                                  ))}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })()}\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"help-modal-footer\">\r\n          <div className=\"help-footer-content\">\r\n            <div className=\"help-footer-section\">\r\n              <h4>Still need help?</h4>\r\n              <p>Contact our support team at <a href=\"mailto:support@quibish.com\">support@quibish.com</a></p>\r\n            </div>\r\n            <div className=\"help-footer-section\">\r\n              <h4>Version Info</h4>\r\n              <p>Quibish v1.0.0 • Last updated: September 2025</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HelpModal;","import React, { useState, useEffect } from 'react';\r\nimport './InstallPrompt.css';\r\n\r\nconst InstallPrompt = () => {\r\n  const [showPrompt, setShowPrompt] = useState(false);\r\n  const [deferredPrompt, setDeferredPrompt] = useState(null);\r\n  const [isInstalled, setIsInstalled] = useState(false);\r\n  const [capabilities, setCapabilities] = useState({});\r\n\r\n  useEffect(() => {\r\n    // Check if already installed\r\n    const checkInstalled = () => {\r\n      const installed = window.matchMedia('(display-mode: standalone)').matches ||\r\n                       window.navigator.standalone === true;\r\n      setIsInstalled(installed);\r\n      return installed;\r\n    };\r\n\r\n    // Get PWA capabilities\r\n    const getCapabilities = () => {\r\n      return {\r\n        serviceWorker: 'serviceWorker' in navigator,\r\n        pushNotifications: 'PushManager' in window,\r\n        fileSystemAccess: 'showOpenFilePicker' in window,\r\n        shareTarget: 'share' in navigator,\r\n        shortcuts: 'shortcuts' in navigator,\r\n        badging: 'setAppBadge' in navigator,\r\n        webShare: 'share' in navigator,\r\n        contactPicker: 'contacts' in navigator\r\n      };\r\n    };\r\n\r\n    setCapabilities(getCapabilities());\r\n\r\n    if (checkInstalled()) {\r\n      return;\r\n    }\r\n\r\n    // Listen for install prompt\r\n    const handleBeforeInstallPrompt = (e) => {\r\n      e.preventDefault();\r\n      setDeferredPrompt(e);\r\n      \r\n      // Show prompt after a delay (don't be too aggressive)\r\n      setTimeout(() => {\r\n        const hasSeenPrompt = localStorage.getItem('quibish-install-prompt-shown');\r\n        const lastShown = localStorage.getItem('quibish-install-prompt-last-shown');\r\n        const oneDayAgo = Date.now() - (24 * 60 * 60 * 1000);\r\n        \r\n        if (!hasSeenPrompt || (lastShown && parseInt(lastShown) < oneDayAgo)) {\r\n          setShowPrompt(true);\r\n        }\r\n      }, 5000);\r\n    };\r\n\r\n    // Listen for successful installation\r\n    const handleAppInstalled = () => {\r\n      setIsInstalled(true);\r\n      setShowPrompt(false);\r\n      setDeferredPrompt(null);\r\n      localStorage.setItem('quibish-installed', 'true');\r\n      console.log('📱 Quibish PWA was installed');\r\n    };\r\n\r\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n    window.addEventListener('appinstalled', handleAppInstalled);\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\r\n      window.removeEventListener('appinstalled', handleAppInstalled);\r\n    };\r\n  }, []);\r\n\r\n  const handleInstall = async () => {\r\n    if (!deferredPrompt) return;\r\n\r\n    try {\r\n      deferredPrompt.prompt();\r\n      const { outcome } = await deferredPrompt.userChoice;\r\n      \r\n      localStorage.setItem('quibish-install-prompt-shown', 'true');\r\n      localStorage.setItem('quibish-install-prompt-last-shown', Date.now().toString());\r\n      \r\n      if (outcome === 'accepted') {\r\n        console.log('📱 User accepted the install prompt');\r\n        setShowPrompt(false);\r\n      } else {\r\n        console.log('📱 User dismissed the install prompt');\r\n        setShowPrompt(false);\r\n      }\r\n      \r\n      setDeferredPrompt(null);\r\n    } catch (error) {\r\n      console.error('❌ Failed to install PWA:', error);\r\n    }\r\n  };\r\n\r\n  const handleDismiss = () => {\r\n    setShowPrompt(false);\r\n    localStorage.setItem('quibish-install-prompt-shown', 'true');\r\n    localStorage.setItem('quibish-install-prompt-last-shown', Date.now().toString());\r\n  };\r\n\r\n  const handleNotNow = () => {\r\n    setShowPrompt(false);\r\n    // Don't mark as permanently shown, allow showing again later\r\n    localStorage.setItem('quibish-install-prompt-last-shown', Date.now().toString());\r\n  };\r\n\r\n  if (isInstalled || !showPrompt || !deferredPrompt) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"install-prompt-overlay\">\r\n      <div className=\"install-prompt\">\r\n        <div className=\"install-prompt-header\">\r\n          <div className=\"install-prompt-icon\">\r\n            <img src=\"/logo192.png\" alt=\"Quibish\" className=\"install-app-icon\" />\r\n          </div>\r\n          <button \r\n            className=\"install-prompt-close\" \r\n            onClick={handleDismiss}\r\n            aria-label=\"Close\"\r\n          >\r\n            ×\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"install-prompt-content\">\r\n          <h3>Install Quibish</h3>\r\n          <p>Get the full experience with our app! Install Quibish for:</p>\r\n          \r\n          <div className=\"install-features\">\r\n            <div className=\"install-feature\">\r\n              <span className=\"install-feature-icon\">🚀</span>\r\n              <span>Faster loading and better performance</span>\r\n            </div>\r\n            <div className=\"install-feature\">\r\n              <span className=\"install-feature-icon\">📱</span>\r\n              <span>Easy access from your home screen</span>\r\n            </div>\r\n            <div className=\"install-feature\">\r\n              <span className=\"install-feature-icon\">🔔</span>\r\n              <span>Push notifications for new messages</span>\r\n            </div>\r\n            <div className=\"install-feature\">\r\n              <span className=\"install-feature-icon\">📂</span>\r\n              <span>Share files directly to Quibish</span>\r\n            </div>\r\n            {capabilities.shortcuts && (\r\n              <div className=\"install-feature\">\r\n                <span className=\"install-feature-icon\">⚡</span>\r\n                <span>Quick actions and shortcuts</span>\r\n              </div>\r\n            )}\r\n            <div className=\"install-feature\">\r\n              <span className=\"install-feature-icon\">💫</span>\r\n              <span>Works offline with your cached chats</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"install-prompt-actions\">\r\n          <button \r\n            className=\"install-btn-secondary\" \r\n            onClick={handleNotNow}\r\n          >\r\n            Not Now\r\n          </button>\r\n          <button \r\n            className=\"install-btn-primary\" \r\n            onClick={handleInstall}\r\n          >\r\n            Install App\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"install-prompt-footer\">\r\n          <small>Free • No ads • Secure</small>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InstallPrompt;","/**\r\n * PSTN Call Service\r\n * Enables calling real phone numbers worldwide through Twilio Voice API\r\n */\r\n\r\nimport enhancedVoiceCallService from './enhancedVoiceCallService';\r\n\r\nclass PSTokenCallService {\r\n  constructor() {\r\n    this.activeCall = null;\r\n    this.callHistory = [];\r\n    this.isInitialized = false;\r\n    \r\n    // Country codes for international calling\r\n    this.countryCodes = {\r\n      'US': { code: '+1', name: 'United States', format: '(XXX) XXX-XXXX' },\r\n      'CA': { code: '+1', name: 'Canada', format: '(XXX) XXX-XXXX' },\r\n      'GB': { code: '+44', name: 'United Kingdom', format: 'XXXX XXX XXXX' },\r\n      'DE': { code: '+49', name: 'Germany', format: 'XXX XXXXXXXX' },\r\n      'FR': { code: '+33', name: 'France', format: 'X XX XX XX XX' },\r\n      'IT': { code: '+39', name: 'Italy', format: 'XXX XXX XXXX' },\r\n      'ES': { code: '+34', name: 'Spain', format: 'XXX XX XX XX' },\r\n      'AU': { code: '+61', name: 'Australia', format: 'XXX XXX XXX' },\r\n      'JP': { code: '+81', name: 'Japan', format: 'XX-XXXX-XXXX' },\r\n      'CN': { code: '+86', name: 'China', format: 'XXX XXXX XXXX' },\r\n      'IN': { code: '+91', name: 'India', format: 'XXXXX XXXXX' },\r\n      'BR': { code: '+55', name: 'Brazil', format: '(XX) XXXXX-XXXX' },\r\n      'MX': { code: '+52', name: 'Mexico', format: 'XXX XXX XXXX' },\r\n      'RU': { code: '+7', name: 'Russia', format: 'XXX XXX-XX-XX' },\r\n      'KR': { code: '+82', name: 'South Korea', format: 'XX-XXXX-XXXX' },\r\n      'ZA': { code: '+27', name: 'South Africa', format: 'XX XXX XXXX' },\r\n      'EG': { code: '+20', name: 'Egypt', format: 'XX XXXX XXXX' },\r\n      'NG': { code: '+234', name: 'Nigeria', format: 'XXX XXX XXXX' },\r\n      'KE': { code: '+254', name: 'Kenya', format: 'XXX XXXXXX' },\r\n      'AE': { code: '+971', name: 'UAE', format: 'XX XXX XXXX' },\r\n      'SA': { code: '+966', name: 'Saudi Arabia', format: 'XX XXX XXXX' },\r\n      'TR': { code: '+90', name: 'Turkey', format: 'XXX XXX XX XX' },\r\n      'PL': { code: '+48', name: 'Poland', format: 'XXX XXX XXX' },\r\n      'NL': { code: '+31', name: 'Netherlands', format: 'X XXXX XXXX' },\r\n      'SE': { code: '+46', name: 'Sweden', format: 'XXX XXX XX XX' },\r\n      'NO': { code: '+47', name: 'Norway', format: 'XXX XX XXX' },\r\n      'DK': { code: '+45', name: 'Denmark', format: 'XX XX XX XX' },\r\n      'FI': { code: '+358', name: 'Finland', format: 'XX XXX XXXX' },\r\n      'CH': { code: '+41', name: 'Switzerland', format: 'XX XXX XX XX' },\r\n      'AT': { code: '+43', name: 'Austria', format: 'XXX XXXXXXX' },\r\n      'BE': { code: '+32', name: 'Belgium', format: 'XXX XX XX XX' },\r\n      'IE': { code: '+353', name: 'Ireland', format: 'XX XXX XXXX' },\r\n      'PT': { code: '+351', name: 'Portugal', format: 'XXX XXX XXX' },\r\n      'GR': { code: '+30', name: 'Greece', format: 'XXX XXX XXXX' },\r\n      'CZ': { code: '+420', name: 'Czech Republic', format: 'XXX XXX XXX' },\r\n      'HU': { code: '+36', name: 'Hungary', format: 'XX XXX XXXX' },\r\n      'RO': { code: '+40', name: 'Romania', format: 'XXX XXX XXXX' },\r\n      'BG': { code: '+359', name: 'Bulgaria', format: 'XX XXX XXXX' },\r\n      'HR': { code: '+385', name: 'Croatia', format: 'XX XXX XXXX' },\r\n      'SI': { code: '+386', name: 'Slovenia', format: 'XX XXX XXX' },\r\n      'SK': { code: '+421', name: 'Slovakia', format: 'XXX XXX XXX' },\r\n      'LT': { code: '+370', name: 'Lithuania', format: 'XXX XXXXX' },\r\n      'LV': { code: '+371', name: 'Latvia', format: 'XXXX XXXX' },\r\n      'EE': { code: '+372', name: 'Estonia', format: 'XXXX XXXX' },\r\n      'IS': { code: '+354', name: 'Iceland', format: 'XXX XXXX' },\r\n      'LU': { code: '+352', name: 'Luxembourg', format: 'XXX XXX XXX' },\r\n      'MT': { code: '+356', name: 'Malta', format: 'XXXX XXXX' },\r\n      'CY': { code: '+357', name: 'Cyprus', format: 'XX XXXXXX' },\r\n      'IL': { code: '+972', name: 'Israel', format: 'XX-XXX-XXXX' },\r\n      'LB': { code: '+961', name: 'Lebanon', format: 'XX XXX XXX' },\r\n      'JO': { code: '+962', name: 'Jordan', format: 'X XXXX XXXX' },\r\n      'SY': { code: '+963', name: 'Syria', format: 'XXX XXX XXX' },\r\n      'IQ': { code: '+964', name: 'Iraq', format: 'XXX XXX XXXX' },\r\n      'KW': { code: '+965', name: 'Kuwait', format: 'XXXX XXXX' },\r\n      'BH': { code: '+973', name: 'Bahrain', format: 'XXXX XXXX' },\r\n      'QA': { code: '+974', name: 'Qatar', format: 'XXXX XXXX' },\r\n      'OM': { code: '+968', name: 'Oman', format: 'XXXX XXXX' },\r\n      'YE': { code: '+967', name: 'Yemen', format: 'XXX XXX XXX' },\r\n      'AF': { code: '+93', name: 'Afghanistan', format: 'XX XXX XXXX' },\r\n      'PK': { code: '+92', name: 'Pakistan', format: 'XXX XXXXXXX' },\r\n      'BD': { code: '+880', name: 'Bangladesh', format: 'XXXX-XXXXXX' },\r\n      'LK': { code: '+94', name: 'Sri Lanka', format: 'XX XXX XXXX' },\r\n      'NP': { code: '+977', name: 'Nepal', format: 'XXX-XXX-XXXX' },\r\n      'BT': { code: '+975', name: 'Bhutan', format: 'X XXX XXX' },\r\n      'MV': { code: '+960', name: 'Maldives', format: 'XXX-XXXX' },\r\n      'MM': { code: '+95', name: 'Myanmar', format: 'XX XXX XXXX' },\r\n      'TH': { code: '+66', name: 'Thailand', format: 'XX XXX XXXX' },\r\n      'VN': { code: '+84', name: 'Vietnam', format: 'XXX XXX XXXX' },\r\n      'LA': { code: '+856', name: 'Laos', format: 'XX XXX XXX' },\r\n      'KH': { code: '+855', name: 'Cambodia', format: 'XXX XXX XXX' },\r\n      'MY': { code: '+60', name: 'Malaysia', format: 'XX-XXXX XXXX' },\r\n      'SG': { code: '+65', name: 'Singapore', format: 'XXXX XXXX' },\r\n      'ID': { code: '+62', name: 'Indonesia', format: 'XXX-XXXX-XXXX' },\r\n      'PH': { code: '+63', name: 'Philippines', format: 'XXX XXX XXXX' },\r\n      'TW': { code: '+886', name: 'Taiwan', format: 'XXXX XXXXXX' },\r\n      'HK': { code: '+852', name: 'Hong Kong', format: 'XXXX XXXX' },\r\n      'MO': { code: '+853', name: 'Macau', format: 'XXXX XXXX' },\r\n      'MN': { code: '+976', name: 'Mongolia', format: 'XXXX XXXX' },\r\n      'KZ': { code: '+7', name: 'Kazakhstan', format: 'XXX XXX XX XX' },\r\n      'UZ': { code: '+998', name: 'Uzbekistan', format: 'XX XXX XX XX' },\r\n      'TM': { code: '+993', name: 'Turkmenistan', format: 'XX XXXXXX' },\r\n      'TJ': { code: '+992', name: 'Tajikistan', format: 'XXX XX XX XX' },\r\n      'KG': { code: '+996', name: 'Kyrgyzstan', format: 'XXX XXXXXX' },\r\n      'GE': { code: '+995', name: 'Georgia', format: 'XXX XXX XXX' },\r\n      'AM': { code: '+374', name: 'Armenia', format: 'XX XXXXXX' },\r\n      'AZ': { code: '+994', name: 'Azerbaijan', format: 'XX XXX XX XX' },\r\n      'BY': { code: '+375', name: 'Belarus', format: 'XX XXX-XX-XX' },\r\n      'UA': { code: '+380', name: 'Ukraine', format: 'XX XXX XX XX' },\r\n      'MD': { code: '+373', name: 'Moldova', format: 'XXXX XXXX' },\r\n      'RU': { code: '+7', name: 'Russia', format: 'XXX XXX-XX-XX' }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Initialize PSTN calling service\r\n   */\r\n  async initialize() {\r\n    if (this.isInitialized) return;\r\n\r\n    try {\r\n      // In a real implementation, this would:\r\n      // 1. Initialize Twilio Device\r\n      // 2. Get access token from backend\r\n      // 3. Set up event handlers\r\n      \r\n      console.log('📞 Initializing PSTN calling service...');\r\n      \r\n      // Simulate Twilio Device initialization\r\n      this.twilioDevice = {\r\n        ready: true,\r\n        canCall: true,\r\n        connectionQuality: 'excellent'\r\n      };\r\n      \r\n      this.isInitialized = true;\r\n      console.log('✅ PSTN calling service initialized');\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('❌ Failed to initialize PSTN calling service:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate and format international phone number\r\n   */\r\n  validateInternationalNumber(phoneNumber, countryCode = 'US') {\r\n    if (!phoneNumber) return { valid: false, error: 'No phone number provided' };\r\n\r\n    // Remove all non-digit characters\r\n    let cleanNumber = phoneNumber.replace(/\\D/g, '');\r\n    \r\n    // Get country info\r\n    const countryInfo = this.countryCodes[countryCode.toUpperCase()];\r\n    if (!countryInfo) {\r\n      return { valid: false, error: 'Unsupported country code' };\r\n    }\r\n\r\n    // Check if number already has country code\r\n    const expectedCode = countryInfo.code.replace('+', '');\r\n    if (cleanNumber.startsWith(expectedCode)) {\r\n      // Number already has country code\r\n      cleanNumber = cleanNumber;\r\n    } else {\r\n      // Add country code\r\n      cleanNumber = expectedCode + cleanNumber;\r\n    }\r\n\r\n    // Validate length (international numbers are typically 7-15 digits)\r\n    if (cleanNumber.length < 7 || cleanNumber.length > 15) {\r\n      return { \r\n        valid: false, \r\n        error: `Invalid number length for ${countryInfo.name}` \r\n      };\r\n    }\r\n\r\n    return {\r\n      valid: true,\r\n      originalNumber: phoneNumber,\r\n      cleanNumber: cleanNumber,\r\n      formattedNumber: '+' + cleanNumber,\r\n      displayNumber: this.formatNumberForDisplay(cleanNumber, countryCode),\r\n      country: countryInfo.name,\r\n      countryCode: countryInfo.code\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Format number for display based on country\r\n   */\r\n  formatNumberForDisplay(cleanNumber, countryCode) {\r\n    const countryInfo = this.countryCodes[countryCode.toUpperCase()];\r\n    if (!countryInfo) return '+' + cleanNumber;\r\n\r\n    const countryDigits = countryInfo.code.replace('+', '');\r\n    const localNumber = cleanNumber.startsWith(countryDigits) \r\n      ? cleanNumber.substring(countryDigits.length) \r\n      : cleanNumber;\r\n\r\n    // Apply country-specific formatting\r\n    switch (countryCode.toUpperCase()) {\r\n      case 'US':\r\n      case 'CA':\r\n        if (localNumber.length === 10) {\r\n          return `${countryInfo.code} (${localNumber.substring(0, 3)}) ${localNumber.substring(3, 6)}-${localNumber.substring(6)}`;\r\n        }\r\n        break;\r\n      case 'GB':\r\n        if (localNumber.length >= 10) {\r\n          return `${countryInfo.code} ${localNumber.substring(0, 4)} ${localNumber.substring(4, 7)} ${localNumber.substring(7)}`;\r\n        }\r\n        break;\r\n      case 'DE':\r\n        if (localNumber.length >= 10) {\r\n          return `${countryInfo.code} ${localNumber.substring(0, 3)} ${localNumber.substring(3)}`;\r\n        }\r\n        break;\r\n      case 'FR':\r\n        if (localNumber.length === 9) {\r\n          return `${countryInfo.code} ${localNumber.substring(0, 1)} ${localNumber.substring(1, 3)} ${localNumber.substring(3, 5)} ${localNumber.substring(5, 7)} ${localNumber.substring(7)}`;\r\n        }\r\n        break;\r\n      default:\r\n        return `${countryInfo.code} ${localNumber}`;\r\n    }\r\n\r\n    return '+' + cleanNumber;\r\n  }\r\n\r\n  /**\r\n   * Detect country from phone number\r\n   */\r\n  detectCountryFromNumber(phoneNumber) {\r\n    const cleanNumber = phoneNumber.replace(/\\D/g, '');\r\n    \r\n    // Sort country codes by length (longest first) to match correctly\r\n    const sortedCodes = Object.entries(this.countryCodes)\r\n      .sort((a, b) => b[1].code.length - a[1].code.length);\r\n\r\n    for (const [countryCode, info] of sortedCodes) {\r\n      const code = info.code.replace('+', '');\r\n      if (cleanNumber.startsWith(code)) {\r\n        return {\r\n          country: countryCode,\r\n          name: info.name,\r\n          code: info.code,\r\n          localNumber: cleanNumber.substring(code.length)\r\n        };\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Get calling info for a country - ALL CALLS ARE FREE!\r\n   */\r\n  getCallingInfo(countryCode) {\r\n    // All calls are completely FREE when using this app!\r\n    const countryInfo = this.countryCodes[countryCode.toUpperCase()];\r\n    return {\r\n      perMinute: 'FREE',\r\n      currency: 'N/A',\r\n      connection: 'FREE',\r\n      message: `✨ FREE calling to ${countryInfo?.name || 'this country'} via our app!`,\r\n      isFree: true\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Initiate PSTN call to phone number\r\n   */\r\n  async initiateCall(phoneNumber, options = {}) {\r\n    await this.initialize();\r\n\r\n    const {\r\n      countryCode = 'US',\r\n      recordCall = false,\r\n      enableFallback = true\r\n    } = options;\r\n\r\n    try {\r\n      // Validate phone number\r\n      const validation = this.validateInternationalNumber(phoneNumber, countryCode);\r\n      if (!validation.valid) {\r\n        throw new Error(validation.error);\r\n      }\r\n\r\n      const callId = `pstn_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n      const callInfo = this.getCallingInfo(countryCode);\r\n\r\n      // Create call instance - ALL CALLS ARE FREE!\r\n      const callInstance = {\r\n        callId,\r\n        type: 'pstn',\r\n        targetNumber: validation.formattedNumber,\r\n        displayNumber: validation.displayNumber,\r\n        country: validation.country,\r\n        countryCode: validation.countryCode,\r\n        status: 'initiating',\r\n        startTime: new Date(),\r\n        callInfo,\r\n        cost: 'FREE',\r\n        billing: 'No charges - completely free via app!',\r\n        recordCall,\r\n        enableFallback,\r\n        connectionType: 'pstn',\r\n        enhancedFeatures: {\r\n          pstnCall: true,\r\n          internationalCalling: true,\r\n          callRecording: recordCall,\r\n          qualityMonitoring: true,\r\n          freeCalling: true\r\n        }\r\n      };\r\n\r\n      this.activeCall = callInstance;\r\n\r\n      // In a real implementation, this would:\r\n      // 1. Use Twilio Device to make the call\r\n      // 2. Handle call state changes\r\n      // 3. Monitor call quality\r\n      // 4. Handle recording if enabled\r\n\r\n      console.log(`📞 Initiating FREE PSTN call to ${validation.displayNumber}`);\r\n      console.log(`✨ No charges - this call is completely FREE via our app!`);\r\n      \r\n      // Simulate call progression\r\n      setTimeout(() => {\r\n        if (this.activeCall && this.activeCall.callId === callId) {\r\n          this.activeCall.status = 'ringing';\r\n          this.notifyCallStateChange('ringing');\r\n        }\r\n      }, 1000);\r\n\r\n      setTimeout(() => {\r\n        if (this.activeCall && this.activeCall.callId === callId) {\r\n          // Simulate call answer\r\n          const answered = window.confirm(\r\n            `Calling ${validation.displayNumber}\\n\\nSimulate call answered?`\r\n          );\r\n          \r\n          if (answered) {\r\n            this.activeCall.status = 'connected';\r\n            this.activeCall.connectedTime = new Date();\r\n            this.notifyCallStateChange('connected');\r\n            this.startCallTimer();\r\n          } else {\r\n            this.activeCall.status = 'no-answer';\r\n            this.notifyCallStateChange('no-answer');\r\n            this.endCall();\r\n          }\r\n        }\r\n      }, 3000);\r\n\r\n      return callInstance;\r\n\r\n    } catch (error) {\r\n      console.error('❌ Failed to initiate PSTN call:', error);\r\n      \r\n      if (options.enableFallback) {\r\n        // Fallback to WebRTC or other methods\r\n        console.log('🔄 Attempting fallback to WebRTC...');\r\n        return await enhancedVoiceCallService.initiateEnhancedCall(\r\n          { phone: phoneNumber },\r\n          'webrtc'\r\n        );\r\n      }\r\n      \r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Start call timer and cost calculation\r\n   */\r\n  startCallTimer() {\r\n    if (!this.activeCall) return;\r\n\r\n    this.callTimer = setInterval(() => {\r\n      if (this.activeCall && this.activeCall.status === 'connected') {\r\n        const duration = new Date() - this.activeCall.connectedTime;\r\n        const minutes = duration / (1000 * 60);\r\n        const cost = (minutes * this.activeCall.rates.perMinute) + this.activeCall.rates.connection;\r\n        \r\n        this.activeCall.duration = duration;\r\n        this.activeCall.estimatedCost = cost;\r\n        \r\n        this.notifyCallStateChange('timer-update');\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  /**\r\n   * End current call\r\n   */\r\n  endCall() {\r\n    if (!this.activeCall) return null;\r\n\r\n    const callStats = {\r\n      ...this.activeCall,\r\n      endTime: new Date(),\r\n      finalStatus: this.activeCall.status\r\n    };\r\n\r\n    if (this.activeCall.connectedTime) {\r\n      callStats.totalDuration = new Date() - this.activeCall.connectedTime;\r\n      callStats.finalCost = (callStats.totalDuration / (1000 * 60)) * this.activeCall.rates.perMinute + this.activeCall.rates.connection;\r\n    }\r\n\r\n    // Store in call history\r\n    this.callHistory.push(callStats);\r\n\r\n    // Clean up\r\n    if (this.callTimer) {\r\n      clearInterval(this.callTimer);\r\n      this.callTimer = null;\r\n    }\r\n\r\n    this.activeCall = null;\r\n    this.notifyCallStateChange('ended');\r\n\r\n    console.log('📞 PSTN call ended:', callStats);\r\n    return callStats;\r\n  }\r\n\r\n  /**\r\n   * Get current call status\r\n   */\r\n  getCurrentCall() {\r\n    return this.activeCall;\r\n  }\r\n\r\n  /**\r\n   * Get call history\r\n   */\r\n  getCallHistory() {\r\n    return this.callHistory.slice().reverse(); // Most recent first\r\n  }\r\n\r\n  /**\r\n   * Check if PSTN calling is available\r\n   */\r\n  isAvailable() {\r\n    return this.isInitialized && this.twilioDevice?.ready;\r\n  }\r\n\r\n  /**\r\n   * Get supported countries\r\n   */\r\n  getSupportedCountries() {\r\n    return Object.entries(this.countryCodes).map(([code, info]) => ({\r\n      code,\r\n      name: info.name,\r\n      dialCode: info.code,\r\n      format: info.format\r\n    })).sort((a, b) => a.name.localeCompare(b.name));\r\n  }\r\n\r\n  /**\r\n   * Notify call state changes\r\n   */\r\n  notifyCallStateChange(state) {\r\n    // In a real implementation, this would emit events\r\n    // that the UI components can listen to\r\n    console.log(`📞 Call state changed: ${state}`);\r\n    \r\n    // Custom event for UI updates\r\n    if (typeof window !== 'undefined') {\r\n      window.dispatchEvent(new CustomEvent('pstn-call-state-change', {\r\n        detail: {\r\n          state,\r\n          call: this.activeCall\r\n        }\r\n      }));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Emergency calling support\r\n   */\r\n  canCallEmergency(countryCode) {\r\n    const emergencyNumbers = {\r\n      'US': ['911'],\r\n      'GB': ['999', '112'],\r\n      'DE': ['112', '110'],\r\n      'FR': ['112', '15', '17', '18'],\r\n      'AU': ['000', '112'],\r\n      'CA': ['911'],\r\n      'JP': ['110', '119'],\r\n      'IN': ['100', '101', '102', '108'],\r\n      'CN': ['110', '119', '120']\r\n    };\r\n\r\n    return emergencyNumbers[countryCode.toUpperCase()] || ['112'];\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst pstnCallService = new PSTokenCallService();\r\n\r\nexport default pstnCallService;","/**\r\n * International Dialer Component\r\n * Provides UI for calling any phone number worldwide\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport pstnCallService from '../../services/pstnCallService';\r\nimport './InternationalDialer.css';\r\n\r\nconst InternationalDialer = ({ isOpen, onClose, contact = null, darkMode = false }) => {\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [selectedCountry, setSelectedCountry] = useState('US');\r\n  const [supportedCountries, setSupportedCountries] = useState([]);\r\n  const [validation, setValidation] = useState(null);\r\n  const [isValidating, setIsValidating] = useState(false);\r\n  const [callRates, setCallRates] = useState(null);\r\n  const [currentCall, setCurrentCall] = useState(null);\r\n  const [callHistory, setCallHistory] = useState([]);\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n\r\n  // Initialize component\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      initializeDialer();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Listen for call state changes\r\n  useEffect(() => {\r\n    const handleCallStateChange = (event) => {\r\n      const { state, call } = event.detail;\r\n      \r\n      if (state === 'ended') {\r\n        setCurrentCall(null);\r\n        loadCallHistory();\r\n      } else {\r\n        setCurrentCall(call);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('pstn-call-state-change', handleCallStateChange);\r\n    return () => window.removeEventListener('pstn-call-state-change', handleCallStateChange);\r\n  }, []);\r\n\r\n  // Pre-fill contact phone number\r\n  useEffect(() => {\r\n    if (contact && contact.phone) {\r\n      setPhoneNumber(contact.phone);\r\n      \r\n      // Try to detect country from phone number\r\n      const detectedCountry = pstnCallService.detectCountryFromNumber(contact.phone);\r\n      if (detectedCountry) {\r\n        setSelectedCountry(detectedCountry.country);\r\n      }\r\n    }\r\n  }, [contact]);\r\n\r\n  // Validate phone number when it changes\r\n  useEffect(() => {\r\n    if (phoneNumber) {\r\n      validatePhoneNumber();\r\n    } else {\r\n      setValidation(null);\r\n      setCallRates(null);\r\n    }\r\n  }, [phoneNumber, selectedCountry]);\r\n\r\n  const initializeDialer = async () => {\r\n    try {\r\n      // Initialize PSTN service\r\n      await pstnCallService.initialize();\r\n      \r\n      // Load supported countries\r\n      const countries = pstnCallService.getSupportedCountries();\r\n      setSupportedCountries(countries);\r\n      \r\n      // Load call history\r\n      loadCallHistory();\r\n      \r\n      setIsInitialized(true);\r\n    } catch (error) {\r\n      console.error('Failed to initialize dialer:', error);\r\n    }\r\n  };\r\n\r\n  const validatePhoneNumber = async () => {\r\n    if (!phoneNumber.trim()) {\r\n      setValidation(null);\r\n      return;\r\n    }\r\n\r\n    setIsValidating(true);\r\n    \r\n    try {\r\n      const result = pstnCallService.validateInternationalNumber(phoneNumber, selectedCountry);\r\n      setValidation(result);\r\n      \r\n      if (result.valid) {\r\n        const callInfo = pstnCallService.getCallingInfo(selectedCountry);\r\n        setCallRates(callInfo);\r\n      }\r\n    } catch (error) {\r\n      console.error('Validation error:', error);\r\n      setValidation({ valid: false, error: error.message });\r\n    } finally {\r\n      setIsValidating(false);\r\n    }\r\n  };\r\n\r\n  const loadCallHistory = () => {\r\n    const history = pstnCallService.getCallHistory();\r\n    setCallHistory(history.slice(0, 10)); // Show last 10 calls\r\n  };\r\n\r\n  const handleCall = async () => {\r\n    if (!validation?.valid) return;\r\n\r\n    try {\r\n      const call = await pstnCallService.initiateCall(phoneNumber, {\r\n        countryCode: selectedCountry,\r\n        recordCall: false,\r\n        enableFallback: true\r\n      });\r\n      \r\n      setCurrentCall(call);\r\n    } catch (error) {\r\n      alert(`Failed to start call: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleEndCall = () => {\r\n    pstnCallService.endCall();\r\n  };\r\n\r\n  const formatDuration = (duration) => {\r\n    if (!duration) return '00:00';\r\n    \r\n    const minutes = Math.floor(duration / (1000 * 60));\r\n    const seconds = Math.floor((duration % (1000 * 60)) / 1000);\r\n    \r\n    return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const formatCost = (cost) => {\r\n    if (cost === 'FREE' || !cost) return '✨ FREE';\r\n    if (typeof cost === 'string') return cost;\r\n    return `$${cost.toFixed(4)}`;\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className={`international-dialer-overlay ${darkMode ? 'dark' : ''}`}>\r\n      <div className=\"international-dialer-modal\">\r\n        {/* Header */}\r\n        <div className=\"dialer-header\">\r\n          <div>\r\n            <h2>🌍 International Calling</h2>\r\n            <p className=\"free-calling-subtitle\">✨ All calls are completely FREE via this app!</p>\r\n          </div>\r\n          <button \r\n            className=\"close-btn\"\r\n            onClick={onClose}\r\n            title=\"Close\"\r\n          >\r\n            ✕\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"dialer-content\">\r\n          {!isInitialized ? (\r\n            <div className=\"dialer-loading\">\r\n              <div className=\"loading-spinner\"></div>\r\n              <p>Initializing international calling...</p>\r\n            </div>\r\n          ) : currentCall ? (\r\n            /* Active Call UI */\r\n            <div className=\"active-call\">\r\n              <div className=\"call-info\">\r\n                <h3>📞 Calling {currentCall.displayNumber}</h3>\r\n                <p className=\"call-status\">{currentCall.status}</p>\r\n                <p className=\"call-country\">{currentCall.country}</p>\r\n                \r\n                {currentCall.status === 'connected' && (\r\n                  <div className=\"call-stats\">\r\n                    <div className=\"call-duration\">\r\n                      Duration: {formatDuration(currentCall.duration)}\r\n                    </div>\r\n                    <div className=\"call-cost\">\r\n                      Cost: {formatCost(currentCall.estimatedCost)}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"call-controls\">\r\n                <button \r\n                  className=\"end-call-btn\"\r\n                  onClick={handleEndCall}\r\n                >\r\n                  📞 End Call\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            /* Dialer UI */\r\n            <div className=\"dialer-form\">\r\n              {/* Country Selection */}\r\n              <div className=\"form-group\">\r\n                <label>Country</label>\r\n                <select \r\n                  value={selectedCountry}\r\n                  onChange={(e) => setSelectedCountry(e.target.value)}\r\n                  className=\"country-select\"\r\n                >\r\n                  {supportedCountries.map(country => (\r\n                    <option key={country.code} value={country.code}>\r\n                      {country.dialCode} {country.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Phone Number Input */}\r\n              <div className=\"form-group\">\r\n                <label>Phone Number</label>\r\n                <div className=\"phone-input-group\">\r\n                  <span className=\"country-code\">\r\n                    {supportedCountries.find(c => c.code === selectedCountry)?.dialCode || '+1'}\r\n                  </span>\r\n                  <input\r\n                    type=\"tel\"\r\n                    value={phoneNumber}\r\n                    onChange={(e) => setPhoneNumber(e.target.value)}\r\n                    placeholder=\"Enter phone number\"\r\n                    className=\"phone-input\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Validation */}\r\n              {isValidating && (\r\n                <div className=\"validation-loading\">\r\n                  <div className=\"spinner\"></div>\r\n                  Validating number...\r\n                </div>\r\n              )}\r\n\r\n              {validation && (\r\n                <div className={`validation-result ${validation.valid ? 'valid' : 'invalid'}`}>\r\n                  {validation.valid ? (\r\n                    <div className=\"valid-number\">\r\n                      <div className=\"check-icon\">✅</div>\r\n                      <div className=\"number-info\">\r\n                        <div className=\"formatted-number\">{validation.displayNumber}</div>\r\n                        <div className=\"country-name\">{validation.country}</div>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"invalid-number\">\r\n                      <div className=\"error-icon\">❌</div>\r\n                      <div className=\"error-message\">{validation.error}</div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Free Calling Info */}\r\n              {callRates && validation?.valid && (\r\n                <div className=\"call-rates free-calling\">\r\n                  <h4>✨ Free Calling</h4>\r\n                  <div className=\"rates-info\">\r\n                    <div className=\"rate-item\">\r\n                      <span>Cost per minute:</span>\r\n                      <span className=\"free-badge\">{formatCost(callRates.perMinute)}</span>\r\n                    </div>\r\n                    <div className=\"rate-item\">\r\n                      <span>Connection fee:</span>\r\n                      <span className=\"free-badge\">{formatCost(callRates.connection)}</span>\r\n                    </div>\r\n                    {callRates.message && (\r\n                      <div className=\"free-message\">\r\n                        {callRates.message}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Call Button */}\r\n              <div className=\"call-actions\">\r\n                <button \r\n                  className=\"call-btn free-call\"\r\n                  onClick={handleCall}\r\n                  disabled={!validation?.valid}\r\n                >\r\n                  📞 FREE Call {validation?.displayNumber || 'Number'}\r\n                </button>\r\n              </div>\r\n\r\n              {/* Emergency Notice */}\r\n              <div className=\"emergency-notice\">\r\n                <p>⚠️ For emergencies, use your local emergency number</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Call History (when not in active call) */}\r\n          {!currentCall && callHistory.length > 0 && (\r\n            <div className=\"call-history\">\r\n              <h4>📋 Recent Calls</h4>\r\n              <div className=\"history-list\">\r\n                {callHistory.map((call, index) => (\r\n                  <div key={index} className=\"history-item\">\r\n                    <div className=\"history-info\">\r\n                      <div className=\"history-number\">{call.displayNumber}</div>\r\n                      <div className=\"history-details\">\r\n                        {call.country} • {formatDuration(call.totalDuration)} • ✨ FREE\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"history-time\">\r\n                      {new Date(call.startTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InternationalDialer;","import React, { useState, useRef, useCallback } from 'react';\r\nimport './EditProfileModal.css';\r\n\r\nconst EditProfileModal = ({ userProfile, onClose, onSave }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: userProfile?.name || '',\r\n    displayName: userProfile?.displayName || '',\r\n    bio: userProfile?.bio || '',\r\n    phone: userProfile?.phone || '',\r\n    location: userProfile?.location || '',\r\n    company: userProfile?.company || '',\r\n    jobTitle: userProfile?.jobTitle || '',\r\n    website: userProfile?.website || '',\r\n    statusMessage: userProfile?.statusMessage || '',\r\n    socialLinks: {\r\n      twitter: userProfile?.socialLinks?.twitter || '',\r\n      linkedin: userProfile?.socialLinks?.linkedin || '',\r\n      github: userProfile?.socialLinks?.github || '',\r\n      instagram: userProfile?.socialLinks?.instagram || '',\r\n      facebook: userProfile?.socialLinks?.facebook || '',\r\n      youtube: userProfile?.socialLinks?.youtube || ''\r\n    }\r\n  });\r\n\r\n  const [avatarPreview, setAvatarPreview] = useState(userProfile?.avatar || null);\r\n  const [avatarFile, setAvatarFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const fileInputRef = useRef(null);\r\n\r\n  const handleInputChange = (field, value) => {\r\n    if (field.includes('.')) {\r\n      const [parent, child] = field.split('.');\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [parent]: {\r\n          ...prev[parent],\r\n          [child]: value\r\n        }\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [field]: value\r\n      }));\r\n    }\r\n\r\n    // Clear error when user starts typing\r\n    if (errors[field]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [field]: null\r\n      }));\r\n    }\r\n  };\r\n\r\n  const validateField = (field, value) => {\r\n    const validators = {\r\n      email: (v) => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(v) || !v,\r\n      website: (v) => /^https?:\\/\\/.+\\..+/.test(v) || !v,\r\n      phone: (v) => /^[\\d\\s\\-+()]+$/.test(v) || !v,\r\n      'socialLinks.twitter': (v) => /^@?[\\w]+$/.test(v) || !v,\r\n      'socialLinks.linkedin': (v) => /^[\\w-]+$/.test(v) || !v,\r\n      'socialLinks.github': (v) => /^[\\w-]+$/.test(v) || !v,\r\n      'socialLinks.instagram': (v) => /^@?[\\w.]+$/.test(v) || !v\r\n    };\r\n\r\n    return validators[field] ? validators[field](value) : true;\r\n  };\r\n\r\n  const handleFieldBlur = (field, value) => {\r\n    if (!validateField(field, value)) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [field]: 'Invalid format'\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleAvatarChange = useCallback((file) => {\r\n    if (file && file.type.startsWith('image/')) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setAvatarPreview(e.target.result);\r\n        setAvatarFile(file);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  }, []);\r\n\r\n  const handleDragOver = useCallback((e) => {\r\n    e.preventDefault();\r\n    setIsDragging(true);\r\n  }, []);\r\n\r\n  const handleDragLeave = useCallback((e) => {\r\n    e.preventDefault();\r\n    setIsDragging(false);\r\n  }, []);\r\n\r\n  const handleDrop = useCallback((e) => {\r\n    e.preventDefault();\r\n    setIsDragging(false);\r\n    const files = e.dataTransfer.files;\r\n    if (files.length > 0) {\r\n      handleAvatarChange(files[0]);\r\n    }\r\n  }, [handleAvatarChange]);\r\n\r\n  const handleFileSelect = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      handleAvatarChange(file);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    console.log('🔄 Starting profile save process...');\r\n    console.log('📋 Form data:', formData);\r\n    console.log('👤 User profile:', userProfile);\r\n    \r\n    // Check if we have the minimum required data\r\n    if (!userProfile?.id && !userProfile?.username) {\r\n      console.error('❌ No user ID or username found in userProfile');\r\n      setErrors({ general: 'User information is missing. Please refresh the page and try again.' });\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setErrors({}); // Clear previous errors\r\n\r\n    try {\r\n      // Check authentication first\r\n      let token = localStorage.getItem('token') || localStorage.getItem('authToken') || sessionStorage.getItem('token');\r\n      console.log('🔑 Current token status:', token ? 'Found' : 'Not found');\r\n      \r\n      if (!token) {\r\n        console.log('🔐 No authentication token found, checking for demo mode...');\r\n        // Try to get user data from storage for demo mode\r\n        const userData = localStorage.getItem('user') || sessionStorage.getItem('user');\r\n        if (userData) {\r\n          try {\r\n            const user = JSON.parse(userData);\r\n            if (user.username === 'demo') {\r\n              console.log('✅ User authentication handled');\r\n              token = 'demo-auth-token'; // Use a demo token for testing\r\n            }\r\n          } catch (e) {\r\n            console.log('Could not parse user data:', e);\r\n          }\r\n        }\r\n        \r\n        if (!token) {\r\n          console.log('🔐 No authentication found, attempting login...');\r\n          try {\r\n            const response = await fetch('http://localhost:5001/api/auth/login', {\r\n              method: 'POST',\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n              },\r\n              body: JSON.stringify({\r\n                username: 'demo',\r\n                password: 'demo'\r\n              })\r\n            });\r\n            \r\n            if (response.ok) {\r\n              const authData = await response.json();\r\n              token = authData.token || 'demo-auth-token';\r\n              console.log('✅ Auto-login successful');\r\n            } else {\r\n              throw new Error('Auto-login failed');\r\n            }\r\n          } catch (authError) {\r\n            console.error('❌ Authentication error:', authError);\r\n            setErrors({ general: 'Authentication failed. Please refresh the page and try again.' });\r\n            setLoading(false);\r\n            return;\r\n          }\r\n        }\r\n      } else {\r\n        console.log('✅ Authentication token found, proceeding with update...');\r\n      }\r\n\r\n      // Validate all fields\r\n      const validationErrors = {};\r\n      Object.keys(formData).forEach(key => {\r\n        if (typeof formData[key] === 'object') {\r\n          Object.keys(formData[key]).forEach(subKey => {\r\n            const fieldKey = `${key}.${subKey}`;\r\n            if (!validateField(fieldKey, formData[key][subKey])) {\r\n              validationErrors[fieldKey] = 'Invalid format';\r\n            }\r\n          });\r\n        } else {\r\n          if (!validateField(key, formData[key])) {\r\n            validationErrors[key] = 'Invalid format';\r\n          }\r\n        }\r\n      });\r\n\r\n      if (Object.keys(validationErrors).length > 0) {\r\n        console.log('❌ Validation errors found:', validationErrors);\r\n        setErrors(validationErrors);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      console.log('✅ Validation passed');\r\n\r\n      // Upload avatar if changed\r\n      let avatarUrl = userProfile?.avatar;\r\n      if (avatarFile) {\r\n        try {\r\n          console.log('📸 Uploading avatar...');\r\n          \r\n          // Create FormData for avatar upload\r\n          const formData = new FormData();\r\n          formData.append('avatar', avatarFile);\r\n          \r\n          // Upload to the correct endpoint\r\n          const uploadResponse = await fetch('http://localhost:5001/api/users/avatar', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n            },\r\n            body: formData\r\n          });\r\n          \r\n          if (!uploadResponse.ok) {\r\n            const errorText = await uploadResponse.text();\r\n            console.error('❌ Avatar upload failed:', uploadResponse.status, errorText);\r\n            throw new Error(`Avatar upload failed: ${uploadResponse.status} ${errorText}`);\r\n          }\r\n          \r\n          const uploadResult = await uploadResponse.json();\r\n          if (uploadResult.success) {\r\n            avatarUrl = uploadResult.avatarUrl;\r\n            console.log('✅ Avatar uploaded successfully:', uploadResult);\r\n          } else {\r\n            throw new Error(uploadResult.error || 'Avatar upload failed');\r\n          }\r\n        } catch (uploadError) {\r\n          console.error('❌ Avatar upload failed:', uploadError);\r\n          setErrors({ general: `Avatar upload failed: ${uploadError.message}. Profile will be saved without avatar change.` });\r\n          // Continue with profile update even if avatar upload fails\r\n        }\r\n      }\r\n\r\n      // Update profile data\r\n      const updatedProfile = {\r\n        ...formData,\r\n        avatar: avatarUrl\r\n      };\r\n\r\n      console.log('💾 Updating profile with data:', updatedProfile);\r\n      console.log('🆔 User ID:', userProfile?.id);\r\n\r\n      // Try to update via API first, then fall back to local storage\r\n      try {\r\n        const profileResponse = await fetch(`http://localhost:5001/api/users/profile`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify(updatedProfile)\r\n        });\r\n        \r\n        if (profileResponse.ok) {\r\n          console.log('✅ Profile updated via API');\r\n        } else {\r\n          console.log('⚠️ API update failed, using local storage fallback');\r\n        }\r\n      } catch (apiError) {\r\n        console.log('⚠️ API not available, using local storage:', apiError.message);\r\n      }\r\n      \r\n      // Also update local storage for immediate UI feedback\r\n      const currentUser = JSON.parse(localStorage.getItem('user') || sessionStorage.getItem('user') || '{}');\r\n      const updatedUser = {\r\n        ...currentUser,\r\n        ...updatedProfile\r\n      };\r\n      \r\n      if (localStorage.getItem('user')) {\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      }\r\n      if (sessionStorage.getItem('user')) {\r\n        sessionStorage.setItem('user', JSON.stringify(updatedUser));\r\n      }\r\n      \r\n      console.log('✅ Profile update completed successfully');\r\n      onSave(updatedProfile);\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('❌ Error saving profile:', error);\r\n      console.error('❌ Error details:', error.message, error.stack);\r\n      \r\n      let errorMessage = 'Failed to save profile. Please try again.';\r\n      \r\n      // Provide more specific error messages based on the error type\r\n      if (error.message.includes('Authentication')) {\r\n        errorMessage = 'Authentication failed. Please refresh the page and log in again.';\r\n      } else if (error.message.includes('Network Error') || error.message.includes('fetch')) {\r\n        errorMessage = 'Network error. Please check your connection and ensure the server is running.';\r\n      } else if (error.message.includes('500')) {\r\n        errorMessage = 'Server error. Please try again later.';\r\n      } else if (error.message.includes('400')) {\r\n        errorMessage = 'Invalid profile data. Please check your inputs.';\r\n      } else if (error.message.includes('Avatar upload failed')) {\r\n        errorMessage = error.message; // Use the specific avatar upload error\r\n      }\r\n      \r\n      setErrors({ general: errorMessage });\r\n    } finally {\r\n      setLoading(false);\r\n      console.log('🏁 Profile save process completed');\r\n    }\r\n  };\r\n\r\n  const socialPlatforms = [\r\n    { key: 'twitter', icon: '🐦', label: 'Twitter', placeholder: '@username' },\r\n    { key: 'linkedin', icon: '💼', label: 'LinkedIn', placeholder: 'username' },\r\n    { key: 'github', icon: '🐙', label: 'GitHub', placeholder: 'username' },\r\n    { key: 'instagram', icon: '📷', label: 'Instagram', placeholder: '@username' },\r\n    { key: 'facebook', icon: '👤', label: 'Facebook', placeholder: 'username' },\r\n    { key: 'youtube', icon: '📺', label: 'YouTube', placeholder: 'channel-name' }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"edit-profile-modal-overlay\" onClick={onClose}>\r\n      <div className=\"edit-profile-modal\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"edit-profile-header\">\r\n          <h2>Edit Profile</h2>\r\n          <button className=\"close-btn\" onClick={onClose}>×</button>\r\n        </div>\r\n\r\n        <div className=\"edit-profile-content\">\r\n          {/* Avatar Section */}\r\n          <div className=\"avatar-section\">\r\n            <div \r\n              className={`avatar-upload-area ${isDragging ? 'dragging' : ''}`}\r\n              onDragOver={handleDragOver}\r\n              onDragLeave={handleDragLeave}\r\n              onDrop={handleDrop}\r\n              onClick={() => fileInputRef.current?.click()}\r\n            >\r\n              {avatarPreview ? (\r\n                <img src={avatarPreview} alt=\"Avatar preview\" className=\"avatar-preview\" />\r\n              ) : (\r\n                <div className=\"avatar-placeholder\">\r\n                  <span className=\"avatar-icon\">📷</span>\r\n                  <span>Drop image or click to upload</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <input\r\n              ref={fileInputRef}\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={handleFileSelect}\r\n              style={{ display: 'none' }}\r\n            />\r\n          </div>\r\n\r\n          {/* Basic Info */}\r\n          <div className=\"form-section\">\r\n            <h3>Basic Information</h3>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label>Full Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.name}\r\n                  onChange={(e) => handleInputChange('name', e.target.value)}\r\n                  placeholder=\"Your full name\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Display Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.displayName}\r\n                  onChange={(e) => handleInputChange('displayName', e.target.value)}\r\n                  placeholder=\"How others see you\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Bio</label>\r\n              <textarea\r\n                value={formData.bio}\r\n                onChange={(e) => handleInputChange('bio', e.target.value)}\r\n                placeholder=\"Tell us about yourself...\"\r\n                rows=\"3\"\r\n                maxLength=\"500\"\r\n              />\r\n              <span className=\"char-count\">{formData.bio.length}/500</span>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Status Message</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.statusMessage}\r\n                onChange={(e) => handleInputChange('statusMessage', e.target.value)}\r\n                placeholder=\"What's on your mind?\"\r\n                maxLength=\"100\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Contact Info */}\r\n          <div className=\"form-section\">\r\n            <h3>Contact Information</h3>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label>Phone</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  value={formData.phone}\r\n                  onChange={(e) => handleInputChange('phone', e.target.value)}\r\n                  onBlur={(e) => handleFieldBlur('phone', e.target.value)}\r\n                  placeholder=\"+1 (555) 123-4567\"\r\n                  className={errors.phone ? 'error' : ''}\r\n                />\r\n                {errors.phone && <span className=\"error-text\">{errors.phone}</span>}\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Location</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.location}\r\n                  onChange={(e) => handleInputChange('location', e.target.value)}\r\n                  placeholder=\"City, Country\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Website</label>\r\n              <input\r\n                type=\"url\"\r\n                value={formData.website}\r\n                onChange={(e) => handleInputChange('website', e.target.value)}\r\n                onBlur={(e) => handleFieldBlur('website', e.target.value)}\r\n                placeholder=\"https://yourwebsite.com\"\r\n                className={errors.website ? 'error' : ''}\r\n              />\r\n              {errors.website && <span className=\"error-text\">{errors.website}</span>}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Professional Info */}\r\n          <div className=\"form-section\">\r\n            <h3>Professional Information</h3>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label>Company</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.company}\r\n                  onChange={(e) => handleInputChange('company', e.target.value)}\r\n                  placeholder=\"Your company\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Job Title</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.jobTitle}\r\n                  onChange={(e) => handleInputChange('jobTitle', e.target.value)}\r\n                  placeholder=\"Your role\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Social Links */}\r\n          <div className=\"form-section\">\r\n            <h3>Social Media</h3>\r\n            <div className=\"social-links-grid\">\r\n              {socialPlatforms.map(platform => (\r\n                <div key={platform.key} className=\"form-group social-input\">\r\n                  <label>\r\n                    <span className=\"social-icon\">{platform.icon}</span>\r\n                    {platform.label}\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.socialLinks[platform.key]}\r\n                    onChange={(e) => handleInputChange(`socialLinks.${platform.key}`, e.target.value)}\r\n                    onBlur={(e) => handleFieldBlur(`socialLinks.${platform.key}`, e.target.value)}\r\n                    placeholder={platform.placeholder}\r\n                    className={errors[`socialLinks.${platform.key}`] ? 'error' : ''}\r\n                  />\r\n                  {errors[`socialLinks.${platform.key}`] && \r\n                    <span className=\"error-text\">{errors[`socialLinks.${platform.key}`]}</span>\r\n                  }\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {errors.general && (\r\n            <div className=\"error-message\">\r\n              {errors.general}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"edit-profile-footer\">\r\n          <button className=\"cancel-btn\" onClick={onClose} disabled={loading}>\r\n            Cancel\r\n          </button>\r\n          <button className=\"save-btn\" onClick={handleSave} disabled={loading}>\r\n            {loading ? 'Saving...' : 'Save Changes'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProfileModal;","import React, { useState, useEffect } from 'react';\r\nimport './FeedbackModal.css';\r\n\r\nconst FeedbackModal = ({ isOpen, onClose, onSubmit }) => {\r\n  const [feedbackType, setFeedbackType] = useState('general');\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [rating, setRating] = useState(0);\r\n  const [category, setCategory] = useState('');\r\n  const [priority, setPriority] = useState('medium');\r\n  const [attachments, setAttachments] = useState([]);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  // Reset form when modal opens\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setFeedbackType('general');\r\n      setTitle('');\r\n      setDescription('');\r\n      setEmail('');\r\n      setRating(0);\r\n      setCategory('');\r\n      setPriority('medium');\r\n      setAttachments([]);\r\n      setIsSubmitting(false);\r\n      setShowSuccess(false);\r\n      setErrors({});\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Prevent body scroll when modal is open\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  const feedbackTypes = [\r\n    { value: 'bug', label: 'Bug Report', icon: '🐛', color: '#ff4757' },\r\n    { value: 'feature', label: 'Feature Request', icon: '💡', color: '#3742fa' },\r\n    { value: 'improvement', label: 'Improvement', icon: '⚡', color: '#2ed573' },\r\n    { value: 'general', label: 'General Feedback', icon: '💬', color: '#5352ed' },\r\n    { value: 'question', label: 'Question', icon: '❓', color: '#ff6b35' },\r\n    { value: 'compliment', label: 'Compliment', icon: '🎉', color: '#26de81' }\r\n  ];\r\n\r\n  const categories = {\r\n    bug: ['UI/UX', 'Performance', 'Authentication', 'Messaging', 'Profile', 'Mobile', 'Other'],\r\n    feature: ['Chat Features', 'Profile Features', 'Mobile App', 'Integrations', 'Settings', 'Other'],\r\n    improvement: ['Speed', 'Design', 'Usability', 'Accessibility', 'Mobile Experience', 'Other'],\r\n    general: ['Overall Experience', 'Design', 'Performance', 'Features', 'Support', 'Other'],\r\n    question: ['How to Use', 'Account', 'Features', 'Technical', 'Billing', 'Other'],\r\n    compliment: ['Design', 'Features', 'Performance', 'Support', 'Overall', 'Other']\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    if (!title.trim()) {\r\n      newErrors.title = 'Title is required';\r\n    }\r\n\r\n    if (!description.trim()) {\r\n      newErrors.description = 'Description is required';\r\n    } else if (description.trim().length < 10) {\r\n      newErrors.description = 'Description must be at least 10 characters';\r\n    }\r\n\r\n    if (email && !/\\S+@\\S+\\.\\S+/.test(email)) {\r\n      newErrors.email = 'Please enter a valid email address';\r\n    }\r\n\r\n    if (feedbackType === 'bug' && !category) {\r\n      newErrors.category = 'Please select a category for bug reports';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const feedbackData = {\r\n        type: feedbackType,\r\n        title: title.trim(),\r\n        description: description.trim(),\r\n        email: email.trim(),\r\n        rating,\r\n        category,\r\n        priority,\r\n        attachments,\r\n        timestamp: new Date().toISOString(),\r\n        userAgent: navigator.userAgent,\r\n        url: window.location.href\r\n      };\r\n\r\n      // Simulate API call\r\n      await new Promise(resolve => setTimeout(resolve, 1500));\r\n      \r\n      if (onSubmit) {\r\n        await onSubmit(feedbackData);\r\n      }\r\n\r\n      setShowSuccess(true);\r\n      setTimeout(() => {\r\n        setShowSuccess(false);\r\n        onClose();\r\n      }, 2000);\r\n\r\n    } catch (error) {\r\n      console.error('Failed to submit feedback:', error);\r\n      setErrors({ submit: 'Failed to submit feedback. Please try again.' });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    const validFiles = files.filter(file => {\r\n      const validTypes = ['image/jpeg', 'image/png', 'image/gif', 'text/plain', 'application/pdf'];\r\n      const maxSize = 5 * 1024 * 1024; // 5MB\r\n      return validTypes.includes(file.type) && file.size <= maxSize;\r\n    });\r\n\r\n    setAttachments(prev => [...prev, ...validFiles].slice(0, 3)); // Max 3 files\r\n  };\r\n\r\n  const removeAttachment = (index) => {\r\n    setAttachments(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleRatingClick = (value) => {\r\n    setRating(value);\r\n  };\r\n\r\n  const selectedType = feedbackTypes.find(type => type.value === feedbackType);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"feedback-modal-backdrop\" onClick={(e) => e.target === e.currentTarget && onClose()}>\r\n      <div className=\"feedback-modal\">\r\n        {showSuccess ? (\r\n          <div className=\"feedback-success\">\r\n            <div className=\"success-icon\">✅</div>\r\n            <h3>Thank you for your feedback!</h3>\r\n            <p>We appreciate your input and will review it soon.</p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\"feedback-modal-header\">\r\n              <h2>Share Your Feedback</h2>\r\n              <button className=\"feedback-close-btn\" onClick={onClose}>×</button>\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit} className=\"feedback-form\">\r\n              {/* Feedback Type Selection */}\r\n              <div className=\"feedback-section\">\r\n                <label className=\"feedback-label\">What type of feedback do you have?</label>\r\n                <div className=\"feedback-types\">\r\n                  {feedbackTypes.map(type => (\r\n                    <button\r\n                      key={type.value}\r\n                      type=\"button\"\r\n                      className={`feedback-type-btn ${feedbackType === type.value ? 'active' : ''}`}\r\n                      onClick={() => {\r\n                        setFeedbackType(type.value);\r\n                        setCategory('');\r\n                      }}\r\n                      style={{ '--type-color': type.color }}\r\n                    >\r\n                      <span className=\"feedback-type-icon\">{type.icon}</span>\r\n                      <span className=\"feedback-type-label\">{type.label}</span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Title */}\r\n              <div className=\"feedback-section\">\r\n                <label className=\"feedback-label\">\r\n                  Title <span className=\"required\">*</span>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={title}\r\n                  onChange={(e) => setTitle(e.target.value)}\r\n                  placeholder={`Brief ${selectedType?.label.toLowerCase()} title...`}\r\n                  className={`feedback-input ${errors.title ? 'error' : ''}`}\r\n                  maxLength={100}\r\n                />\r\n                {errors.title && <span className=\"feedback-error\">{errors.title}</span>}\r\n              </div>\r\n\r\n              {/* Category (for certain types) */}\r\n              {categories[feedbackType] && (\r\n                <div className=\"feedback-section\">\r\n                  <label className=\"feedback-label\">\r\n                    Category {feedbackType === 'bug' && <span className=\"required\">*</span>}\r\n                  </label>\r\n                  <select\r\n                    value={category}\r\n                    onChange={(e) => setCategory(e.target.value)}\r\n                    className={`feedback-select ${errors.category ? 'error' : ''}`}\r\n                  >\r\n                    <option value=\"\">Select a category...</option>\r\n                    {categories[feedbackType].map(cat => (\r\n                      <option key={cat} value={cat}>{cat}</option>\r\n                    ))}\r\n                  </select>\r\n                  {errors.category && <span className=\"feedback-error\">{errors.category}</span>}\r\n                </div>\r\n              )}\r\n\r\n              {/* Priority (for bugs and feature requests) */}\r\n              {(feedbackType === 'bug' || feedbackType === 'feature') && (\r\n                <div className=\"feedback-section\">\r\n                  <label className=\"feedback-label\">Priority</label>\r\n                  <div className=\"priority-buttons\">\r\n                    {['low', 'medium', 'high', 'critical'].map(level => (\r\n                      <button\r\n                        key={level}\r\n                        type=\"button\"\r\n                        className={`priority-btn ${priority === level ? 'active' : ''} priority-${level}`}\r\n                        onClick={() => setPriority(level)}\r\n                      >\r\n                        {level.charAt(0).toUpperCase() + level.slice(1)}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Rating (for general feedback and compliments) */}\r\n              {(feedbackType === 'general' || feedbackType === 'compliment') && (\r\n                <div className=\"feedback-section\">\r\n                  <label className=\"feedback-label\">How would you rate your experience?</label>\r\n                  <div className=\"rating-stars\">\r\n                    {[1, 2, 3, 4, 5].map(star => (\r\n                      <button\r\n                        key={star}\r\n                        type=\"button\"\r\n                        className={`star-btn ${star <= rating ? 'active' : ''}`}\r\n                        onClick={() => handleRatingClick(star)}\r\n                      >\r\n                        ⭐\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Description */}\r\n              <div className=\"feedback-section\">\r\n                <label className=\"feedback-label\">\r\n                  Description <span className=\"required\">*</span>\r\n                </label>\r\n                <textarea\r\n                  value={description}\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                  placeholder={`Please provide detailed ${selectedType?.label.toLowerCase()}...`}\r\n                  className={`feedback-textarea ${errors.description ? 'error' : ''}`}\r\n                  rows={5}\r\n                  maxLength={2000}\r\n                />\r\n                <div className=\"char-count\">{description.length}/2000</div>\r\n                {errors.description && <span className=\"feedback-error\">{errors.description}</span>}\r\n              </div>\r\n\r\n              {/* Email (optional) */}\r\n              <div className=\"feedback-section\">\r\n                <label className=\"feedback-label\">Email (optional)</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  placeholder=\"your.email@example.com\"\r\n                  className={`feedback-input ${errors.email ? 'error' : ''}`}\r\n                />\r\n                <div className=\"feedback-hint\">We'll only use this to follow up on your feedback</div>\r\n                {errors.email && <span className=\"feedback-error\">{errors.email}</span>}\r\n              </div>\r\n\r\n              {/* File Attachments */}\r\n              <div className=\"feedback-section\">\r\n                <label className=\"feedback-label\">Attachments (optional)</label>\r\n                <div className=\"file-upload-area\">\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"feedback-files\"\r\n                    multiple\r\n                    accept=\".jpg,.jpeg,.png,.gif,.txt,.pdf\"\r\n                    onChange={handleFileUpload}\r\n                    className=\"file-input-hidden\"\r\n                  />\r\n                  <label htmlFor=\"feedback-files\" className=\"file-upload-btn\">\r\n                    📎 Add Files\r\n                  </label>\r\n                  <div className=\"file-upload-hint\">\r\n                    Images, PDFs, or text files (max 5MB each, 3 files total)\r\n                  </div>\r\n                </div>\r\n                {attachments.length > 0 && (\r\n                  <div className=\"attachment-list\">\r\n                    {attachments.map((file, index) => (\r\n                      <div key={index} className=\"attachment-item\">\r\n                        <span className=\"attachment-name\">{file.name}</span>\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"remove-attachment\"\r\n                          onClick={() => removeAttachment(index)}\r\n                        >\r\n                          ×\r\n                        </button>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Submit Error */}\r\n              {errors.submit && (\r\n                <div className=\"feedback-error submit-error\">{errors.submit}</div>\r\n              )}\r\n\r\n              {/* Form Actions */}\r\n              <div className=\"feedback-actions\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"feedback-btn secondary\"\r\n                  onClick={onClose}\r\n                  disabled={isSubmitting}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"feedback-btn primary\"\r\n                  disabled={isSubmitting}\r\n                  style={{ '--type-color': selectedType?.color }}\r\n                >\r\n                  {isSubmitting ? (\r\n                    <span className=\"submitting\">\r\n                      <div className=\"spinner\"></div>\r\n                      Submitting...\r\n                    </span>\r\n                  ) : (\r\n                    `Submit ${selectedType?.label}`\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FeedbackModal;","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null, V: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.__COMPILER_RUNTIME = {\n  __proto__: null,\n  c: function (size) {\n    return ReactSharedInternals.H.useMemoCache(size);\n  }\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, createDeps, update) {\n  var dispatcher = ReactSharedInternals.H;\n  if (\"function\" === typeof update)\n    throw Error(\n      \"useEffect CRUD overload is not enabled in this build of React.\"\n    );\n  return dispatcher.useEffect(create, createDeps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.1.1\";\n","import React, { useState } from 'react';\r\nimport './PrivacySettings.css';\r\nimport userDataService from '../../services/userDataService';\r\n\r\nconst PrivacySettings = ({ userProfile, onClose, onSave }) => {\r\n  const [privacySettings, setPrivacySettings] = useState({\r\n    profileVisibility: userProfile?.privacy?.profileVisibility || 'public',\r\n    lastSeenVisibility: userProfile?.privacy?.lastSeenVisibility || 'everyone',\r\n    onlineStatusVisibility: userProfile?.privacy?.onlineStatusVisibility || 'everyone',\r\n    phoneVisibility: userProfile?.privacy?.phoneVisibility || 'contacts',\r\n    emailVisibility: userProfile?.privacy?.emailVisibility || 'contacts',\r\n    locationVisibility: userProfile?.privacy?.locationVisibility || 'contacts'\r\n  });\r\n\r\n  const [notifications, setNotifications] = useState({\r\n    email: userProfile?.notifications?.email ?? true,\r\n    push: userProfile?.notifications?.push ?? true,\r\n    desktop: userProfile?.notifications?.desktop ?? true,\r\n    sound: userProfile?.notifications?.sound ?? true,\r\n    mentions: userProfile?.notifications?.mentions ?? true,\r\n    directMessages: userProfile?.notifications?.directMessages ?? true,\r\n    groupMessages: userProfile?.notifications?.groupMessages ?? true,\r\n    marketing: userProfile?.notifications?.marketing ?? false\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const visibilityOptions = [\r\n    { value: 'everyone', label: 'Everyone', icon: '🌍', description: 'Visible to all users' },\r\n    { value: 'contacts', label: 'Contacts Only', icon: '👥', description: 'Only your connections can see this' },\r\n    { value: 'nobody', label: 'Nobody', icon: '🔒', description: 'Keep this information private' }\r\n  ];\r\n\r\n  const profileVisibilityOptions = [\r\n    { value: 'public', label: 'Public', icon: '🌍', description: 'Anyone can view your profile' },\r\n    { value: 'contacts', label: 'Contacts Only', icon: '👥', description: 'Only connections can view your profile' },\r\n    { value: 'private', label: 'Private', icon: '🔒', description: 'Profile is completely private' }\r\n  ];\r\n\r\n  const handlePrivacyChange = (setting, value) => {\r\n    setPrivacySettings(prev => ({\r\n      ...prev,\r\n      [setting]: value\r\n    }));\r\n  };\r\n\r\n  const handleNotificationChange = (setting, value) => {\r\n    setNotifications(prev => ({\r\n      ...prev,\r\n      [setting]: value\r\n    }));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const updatedProfile = {\r\n        privacy: privacySettings,\r\n        notifications: notifications\r\n      };\r\n\r\n      await userDataService.updateUserProfile(userProfile.id, updatedProfile);\r\n      onSave(updatedProfile);\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Error saving privacy settings:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const VisibilitySelector = ({ setting, value, options = visibilityOptions, title, description }) => (\r\n    <div className=\"privacy-setting\">\r\n      <div className=\"setting-header\">\r\n        <h4>{title}</h4>\r\n        <p className=\"setting-description\">{description}</p>\r\n      </div>\r\n      <div className=\"visibility-options\">\r\n        {options.map(option => (\r\n          <button\r\n            key={option.value}\r\n            className={`visibility-option ${value === option.value ? 'active' : ''}`}\r\n            onClick={() => handlePrivacyChange(setting, option.value)}\r\n          >\r\n            <div className=\"option-icon\">{option.icon}</div>\r\n            <div className=\"option-content\">\r\n              <span className=\"option-label\">{option.label}</span>\r\n              <span className=\"option-desc\">{option.description}</span>\r\n            </div>\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const NotificationToggle = ({ setting, value, title, description }) => (\r\n    <div className=\"notification-setting\">\r\n      <div className=\"setting-info\">\r\n        <h4>{title}</h4>\r\n        <p className=\"setting-description\">{description}</p>\r\n      </div>\r\n      <label className=\"toggle-switch\">\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={value}\r\n          onChange={(e) => handleNotificationChange(setting, e.target.checked)}\r\n        />\r\n        <span className=\"toggle-slider\"></span>\r\n      </label>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"privacy-settings-overlay\" onClick={onClose}>\r\n      <div className=\"privacy-settings-modal\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"privacy-settings-header\">\r\n          <h2>Privacy & Notifications</h2>\r\n          <button className=\"close-btn\" onClick={onClose}>×</button>\r\n        </div>\r\n\r\n        <div className=\"privacy-settings-content\">\r\n          {/* Privacy Section */}\r\n          <div className=\"settings-section\">\r\n            <h3>👁️ Privacy Settings</h3>\r\n            \r\n            <VisibilitySelector\r\n              setting=\"profileVisibility\"\r\n              value={privacySettings.profileVisibility}\r\n              options={profileVisibilityOptions}\r\n              title=\"Profile Visibility\"\r\n              description=\"Who can view your profile information\"\r\n            />\r\n\r\n            <VisibilitySelector\r\n              setting=\"onlineStatusVisibility\"\r\n              value={privacySettings.onlineStatusVisibility}\r\n              title=\"Online Status\"\r\n              description=\"Who can see when you're online\"\r\n            />\r\n\r\n            <VisibilitySelector\r\n              setting=\"lastSeenVisibility\"\r\n              value={privacySettings.lastSeenVisibility}\r\n              title=\"Last Seen\"\r\n              description=\"Who can see when you were last active\"\r\n            />\r\n\r\n            <VisibilitySelector\r\n              setting=\"phoneVisibility\"\r\n              value={privacySettings.phoneVisibility}\r\n              title=\"Phone Number\"\r\n              description=\"Who can see your phone number\"\r\n            />\r\n\r\n            <VisibilitySelector\r\n              setting=\"emailVisibility\"\r\n              value={privacySettings.emailVisibility}\r\n              title=\"Email Address\"\r\n              description=\"Who can see your email address\"\r\n            />\r\n\r\n            <VisibilitySelector\r\n              setting=\"locationVisibility\"\r\n              value={privacySettings.locationVisibility}\r\n              title=\"Location\"\r\n              description=\"Who can see your location information\"\r\n            />\r\n          </div>\r\n\r\n          {/* Notifications Section */}\r\n          <div className=\"settings-section\">\r\n            <h3>🔔 Notification Preferences</h3>\r\n            \r\n            <div className=\"notification-group\">\r\n              <h4>Communication</h4>\r\n              <NotificationToggle\r\n                setting=\"directMessages\"\r\n                value={notifications.directMessages}\r\n                title=\"Direct Messages\"\r\n                description=\"Get notified when someone sends you a direct message\"\r\n              />\r\n              \r\n              <NotificationToggle\r\n                setting=\"groupMessages\"\r\n                value={notifications.groupMessages}\r\n                title=\"Group Messages\"\r\n                description=\"Receive notifications for group conversations\"\r\n              />\r\n              \r\n              <NotificationToggle\r\n                setting=\"mentions\"\r\n                value={notifications.mentions}\r\n                title=\"Mentions\"\r\n                description=\"Get notified when someone mentions you\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"notification-group\">\r\n              <h4>Delivery Methods</h4>\r\n              <NotificationToggle\r\n                setting=\"push\"\r\n                value={notifications.push}\r\n                title=\"Push Notifications\"\r\n                description=\"Receive push notifications on your device\"\r\n              />\r\n              \r\n              <NotificationToggle\r\n                setting=\"email\"\r\n                value={notifications.email}\r\n                title=\"Email Notifications\"\r\n                description=\"Get notifications via email\"\r\n              />\r\n              \r\n              <NotificationToggle\r\n                setting=\"desktop\"\r\n                value={notifications.desktop}\r\n                title=\"Desktop Notifications\"\r\n                description=\"Show notifications on your desktop\"\r\n              />\r\n              \r\n              <NotificationToggle\r\n                setting=\"sound\"\r\n                value={notifications.sound}\r\n                title=\"Sound Alerts\"\r\n                description=\"Play sounds for notifications\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"notification-group\">\r\n              <h4>Marketing</h4>\r\n              <NotificationToggle\r\n                setting=\"marketing\"\r\n                value={notifications.marketing}\r\n                title=\"Marketing Emails\"\r\n                description=\"Receive promotional content and updates\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"privacy-settings-footer\">\r\n          <button className=\"cancel-btn\" onClick={onClose} disabled={loading}>\r\n            Cancel\r\n          </button>\r\n          <button className=\"save-btn\" onClick={handleSave} disabled={loading}>\r\n            {loading ? 'Saving...' : 'Save Settings'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrivacySettings;","import React, { useState, useEffect } from 'react';\r\nimport './ProfileAnalytics.css';\r\nimport userDataService from '../../services/userDataService';\r\n\r\nconst ProfileAnalytics = ({ userProfile, onClose }) => {\r\n  const [analytics, setAnalytics] = useState({\r\n    profileViews: 0,\r\n    monthlyViews: 0,\r\n    topViewers: [],\r\n    uploadStats: {\r\n      totalUploads: 0,\r\n      totalViews: 0,\r\n      totalLikes: 0,\r\n      mostViewedContent: null\r\n    },\r\n    activityStats: {\r\n      messagesCount: 0,\r\n      reactionsGiven: 0,\r\n      connectionsCount: 0,\r\n      joinDate: null\r\n    }\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [timeframe, setTimeframe] = useState('month');\r\n\r\n  useEffect(() => {\r\n    const loadAnalytics = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const data = await userDataService.fetchUserAnalytics(userProfile.id, timeframe);\r\n        setAnalytics(data);\r\n      } catch (error) {\r\n        console.error('Error loading analytics:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadAnalytics();\r\n  }, [userProfile.id, timeframe]);\r\n\r\n  const formatNumber = (num) => {\r\n    if (num >= 1000000) {\r\n      return (num / 1000000).toFixed(1) + 'M';\r\n    }\r\n    if (num >= 1000) {\r\n      return (num / 1000).toFixed(1) + 'K';\r\n    }\r\n    return num.toString();\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    return new Date(date).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const StatCard = ({ icon, title, value, subtitle, trend }) => (\r\n    <div className=\"stat-card\">\r\n      <div className=\"stat-icon\">{icon}</div>\r\n      <div className=\"stat-content\">\r\n        <h3>{formatNumber(value)}</h3>\r\n        <p className=\"stat-title\">{title}</p>\r\n        {subtitle && <p className=\"stat-subtitle\">{subtitle}</p>}\r\n        {trend && (\r\n          <div className={`stat-trend ${trend > 0 ? 'positive' : 'negative'}`}>\r\n            {trend > 0 ? '↗️' : '↘️'} {Math.abs(trend)}%\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"analytics-overlay\" onClick={onClose}>\r\n      <div className=\"analytics-modal\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"analytics-header\">\r\n          <h2>📊 Profile Analytics</h2>\r\n          <div className=\"timeframe-selector\">\r\n            <select \r\n              value={timeframe} \r\n              onChange={(e) => setTimeframe(e.target.value)}\r\n            >\r\n              <option value=\"week\">Last 7 days</option>\r\n              <option value=\"month\">Last 30 days</option>\r\n              <option value=\"quarter\">Last 3 months</option>\r\n              <option value=\"year\">Last year</option>\r\n            </select>\r\n          </div>\r\n          <button className=\"close-btn\" onClick={onClose}>×</button>\r\n        </div>\r\n\r\n        <div className=\"analytics-content\">\r\n          {loading ? (\r\n            <div className=\"loading-spinner\">Loading analytics...</div>\r\n          ) : (\r\n            <>\r\n              {/* Overview Stats */}\r\n              <div className=\"stats-grid\">\r\n                <StatCard\r\n                  icon=\"👁️\"\r\n                  title=\"Profile Views\"\r\n                  value={analytics.profileViews}\r\n                  subtitle=\"Total views\"\r\n                  trend={12}\r\n                />\r\n                <StatCard\r\n                  icon=\"📈\"\r\n                  title=\"Monthly Growth\"\r\n                  value={analytics.monthlyViews}\r\n                  subtitle=\"Views this month\"\r\n                  trend={8}\r\n                />\r\n                <StatCard\r\n                  icon=\"📁\"\r\n                  title=\"Total Uploads\"\r\n                  value={analytics.uploadStats.totalUploads}\r\n                  subtitle=\"Content shared\"\r\n                />\r\n                <StatCard\r\n                  icon=\"👥\"\r\n                  title=\"Connections\"\r\n                  value={analytics.activityStats.connectionsCount}\r\n                  subtitle=\"People connected\"\r\n                  trend={5}\r\n                />\r\n              </div>\r\n\r\n              {/* Profile Verification Status */}\r\n              <div className=\"verification-section\">\r\n                <h3>🛡️ Profile Verification</h3>\r\n                <div className=\"verification-badges\">\r\n                  <div className={`verification-badge ${userProfile.email ? 'verified' : 'pending'}`}>\r\n                    <span className=\"badge-icon\">✉️</span>\r\n                    <div className=\"badge-content\">\r\n                      <span className=\"badge-title\">Email Verified</span>\r\n                      <span className=\"badge-status\">\r\n                        {userProfile.email ? 'Verified' : 'Pending verification'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className={`verification-badge ${userProfile.phone ? 'verified' : 'pending'}`}>\r\n                    <span className=\"badge-icon\">📱</span>\r\n                    <div className=\"badge-content\">\r\n                      <span className=\"badge-title\">Phone Verified</span>\r\n                      <span className=\"badge-status\">\r\n                        {userProfile.phone ? 'Verified' : 'Add phone number'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className={`verification-badge ${userProfile.socialLinks && Object.values(userProfile.socialLinks).some(link => link) ? 'verified' : 'pending'}`}>\r\n                    <span className=\"badge-icon\">🔗</span>\r\n                    <div className=\"badge-content\">\r\n                      <span className=\"badge-title\">Social Links</span>\r\n                      <span className=\"badge-status\">\r\n                        {userProfile.socialLinks && Object.values(userProfile.socialLinks).some(link => link) \r\n                          ? 'Connected' : 'Add social links'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Content Performance */}\r\n              <div className=\"content-section\">\r\n                <h3>📊 Content Performance</h3>\r\n                <div className=\"content-stats\">\r\n                  <div className=\"content-stat\">\r\n                    <span className=\"content-icon\">👀</span>\r\n                    <div className=\"content-info\">\r\n                      <span className=\"content-value\">{formatNumber(analytics.uploadStats.totalViews)}</span>\r\n                      <span className=\"content-label\">Total Views</span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"content-stat\">\r\n                    <span className=\"content-icon\">❤️</span>\r\n                    <div className=\"content-info\">\r\n                      <span className=\"content-value\">{formatNumber(analytics.uploadStats.totalLikes)}</span>\r\n                      <span className=\"content-label\">Reactions Received</span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"content-stat\">\r\n                    <span className=\"content-icon\">💬</span>\r\n                    <div className=\"content-info\">\r\n                      <span className=\"content-value\">{formatNumber(analytics.activityStats.messagesCount)}</span>\r\n                      <span className=\"content-label\">Messages Sent</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {analytics.uploadStats.mostViewedContent && (\r\n                  <div className=\"most-viewed\">\r\n                    <h4>🏆 Most Viewed Content</h4>\r\n                    <div className=\"content-preview\">\r\n                      <img \r\n                        src={analytics.uploadStats.mostViewedContent.thumbnail} \r\n                        alt=\"Most viewed content\" \r\n                      />\r\n                      <div className=\"content-details\">\r\n                        <span className=\"content-name\">{analytics.uploadStats.mostViewedContent.name}</span>\r\n                        <span className=\"content-views\">\r\n                          {formatNumber(analytics.uploadStats.mostViewedContent.views)} views\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Top Viewers */}\r\n              {analytics.topViewers.length > 0 && (\r\n                <div className=\"viewers-section\">\r\n                  <h3>🔥 Top Profile Viewers</h3>\r\n                  <div className=\"viewers-list\">\r\n                    {analytics.topViewers.slice(0, 5).map((viewer, index) => (\r\n                      <div key={viewer.id} className=\"viewer-item\">\r\n                        <div className=\"viewer-rank\">#{index + 1}</div>\r\n                        <img src={viewer.avatar} alt={viewer.name} className=\"viewer-avatar\" />\r\n                        <div className=\"viewer-info\">\r\n                          <span className=\"viewer-name\">{viewer.name}</span>\r\n                          <span className=\"viewer-views\">{viewer.viewCount} views</span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Account Info */}\r\n              <div className=\"account-section\">\r\n                <h3>📅 Account Information</h3>\r\n                <div className=\"account-info\">\r\n                  <div className=\"info-item\">\r\n                    <span className=\"info-label\">Member since:</span>\r\n                    <span className=\"info-value\">\r\n                      {analytics.activityStats.joinDate ? formatDate(analytics.activityStats.joinDate) : 'N/A'}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <span className=\"info-label\">Account type:</span>\r\n                    <span className=\"info-value\">{userProfile.role || 'Standard'}</span>\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <span className=\"info-label\">Status:</span>\r\n                    <span className={`status-badge ${userProfile.isOnline ? 'online' : 'offline'}`}>\r\n                      {userProfile.isOnline ? 'Online' : 'Offline'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileAnalytics;","import React, { useState, useEffect } from 'react';\r\nimport './EnhancedMediaGallery.css';\r\nimport userDataService from '../../services/userDataService';\r\n\r\nconst EnhancedMediaGallery = ({ userUploads, userId, isOwnProfile, onRefresh }) => {\r\n  const [filteredUploads, setFilteredUploads] = useState(userUploads || []);\r\n  const [activeFilter, setActiveFilter] = useState('all');\r\n  const [sortBy, setSortBy] = useState('date');\r\n  const [sortDirection, setSortDirection] = useState('desc');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedItems, setSelectedItems] = useState(new Set());\r\n  const [viewMode, setViewMode] = useState('grid');\r\n  const [showStats, setShowStats] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selectedMedia, setSelectedMedia] = useState(null); // For video/image viewer modal\r\n\r\n  // Debug logging\r\n  console.log('🎨 EnhancedMediaGallery props:', {\r\n    userUploadsLength: userUploads?.length || 0,\r\n    userId,\r\n    isOwnProfile,\r\n    userUploads: userUploads\r\n  });\r\n\r\n  // Filter and sort uploads\r\n  useEffect(() => {\r\n    let filtered = [...(userUploads || [])];\r\n\r\n    // Apply type filter\r\n    if (activeFilter !== 'all') {\r\n      filtered = filtered.filter(item => item.type === activeFilter);\r\n    }\r\n\r\n    // Apply search filter\r\n    if (searchQuery) {\r\n      filtered = filtered.filter(item => \r\n        item.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // Apply sorting\r\n    filtered.sort((a, b) => {\r\n      let aValue = a[sortBy];\r\n      let bValue = b[sortBy];\r\n\r\n      if (sortBy === 'date') {\r\n        aValue = new Date(aValue);\r\n        bValue = new Date(bValue);\r\n      } else if (sortBy === 'size') {\r\n        aValue = parseInt(aValue) || 0;\r\n        bValue = parseInt(bValue) || 0;\r\n      }\r\n\r\n      if (sortDirection === 'asc') {\r\n        return aValue > bValue ? 1 : -1;\r\n      } else {\r\n        return aValue < bValue ? 1 : -1;\r\n      }\r\n    });\r\n\r\n    setFilteredUploads(filtered);\r\n  }, [userUploads, activeFilter, searchQuery, sortBy, sortDirection]);\r\n\r\n  const filterOptions = [\r\n    { value: 'all', label: 'All Files', icon: '📁', count: userUploads?.length || 0 },\r\n    { value: 'image', label: 'Images', icon: '🖼️', count: userUploads?.filter(item => item.type === 'image').length || 0 },\r\n    { value: 'video', label: 'Videos', icon: '🎥', count: userUploads?.filter(item => item.type === 'video').length || 0 },\r\n    { value: 'gif', label: 'GIFs', icon: '✨', count: userUploads?.filter(item => item.type === 'gif').length || 0 },\r\n    { value: 'document', label: 'Documents', icon: '📄', count: userUploads?.filter(item => item.type === 'document').length || 0 }\r\n  ];\r\n\r\n  const sortOptions = [\r\n    { value: 'date', label: 'Date' },\r\n    { value: 'name', label: 'Name' },\r\n    { value: 'size', label: 'Size' },\r\n    { value: 'type', label: 'Type' }\r\n  ];\r\n\r\n  const handleItemSelect = (itemId) => {\r\n    setSelectedItems(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(itemId)) {\r\n        newSet.delete(itemId);\r\n      } else {\r\n        newSet.add(itemId);\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedItems.size === filteredUploads.length) {\r\n      setSelectedItems(new Set());\r\n    } else {\r\n      setSelectedItems(new Set(filteredUploads.map(item => item.id)));\r\n    }\r\n  };\r\n\r\n  const handleBulkDelete = async () => {\r\n    if (!isOwnProfile || selectedItems.size === 0) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const deletePromises = Array.from(selectedItems).map(itemId => {\r\n        const item = filteredUploads.find(u => u.id === itemId);\r\n        return userDataService.deleteMediaItem(item.type, itemId);\r\n      });\r\n\r\n      await Promise.all(deletePromises);\r\n      setSelectedItems(new Set());\r\n      onRefresh && onRefresh();\r\n    } catch (error) {\r\n      console.error('Error deleting items:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const getFileIcon = (type) => {\r\n    switch (type) {\r\n      case 'image': return '🖼️';\r\n      case 'video': return '🎥';\r\n      case 'gif': return '✨';\r\n      case 'document': return '📄';\r\n      case 'pdf': return '📄';\r\n      default: return '📁';\r\n    }\r\n  };\r\n\r\n  const calculateStats = () => {\r\n    const totalSize = userUploads?.reduce((sum, item) => sum + (item.size || 0), 0) || 0;\r\n    const types = userUploads?.reduce((acc, item) => {\r\n      acc[item.type] = (acc[item.type] || 0) + 1;\r\n      return acc;\r\n    }, {}) || {};\r\n\r\n    return {\r\n      totalFiles: userUploads?.length || 0,\r\n      totalSize: formatFileSize(totalSize),\r\n      types,\r\n      averageSize: userUploads?.length ? formatFileSize(totalSize / userUploads.length) : '0 Bytes'\r\n    };\r\n  };\r\n\r\n  const stats = calculateStats();\r\n\r\n  const MediaItem = ({ item, isSelected, onSelect, onView }) => (\r\n    <div \r\n      className={`media-item ${isSelected ? 'selected' : ''} ${viewMode}`}\r\n      data-item-id={item.id}\r\n    >\r\n      {isOwnProfile && (\r\n        <div className=\"item-checkbox\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={isSelected}\r\n            onChange={() => onSelect(item.id)}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <div \r\n        className=\"item-preview\" \r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          console.log('🖱️ Click detected on item:', item.name, item.type);\r\n          onView(item);\r\n        }}\r\n        style={{ cursor: 'pointer' }}\r\n      >\r\n        {item.type === 'image' && (\r\n          <img src={item.url} alt={item.name} loading=\"lazy\" />\r\n        )}\r\n        {item.type === 'video' && (\r\n          <div className=\"video-preview\">\r\n            {item.thumbnailUrl ? (\r\n              <img src={item.thumbnailUrl} alt={item.name} loading=\"lazy\" />\r\n            ) : (\r\n              <div className=\"video-placeholder\">🎥</div>\r\n            )}\r\n            <div className=\"video-overlay\">▶️</div>\r\n          </div>\r\n        )}\r\n        {item.type === 'gif' && (\r\n          <img src={item.url} alt={item.name} loading=\"lazy\" />\r\n        )}\r\n        {(item.type === 'document' || item.type === 'pdf') && (\r\n          <div className=\"document-preview\">\r\n            <span className=\"file-icon\">{getFileIcon(item.type)}</span>\r\n            <span className=\"file-extension\">PDF</span>\r\n          </div>\r\n        )}\r\n        {item.type === 'document' && item.name && !item.name.toLowerCase().endsWith('.pdf') && (\r\n          <div className=\"document-preview\">\r\n            <span className=\"file-icon\">{getFileIcon(item.type)}</span>\r\n            <span className=\"file-extension\">{item.name.split('.').pop()?.toUpperCase()}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"item-info\">\r\n        <span className=\"item-name\" title={item.name}>{item.name}</span>\r\n        <div className=\"item-meta\">\r\n          <span className=\"item-size\">{formatFileSize(item.size)}</span>\r\n          <span className=\"item-date\">{formatDate(item.date)}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"enhanced-media-gallery\">\r\n      {/* Controls */}\r\n      <div className=\"gallery-controls\">\r\n        <div className=\"search-section\">\r\n          <div className=\"search-input-wrapper\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search files...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"search-input\"\r\n            />\r\n            <span className=\"search-icon\">🔍</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"filter-section\">\r\n          <div className=\"filter-buttons\">\r\n            {filterOptions.map(option => (\r\n              <button\r\n                key={option.value}\r\n                className={`filter-btn ${activeFilter === option.value ? 'active' : ''}`}\r\n                onClick={() => setActiveFilter(option.value)}\r\n              >\r\n                <span className=\"filter-icon\">{option.icon}</span>\r\n                <span className=\"filter-label\">{option.label}</span>\r\n                <span className=\"filter-count\">({option.count})</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"view-controls\">\r\n          <div className=\"sort-controls\">\r\n            <select\r\n              value={sortBy}\r\n              onChange={(e) => setSortBy(e.target.value)}\r\n              className=\"sort-select\"\r\n            >\r\n              {sortOptions.map(option => (\r\n                <option key={option.value} value={option.value}>\r\n                  Sort by {option.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <button\r\n              className=\"sort-direction-btn\"\r\n              onClick={() => setSortDirection(prev => prev === 'asc' ? 'desc' : 'asc')}\r\n              title={`Sort ${sortDirection === 'asc' ? 'Descending' : 'Ascending'}`}\r\n            >\r\n              {sortDirection === 'asc' ? '↑' : '↓'}\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"view-mode-controls\">\r\n            <button\r\n              className={`view-mode-btn ${viewMode === 'grid' ? 'active' : ''}`}\r\n              onClick={() => setViewMode('grid')}\r\n              title=\"Grid View\"\r\n            >\r\n              ⊞\r\n            </button>\r\n            <button\r\n              className={`view-mode-btn ${viewMode === 'list' ? 'active' : ''}`}\r\n              onClick={() => setViewMode('list')}\r\n              title=\"List View\"\r\n            >\r\n              ☰\r\n            </button>\r\n          </div>\r\n\r\n          <button\r\n            className={`stats-btn ${showStats ? 'active' : ''}`}\r\n            onClick={() => setShowStats(!showStats)}\r\n            title=\"Toggle Statistics\"\r\n          >\r\n            📊\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics Panel */}\r\n      {showStats && (\r\n        <div className=\"stats-panel\">\r\n          <h4>📊 Media Statistics</h4>\r\n          <div className=\"stats-grid\">\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">Total Files:</span>\r\n              <span className=\"stat-value\">{stats.totalFiles}</span>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">Total Size:</span>\r\n              <span className=\"stat-value\">{stats.totalSize}</span>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">Average Size:</span>\r\n              <span className=\"stat-value\">{stats.averageSize}</span>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">File Types:</span>\r\n              <div className=\"type-breakdown\">\r\n                {Object.entries(stats.types).map(([type, count]) => (\r\n                  <span key={type} className=\"type-stat\">\r\n                    {getFileIcon(type)} {count}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Bulk Actions */}\r\n      {isOwnProfile && selectedItems.size > 0 && (\r\n        <div className=\"bulk-actions\">\r\n          <span className=\"selection-count\">\r\n            {selectedItems.size} of {filteredUploads.length} selected\r\n          </span>\r\n          <div className=\"bulk-buttons\">\r\n            <button onClick={handleSelectAll} className=\"select-all-btn\">\r\n              {selectedItems.size === filteredUploads.length ? 'Deselect All' : 'Select All'}\r\n            </button>\r\n            <button\r\n              onClick={handleBulkDelete}\r\n              className=\"bulk-delete-btn\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? 'Deleting...' : `Delete (${selectedItems.size})`}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Media Grid/List */}\r\n      <div className={`media-container ${viewMode}`}>\r\n        {filteredUploads.length === 0 ? (\r\n          <div className=\"empty-state\">\r\n            <div className=\"empty-icon\">📂</div>\r\n            <h3>No files found</h3>\r\n            <p>\r\n              {searchQuery \r\n                ? `No files match \"${searchQuery}\"` \r\n                : activeFilter !== 'all' \r\n                  ? `No ${activeFilter} files found`\r\n                  : 'No files uploaded yet'\r\n              }\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          filteredUploads.map(item => (\r\n            <MediaItem\r\n              key={item.id}\r\n              item={item}\r\n              isSelected={selectedItems.has(item.id)}\r\n              onSelect={handleItemSelect}\r\n              onView={(item) => {\r\n                try {\r\n                  console.log('🎬 Opening media viewer for:', item);\r\n                  console.log('📋 Media details:', {\r\n                    type: item.type,\r\n                    url: item.url,\r\n                    name: item.name,\r\n                    hasUrl: !!item.url,\r\n                    urlType: typeof item.url\r\n                  });\r\n                  \r\n                  // Show immediate visual feedback\r\n                  const clickedElement = document.querySelector(`[data-item-id=\"${item.id}\"]`);\r\n                  if (clickedElement) {\r\n                    clickedElement.style.transform = 'scale(0.95)';\r\n                    setTimeout(() => {\r\n                      clickedElement.style.transform = '';\r\n                    }, 150);\r\n                  }\r\n                  \r\n                  if (!item.url) {\r\n                    console.error('❌ No URL found for media item:', item);\r\n                    alert(`❌ Cannot open ${item.name} - No URL available`);\r\n                    return;\r\n                  }\r\n                  \r\n                  // For documents and PDFs, open in new tab if URL available\r\n                  if (item.type === 'document' || item.type === 'pdf') {\r\n                    const fullUrl = item.url.startsWith('http') ? item.url : `http://localhost:5001${item.url}`;\r\n                    console.log('📄 Opening document in new tab:', fullUrl);\r\n                    window.open(fullUrl, '_blank');\r\n                    return;\r\n                  }\r\n                  \r\n                  // Open media viewer modal for images, videos, and GIFs\r\n                  console.log('🖼️ Opening in modal viewer');\r\n                  setSelectedMedia(item);\r\n                } catch (error) {\r\n                  console.error('💥 Error opening media viewer:', error);\r\n                  alert(`💥 Error opening ${item.name}: ${error.message}`);\r\n                }\r\n              }}\r\n            />\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* Results Summary */}\r\n      <div className=\"results-summary\">\r\n        Showing {filteredUploads.length} of {userUploads?.length || 0} files\r\n        {searchQuery && ` matching \"${searchQuery}\"`}\r\n        {activeFilter !== 'all' && ` (${activeFilter} only)`}\r\n      </div>\r\n\r\n      {/* Media Viewer Modal */}\r\n      {selectedMedia && (\r\n        <div className=\"media-viewer-overlay\" onClick={() => setSelectedMedia(null)}>\r\n          <div className=\"media-viewer-modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"media-viewer-header\">\r\n              <h3>{selectedMedia.name || 'Media File'}</h3>\r\n              <button \r\n                className=\"close-viewer-btn\" \r\n                onClick={() => setSelectedMedia(null)}\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n            <div className=\"media-viewer-content\">\r\n              {selectedMedia.type === 'image' && selectedMedia.url && (\r\n                <img \r\n                  src={selectedMedia.url} \r\n                  alt={selectedMedia.name || 'Image'} \r\n                  className=\"viewer-image\"\r\n                  onError={(e) => {\r\n                    console.error('Image load error:', e);\r\n                    console.log('Image URL:', selectedMedia.url);\r\n                  }}\r\n                />\r\n              )}\r\n              {selectedMedia.type === 'video' && selectedMedia.url && (\r\n                <video \r\n                  src={selectedMedia.url.startsWith('http') ? selectedMedia.url : `http://localhost:5001${selectedMedia.url}`}\r\n                  controls\r\n                  autoPlay\r\n                  playsInline\r\n                  className=\"viewer-video\"\r\n                  poster={selectedMedia.thumbnailUrl}\r\n                  onError={(e) => {\r\n                    console.error('Video playback error in viewer:', e);\r\n                    console.log('Selected media details:', selectedMedia);\r\n                    console.log('Video source URL:', selectedMedia.url.startsWith('http') ? selectedMedia.url : `http://localhost:5001${selectedMedia.url}`);\r\n                  }}\r\n                  onLoadStart={() => {\r\n                    console.log('Video load started for:', selectedMedia.name);\r\n                  }}\r\n                  onCanPlay={() => {\r\n                    console.log('Video can play:', selectedMedia.name);\r\n                  }}\r\n                >\r\n                  <source \r\n                    src={selectedMedia.url.startsWith('http') ? selectedMedia.url : `http://localhost:5001${selectedMedia.url}`} \r\n                    type={selectedMedia.mimeType || 'video/mp4'} \r\n                  />\r\n                  Your browser does not support the video tag.\r\n                </video>\r\n              )}\r\n              {selectedMedia.type === 'gif' && selectedMedia.url && (\r\n                <img \r\n                  src={selectedMedia.url} \r\n                  alt={selectedMedia.name || 'GIF'} \r\n                  className=\"viewer-gif\"\r\n                  onError={(e) => {\r\n                    console.error('GIF load error:', e);\r\n                    console.log('GIF URL:', selectedMedia.url);\r\n                  }}\r\n                />\r\n              )}\r\n              {(selectedMedia.type === 'document' || selectedMedia.type === 'pdf') && selectedMedia.url && (\r\n                <div className=\"pdf-viewer\">\r\n                  <iframe \r\n                    src={selectedMedia.url.startsWith('http') ? selectedMedia.url : `http://localhost:5001${selectedMedia.url}`}\r\n                    width=\"100%\"\r\n                    height=\"500px\"\r\n                    title={selectedMedia.name || 'Document'}\r\n                    style={{ border: 'none', borderRadius: '8px' }}\r\n                    onError={(e) => {\r\n                      console.error('Document load error:', e);\r\n                      console.log('Document URL:', selectedMedia.url);\r\n                    }}\r\n                  />\r\n                  <div className=\"pdf-actions\">\r\n                    <a \r\n                      href={selectedMedia.url.startsWith('http') ? selectedMedia.url : `http://localhost:5001${selectedMedia.url}`}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"pdf-open-btn\"\r\n                    >\r\n                      Open in New Tab\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {!selectedMedia.url && (\r\n                <div className=\"error-message\">\r\n                  <p>⚠️ Media file not found or invalid URL</p>\r\n                  <p><strong>File:</strong> {selectedMedia.name}</p>\r\n                  <p><strong>Type:</strong> {selectedMedia.type}</p>\r\n                  <p><strong>URL:</strong> {selectedMedia.url || 'No URL provided'}</p>\r\n                  <div className=\"debug-info\">\r\n                    <p><strong>Debug Info:</strong></p>\r\n                    <pre>{JSON.stringify(selectedMedia, null, 2)}</pre>\r\n                  </div>\r\n                  <button \r\n                    className=\"refresh-media-btn\"\r\n                    onClick={() => {\r\n                      console.log('🔄 Refreshing media gallery...');\r\n                      onRefresh && onRefresh();\r\n                      setSelectedMedia(null);\r\n                    }}\r\n                  >\r\n                    🔄 Refresh Gallery\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"media-viewer-info\">\r\n              <div className=\"media-details\">\r\n                <span><strong>Type:</strong> {selectedMedia.type}</span>\r\n                <span><strong>Size:</strong> {formatFileSize(selectedMedia.size)}</span>\r\n                {selectedMedia.dimensions && (\r\n                  <span><strong>Dimensions:</strong> {selectedMedia.dimensions}</span>\r\n                )}\r\n                {selectedMedia.duration && (\r\n                  <span><strong>Duration:</strong> {formatDuration(selectedMedia.duration)}</span>\r\n                )}\r\n                <span><strong>Uploaded:</strong> {selectedMedia.uploadedAt ? new Date(selectedMedia.uploadedAt).toLocaleDateString() : 'Unknown'}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Helper function to format duration\r\nconst formatDuration = (seconds) => {\r\n  if (!seconds || isNaN(seconds)) return '0:00';\r\n  const mins = Math.floor(seconds / 60);\r\n  const secs = Math.floor(seconds % 60);\r\n  return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n};\r\n\r\nexport default EnhancedMediaGallery;","import React, { useState, useRef, useCallback } from 'react';\r\nimport userDataService from '../../services/userDataService';\r\nimport './AvatarUpload.css';\r\n\r\nconst AvatarUpload = ({ currentAvatar, onAvatarChange, isOwnProfile }) => {\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [dragActive, setDragActive] = useState(false);\r\n  const [preview, setPreview] = useState(currentAvatar);\r\n  const fileInputRef = useRef(null);\r\n\r\n  const handleFiles = useCallback(async (files) => {\r\n    console.log('🔄 Avatar upload started:', { fileCount: files.length });\r\n    const file = files[0];\r\n    if (!file) return;\r\n\r\n    console.log('📁 File details:', { \r\n      name: file.name, \r\n      size: file.size, \r\n      type: file.type \r\n    });\r\n\r\n    // Validate file type\r\n    if (!file.type.startsWith('image/')) {\r\n      console.error('❌ Invalid file type:', file.type);\r\n      alert('Please select an image file (PNG, JPG, GIF, etc.)');\r\n      return;\r\n    }\r\n\r\n    // Validate file size (5MB limit)\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      console.error('❌ File too large:', file.size);\r\n      alert('File size must be less than 5MB');\r\n      return;\r\n    }\r\n\r\n    setIsUploading(true);\r\n    console.log('⏳ Upload started...');\r\n\r\n    try {\r\n      // Create preview\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setPreview(e.target.result);\r\n        console.log('🖼️ Preview created');\r\n      };\r\n      reader.readAsDataURL(file);\r\n\r\n    // Check if we have authentication token\r\n    const token = localStorage.getItem('authToken') || sessionStorage.getItem('authToken');\r\n    console.log('🔑 Auth token check:', { \r\n      hasToken: !!token, \r\n      tokenLength: token ? token.length : 0,\r\n      localStorage: !!localStorage.getItem('authToken'),\r\n      sessionStorage: !!sessionStorage.getItem('authToken')\r\n    });      if (!token) {\r\n        // Demo mode - just use the data URL from file reader\r\n        console.log('🎭 No auth token found, running in demo mode');\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          const dataUrl = e.target.result;\r\n          setPreview(dataUrl);\r\n          onAvatarChange(dataUrl);\r\n          console.log('✅ Demo mode avatar update successful');\r\n        };\r\n        reader.readAsDataURL(file);\r\n        return;\r\n      }\r\n\r\n      // Upload to server\r\n      console.log('🌐 Uploading to server...');\r\n      \r\n      try {\r\n        const result = await userDataService.api.uploadAvatar(file);\r\n        console.log('✅ Upload successful via userDataService:', result);\r\n        \r\n        // Make sure we have a valid avatar URL\r\n        if (result && result.avatarUrl) {\r\n          console.log('🖼️ Setting new avatar URL:', result.avatarUrl);\r\n          onAvatarChange(result.avatarUrl);\r\n        } else {\r\n          console.error('❌ No avatar URL in response:', result);\r\n          throw new Error('Invalid response: no avatar URL returned');\r\n        }\r\n      } catch (apiError) {\r\n        console.error('❌ API upload failed:', apiError);\r\n        throw new Error(apiError.message || 'Upload failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('💥 Avatar upload error:', error);\r\n      console.error('💥 Error details:', {\r\n        message: error.message,\r\n        stack: error.stack,\r\n        name: error.name\r\n      });\r\n      \r\n      // Fallback to demo mode\r\n      if (error.message.includes('Network Error') || error.message.includes('fetch') || error.message.includes('API call failed')) {\r\n        console.log('🔄 Network error, falling back to demo mode');\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          const dataUrl = e.target.result;\r\n          setPreview(dataUrl);\r\n          onAvatarChange(dataUrl);\r\n          console.log('✅ Fallback demo mode avatar update successful');\r\n        };\r\n        reader.readAsDataURL(file);\r\n      } else {\r\n        alert(`Failed to upload avatar: ${error.message}`);\r\n        setPreview(currentAvatar); // Reset preview on error\r\n      }\r\n    } finally {\r\n      setIsUploading(false);\r\n      console.log('🏁 Upload process completed');\r\n    }\r\n  }, [currentAvatar, onAvatarChange]);\r\n\r\n  const handleDrag = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.type === 'dragenter' || e.type === 'dragover') {\r\n      setDragActive(true);\r\n    } else if (e.type === 'dragleave') {\r\n      setDragActive(false);\r\n    }\r\n  }, []);\r\n\r\n  const handleDrop = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setDragActive(false);\r\n    \r\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\r\n      handleFiles(e.dataTransfer.files);\r\n    }\r\n  }, [handleFiles]);\r\n\r\n  const handleChange = useCallback((e) => {\r\n    e.preventDefault();\r\n    if (e.target.files && e.target.files[0]) {\r\n      handleFiles(e.target.files);\r\n    }\r\n  }, [handleFiles]);\r\n\r\n  const handleClick = useCallback(() => {\r\n    if (isOwnProfile && fileInputRef.current) {\r\n      fileInputRef.current.click();\r\n    }\r\n  }, [isOwnProfile]);\r\n\r\n  return (\r\n    <div className=\"avatar-upload-container\">\r\n      <div \r\n        className={`profile-avatar ${isOwnProfile ? 'editable' : ''} ${dragActive ? 'drag-active' : ''} ${isUploading ? 'uploading' : ''}`}\r\n        onDragEnter={isOwnProfile ? handleDrag : undefined}\r\n        onDragLeave={isOwnProfile ? handleDrag : undefined}\r\n        onDragOver={isOwnProfile ? handleDrag : undefined}\r\n        onDrop={isOwnProfile ? handleDrop : undefined}\r\n        onClick={handleClick}\r\n      >\r\n        <div className=\"avatar-image-container\">\r\n          <img \r\n            src={preview || '/default-avatar.png'} \r\n            alt=\"Profile Avatar\"\r\n            className=\"avatar-image\"\r\n          />\r\n          \r\n          {isOwnProfile && (\r\n            <div className=\"avatar-overlay\">\r\n              {isUploading ? (\r\n                <div className=\"upload-spinner\">\r\n                  <div className=\"spinner\"></div>\r\n                  <span>Uploading...</span>\r\n                </div>\r\n              ) : (\r\n                <div className=\"upload-prompt\">\r\n                  <div className=\"upload-icon\">📷</div>\r\n                  <span>Change Photo</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {isOwnProfile && (\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handleChange}\r\n            className=\"avatar-file-input\"\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {isOwnProfile && (\r\n        <div className=\"avatar-upload-tips\">\r\n          <p className=\"upload-hint\">\r\n            Click or drag & drop to change your profile photo\r\n          </p>\r\n          <p className=\"upload-requirements\">\r\n            Supports: JPG, PNG, GIF • Max size: 5MB\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AvatarUpload;","import React, { useState, useEffect } from 'react';\r\nimport encryptionService from '../../services/encryptionService';\r\nimport './EncryptionSettings.css';\r\n\r\nconst EncryptionSettings = ({ isOpen, onClose, currentUser, userId }) => {\r\n  const [encryptionStatus, setEncryptionStatus] = useState(null);\r\n  const [keyFingerprint, setKeyFingerprint] = useState('');\r\n  const [publicKey, setPublicKey] = useState('');\r\n  const [isInitializing, setIsInitializing] = useState(false);\r\n  const [showPublicKey, setShowPublicKey] = useState(false);\r\n\r\n  // Support both currentUser.id and userId props\r\n  const effectiveUserId = currentUser?.id || userId;\r\n\r\n  useEffect(() => {\r\n    if (isOpen && effectiveUserId) {\r\n      loadEncryptionStatus();\r\n    }\r\n  }, [isOpen, effectiveUserId]);\r\n\r\n  const loadEncryptionStatus = async () => {\r\n    try {\r\n      const status = encryptionService.getStatus();\r\n      setEncryptionStatus(status);\r\n\r\n      if (status.isInitialized) {\r\n        // Get fingerprint\r\n        const fingerprint = await encryptionService.generateKeyFingerprint();\r\n        setKeyFingerprint(fingerprint);\r\n\r\n        // Get public key for sharing\r\n        const pubKey = await encryptionService.getPublicKeyForSharing();\r\n        setPublicKey(pubKey);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load encryption status:', error);\r\n    }\r\n  };\r\n\r\n  const initializeEncryption = async () => {\r\n    setIsInitializing(true);\r\n    try {\r\n      const success = await encryptionService.initialize(effectiveUserId);\r\n      if (success) {\r\n        await loadEncryptionStatus();\r\n        alert('✅ End-to-end encryption has been enabled for your account!');\r\n      } else {\r\n        alert('❌ Failed to initialize encryption. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to initialize encryption:', error);\r\n      alert('❌ Failed to initialize encryption. Please try again.');\r\n    } finally {\r\n      setIsInitializing(false);\r\n    }\r\n  };\r\n\r\n  const copyPublicKey = () => {\r\n    navigator.clipboard.writeText(publicKey);\r\n    alert('📋 Public key copied to clipboard! Share this with contacts to enable encrypted messaging.');\r\n  };\r\n\r\n  const copyFingerprint = () => {\r\n    navigator.clipboard.writeText(keyFingerprint);\r\n    alert('📋 Key fingerprint copied to clipboard!');\r\n  };\r\n\r\n  const regenerateKeys = async () => {\r\n    if (window.confirm('⚠️ Are you sure? Regenerating keys will prevent you from reading old encrypted messages.')) {\r\n      setIsInitializing(true);\r\n      try {\r\n        // Clear existing keys\r\n        encryptionService.clearEncryptionData();\r\n        \r\n        // Generate new keys\r\n        const success = await encryptionService.initialize(currentUser.id);\r\n        if (success) {\r\n          await loadEncryptionStatus();\r\n          alert('✅ New encryption keys generated successfully!');\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to regenerate keys:', error);\r\n        alert('❌ Failed to regenerate keys. Please try again.');\r\n      } finally {\r\n        setIsInitializing(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"encryption-settings-overlay\">\r\n      <div className=\"encryption-settings-modal\">\r\n        <div className=\"encryption-settings-header\">\r\n          <h2>🔒 End-to-End Encryption</h2>\r\n          <button className=\"close-btn\" onClick={onClose}>×</button>\r\n        </div>\r\n\r\n        <div className=\"encryption-settings-content\">\r\n          {!encryptionStatus?.isInitialized ? (\r\n            <div className=\"encryption-setup\">\r\n              <div className=\"encryption-info\">\r\n                <h3>🛡️ Secure Your Messages</h3>\r\n                <p>Enable end-to-end encryption to ensure only you and your contacts can read your messages.</p>\r\n                \r\n                <div className=\"encryption-benefits\">\r\n                  <div className=\"benefit-item\">\r\n                    <span className=\"benefit-icon\">🔐</span>\r\n                    <span>Messages encrypted on your device</span>\r\n                  </div>\r\n                  <div className=\"benefit-item\">\r\n                    <span className=\"benefit-icon\">🚫</span>\r\n                    <span>Server cannot read your messages</span>\r\n                  </div>\r\n                  <div className=\"benefit-item\">\r\n                    <span className=\"benefit-icon\">✅</span>\r\n                    <span>Only recipients can decrypt</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <button \r\n                className=\"enable-encryption-btn\"\r\n                onClick={initializeEncryption}\r\n                disabled={isInitializing}\r\n              >\r\n                {isInitializing ? '🔄 Generating Keys...' : '🔒 Enable Encryption'}\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"encryption-active\">\r\n              <div className=\"encryption-status\">\r\n                <div className=\"status-indicator\">\r\n                  <span className=\"status-icon\">✅</span>\r\n                  <span className=\"status-text\">End-to-end encryption is enabled</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"encryption-details\">\r\n                <div className=\"detail-section\">\r\n                  <h4>🔑 Your Key Fingerprint</h4>\r\n                  <p className=\"detail-description\">\r\n                    Share this with contacts to verify your identity:\r\n                  </p>\r\n                  <div className=\"fingerprint-display\">\r\n                    <code className=\"fingerprint\">{keyFingerprint}</code>\r\n                    <button className=\"copy-btn\" onClick={copyFingerprint}>📋</button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"detail-section\">\r\n                  <h4>📤 Your Public Key</h4>\r\n                  <p className=\"detail-description\">\r\n                    Share this with contacts to enable encrypted messaging:\r\n                  </p>\r\n                  <div className=\"public-key-section\">\r\n                    <button \r\n                      className=\"toggle-key-btn\"\r\n                      onClick={() => setShowPublicKey(!showPublicKey)}\r\n                    >\r\n                      {showPublicKey ? '🙈 Hide' : '👁️ Show'} Public Key\r\n                    </button>\r\n                    {showPublicKey && (\r\n                      <div className=\"public-key-display\">\r\n                        <textarea \r\n                          className=\"public-key-text\"\r\n                          value={publicKey}\r\n                          readOnly\r\n                          rows={6}\r\n                        />\r\n                        <button className=\"copy-btn\" onClick={copyPublicKey}>\r\n                          📋 Copy Public Key\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"detail-section\">\r\n                  <h4>⚙️ Key Management</h4>\r\n                  <div className=\"key-actions\">\r\n                    <button \r\n                      className=\"regenerate-btn\"\r\n                      onClick={regenerateKeys}\r\n                      disabled={isInitializing}\r\n                    >\r\n                      {isInitializing ? '🔄 Generating...' : '🔄 Regenerate Keys'}\r\n                    </button>\r\n                  </div>\r\n                  <p className=\"warning-text\">\r\n                    ⚠️ Regenerating keys will prevent you from reading old encrypted messages.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"encryption-settings-footer\">\r\n          <div className=\"security-notice\">\r\n            <p>🔒 Your private keys never leave your device and are stored securely in your browser.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EncryptionSettings;","import React, { useState, useEffect } from 'react';\r\nimport './UserProfile.css';\r\nimport userDataService from '../../services/userDataService';\r\nimport EditProfileModal from './EditProfileModal';\r\nimport PrivacySettings from './PrivacySettings';\r\nimport ProfileAnalytics from './ProfileAnalytics';\r\nimport EnhancedMediaGallery from './EnhancedMediaGallery';\r\nimport AvatarUpload from './AvatarUpload';\r\nimport ContactModal from '../Contacts/ContactModal';\r\nimport EncryptionSettings from '../Encryption/EncryptionSettings';\r\n\r\nconst UserProfile = ({ userId, username, onClose, isVisible, isClosing }) => {\r\n  const [activeTab, setActiveTab] = useState('profile');\r\n  const [userProfile, setUserProfile] = useState(null);\r\n  const [userUploads, setUserUploads] = useState([]);\r\n  const [viewHistory, setViewHistory] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [showPrivacyModal, setShowPrivacyModal] = useState(false);\r\n  const [showAnalyticsModal, setShowAnalyticsModal] = useState(false);\r\n  const [showContactModal, setShowContactModal] = useState(false);\r\n  const [contacts, setContacts] = useState([]);\r\n  const [selectedContact, setSelectedContact] = useState(null);\r\n  const [showEncryptionSettings, setShowEncryptionSettings] = useState(false);\r\n\r\n  // Check if this is the current user's profile\r\n  const getCurrentUserId = () => {\r\n    // Try to get user ID from localStorage first (remember me)\r\n    const localUser = localStorage.getItem('user');\r\n    if (localUser) {\r\n      try {\r\n        const userData = JSON.parse(localUser);\r\n        return userData.id || userData.username;\r\n      } catch (error) {\r\n        console.error('Error parsing localStorage user data:', error);\r\n      }\r\n    }\r\n    \r\n    // Fallback to sessionStorage (current session)\r\n    const sessionUser = sessionStorage.getItem('user');\r\n    if (sessionUser) {\r\n      try {\r\n        const userData = JSON.parse(sessionUser);\r\n        return userData.id || userData.username;\r\n      } catch (error) {\r\n        console.error('Error parsing sessionStorage user data:', error);\r\n      }\r\n    }\r\n    \r\n    return null;\r\n  };\r\n  \r\n  const currentUserId = getCurrentUserId();\r\n  const isOwnProfile = userId === currentUserId;\r\n  \r\n  // Debug logging for authentication\r\n  console.log('UserProfile authentication check:', {\r\n    userId,\r\n    currentUserId,\r\n    isOwnProfile,\r\n    localStorageUser: localStorage.getItem('user'),\r\n    sessionStorageUser: sessionStorage.getItem('user')\r\n  });\r\n\r\n  useEffect(() => {\r\n    const loadUserData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // For the current user's own profile, try to get real data first\r\n        if (isOwnProfile) {\r\n          try {\r\n            // Try to get current user data from localStorage/sessionStorage\r\n            const localUser = localStorage.getItem('user') || sessionStorage.getItem('user');\r\n            if (localUser) {\r\n              const userData = JSON.parse(localUser);\r\n              console.log('📋 Setting current user profile from local storage:', userData);\r\n              setUserProfile({\r\n                ...userData,\r\n                userId: userData.id,\r\n                username: userData.username,\r\n                displayName: userData.displayName || userData.name,\r\n                bio: userData.bio || '',\r\n                avatarUrl: userData.avatar,\r\n                uploadCount: 0,\r\n                connectionCount: 0,\r\n                activityScore: 0,\r\n                joinDate: userData.createdAt,\r\n                isOnline: true, // Current user is always online\r\n                status: 'online'\r\n              });\r\n            }\r\n          } catch (error) {\r\n            console.warn('⚠️ Could not parse user data from storage:', error);\r\n          }\r\n        }\r\n        \r\n        // Fetch user profile data (this will either get real API data or mock data)\r\n        console.log('🔍 Fetching user profile for:', userId, isOwnProfile ? '(own profile)' : '(other user)');\r\n        const profileData = await userDataService.fetchUserProfile(userId);\r\n        console.log('✅ Profile data received:', profileData);\r\n        setUserProfile(profileData);\r\n        \r\n        // Fetch user uploads based on active tab\r\n        if (activeTab === 'uploads' || activeTab === 'profile') {\r\n          const uploads = await userDataService.fetchUserUploads(userId);\r\n          setUserUploads(uploads);\r\n        }\r\n        \r\n        // Fetch view history based on active tab\r\n        if (activeTab === 'history' || activeTab === 'profile') {\r\n          const history = await userDataService.fetchUserViewHistory(userId);\r\n          setViewHistory(history);\r\n        }\r\n        \r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error('Error loading user data:', err);\r\n        setError('Failed to load user data. Please try again later.');\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadUserData();\r\n  }, [userId, activeTab, isOwnProfile]);\r\n\r\n  const handleTabChange = (tab) => {\r\n    setActiveTab(tab);\r\n  };\r\n\r\n  const handleProfileSave = (updatedProfile) => {\r\n    console.log('💾 Saving updated profile:', updatedProfile);\r\n    setUserProfile(prev => ({\r\n      ...prev,\r\n      ...updatedProfile,\r\n      // Ensure online status is maintained for current user\r\n      isOnline: isOwnProfile ? true : prev?.isOnline,\r\n      status: isOwnProfile ? 'online' : prev?.status\r\n    }));\r\n    \r\n    // Also update localStorage if this is the current user\r\n    if (isOwnProfile) {\r\n      try {\r\n        const currentUser = JSON.parse(localStorage.getItem('user') || sessionStorage.getItem('user') || '{}');\r\n        const updatedUser = {\r\n          ...currentUser,\r\n          ...updatedProfile,\r\n          isOnline: true,\r\n          status: 'online'\r\n        };\r\n        \r\n        // Update both localStorage and sessionStorage\r\n        if (localStorage.getItem('user')) {\r\n          localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        }\r\n        if (sessionStorage.getItem('user')) {\r\n          sessionStorage.setItem('user', JSON.stringify(updatedUser));\r\n        }\r\n        console.log('✅ Updated user data in local storage');\r\n      } catch (error) {\r\n        console.warn('⚠️ Could not update user data in storage:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAvatarChange = async (newAvatarUrl) => {\r\n    try {\r\n      const updatedProfile = { ...userProfile, avatar: newAvatarUrl };\r\n      await userDataService.updateUserProfile(userId, { avatar: newAvatarUrl });\r\n      setUserProfile(updatedProfile);\r\n    } catch (error) {\r\n      console.error('Failed to update avatar:', error);\r\n    }\r\n  };\r\n\r\n  // Contact management functions\r\n  const handleContactSave = (contactData) => {\r\n    // In a real app, this would save to backend\r\n    if (selectedContact) {\r\n      // Update existing contact\r\n      setContacts(prev => prev.map(c => c.id === selectedContact.id ? { ...c, ...contactData } : c));\r\n    } else {\r\n      // Add new contact\r\n      const newContact = {\r\n        ...contactData,\r\n        id: Date.now().toString(),\r\n        createdAt: new Date().toISOString()\r\n      };\r\n      setContacts(prev => [...prev, newContact]);\r\n    }\r\n    setShowContactModal(false);\r\n    setSelectedContact(null);\r\n  };\r\n\r\n  const getFileIcon = (fileType) => {\r\n    switch(fileType) {\r\n      case 'image':\r\n        return '🖼️';\r\n      case 'video':\r\n        return '🎬';\r\n      case 'gif':\r\n        return '🎭';\r\n      case 'document':\r\n        return '📄';\r\n      default:\r\n        return '📁';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const options = { year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' };\r\n    return new Date(dateString).toLocaleDateString('en-US', options);\r\n  };\r\n\r\n  const renderMediaGrid = (mediaItems) => {\r\n    if (!mediaItems || mediaItems.length === 0) {\r\n      return <p className=\"empty-state\">No content to display</p>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"media-grid\">\r\n        {mediaItems.map((item) => (\r\n          <div key={item.id} className=\"media-item\">\r\n            {item.type === 'image' ? (\r\n              <div className=\"media-preview\">\r\n                <img src={item.url} alt={item.name} />\r\n              </div>\r\n            ) : (\r\n              <div className=\"media-preview file-icon\">\r\n                {getFileIcon(item.type)}\r\n              </div>\r\n            )}\r\n            <div className=\"media-info\">\r\n              <span className=\"media-name\">{item.name}</span>\r\n              <span className=\"media-date\">{formatDate(item.date)}</span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderViewHistory = () => {\r\n    if (!viewHistory || viewHistory.length === 0) {\r\n      return <p className=\"empty-state\">No view history to display</p>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"history-list\">\r\n        {viewHistory.map((item) => (\r\n          <div key={item.id} className=\"history-item\">\r\n            <div className=\"history-icon\">\r\n              {getFileIcon(item.contentType)}\r\n            </div>\r\n            <div className=\"history-info\">\r\n              <span className=\"history-title\">{item.title}</span>\r\n              <span className=\"history-details\">\r\n                {item.contentType} • Viewed {formatDate(item.viewedAt)}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderProfileInfo = () => {\r\n    if (!userProfile) {\r\n      return <p className=\"empty-state\">User profile not available</p>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"profile-info\">\r\n        <div className=\"profile-header\">\r\n          <AvatarUpload \r\n            currentAvatar={userProfile.avatar}\r\n            onAvatarChange={handleAvatarChange}\r\n            isOwnProfile={isOwnProfile}\r\n          />\r\n          <div className=\"profile-details\">\r\n            <h2>{userProfile.displayName || userProfile.name}</h2>\r\n            <p className=\"username\">@{userProfile.username}</p>\r\n            {userProfile.statusMessage && (\r\n              <p className=\"status-message\">💭 {userProfile.statusMessage}</p>\r\n            )}\r\n            <p className=\"bio\">{userProfile.bio || \"No bio available\"}</p>\r\n            \r\n            {/* Action Buttons */}\r\n            <div className=\"profile-actions\">\r\n              {isOwnProfile && (\r\n                <>\r\n                  <button \r\n                    className=\"edit-profile-btn\"\r\n                    onClick={() => setShowEditModal(true)}\r\n                  >\r\n                    ✏️ Edit Profile\r\n                  </button>\r\n                  <button \r\n                    className=\"privacy-settings-btn\"\r\n                    onClick={() => setShowPrivacyModal(true)}\r\n                  >\r\n                    🔒 Privacy & Notifications\r\n                  </button>\r\n                  <button \r\n                    className=\"analytics-btn\"\r\n                    onClick={() => setShowAnalyticsModal(true)}\r\n                  >\r\n                    📊 View Analytics\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"profile-stats\">\r\n              <div className=\"stat\">\r\n                <span className=\"stat-value\">{userUploads?.length || 0}</span>\r\n                <span className=\"stat-label\">Uploads</span>\r\n              </div>\r\n              <div className=\"stat\">\r\n                <span className=\"stat-value\">{userProfile.connectionCount || 0}</span>\r\n                <span className=\"stat-label\">Connections</span>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Extended Profile Information */}\r\n            <div className=\"profile-extended-info\">\r\n              {(userProfile.location || userProfile.company || userProfile.jobTitle) && (\r\n                <div className=\"info-section\">\r\n                  {userProfile.location && (\r\n                    <div className=\"info-item\">\r\n                      <span className=\"info-icon\">📍</span>\r\n                      <span>{userProfile.location}</span>\r\n                    </div>\r\n                  )}\r\n                  {userProfile.company && (\r\n                    <div className=\"info-item\">\r\n                      <span className=\"info-icon\">🏢</span>\r\n                      <span>{userProfile.company}</span>\r\n                      {userProfile.jobTitle && <span className=\"job-title\"> • {userProfile.jobTitle}</span>}\r\n                    </div>\r\n                  )}\r\n                  {userProfile.website && (\r\n                    <div className=\"info-item\">\r\n                      <span className=\"info-icon\">🔗</span>\r\n                      <a href={userProfile.website} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        {userProfile.website}\r\n                      </a>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Social Links */}\r\n              {userProfile.socialLinks && Object.values(userProfile.socialLinks).some(link => link) && (\r\n                <div className=\"social-links\">\r\n                  <h4>Social Links</h4>\r\n                  <div className=\"social-icons\">\r\n                    {userProfile.socialLinks.twitter && (\r\n                      <a href={`https://twitter.com/${userProfile.socialLinks.twitter.replace('@', '')}`} \r\n                         target=\"_blank\" rel=\"noopener noreferrer\" className=\"social-link\">\r\n                        🐦\r\n                      </a>\r\n                    )}\r\n                    {userProfile.socialLinks.linkedin && (\r\n                      <a href={`https://linkedin.com/in/${userProfile.socialLinks.linkedin}`} \r\n                         target=\"_blank\" rel=\"noopener noreferrer\" className=\"social-link\">\r\n                        💼\r\n                      </a>\r\n                    )}\r\n                    {userProfile.socialLinks.github && (\r\n                      <a href={`https://github.com/${userProfile.socialLinks.github}`} \r\n                         target=\"_blank\" rel=\"noopener noreferrer\" className=\"social-link\">\r\n                        🐙\r\n                      </a>\r\n                    )}\r\n                    {userProfile.socialLinks.instagram && (\r\n                      <a href={`https://instagram.com/${userProfile.socialLinks.instagram.replace('@', '')}`} \r\n                         target=\"_blank\" rel=\"noopener noreferrer\" className=\"social-link\">\r\n                        📷\r\n                      </a>\r\n                    )}\r\n                    {userProfile.socialLinks.facebook && (\r\n                      <a href={`https://facebook.com/${userProfile.socialLinks.facebook}`} \r\n                         target=\"_blank\" rel=\"noopener noreferrer\" className=\"social-link\">\r\n                        👤\r\n                      </a>\r\n                    )}\r\n                    {userProfile.socialLinks.youtube && (\r\n                      <a href={`https://youtube.com/c/${userProfile.socialLinks.youtube}`} \r\n                         target=\"_blank\" rel=\"noopener noreferrer\" className=\"social-link\">\r\n                        📺\r\n                      </a>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"profile-sections\">\r\n          <h3>Recent Uploads</h3>\r\n          <div className=\"profile-section\">\r\n            {renderMediaGrid(userUploads.slice(0, 4))}\r\n            {userUploads.length > 4 && (\r\n              <button \r\n                className=\"view-more-btn\"\r\n                onClick={() => handleTabChange('uploads')}\r\n              >\r\n                View all uploads\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <h3>Recently Viewed</h3>\r\n          <div className=\"profile-section\">\r\n            {renderViewHistory(viewHistory.slice(0, 3))}\r\n            {viewHistory.length > 3 && (\r\n              <button \r\n                className=\"view-more-btn\"\r\n                onClick={() => handleTabChange('history')}\r\n              >\r\n                View full history\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`user-profile-container ${isVisible ? 'visible' : ''} ${isClosing ? 'closing' : ''}`}>\r\n      <div className=\"profile-header-gradient\"></div>\r\n      \r\n      <div className=\"user-profile-header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"profile-title-section\">\r\n            <h2 className=\"profile-title\">{username}'s Profile</h2>\r\n            <div className=\"profile-subtitle\">\r\n              {userProfile?.isOnline ? (\r\n                <span className=\"online-indicator\">🟢 Online</span>\r\n              ) : (\r\n                <span className=\"offline-indicator\">⚪ Offline</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <button className=\"close-btn\" onClick={onClose}>\r\n            <span className=\"close-icon\">×</span>\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"profile-tabs\">\r\n          <div className=\"tabs-container\">\r\n            <button \r\n              className={`tab-btn ${activeTab === 'profile' ? 'active' : ''}`}\r\n              onClick={() => handleTabChange('profile')}\r\n            >\r\n              <span className=\"tab-icon\">👤</span>\r\n              <span className=\"tab-label\">Profile</span>\r\n            </button>\r\n            <button \r\n              className={`tab-btn ${activeTab === 'uploads' ? 'active' : ''}`}\r\n              onClick={() => handleTabChange('uploads')}\r\n            >\r\n              <span className=\"tab-icon\">📁</span>\r\n              <span className=\"tab-label\">Media</span>\r\n            </button>\r\n            <button \r\n              className={`tab-btn ${activeTab === 'history' ? 'active' : ''}`}\r\n              onClick={() => handleTabChange('history')}\r\n            >\r\n              <span className=\"tab-icon\">📚</span>\r\n              <span className=\"tab-label\">History</span>\r\n            </button>\r\n            <button \r\n              className={`tab-btn ${activeTab === 'contacts' ? 'active' : ''}`}\r\n              onClick={() => {\r\n                setSelectedContact(null);\r\n                setShowContactModal(true);\r\n              }}\r\n            >\r\n              <span className=\"tab-icon\">👥</span>\r\n              <span className=\"tab-label\">Contacts</span>\r\n            </button>\r\n            {isOwnProfile && (\r\n              <button \r\n                className={`tab-btn ${activeTab === 'encryption' ? 'active' : ''}`}\r\n                onClick={() => setShowEncryptionSettings(true)}\r\n              >\r\n                <span className=\"tab-icon\">🔒</span>\r\n                <span className=\"tab-label\">Security</span>\r\n              </button>\r\n            )}\r\n            <div className=\"tab-indicator\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"user-profile-content\">\r\n        <div className=\"content-wrapper\">\r\n          {loading ? (\r\n            <div className=\"loading-container\">\r\n              <div className=\"loading-spinner\">\r\n                <div className=\"spinner-ring\"></div>\r\n                <div className=\"spinner-ring\"></div>\r\n                <div className=\"spinner-ring\"></div>\r\n              </div>\r\n              <p className=\"loading-text\">Loading profile...</p>\r\n            </div>\r\n          ) : error ? (\r\n            <div className=\"error-container\">\r\n              <div className=\"error-icon\">⚠️</div>\r\n              <p className=\"error-message\">{error}</p>\r\n              <button className=\"retry-btn\" onClick={() => window.location.reload()}>\r\n                Retry\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"tab-content\">\r\n              {activeTab === 'profile' && renderProfileInfo()}\r\n              {activeTab === 'uploads' && (\r\n                <div className=\"uploads-container\">\r\n                  <h3>Media Gallery</h3>\r\n                  <EnhancedMediaGallery\r\n                    userUploads={userUploads}\r\n                    userId={userId}\r\n                    isOwnProfile={isOwnProfile}\r\n                    onRefresh={() => {\r\n                      // Refresh uploads data\r\n                      userDataService.fetchUserUploads(userId).then(setUserUploads);\r\n                    }}\r\n                  />\r\n                </div>\r\n              )}\r\n              {activeTab === 'history' && (\r\n                <div className=\"history-container\">\r\n                  <h3>View History</h3>\r\n                  {renderViewHistory()}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Edit Profile Modal */}\r\n      {showEditModal && (\r\n        <EditProfileModal\r\n          userProfile={userProfile}\r\n          onClose={() => setShowEditModal(false)}\r\n          onSave={handleProfileSave}\r\n        />\r\n      )}\r\n\r\n      {/* Privacy Settings Modal */}\r\n      {showPrivacyModal && (\r\n        <PrivacySettings\r\n          userProfile={userProfile}\r\n          onClose={() => setShowPrivacyModal(false)}\r\n          onSave={handleProfileSave}\r\n        />\r\n      )}\r\n\r\n      {/* Profile Analytics Modal */}\r\n      {showAnalyticsModal && (\r\n        <ProfileAnalytics\r\n          userProfile={userProfile}\r\n          onClose={() => setShowAnalyticsModal(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Contact Modal */}\r\n      {showContactModal && (\r\n        <ContactModal\r\n          contact={selectedContact}\r\n          allContacts={contacts}\r\n          onSave={handleContactSave}\r\n          onClose={() => {\r\n            setShowContactModal(false);\r\n            setSelectedContact(null);\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Encryption Settings Modal */}\r\n      {showEncryptionSettings && (\r\n        <EncryptionSettings\r\n          isOpen={showEncryptionSettings}\r\n          currentUser={{ id: userId, username: username }}\r\n          onClose={() => setShowEncryptionSettings(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;","import React, { useEffect, useState, useCallback } from 'react';\r\nimport UserProfile from './UserProfile';\r\nimport './UserProfileModal.css';\r\n\r\nconst UserProfileModal = ({ userId, username, onClose }) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [isClosing, setIsClosing] = useState(false);\r\n\r\n  // Handle closing animation\r\n  const handleClose = useCallback(() => {\r\n    setIsClosing(true);\r\n    setTimeout(() => {\r\n      onClose();\r\n    }, 300); // Match the animation duration\r\n  }, [onClose]);\r\n\r\n  // Trigger entrance animation\r\n  useEffect(() => {\r\n    setIsVisible(true);\r\n  }, []);\r\n\r\n  // Add event listener for ESC key to close the modal\r\n  useEffect(() => {\r\n    const handleEscKey = (e) => {\r\n      if (e.key === 'Escape') {\r\n        handleClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEscKey);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscKey);\r\n    };\r\n  }, [handleClose]);\r\n\r\n  // Prevent body scroll when modal is open\r\n  useEffect(() => {\r\n    document.body.style.overflow = 'hidden';\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, []);\r\n\r\n  // Handle clicks on the backdrop (outside the profile panel)\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target.className.includes('user-profile-modal-backdrop')) {\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`user-profile-modal-backdrop ${isVisible ? 'visible' : ''} ${isClosing ? 'closing' : ''}`}\r\n      onClick={handleBackdropClick}\r\n    >\r\n      <div className=\"modal-glass-effect\">\r\n        <UserProfile \r\n          userId={userId} \r\n          username={username} \r\n          onClose={handleClose}\r\n          isVisible={isVisible}\r\n          isClosing={isClosing}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfileModal;","/**\r\n * Local Storage Service for Quibish\r\n * Provides persistent storage in the browser\r\n */\r\n\r\nclass LocalStorageService {\r\n  constructor() {\r\n    this.MESSAGES_KEY = 'quibish_messages';\r\n    this.USER_DATA_KEY = 'quibish_user_data';\r\n    this.UPLOADS_KEY = 'quibish_uploads';\r\n    this.SETTINGS_KEY = 'quibish_settings';\r\n  }\r\n\r\n  /**\r\n   * Check if localStorage is available\r\n   */\r\n  isAvailable() {\r\n    try {\r\n      const test = '__localStorage_test__';\r\n      localStorage.setItem(test, test);\r\n      localStorage.removeItem(test);\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Save messages to localStorage\r\n   */\r\n  saveMessages(messages) {\r\n    try {\r\n      if (!this.isAvailable()) return false;\r\n      localStorage.setItem(this.MESSAGES_KEY, JSON.stringify(messages));\r\n      console.log('💾 Messages saved to localStorage');\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error saving messages to localStorage:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load messages from localStorage\r\n   */\r\n  loadMessages() {\r\n    try {\r\n      if (!this.isAvailable()) return [];\r\n      const stored = localStorage.getItem(this.MESSAGES_KEY);\r\n      if (stored) {\r\n        const messages = JSON.parse(stored);\r\n        console.log(`📁 Loaded ${messages.length} messages from localStorage`);\r\n        return messages;\r\n      }\r\n      return [];\r\n    } catch (error) {\r\n      console.error('Error loading messages from localStorage:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add a new message and save to localStorage\r\n   */\r\n  addMessage(message) {\r\n    try {\r\n      const messages = this.loadMessages();\r\n      const newMessage = {\r\n        ...message,\r\n        id: message.id || Date.now().toString(),\r\n        timestamp: message.timestamp || new Date().toISOString(),\r\n        localId: Date.now() + Math.random() // Unique local identifier\r\n      };\r\n      messages.push(newMessage);\r\n      this.saveMessages(messages);\r\n      return newMessage;\r\n    } catch (error) {\r\n      console.error('Error adding message to localStorage:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Save uploaded file references\r\n   */\r\n  saveUploadedFiles(files) {\r\n    try {\r\n      if (!this.isAvailable()) return false;\r\n      localStorage.setItem(this.UPLOADS_KEY, JSON.stringify(files));\r\n      console.log('💾 Uploaded files saved to localStorage');\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error saving uploads to localStorage:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load uploaded file references\r\n   */\r\n  loadUploadedFiles() {\r\n    try {\r\n      if (!this.isAvailable()) return [];\r\n      const stored = localStorage.getItem(this.UPLOADS_KEY);\r\n      if (stored) {\r\n        return JSON.parse(stored);\r\n      }\r\n      return [];\r\n    } catch (error) {\r\n      console.error('Error loading uploads from localStorage:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Save user session data\r\n   */\r\n  saveUserData(userData) {\r\n    try {\r\n      if (!this.isAvailable()) return false;\r\n      localStorage.setItem(this.USER_DATA_KEY, JSON.stringify(userData));\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error saving user data to localStorage:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load user session data\r\n   */\r\n  loadUserData() {\r\n    try {\r\n      if (!this.isAvailable()) return null;\r\n      const stored = localStorage.getItem(this.USER_DATA_KEY);\r\n      if (stored) {\r\n        return JSON.parse(stored);\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      console.error('Error loading user data from localStorage:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear all stored data\r\n   */\r\n  clearAllData() {\r\n    try {\r\n      if (!this.isAvailable()) return false;\r\n      localStorage.removeItem(this.MESSAGES_KEY);\r\n      localStorage.removeItem(this.USER_DATA_KEY);\r\n      localStorage.removeItem(this.UPLOADS_KEY);\r\n      localStorage.removeItem(this.SETTINGS_KEY);\r\n      console.log('🗑️ All localStorage data cleared');\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error clearing localStorage:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get storage usage info\r\n   */\r\n  getStorageInfo() {\r\n    try {\r\n      if (!this.isAvailable()) return null;\r\n      \r\n      const messages = this.loadMessages();\r\n      const uploads = this.loadUploadedFiles();\r\n      const userData = this.loadUserData();\r\n      \r\n      return {\r\n        messagesCount: messages.length,\r\n        uploadsCount: uploads.length,\r\n        hasUserData: !!userData,\r\n        totalSize: this.calculateStorageSize()\r\n      };\r\n    } catch (error) {\r\n      console.error('Error getting storage info:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate approximate storage size\r\n   */\r\n  calculateStorageSize() {\r\n    try {\r\n      let total = 0;\r\n      for (let key in localStorage) {\r\n        if (localStorage.hasOwnProperty(key) && key.startsWith('quibish_')) {\r\n          total += localStorage[key].length;\r\n        }\r\n      }\r\n      return total;\r\n    } catch (error) {\r\n      return 0;\r\n    }\r\n  }\r\n}\r\n\r\nconst localStorageService = new LocalStorageService();\r\nexport default localStorageService;","/**\r\n * Authentication Helper\r\n * Automatically handles login for development/testing\r\n */\r\n\r\nconst AUTH_CONFIG = {\r\n  API_BASE: 'http://localhost:5001/api',\r\n  DEFAULT_CREDENTIALS: {\r\n    username: 'admin',\r\n    password: 'admin'\r\n  }\r\n};\r\n\r\n/**\r\n * Check if user is authenticated\r\n * @returns {boolean} - Whether user has a valid token\r\n */\r\nexport const isAuthenticated = () => {\r\n  const token = localStorage.getItem('token') || localStorage.getItem('authToken');\r\n  return !!token;\r\n};\r\n\r\n/**\r\n * Get current auth token\r\n * @returns {string|null} - Auth token or null\r\n */\r\nexport const getAuthToken = () => {\r\n  return localStorage.getItem('token') || localStorage.getItem('authToken');\r\n};\r\n\r\n/**\r\n * Auto-login with admin credentials if no token present\r\n * @returns {Promise<boolean>} - Whether login was successful\r\n */\r\nexport const ensureAuthenticated = async () => {\r\n  // Check if already authenticated\r\n  if (isAuthenticated()) {\r\n    console.log('✅ User already authenticated');\r\n    return true;\r\n  }\r\n\r\n  console.log('🔐 No auth token found, attempting auto-login...');\r\n  \r\n  try {\r\n    const response = await fetch(`${AUTH_CONFIG.API_BASE}/auth/login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(AUTH_CONFIG.DEFAULT_CREDENTIALS)\r\n    });\r\n\r\n    if (!response.ok) {\r\n      console.error('❌ Auto-login failed:', response.status, response.statusText);\r\n      return false;\r\n    }\r\n\r\n    const data = await response.json();\r\n    \r\n    if (data.token) {\r\n      localStorage.setItem('token', data.token);\r\n      localStorage.setItem('authToken', data.token);\r\n      console.log('✅ Auto-login successful');\r\n      return true;\r\n    } else {\r\n      console.error('❌ No token in login response:', data);\r\n      return false;\r\n    }\r\n  } catch (error) {\r\n    console.error('❌ Auto-login error:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Logout user\r\n */\r\nexport const logout = () => {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('authToken');\r\n  sessionStorage.removeItem('token');\r\n  sessionStorage.removeItem('authToken');\r\n  console.log('👋 User logged out');\r\n};\r\n\r\nconst authHelperService = {\r\n  isAuthenticated,\r\n  getAuthToken,\r\n  ensureAuthenticated,\r\n  logout\r\n};\r\n\r\nexport default authHelperService;","/**\r\n * Message Service for Quibish\r\n * Handles messages and real-time updates\r\n */\r\n\r\nimport axios from 'axios';\r\nimport websocketService from './websocketService';\r\nimport localStorageService from './localStorageService';\r\nimport authHelper from '../utils/authHelper';\r\n\r\n// Create an axios instance for messages API\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:5001/api',\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  }\r\n});\r\n\r\n// Add request interceptor to include auth token\r\nAPI.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token') || localStorage.getItem('authToken');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    console.log('🔑 API request with auth:', config.url, token ? 'Token present' : 'No token');\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('❌ Request interceptor error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add response interceptor for better error handling\r\nAPI.interceptors.response.use(\r\n  (response) => {\r\n    console.log('✅ API response success:', response.config.url, response.status);\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error('❌ API response error:', error.config?.url, error.response?.status, error.message);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nclass MessageService {\r\n  constructor() {\r\n    this.messageListeners = [];\r\n    this.typingListeners = [];\r\n    this.connectionStateListeners = [];\r\n    this._typingCallbacks = []; // Legacy support\r\n    \r\n    // Initialize connection state from websocket service\r\n    this._isConnected = websocketService.isConnected;\r\n    \r\n    // Set up WebSocket event listeners\r\n    this.setupWebSocketHandlers();\r\n  }\r\n  \r\n  /**\r\n   * Set up WebSocket event handlers\r\n   */\r\n  setupWebSocketHandlers() {\r\n    // Listen for new messages\r\n    websocketService.addEventListener('message', this.handleIncomingMessage.bind(this));\r\n    \r\n    // Listen for typing updates\r\n    websocketService.addEventListener('typing', this.handleTypingUpdate.bind(this));\r\n    \r\n    // Listen for status updates\r\n    websocketService.addEventListener('status', this.handleStatusUpdate.bind(this));\r\n    \r\n    // Listen for connection state changes\r\n    websocketService.addConnectionListener(this.handleConnectionStateChange.bind(this));\r\n  }\r\n  \r\n  /**\r\n   * Handle incoming message from WebSocket\r\n   * @param {Object} message - Incoming message\r\n   */\r\n  handleIncomingMessage(message) {\r\n    // Save to localStorage for persistence\r\n    localStorageService.addMessage(message);\r\n    \r\n    // Notify all message listeners\r\n    this.messageListeners.forEach(listener => {\r\n      try {\r\n        listener(message);\r\n      } catch (error) {\r\n        console.error('Error in message listener:', error);\r\n      }\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Handle typing status update from WebSocket\r\n   * @param {Object} update - Typing update\r\n   */\r\n  handleTypingUpdate(update) {\r\n    // Support for legacy typing callbacks\r\n    this._typingCallbacks.forEach(callback => {\r\n      try {\r\n        callback(update.username, update.isTyping);\r\n      } catch (error) {\r\n        console.error('Error in typing callback:', error);\r\n      }\r\n    });\r\n    \r\n    // Notify all typing listeners\r\n    this.typingListeners.forEach(listener => {\r\n      try {\r\n        listener(update);\r\n      } catch (error) {\r\n        console.error('Error in typing listener:', error);\r\n      }\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Handle status update from WebSocket\r\n   * @param {Object} update - Status update\r\n   */\r\n  handleStatusUpdate(update) {\r\n    // TODO: Implement status update handling\r\n  }\r\n  \r\n  /**\r\n   * Handle connection state change from WebSocket\r\n   * @param {boolean} connected - Whether connected\r\n   * @param {Object} details - Connection details\r\n   */\r\n  handleConnectionStateChange(connected, details) {\r\n    this._isConnected = connected;\r\n    \r\n    // Notify all connection state listeners\r\n    this.connectionStateListeners.forEach(listener => {\r\n      try {\r\n        listener(connected, details);\r\n      } catch (error) {\r\n        console.error('Error in connection state listener:', error);\r\n      }\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Get messages from server\r\n   * @param {Object} options - Options for fetching messages\r\n   * @param {string} options.conversationId - Filter messages by conversation ID\r\n   * @param {number} options.limit - Maximum number of messages to fetch\r\n   * @param {number} options.page - Page number for pagination\r\n   * @returns {Promise<Array>} - Array of messages\r\n   */\r\n  async getMessages(options = {}) {\r\n    try {\r\n      // Ensure user is authenticated before making API calls\r\n      const isAuth = await authHelper.ensureAuthenticated();\r\n      if (!isAuth) {\r\n        console.warn('⚠️ Authentication failed, using cached messages only');\r\n        return this.loadMessagesFromStorage(options.conversationId) || [];\r\n      }\r\n\r\n      // Build query params\r\n      const params = {};\r\n      \r\n      // Add since parameter if provided\r\n      if (options.since) {\r\n        params.since = options.since;\r\n      }\r\n      \r\n      // Add limit parameter if provided\r\n      if (options.limit) {\r\n        params.limit = options.limit;\r\n      }\r\n      \r\n      // Add conversation ID filter if provided\r\n      if (options.conversationId) {\r\n        params.conversationId = options.conversationId;\r\n      }\r\n      \r\n      const response = await API.get('/messages', { params });\r\n      const messages = response.data.messages || response.data || [];\r\n      \r\n      // Cache messages for offline access\r\n      this.cacheMessages(messages, options.conversationId);\r\n      \r\n      return messages;\r\n    } catch (error) {\r\n      console.error('Error fetching messages:', error);\r\n      \r\n      // Try to load from cache as fallback\r\n      try {\r\n        const cachedMessages = this.loadMessagesFromStorage(options.conversationId);\r\n        if (Array.isArray(cachedMessages) && cachedMessages.length > 0) {\r\n          console.log('Loaded messages from cache');\r\n          return cachedMessages;\r\n        }\r\n      } catch (storageError) {\r\n        console.error('Error loading messages from storage:', storageError);\r\n      }\r\n      \r\n      // Return cached messages if available\r\n      const cachedMessages = localStorage.getItem('cachedMessages');\r\n      if (cachedMessages) {\r\n        return JSON.parse(cachedMessages);\r\n      }\r\n      \r\n      // Return empty array if no cached messages\r\n      return [];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cache messages in localStorage\r\n   * @param {Array} messages - Messages to cache\r\n   * @param {string} conversationId - Conversation ID for scoped caching\r\n   */\r\n  cacheMessages(messages, conversationId = null) {\r\n    try {\r\n      const cacheKey = conversationId ? `messages_${conversationId}` : 'cachedMessages';\r\n      localStorage.setItem(cacheKey, JSON.stringify(messages));\r\n    } catch (error) {\r\n      console.error('Error caching messages:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load messages from localStorage\r\n   * @param {string} conversationId - Conversation ID for scoped loading\r\n   * @returns {Array} - Cached messages\r\n   */\r\n  loadMessagesFromStorage(conversationId = null) {\r\n    try {\r\n      const cacheKey = conversationId ? `messages_${conversationId}` : 'cachedMessages';\r\n      const cachedMessages = localStorage.getItem(cacheKey);\r\n      \r\n      if (cachedMessages) {\r\n        return JSON.parse(cachedMessages);\r\n      }\r\n      \r\n      // Fallback to general messages cache if conversation-specific cache is empty\r\n      if (conversationId) {\r\n        const generalCache = localStorage.getItem('cachedMessages');\r\n        if (generalCache) {\r\n          const allMessages = JSON.parse(generalCache);\r\n          return allMessages.filter(msg => msg.conversationId === conversationId);\r\n        }\r\n      }\r\n      \r\n      return [];\r\n    } catch (error) {\r\n      console.error('Error loading messages from storage:', error);\r\n      return [];\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Send a message\r\n   * @param {string} text - Message text\r\n   * @param {string} sender - Message sender\r\n   * @param {string|null} conversationId - Conversation ID for the message\r\n   * @param {Object} replyTo - Message being replied to (optional)\r\n   * @returns {Promise<Object>} - Sent message\r\n   */\r\n  async sendMessage(text, sender, conversationId = null, replyTo = null) {\r\n    const messageData = {\r\n      text,\r\n      sender,\r\n      conversationId,\r\n      type: 'text',\r\n      timestamp: new Date().toISOString(),\r\n      replyTo\r\n    };\r\n    \r\n    try {\r\n      // Save to localStorage immediately for offline persistence\r\n      localStorageService.addMessage({\r\n        ...messageData,\r\n        senderId: sender,\r\n        senderName: sender,\r\n        id: Date.now().toString(),\r\n        local: true // Mark as locally stored\r\n      });\r\n      \r\n      // Try to send via WebSocket first for better real-time experience\r\n      const wsSuccess = websocketService.send('newMessage', messageData);\r\n      \r\n      // If WebSocket send failed or we're not connected, fall back to HTTP\r\n      if (!wsSuccess) {\r\n        const response = await API.post('/messages', messageData);\r\n        // Update localStorage with server response\r\n        if (response.data.message) {\r\n          localStorageService.addMessage({...response.data.message, local: false});\r\n        }\r\n        return response.data;\r\n      }\r\n      \r\n      return {\r\n        ...messageData,\r\n        id: Date.now(), // Temporary ID until server confirms\r\n        status: 'sent'\r\n      };\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      \r\n      // Create pending message for offline handling\r\n      const pendingMessage = {\r\n        ...messageData,\r\n        id: Date.now(),\r\n        status: 'pending'\r\n      };\r\n      \r\n      // Store in pending messages\r\n      this.storePendingMessage(pendingMessage);\r\n      \r\n      return pendingMessage;\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Store a pending message in localStorage\r\n   * @param {Object} message - Message to store\r\n   */\r\n  storePendingMessage(message) {\r\n    try {\r\n      // Get existing pending messages\r\n      const pendingMessagesJson = localStorage.getItem('pendingMessages');\r\n      const pendingMessages = pendingMessagesJson ? JSON.parse(pendingMessagesJson) : [];\r\n      \r\n      // Add new pending message\r\n      pendingMessages.push(message);\r\n      \r\n      // Store updated pending messages\r\n      localStorage.setItem('pendingMessages', JSON.stringify(pendingMessages));\r\n      \r\n      console.log('Stored pending message:', message.id);\r\n    } catch (error) {\r\n      console.error('Error storing pending message:', error);\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Get status updates\r\n   * @param {Object} options - Options for fetching status updates\r\n   * @returns {Promise<Array>} - Array of status updates\r\n   */\r\n  async getStatusUpdates(options = {}) {\r\n    try {\r\n      // Build query params\r\n      const params = {};\r\n      \r\n      // Add since parameter if provided\r\n      if (options.since) {\r\n        params.since = options.since;\r\n      }\r\n      \r\n      const response = await API.get('/status-updates', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching status updates:', error);\r\n      \r\n      // Return cached updates if available\r\n      const cachedUpdates = localStorage.getItem('statusUpdates');\r\n      if (cachedUpdates) {\r\n        return JSON.parse(cachedUpdates);\r\n      }\r\n      \r\n      return [];\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Mark a message as read\r\n   * @param {string|number} messageId - Message ID\r\n   * @param {string} username - Username of reader\r\n   * @returns {Promise<Object>} - Updated message\r\n   */\r\n  async markAsRead(messageId, username) {\r\n    try {\r\n      const response = await API.post(`/messages/${messageId}/read`, { username });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error marking message as read:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Send a voice message\r\n   * @param {File} audioFile - Audio file\r\n   * @param {string} sender - Message sender\r\n   * @returns {Promise<Object>} - Sent message\r\n   */\r\n  async sendVoiceMessage(audioFile, sender) {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('audio', audioFile);\r\n      formData.append('sender', sender);\r\n      \r\n      const response = await API.post('/messages/voice', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error sending voice message:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Upload a file\r\n   * @param {File} file - File to upload\r\n   * @param {string} sender - Message sender\r\n   * @returns {Promise<Object>} - Uploaded file message\r\n   */\r\n  async uploadFile(file, sender) {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('sender', sender);\r\n      \r\n      const response = await API.post('/messages/file', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error uploading file:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Send typing status\r\n   * @param {string} username - Username of typer\r\n   * @param {boolean} isTyping - Whether user is typing\r\n   */\r\n  sendTypingStatus(username, isTyping) {\r\n    websocketService.send('typing', { username, isTyping });\r\n  }\r\n  \r\n  /**\r\n   * Subscribe to typing updates\r\n   * @param {Function} callback - Callback function\r\n   */\r\n  subscribeToTyping(callback) {\r\n    // Support for legacy typing callbacks\r\n    if (!this._typingCallbacks.includes(callback)) {\r\n      this._typingCallbacks.push(callback);\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Unsubscribe from typing updates\r\n   * @param {Function} callback - Callback function to remove (optional)\r\n   */\r\n  unsubscribeFromTyping(callback = null) {\r\n    if (callback) {\r\n      // Remove specific callback\r\n      this._typingCallbacks = this._typingCallbacks.filter(cb => cb !== callback);\r\n    } else {\r\n      // Clear all callbacks\r\n      this._typingCallbacks = [];\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Add message listener\r\n   * @param {Function} listener - Listener function\r\n   * @returns {Function} - Function to remove listener\r\n   */\r\n  addMessageListener(listener) {\r\n    this.messageListeners.push(listener);\r\n    return () => this.removeMessageListener(listener);\r\n  }\r\n  \r\n  /**\r\n   * Remove message listener\r\n   * @param {Function} listener - Listener function\r\n   */\r\n  removeMessageListener(listener) {\r\n    this.messageListeners = this.messageListeners.filter(l => l !== listener);\r\n  }\r\n  \r\n  /**\r\n   * Add connection state listener\r\n   * @param {Function} listener - Listener function\r\n   * @returns {Function} - Function to remove listener\r\n   */\r\n  addConnectionStateListener(listener) {\r\n    this.connectionStateListeners.push(listener);\r\n    return () => this.removeConnectionStateListener(listener);\r\n  }\r\n  \r\n  /**\r\n   * Remove connection state listener\r\n   * @param {Function} listener - Listener function\r\n   */\r\n  removeConnectionStateListener(listener) {\r\n    this.connectionStateListeners = this.connectionStateListeners.filter(l => l !== listener);\r\n  }\r\n  \r\n  /**\r\n   * Check if connected to server\r\n   * @returns {boolean} - Whether connected\r\n   */\r\n  isConnected() {\r\n    return this._isConnected;\r\n  }\r\n  \r\n  /**\r\n   * Get connection quality\r\n   * @returns {string} - Connection quality\r\n   */\r\n  getConnectionQuality() {\r\n    return websocketService.getConnectionQuality();\r\n  }\r\n  \r\n  /**\r\n   * Get connection metrics\r\n   * @returns {Object} - Connection metrics\r\n   */\r\n  getConnectionMetrics() {\r\n    return websocketService.getConnectionMetrics();\r\n  }\r\n  \r\n  /**\r\n   * Reconnect to server\r\n   * @returns {Promise<boolean>} - Whether reconnection was successful\r\n   */\r\n  async reconnect() {\r\n    try {\r\n      return await websocketService.reconnect();\r\n    } catch (error) {\r\n      console.error('Reconnection failed:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get storage info for debugging\r\n   * @returns {Object} - Storage information\r\n   */\r\n  getStorageInfo() {\r\n    return localStorageService.getStorageInfo();\r\n  }\r\n\r\n  /**\r\n   * Clear all stored messages\r\n   * @returns {boolean} - Whether clear was successful\r\n   */\r\n  clearStoredMessages() {\r\n    return localStorageService.clearAllData();\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst messageService = new MessageService();\r\n\r\n// Initialize WebSocket connection (TEMPORARILY DISABLED)\r\n// TODO: Add WebSocket support to backend or configure proper URL\r\nconsole.log('⚠️ WebSocket connection temporarily disabled - using REST API only');\r\n// websocketService.connect();\r\n\r\nexport default messageService;\r\n","/**\r\n * Native Device Features Service\r\n * Provides access to smartphone native features like camera, contacts, sensors, etc.\r\n */\r\n\r\nclass NativeDeviceFeaturesService {\r\n  constructor() {\r\n    this.capabilities = {\r\n      camera: false,\r\n      microphone: false,\r\n      geolocation: false,\r\n      contacts: false,\r\n      sensors: false,\r\n      fileSystem: false,\r\n      webShare: false,\r\n      notifications: false,\r\n      vibration: false,\r\n      fullscreen: false,\r\n      orientation: false\r\n    };\r\n    \r\n    this.sensors = {\r\n      accelerometer: null,\r\n      gyroscope: null,\r\n      magnetometer: null,\r\n      orientationSensor: null\r\n    };\r\n    \r\n    this.init();\r\n  }\r\n\r\n  async init() {\r\n    await this.detectCapabilities();\r\n    this.setupSensors();\r\n    console.log('✅ Native Device Features Service initialized', this.capabilities);\r\n  }\r\n\r\n  // Detect device capabilities\r\n  async detectCapabilities() {\r\n    // Camera and microphone\r\n    this.capabilities.camera = 'mediaDevices' in navigator && 'getUserMedia' in navigator.mediaDevices;\r\n    this.capabilities.microphone = this.capabilities.camera;\r\n    \r\n    // Geolocation\r\n    this.capabilities.geolocation = 'geolocation' in navigator;\r\n    \r\n    // Contact Picker API\r\n    this.capabilities.contacts = 'contacts' in navigator;\r\n    \r\n    // Generic Sensor API\r\n    this.capabilities.sensors = 'Accelerometer' in window || 'Gyroscope' in window;\r\n    \r\n    // File System Access API\r\n    this.capabilities.fileSystem = 'showOpenFilePicker' in window;\r\n    \r\n    // Web Share API\r\n    this.capabilities.webShare = 'share' in navigator;\r\n    \r\n    // Notifications\r\n    this.capabilities.notifications = 'Notification' in window;\r\n    \r\n    // Vibration\r\n    this.capabilities.vibration = 'vibrate' in navigator;\r\n    \r\n    // Fullscreen\r\n    this.capabilities.fullscreen = 'requestFullscreen' in document.documentElement;\r\n    \r\n    // Screen Orientation\r\n    this.capabilities.orientation = 'orientation' in window.screen;\r\n  }\r\n\r\n  // Camera Access\r\n  async requestCameraAccess(constraints = {}) {\r\n    if (!this.capabilities.camera) {\r\n      throw new Error('Camera not supported');\r\n    }\r\n\r\n    const defaultConstraints = {\r\n      video: {\r\n        width: { ideal: 1920, max: 1920 },\r\n        height: { ideal: 1080, max: 1080 },\r\n        frameRate: { ideal: 30, max: 60 },\r\n        facingMode: 'user' // 'user' for front camera, 'environment' for back camera\r\n      },\r\n      audio: false\r\n    };\r\n\r\n    const finalConstraints = { ...defaultConstraints, ...constraints };\r\n\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia(finalConstraints);\r\n      console.log('✅ Camera access granted');\r\n      return stream;\r\n    } catch (error) {\r\n      console.error('❌ Camera access denied:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Capture photo from camera\r\n  async capturePhoto(facingMode = 'user') {\r\n    try {\r\n      const stream = await this.requestCameraAccess({\r\n        video: { facingMode }\r\n      });\r\n\r\n      return new Promise((resolve, reject) => {\r\n        const video = document.createElement('video');\r\n        const canvas = document.createElement('canvas');\r\n        const context = canvas.getContext('2d');\r\n\r\n        video.srcObject = stream;\r\n        video.play();\r\n\r\n        video.onloadedmetadata = () => {\r\n          canvas.width = video.videoWidth;\r\n          canvas.height = video.videoHeight;\r\n          \r\n          // Capture frame\r\n          context.drawImage(video, 0, 0);\r\n          \r\n          // Convert to blob\r\n          canvas.toBlob((blob) => {\r\n            // Stop camera stream\r\n            stream.getTracks().forEach(track => track.stop());\r\n            \r\n            if (blob) {\r\n              resolve({\r\n                blob,\r\n                dataUrl: canvas.toDataURL('image/jpeg', 0.9),\r\n                width: canvas.width,\r\n                height: canvas.height\r\n              });\r\n            } else {\r\n              reject(new Error('Failed to capture photo'));\r\n            }\r\n          }, 'image/jpeg', 0.9);\r\n        };\r\n\r\n        video.onerror = (error) => {\r\n          stream.getTracks().forEach(track => track.stop());\r\n          reject(error);\r\n        };\r\n      });\r\n    } catch (error) {\r\n      console.error('❌ Photo capture failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Record video\r\n  async recordVideo(duration = 30000) {\r\n    try {\r\n      const stream = await this.requestCameraAccess({\r\n        video: true,\r\n        audio: true\r\n      });\r\n\r\n      const mediaRecorder = new MediaRecorder(stream);\r\n      const chunks = [];\r\n\r\n      return new Promise((resolve, reject) => {\r\n        mediaRecorder.ondataavailable = (event) => {\r\n          if (event.data.size > 0) {\r\n            chunks.push(event.data);\r\n          }\r\n        };\r\n\r\n        mediaRecorder.onstop = () => {\r\n          const blob = new Blob(chunks, { type: 'video/webm' });\r\n          stream.getTracks().forEach(track => track.stop());\r\n          \r\n          resolve({\r\n            blob,\r\n            url: URL.createObjectURL(blob),\r\n            duration: duration\r\n          });\r\n        };\r\n\r\n        mediaRecorder.onerror = (error) => {\r\n          stream.getTracks().forEach(track => track.stop());\r\n          reject(error);\r\n        };\r\n\r\n        mediaRecorder.start();\r\n        \r\n        // Auto-stop after duration\r\n        setTimeout(() => {\r\n          if (mediaRecorder.state === 'recording') {\r\n            mediaRecorder.stop();\r\n          }\r\n        }, duration);\r\n      });\r\n    } catch (error) {\r\n      console.error('❌ Video recording failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Contact Picker\r\n  async pickContacts(options = {}) {\r\n    if (!this.capabilities.contacts) {\r\n      throw new Error('Contact Picker not supported');\r\n    }\r\n\r\n    const defaultOptions = {\r\n      multiple: false,\r\n      properties: ['name', 'email', 'tel']\r\n    };\r\n\r\n    const finalOptions = { ...defaultOptions, ...options };\r\n\r\n    try {\r\n      const contacts = await navigator.contacts.select(finalOptions.properties, {\r\n        multiple: finalOptions.multiple\r\n      });\r\n      \r\n      console.log('✅ Contacts selected:', contacts);\r\n      return contacts;\r\n    } catch (error) {\r\n      console.error('❌ Contact selection failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Geolocation\r\n  async getCurrentLocation(options = {}) {\r\n    if (!this.capabilities.geolocation) {\r\n      throw new Error('Geolocation not supported');\r\n    }\r\n\r\n    const defaultOptions = {\r\n      enableHighAccuracy: true,\r\n      timeout: 10000,\r\n      maximumAge: 60000\r\n    };\r\n\r\n    const finalOptions = { ...defaultOptions, ...options };\r\n\r\n    return new Promise((resolve, reject) => {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          console.log('✅ Location obtained:', position);\r\n          resolve({\r\n            latitude: position.coords.latitude,\r\n            longitude: position.coords.longitude,\r\n            accuracy: position.coords.accuracy,\r\n            altitude: position.coords.altitude,\r\n            timestamp: position.timestamp\r\n          });\r\n        },\r\n        (error) => {\r\n          console.error('❌ Location access failed:', error);\r\n          reject(error);\r\n        },\r\n        finalOptions\r\n      );\r\n    });\r\n  }\r\n\r\n  // Watch location changes\r\n  watchLocation(callback, options = {}) {\r\n    if (!this.capabilities.geolocation) {\r\n      throw new Error('Geolocation not supported');\r\n    }\r\n\r\n    const defaultOptions = {\r\n      enableHighAccuracy: true,\r\n      timeout: 10000,\r\n      maximumAge: 60000\r\n    };\r\n\r\n    const finalOptions = { ...defaultOptions, ...options };\r\n\r\n    return navigator.geolocation.watchPosition(\r\n      (position) => {\r\n        callback({\r\n          latitude: position.coords.latitude,\r\n          longitude: position.coords.longitude,\r\n          accuracy: position.coords.accuracy,\r\n          altitude: position.coords.altitude,\r\n          timestamp: position.timestamp\r\n        });\r\n      },\r\n      (error) => {\r\n        console.error('❌ Location watch failed:', error);\r\n        callback(null, error);\r\n      },\r\n      finalOptions\r\n    );\r\n  }\r\n\r\n  // Setup device sensors\r\n  setupSensors() {\r\n    if (!this.capabilities.sensors) {\r\n      console.log('📱 Device sensors not available');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Accelerometer\r\n      if ('Accelerometer' in window) {\r\n        this.sensors.accelerometer = new window.Accelerometer({ frequency: 60 });\r\n        this.sensors.accelerometer.addEventListener('reading', () => {\r\n          this.handleSensorReading('accelerometer', {\r\n            x: this.sensors.accelerometer.x,\r\n            y: this.sensors.accelerometer.y,\r\n            z: this.sensors.accelerometer.z\r\n          });\r\n        });\r\n      }\r\n\r\n      // Gyroscope\r\n      if ('Gyroscope' in window) {\r\n        this.sensors.gyroscope = new window.Gyroscope({ frequency: 60 });\r\n        this.sensors.gyroscope.addEventListener('reading', () => {\r\n          this.handleSensorReading('gyroscope', {\r\n            x: this.sensors.gyroscope.x,\r\n            y: this.sensors.gyroscope.y,\r\n            z: this.sensors.gyroscope.z\r\n          });\r\n        });\r\n      }\r\n\r\n      // Orientation (fallback)\r\n      if ('DeviceOrientationEvent' in window) {\r\n        window.addEventListener('deviceorientation', (event) => {\r\n          this.handleSensorReading('orientation', {\r\n            alpha: event.alpha, // Z axis\r\n            beta: event.beta,   // X axis\r\n            gamma: event.gamma  // Y axis\r\n          });\r\n        });\r\n      }\r\n\r\n      console.log('✅ Device sensors initialized');\r\n    } catch (error) {\r\n      console.error('❌ Sensor setup failed:', error);\r\n    }\r\n  }\r\n\r\n  // Handle sensor readings\r\n  handleSensorReading(sensorType, data) {\r\n    // Emit custom event for sensor data\r\n    const event = new CustomEvent('device-sensor', {\r\n      detail: {\r\n        type: sensorType,\r\n        data: data,\r\n        timestamp: Date.now()\r\n      }\r\n    });\r\n    \r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  // File System Access\r\n  async openFileDialog(options = {}) {\r\n    if (!this.capabilities.fileSystem) {\r\n      // Fallback to traditional file input\r\n      return this.fallbackFileDialog(options);\r\n    }\r\n\r\n    const defaultOptions = {\r\n      multiple: false,\r\n      types: [\r\n        {\r\n          description: 'Images',\r\n          accept: { 'image/*': ['.png', '.jpg', '.jpeg', '.gif', '.webp'] }\r\n        },\r\n        {\r\n          description: 'Videos',\r\n          accept: { 'video/*': ['.mp4', '.webm', '.ogg'] }\r\n        },\r\n        {\r\n          description: 'Documents',\r\n          accept: { 'application/pdf': ['.pdf'], 'text/*': ['.txt', '.md'] }\r\n        }\r\n      ]\r\n    };\r\n\r\n    const finalOptions = { ...defaultOptions, ...options };\r\n\r\n    try {\r\n      const fileHandles = await window.showOpenFilePicker(finalOptions);\r\n      const files = await Promise.all(\r\n        fileHandles.map(async (handle) => {\r\n          const file = await handle.getFile();\r\n          return { file, handle };\r\n        })\r\n      );\r\n      \r\n      console.log('✅ Files selected via File System API:', files);\r\n      return files;\r\n    } catch (error) {\r\n      console.error('❌ File selection failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Fallback file dialog\r\n  fallbackFileDialog(options = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      const input = document.createElement('input');\r\n      input.type = 'file';\r\n      input.multiple = options.multiple || false;\r\n      \r\n      // Set accept attribute based on types\r\n      if (options.types) {\r\n        const accepts = options.types.flatMap(type => \r\n          Object.values(type.accept).flat()\r\n        );\r\n        input.accept = accepts.join(',');\r\n      }\r\n\r\n      input.onchange = (event) => {\r\n        const files = Array.from(event.target.files).map(file => ({ file }));\r\n        resolve(files);\r\n      };\r\n\r\n      input.onerror = reject;\r\n      input.click();\r\n    });\r\n  }\r\n\r\n  // Web Share API\r\n  async shareContent(data) {\r\n    if (!this.capabilities.webShare) {\r\n      throw new Error('Web Share not supported');\r\n    }\r\n\r\n    try {\r\n      await navigator.share(data);\r\n      console.log('✅ Content shared successfully');\r\n      return true;\r\n    } catch (error) {\r\n      console.error('❌ Sharing failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Share file\r\n  async shareFile(file, data = {}) {\r\n    if (!this.capabilities.webShare) {\r\n      throw new Error('Web Share not supported');\r\n    }\r\n\r\n    try {\r\n      const shareData = {\r\n        files: [file],\r\n        ...data\r\n      };\r\n\r\n      if (navigator.canShare && !navigator.canShare(shareData)) {\r\n        throw new Error('Cannot share this file type');\r\n      }\r\n\r\n      await navigator.share(shareData);\r\n      console.log('✅ File shared successfully');\r\n      return true;\r\n    } catch (error) {\r\n      console.error('❌ File sharing failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Screen Orientation\r\n  async lockOrientation(orientation) {\r\n    if (!this.capabilities.orientation) {\r\n      throw new Error('Screen Orientation not supported');\r\n    }\r\n\r\n    try {\r\n      await window.screen.orientation.lock(orientation);\r\n      console.log(`✅ Orientation locked to ${orientation}`);\r\n    } catch (error) {\r\n      console.error('❌ Orientation lock failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  unlockOrientation() {\r\n    if (this.capabilities.orientation) {\r\n      window.screen.orientation.unlock();\r\n      console.log('✅ Orientation unlocked');\r\n    }\r\n  }\r\n\r\n  // Fullscreen API\r\n  async enterFullscreen(element = document.documentElement) {\r\n    if (!this.capabilities.fullscreen) {\r\n      throw new Error('Fullscreen not supported');\r\n    }\r\n\r\n    try {\r\n      await element.requestFullscreen();\r\n      console.log('✅ Entered fullscreen');\r\n    } catch (error) {\r\n      console.error('❌ Fullscreen failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  exitFullscreen() {\r\n    if (document.fullscreenElement) {\r\n      document.exitFullscreen();\r\n      console.log('✅ Exited fullscreen');\r\n    }\r\n  }\r\n\r\n  // Get device capabilities\r\n  getCapabilities() {\r\n    return { ...this.capabilities };\r\n  }\r\n\r\n  // Check if feature is supported\r\n  isSupported(feature) {\r\n    return this.capabilities[feature] || false;\r\n  }\r\n}\r\n\r\n// Create global instance\r\nconst nativeDeviceFeaturesService = new NativeDeviceFeaturesService();\r\n\r\n// Export utility functions\r\nexport const deviceUtils = {\r\n  // Camera functions\r\n  capturePhoto: (facingMode) => nativeDeviceFeaturesService.capturePhoto(facingMode),\r\n  recordVideo: (duration) => nativeDeviceFeaturesService.recordVideo(duration),\r\n  \r\n  // Contact functions\r\n  pickContacts: (options) => nativeDeviceFeaturesService.pickContacts(options),\r\n  \r\n  // Location functions\r\n  getLocation: (options) => nativeDeviceFeaturesService.getCurrentLocation(options),\r\n  watchLocation: (callback, options) => nativeDeviceFeaturesService.watchLocation(callback, options),\r\n  \r\n  // File functions\r\n  openFiles: (options) => nativeDeviceFeaturesService.openFileDialog(options),\r\n  \r\n  // Share functions\r\n  share: (data) => nativeDeviceFeaturesService.shareContent(data),\r\n  shareFile: (file, data) => nativeDeviceFeaturesService.shareFile(file, data),\r\n  \r\n  // Screen functions\r\n  lockOrientation: (orientation) => nativeDeviceFeaturesService.lockOrientation(orientation),\r\n  unlockOrientation: () => nativeDeviceFeaturesService.unlockOrientation(),\r\n  enterFullscreen: (element) => nativeDeviceFeaturesService.enterFullscreen(element),\r\n  exitFullscreen: () => nativeDeviceFeaturesService.exitFullscreen(),\r\n  \r\n  // Capability checks\r\n  getCapabilities: () => nativeDeviceFeaturesService.getCapabilities(),\r\n  isSupported: (feature) => nativeDeviceFeaturesService.isSupported(feature)\r\n};\r\n\r\nexport default nativeDeviceFeaturesService;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { mobileUtils } from '../../services/mobileInteractionService';\r\nimport { contactService } from '../../services/contactService';\r\nimport InternationalDialer from '../Voice/InternationalDialer';\r\nimport './ContactModal.css';\r\n\r\nconst ContactModal = ({ isOpen, contact, onClose, onSave, darkMode = false, allContacts = [] }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    nickname: '',\r\n    emails: [{ type: 'personal', value: '' }],\r\n    phones: [{ type: 'mobile', value: '' }],\r\n    company: '',\r\n    jobTitle: '',\r\n    website: '',\r\n    location: '',\r\n    notes: '',\r\n    category: 'friends',\r\n    tags: [],\r\n    avatar: null,\r\n    birthdate: '',\r\n    relationship: '',\r\n    linkedContacts: [],\r\n    importance: 'normal',\r\n    socialLinks: {\r\n      twitter: '',\r\n      linkedin: '',\r\n      instagram: '',\r\n      facebook: '',\r\n      github: '',\r\n      discord: ''\r\n    }\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [saving, setSaving] = useState(false);\r\n  const [newTag, setNewTag] = useState('');\r\n  const [activeTab, setActiveTab] = useState('basic');\r\n  const [duplicateWarning, setDuplicateWarning] = useState(null);\r\n  const [potentialDuplicates, setPotentialDuplicates] = useState([]);\r\n  const [showDuplicateModal, setShowDuplicateModal] = useState(false);\r\n  const [showInternationalDialer, setShowInternationalDialer] = useState(false);\r\n\r\n  // Initialize form data when contact changes\r\n  useEffect(() => {\r\n    if (contact) {\r\n      setFormData({\r\n        name: contact.name || '',\r\n        nickname: contact.nickname || '',\r\n        emails: contact.emails || (contact.email ? [{ type: 'personal', value: contact.email }] : [{ type: 'personal', value: '' }]),\r\n        phones: contact.phones || (contact.phone ? [{ type: 'mobile', value: contact.phone }] : [{ type: 'mobile', value: '' }]),\r\n        company: contact.company || '',\r\n        jobTitle: contact.jobTitle || '',\r\n        website: contact.website || '',\r\n        location: contact.location || '',\r\n        notes: contact.notes || '',\r\n        category: contact.category || 'friends',\r\n        tags: contact.tags || [],\r\n        avatar: contact.avatar || null,\r\n        birthdate: contact.birthdate || '',\r\n        relationship: contact.relationship || '',\r\n        linkedContacts: contact.linkedContacts || [],\r\n        importance: contact.importance || 'normal',\r\n        socialLinks: {\r\n          twitter: contact.socialLinks?.twitter || '',\r\n          linkedin: contact.socialLinks?.linkedin || '',\r\n          instagram: contact.socialLinks?.instagram || '',\r\n          facebook: contact.socialLinks?.facebook || '',\r\n          github: contact.socialLinks?.github || '',\r\n          discord: contact.socialLinks?.discord || ''\r\n        }\r\n      });\r\n    } else {\r\n      // Reset form for new contact\r\n      setFormData({\r\n        name: '',\r\n        nickname: '',\r\n        emails: [{ type: 'personal', value: '' }],\r\n        phones: [{ type: 'mobile', value: '' }],\r\n        company: '',\r\n        jobTitle: '',\r\n        website: '',\r\n        location: '',\r\n        notes: '',\r\n        category: 'friends',\r\n        tags: [],\r\n        avatar: null,\r\n        birthdate: '',\r\n        relationship: '',\r\n        linkedContacts: [],\r\n        importance: 'normal',\r\n        socialLinks: {\r\n          twitter: '',\r\n          linkedin: '',\r\n          instagram: '',\r\n          facebook: '',\r\n          github: '',\r\n          discord: ''\r\n        }\r\n      });\r\n    }\r\n    setErrors({});\r\n  }, [contact, isOpen]);\r\n\r\n  // Handle input changes\r\n  const handleInputChange = useCallback((field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n    \r\n    // Clear error for this field\r\n    if (errors[field]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [field]: null\r\n      }));\r\n    }\r\n  }, [errors]);\r\n\r\n  // Handle social links changes\r\n  const handleSocialLinkChange = useCallback((platform, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      socialLinks: {\r\n        ...prev.socialLinks,\r\n        [platform]: value\r\n      }\r\n    }));\r\n  }, []);\r\n\r\n  // Handle phone number changes\r\n  const handlePhoneChange = useCallback((index, field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      phones: prev.phones.map((phone, i) => \r\n        i === index ? { ...phone, [field]: value } : phone\r\n      )\r\n    }));\r\n  }, []);\r\n\r\n  // Add new phone number\r\n  const handleAddPhone = useCallback(() => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      phones: [...prev.phones, { type: 'mobile', value: '' }]\r\n    }));\r\n    mobileUtils?.haptic?.('light');\r\n  }, []);\r\n\r\n  // Remove phone number\r\n  const handleRemovePhone = useCallback((index) => {\r\n    if (formData.phones.length > 1) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        phones: prev.phones.filter((_, i) => i !== index)\r\n      }));\r\n      mobileUtils?.haptic?.('light');\r\n    }\r\n  }, [formData.phones.length]);\r\n\r\n  // Handle email changes\r\n  const handleEmailChange = useCallback((index, field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      emails: prev.emails.map((email, i) => \r\n        i === index ? { ...email, [field]: value } : email\r\n      )\r\n    }));\r\n  }, []);\r\n\r\n  // Add new email\r\n  const handleAddEmail = useCallback(() => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      emails: [...prev.emails, { type: 'personal', value: '' }]\r\n    }));\r\n    mobileUtils?.haptic?.('light');\r\n  }, []);\r\n\r\n  // Remove email\r\n  const handleRemoveEmail = useCallback((index) => {\r\n    if (formData.emails.length > 1) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        emails: prev.emails.filter((_, i) => i !== index)\r\n      }));\r\n      mobileUtils?.haptic?.('light');\r\n    }\r\n  }, [formData.emails.length]);\r\n\r\n  // Add tag\r\n  const handleAddTag = useCallback(() => {\r\n    if (newTag.trim() && !formData.tags.includes(newTag.trim())) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        tags: [...prev.tags, newTag.trim()]\r\n      }));\r\n      setNewTag('');\r\n      mobileUtils?.haptic?.('light');\r\n    }\r\n  }, [newTag, formData.tags]);\r\n\r\n  // Remove tag\r\n  const handleRemoveTag = useCallback((tagToRemove) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      tags: prev.tags.filter(tag => tag !== tagToRemove)\r\n    }));\r\n    mobileUtils?.haptic?.('light');\r\n  }, []);\r\n\r\n  // Handle linked contact changes\r\n  const handleLinkedContactChange = useCallback((contactId) => {\r\n    setFormData(prev => {\r\n      const isLinked = prev.linkedContacts.includes(contactId);\r\n      return {\r\n        ...prev,\r\n        linkedContacts: isLinked \r\n          ? prev.linkedContacts.filter(id => id !== contactId)\r\n          : [...prev.linkedContacts, contactId]\r\n      };\r\n    });\r\n    mobileUtils?.haptic?.('light');\r\n  }, []);\r\n\r\n  // Enhanced validation with duplicate checking\r\n  const validateForm = useCallback(async () => {\r\n    const newErrors = {};\r\n\r\n    // Name validation\r\n    if (!formData.name.trim()) {\r\n      newErrors.name = 'Name is required';\r\n    } else if (formData.name.trim().length < 2) {\r\n      newErrors.name = 'Name must be at least 2 characters';\r\n    }\r\n\r\n    // Email validation\r\n    formData.emails.forEach((email, index) => {\r\n      if (email.value && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email.value)) {\r\n        newErrors[`email_${index}`] = 'Invalid email format';\r\n      }\r\n    });\r\n\r\n    // Phone validation\r\n    formData.phones.forEach((phone, index) => {\r\n      if (phone.value) {\r\n        const cleanPhone = phone.value.replace(/[\\s\\-()\\\\+]/g, '');\r\n        if (!/^[0-9]{7,15}$/.test(cleanPhone)) {\r\n          newErrors[`phone_${index}`] = 'Invalid phone number (7-15 digits)';\r\n        }\r\n      }\r\n    });\r\n\r\n    // Website validation\r\n    if (formData.website && !/^https?:\\/\\/.+\\..+/.test(formData.website)) {\r\n      newErrors.website = 'Website must be a valid URL (http:// or https://)';\r\n    }\r\n\r\n    // Birthdate validation\r\n    if (formData.birthdate) {\r\n      const date = new Date(formData.birthdate);\r\n      const today = new Date();\r\n      const minDate = new Date('1900-01-01');\r\n      \r\n      if (date > today) {\r\n        newErrors.birthdate = 'Birthdate cannot be in the future';\r\n      } else if (date < minDate) {\r\n        newErrors.birthdate = 'Please enter a valid birthdate';\r\n      }\r\n    }\r\n\r\n    // Social links validation\r\n    Object.entries(formData.socialLinks).forEach(([platform, value]) => {\r\n      if (value) {\r\n        let isValid = true;\r\n        switch (platform) {\r\n          case 'twitter':\r\n            isValid = /^@?[A-Za-z0-9_]{1,15}$/.test(value);\r\n            break;\r\n          case 'linkedin':\r\n            isValid = /^(linkedin\\.com\\/in\\/[A-Za-z0-9_-]+|[A-Za-z0-9_-]+)$/.test(value);\r\n            break;\r\n          case 'instagram':\r\n            isValid = /^@?[A-Za-z0-9_.]{1,30}$/.test(value);\r\n            break;\r\n          case 'github':\r\n            isValid = /^[A-Za-z0-9_-]{1,39}$/.test(value);\r\n            break;\r\n          case 'discord':\r\n            isValid = /^.{2,32}#[0-9]{4}$/.test(value);\r\n            break;\r\n          default:\r\n            // Other platforms are allowed without specific validation\r\n            break;\r\n        }\r\n        if (!isValid) {\r\n          newErrors[`social_${platform}`] = `Invalid ${platform} format`;\r\n        }\r\n      }\r\n    });\r\n\r\n    // Check for duplicates\r\n    try {\r\n      const duplicates = await contactService.findDuplicates(formData, contact?.id);\r\n      if (duplicates.length > 0) {\r\n        setDuplicateWarning({\r\n          message: `Similar contact found: ${duplicates[0].name}`,\r\n          duplicates: duplicates\r\n        });\r\n      } else {\r\n        setDuplicateWarning(null);\r\n      }\r\n\r\n      // Check for potential duplicates with similarity scoring\r\n      const potentials = await contactService.getPotentialDuplicates(formData, 0.6);\r\n      setPotentialDuplicates(potentials.filter(p => p.contact.id !== contact?.id));\r\n    } catch (error) {\r\n      console.error('Error checking duplicates:', error);\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  }, [formData, contact?.id]);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = useCallback(async (e) => {\r\n    e.preventDefault();\r\n    \r\n    const isValid = await validateForm();\r\n    if (!isValid) {\r\n      mobileUtils?.haptic?.('error');\r\n      return;\r\n    }\r\n\r\n    setSaving(true);\r\n    \r\n    try {\r\n      // Clean up social links (remove empty ones)\r\n      const cleanSocialLinks = Object.fromEntries(\r\n        Object.entries(formData.socialLinks).filter(([_, value]) => value.trim())\r\n      );\r\n\r\n      // Clean up emails and phones (remove empty ones)\r\n      const cleanEmails = formData.emails.filter(email => email.value.trim());\r\n      const cleanPhones = formData.phones.filter(phone => phone.value.trim());\r\n\r\n      const contactData = {\r\n        ...formData,\r\n        emails: cleanEmails,\r\n        phones: cleanPhones,\r\n        socialLinks: cleanSocialLinks,\r\n        // Keep legacy fields for backward compatibility\r\n        email: cleanEmails[0]?.value || '',\r\n        phone: cleanPhones[0]?.value || '',\r\n        updatedAt: new Date().toISOString()\r\n      };\r\n\r\n      if (!contact) {\r\n        contactData.createdAt = new Date().toISOString();\r\n        contactData.id = `contact_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n      }\r\n\r\n      await onSave(contactData);\r\n      mobileUtils?.haptic?.('success');\r\n    } catch (error) {\r\n      console.error('Failed to save contact:', error);\r\n      if (error.message.includes('Duplicate contact found')) {\r\n        setDuplicateWarning({\r\n          message: error.message,\r\n          duplicates: []\r\n        });\r\n      }\r\n      mobileUtils?.haptic?.('error');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }, [formData, contact, onSave, validateForm]);\r\n\r\n  // Handle avatar upload\r\n  const handleAvatarUpload = useCallback((e) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          avatar: event.target.result\r\n        }));\r\n      };\r\n      reader.readAsDataURL(file);\r\n      mobileUtils?.haptic?.('light');\r\n    }\r\n  }, []);\r\n\r\n  // Handle merging with existing contact\r\n  const handleMergeContact = async (existingContact) => {\r\n    try {\r\n      setSaving(true);\r\n      \r\n      // Merge current form data with existing contact\r\n      const mergedData = {\r\n        ...existingContact,\r\n        ...formData,\r\n        // Merge arrays\r\n        emails: [\r\n          ...(existingContact.emails || []),\r\n          ...formData.emails.filter(newEmail => \r\n            !(existingContact.emails || []).some(existingEmail => \r\n              existingEmail.value.toLowerCase() === newEmail.value.toLowerCase()\r\n            )\r\n          )\r\n        ],\r\n        phones: [\r\n          ...(existingContact.phones || []),\r\n          ...formData.phones.filter(newPhone => \r\n            !(existingContact.phones || []).some(existingPhone => \r\n              contactService.normalizePhone(existingPhone.value) === contactService.normalizePhone(newPhone.value)\r\n            )\r\n          )\r\n        ],\r\n        tags: [...new Set([...(existingContact.tags || []), ...(formData.tags || [])])],\r\n        socialLinks: {\r\n          ...existingContact.socialLinks,\r\n          ...formData.socialLinks\r\n        }\r\n      };\r\n\r\n      await onSave(mergedData);\r\n      setShowDuplicateModal(false);\r\n      setDuplicateWarning(null);\r\n      setPotentialDuplicates([]);\r\n      mobileUtils?.haptic?.('success');\r\n    } catch (error) {\r\n      console.error('Failed to merge contacts:', error);\r\n      mobileUtils?.haptic?.('error');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  // Get contact data for international dialer\r\n  const getContactForDialer = () => {\r\n    if (formData.phones.length > 0 && formData.phones[0].value) {\r\n      return {\r\n        name: formData.name || 'Contact',\r\n        phone: formData.phones[0].value\r\n      };\r\n    }\r\n    return null;\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className={`contact-modal-overlay ${darkMode ? 'dark' : ''}`}>\r\n      <div className=\"contact-modal\">\r\n        {/* Header */}\r\n        <div className=\"modal-header\">\r\n          <h2>\r\n            {contact ? 'Edit Contact' : 'Add New Contact'}\r\n          </h2>\r\n          <button \r\n            className=\"close-btn\"\r\n            onClick={onClose}\r\n            disabled={saving}\r\n          >\r\n            ✕\r\n          </button>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <form onSubmit={handleSubmit} className=\"contact-form\">\r\n          {/* Tab Navigation */}\r\n          <div className=\"tab-navigation\">\r\n            <button\r\n              type=\"button\"\r\n              className={`tab-btn ${activeTab === 'basic' ? 'active' : ''}`}\r\n              onClick={() => setActiveTab('basic')}\r\n            >\r\n              📝 Basic Info\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className={`tab-btn ${activeTab === 'contact' ? 'active' : ''}`}\r\n              onClick={() => setActiveTab('contact')}\r\n            >\r\n              📞 Contact Details\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className={`tab-btn ${activeTab === 'social' ? 'active' : ''}`}\r\n              onClick={() => setActiveTab('social')}\r\n            >\r\n              🌐 Social & More\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"form-content\">\r\n            {/* Duplicate Warning */}\r\n            {duplicateWarning && (\r\n              <div className=\"duplicate-warning\">\r\n                <div className=\"warning-header\">\r\n                  <span className=\"warning-icon\">⚠️</span>\r\n                  <span className=\"warning-text\">{duplicateWarning.message}</span>\r\n                </div>\r\n                {duplicateWarning.duplicates.length > 0 && (\r\n                  <div className=\"duplicate-actions\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"view-duplicates-btn\"\r\n                      onClick={() => setShowDuplicateModal(true)}\r\n                    >\r\n                      View Similar Contacts\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Potential Duplicates Info */}\r\n            {potentialDuplicates.length > 0 && !duplicateWarning && (\r\n              <div className=\"potential-duplicates-info\">\r\n                <span className=\"info-icon\">💡</span>\r\n                <span>Found {potentialDuplicates.length} potentially similar contact{potentialDuplicates.length > 1 ? 's' : ''}</span>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"view-potential-btn\"\r\n                  onClick={() => setShowDuplicateModal(true)}\r\n                >\r\n                  Review\r\n                </button>\r\n              </div>\r\n            )}\r\n            {activeTab === 'basic' && (\r\n              <>\r\n                {/* Avatar Section */}\r\n                <div className=\"avatar-section\">\r\n                  <div className=\"avatar-container\">\r\n                    <div className=\"contact-avatar-preview\">\r\n                      {formData.avatar ? (\r\n                        <img src={formData.avatar} alt=\"Avatar\" />\r\n                      ) : (\r\n                        <span className=\"avatar-placeholder\">\r\n                          {formData.name.charAt(0).toUpperCase() || '?'}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                    <label className=\"avatar-upload-btn\">\r\n                      📷\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleAvatarUpload}\r\n                        style={{ display: 'none' }}\r\n                      />\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Basic Information */}\r\n                <div className=\"form-section\">\r\n                  <h3>Basic Information</h3>\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label>Full Name *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={formData.name}\r\n                      onChange={(e) => handleInputChange('name', e.target.value)}\r\n                      placeholder=\"John Doe\"\r\n                      className={errors.name ? 'error' : ''}\r\n                      required\r\n                    />\r\n                    {errors.name && <span className=\"error-text\">{errors.name}</span>}\r\n                  </div>\r\n\r\n                  <div className=\"form-row\">\r\n                    <div className=\"form-group\">\r\n                      <label>Nickname</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={formData.nickname}\r\n                        onChange={(e) => handleInputChange('nickname', e.target.value)}\r\n                        placeholder=\"Johnny\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label>Importance</label>\r\n                      <select\r\n                        value={formData.importance}\r\n                        onChange={(e) => handleInputChange('importance', e.target.value)}\r\n                      >\r\n                        <option value=\"low\">🔹 Low</option>\r\n                        <option value=\"normal\">⚪ Normal</option>\r\n                        <option value=\"high\">🔸 High</option>\r\n                        <option value=\"critical\">🔴 Critical</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-row\">\r\n                    <div className=\"form-group\">\r\n                      <label>Birthdate</label>\r\n                      <input\r\n                        type=\"date\"\r\n                        value={formData.birthdate}\r\n                        onChange={(e) => handleInputChange('birthdate', e.target.value)}\r\n                        className={errors.birthdate ? 'error' : ''}\r\n                      />\r\n                      {errors.birthdate && <span className=\"error-text\">{errors.birthdate}</span>}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label>Relationship</label>\r\n                      <select\r\n                        value={formData.relationship}\r\n                        onChange={(e) => handleInputChange('relationship', e.target.value)}\r\n                      >\r\n                        <option value=\"\">Select relationship...</option>\r\n                        <option value=\"spouse\">💑 Spouse</option>\r\n                        <option value=\"partner\">💕 Partner</option>\r\n                        <option value=\"parent\">👨‍👩‍👧‍👦 Parent</option>\r\n                        <option value=\"child\">👶 Child</option>\r\n                        <option value=\"sibling\">👫 Sibling</option>\r\n                        <option value=\"friend\">👬 Friend</option>\r\n                        <option value=\"colleague\">💼 Colleague</option>\r\n                        <option value=\"boss\">👔 Boss</option>\r\n                        <option value=\"employee\">👷 Employee</option>\r\n                        <option value=\"client\">🤝 Client</option>\r\n                        <option value=\"other\">📋 Other</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-row\">\r\n                    <div className=\"form-group\">\r\n                      <label>Location</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={formData.location}\r\n                        onChange={(e) => handleInputChange('location', e.target.value)}\r\n                        placeholder=\"San Francisco, CA\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label>Category</label>\r\n                      <select\r\n                        value={formData.category}\r\n                        onChange={(e) => handleInputChange('category', e.target.value)}\r\n                      >\r\n                        <option value=\"friends\">👫 Friends</option>\r\n                        <option value=\"family\">👨‍👩‍👧‍👦 Family</option>\r\n                        <option value=\"work\">💼 Work</option>\r\n                        <option value=\"business\">🤝 Business</option>\r\n                        <option value=\"other\">📋 Other</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {activeTab === 'contact' && (\r\n              <>\r\n                {/* Email Addresses */}\r\n                <div className=\"form-section\">\r\n                  <div className=\"section-header\">\r\n                    <h3>📧 Email Addresses</h3>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"add-field-btn\"\r\n                      onClick={handleAddEmail}\r\n                      disabled={formData.emails.length >= 5}\r\n                    >\r\n                      ➕ Add Email\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  {formData.emails.map((email, index) => (\r\n                    <div key={index} className=\"field-group\">\r\n                      <div className=\"field-row\">\r\n                        <select\r\n                          value={email.type}\r\n                          onChange={(e) => handleEmailChange(index, 'type', e.target.value)}\r\n                          className=\"field-type-select\"\r\n                        >\r\n                          <option value=\"personal\">Personal</option>\r\n                          <option value=\"work\">Work</option>\r\n                          <option value=\"other\">Other</option>\r\n                        </select>\r\n                        <input\r\n                          type=\"email\"\r\n                          value={email.value}\r\n                          onChange={(e) => handleEmailChange(index, 'value', e.target.value)}\r\n                          placeholder=\"john@example.com\"\r\n                          className={errors[`email_${index}`] ? 'error' : ''}\r\n                        />\r\n                        {formData.emails.length > 1 && (\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"remove-field-btn\"\r\n                            onClick={() => handleRemoveEmail(index)}\r\n                          >\r\n                            ✕\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                      {errors[`email_${index}`] && <span className=\"error-text\">{errors[`email_${index}`]}</span>}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Phone Numbers */}\r\n                <div className=\"form-section\">\r\n                  <div className=\"section-header\">\r\n                    <h3>📱 Phone Numbers</h3>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"add-field-btn\"\r\n                      onClick={handleAddPhone}\r\n                      disabled={formData.phones.length >= 5}\r\n                    >\r\n                      ➕ Add Phone\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  {formData.phones.map((phone, index) => (\r\n                    <div key={index} className=\"field-group\">\r\n                      <div className=\"field-row\">\r\n                        <select\r\n                          value={phone.type}\r\n                          onChange={(e) => handlePhoneChange(index, 'type', e.target.value)}\r\n                          className=\"field-type-select\"\r\n                        >\r\n                          <option value=\"mobile\">📱 Mobile</option>\r\n                          <option value=\"home\">🏠 Home</option>\r\n                          <option value=\"work\">💼 Work</option>\r\n                          <option value=\"fax\">📠 Fax</option>\r\n                          <option value=\"other\">📞 Other</option>\r\n                        </select>\r\n                        <input\r\n                          type=\"tel\"\r\n                          value={phone.value}\r\n                          onChange={(e) => handlePhoneChange(index, 'value', e.target.value)}\r\n                          placeholder=\"+1 (555) 123-4567\"\r\n                          className={errors[`phone_${index}`] ? 'error' : ''}\r\n                        />\r\n                        {phone.value && phone.value.trim() && (\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"call-phone-btn\"\r\n                            onClick={() => setShowInternationalDialer(true)}\r\n                            title=\"Call this number\"\r\n                          >\r\n                            📞\r\n                          </button>\r\n                        )}\r\n                        {formData.phones.length > 1 && (\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"remove-field-btn\"\r\n                            onClick={() => handleRemovePhone(index)}\r\n                          >\r\n                            ✕\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                      {errors[`phone_${index}`] && <span className=\"error-text\">{errors[`phone_${index}`]}</span>}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Work Information */}\r\n                <div className=\"form-section\">\r\n                  <h3>💼 Work Information</h3>\r\n                  \r\n                  <div className=\"form-row\">\r\n                    <div className=\"form-group\">\r\n                      <label>Company</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={formData.company}\r\n                        onChange={(e) => handleInputChange('company', e.target.value)}\r\n                        placeholder=\"Acme Corp\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label>Job Title</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={formData.jobTitle}\r\n                        onChange={(e) => handleInputChange('jobTitle', e.target.value)}\r\n                        placeholder=\"Software Engineer\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label>Website</label>\r\n                    <input\r\n                      type=\"url\"\r\n                      value={formData.website}\r\n                      onChange={(e) => handleInputChange('website', e.target.value)}\r\n                      placeholder=\"https://example.com\"\r\n                      className={errors.website ? 'error' : ''}\r\n                    />\r\n                    {errors.website && <span className=\"error-text\">{errors.website}</span>}\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {activeTab === 'social' && (\r\n              <>\r\n                {/* Social Links */}\r\n                <div className=\"form-section\">\r\n                  <h3>🌐 Social Media</h3>\r\n                  \r\n                  <div className=\"form-row\">\r\n                    <div className=\"form-group\">\r\n                      <label>🐦 Twitter</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={formData.socialLinks.twitter}\r\n                        onChange={(e) => handleSocialLinkChange('twitter', e.target.value)}\r\n                        placeholder=\"@username\"\r\n                        className={errors.social_twitter ? 'error' : ''}\r\n                      />\r\n                      {errors.social_twitter && <span className=\"error-text\">{errors.social_twitter}</span>}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label>💼 LinkedIn</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={formData.socialLinks.linkedin}\r\n                        onChange={(e) => handleSocialLinkChange('linkedin', e.target.value)}\r\n                        placeholder=\"linkedin.com/in/username\"\r\n                        className={errors.social_linkedin ? 'error' : ''}\r\n                      />\r\n                      {errors.social_linkedin && <span className=\"error-text\">{errors.social_linkedin}</span>}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-row\">\r\n                    <div className=\"form-group\">\r\n                      <label>📷 Instagram</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={formData.socialLinks.instagram}\r\n                        onChange={(e) => handleSocialLinkChange('instagram', e.target.value)}\r\n                        placeholder=\"@username\"\r\n                        className={errors.social_instagram ? 'error' : ''}\r\n                      />\r\n                      {errors.social_instagram && <span className=\"error-text\">{errors.social_instagram}</span>}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label>👤 Facebook</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={formData.socialLinks.facebook}\r\n                        onChange={(e) => handleSocialLinkChange('facebook', e.target.value)}\r\n                        placeholder=\"facebook.com/username\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-row\">\r\n                    <div className=\"form-group\">\r\n                      <label>💻 GitHub</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={formData.socialLinks.github}\r\n                        onChange={(e) => handleSocialLinkChange('github', e.target.value)}\r\n                        placeholder=\"username\"\r\n                        className={errors.social_github ? 'error' : ''}\r\n                      />\r\n                      {errors.social_github && <span className=\"error-text\">{errors.social_github}</span>}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label>🎮 Discord</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={formData.socialLinks.discord}\r\n                        onChange={(e) => handleSocialLinkChange('discord', e.target.value)}\r\n                        placeholder=\"username#1234\"\r\n                        className={errors.social_discord ? 'error' : ''}\r\n                      />\r\n                      {errors.social_discord && <span className=\"error-text\">{errors.social_discord}</span>}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Linked Contacts */}\r\n                {allContacts.length > 0 && (\r\n                  <div className=\"form-section\">\r\n                    <h3>🔗 Linked Contacts</h3>\r\n                    <p className=\"section-description\">\r\n                      Link this contact to related people (family, colleagues, etc.)\r\n                    </p>\r\n                    \r\n                    <div className=\"linked-contacts-grid\">\r\n                      {allContacts\r\n                        .filter(c => c.id !== contact?.id)\r\n                        .slice(0, 8)\r\n                        .map(availableContact => (\r\n                          <label key={availableContact.id} className=\"linked-contact-item\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={formData.linkedContacts.includes(availableContact.id)}\r\n                              onChange={() => handleLinkedContactChange(availableContact.id)}\r\n                            />\r\n                            <div className=\"linked-contact-info\">\r\n                              <div className=\"linked-contact-avatar\">\r\n                                {availableContact.avatar ? (\r\n                                  <img src={availableContact.avatar} alt={availableContact.name} />\r\n                                ) : (\r\n                                  <span>{availableContact.name.charAt(0).toUpperCase()}</span>\r\n                                )}\r\n                              </div>\r\n                              <span className=\"linked-contact-name\">{availableContact.name}</span>\r\n                            </div>\r\n                          </label>\r\n                        ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Tags */}\r\n                <div className=\"form-section\">\r\n                  <h3>🏷️ Tags</h3>\r\n                  \r\n                  <div className=\"tags-input\">\r\n                    <div className=\"current-tags\">\r\n                      {formData.tags.map((tag, index) => (\r\n                        <span key={index} className=\"tag\">\r\n                          {tag}\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"remove-tag\"\r\n                            onClick={() => handleRemoveTag(tag)}\r\n                          >\r\n                            ✕\r\n                          </button>\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                    \r\n                    <div className=\"add-tag-section\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={newTag}\r\n                        onChange={(e) => setNewTag(e.target.value)}\r\n                        placeholder=\"Add a tag...\"\r\n                        onKeyPress={(e) => {\r\n                          if (e.key === 'Enter') {\r\n                            e.preventDefault();\r\n                            handleAddTag();\r\n                          }\r\n                        }}\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"add-tag-btn\"\r\n                        onClick={handleAddTag}\r\n                        disabled={!newTag.trim()}\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Notes */}\r\n                <div className=\"form-section\">\r\n                  <h3>📝 Notes</h3>\r\n                  <textarea\r\n                    value={formData.notes}\r\n                    onChange={(e) => handleInputChange('notes', e.target.value)}\r\n                    placeholder=\"Additional notes about this contact...\"\r\n                    rows=\"4\"\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"cancel-btn\"\r\n              onClick={onClose}\r\n              disabled={saving}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"save-btn\"\r\n              disabled={saving || !formData.name.trim()}\r\n            >\r\n              {saving ? (\r\n                <>\r\n                  <div className=\"loading-spinner small\"></div>\r\n                  Saving...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  {contact ? '💾 Update Contact' : '➕ Add Contact'}\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Duplicate Contacts Modal */}\r\n      {showDuplicateModal && (\r\n        <div className=\"duplicate-modal-overlay\">\r\n          <div className=\"duplicate-modal\">\r\n            <div className=\"duplicate-modal-header\">\r\n              <h3>Similar Contacts Found</h3>\r\n              <button \r\n                className=\"close-btn\"\r\n                onClick={() => setShowDuplicateModal(false)}\r\n              >\r\n                ✕\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"duplicate-modal-content\">\r\n              {duplicateWarning?.duplicates?.length > 0 && (\r\n                <>\r\n                  <h4>🚫 Exact Duplicates</h4>\r\n                  <div className=\"duplicate-list\">\r\n                    {duplicateWarning.duplicates.map((duplicate, index) => (\r\n                      <div key={index} className=\"duplicate-item exact\">\r\n                        <div className=\"duplicate-info\">\r\n                          <div className=\"duplicate-avatar\">\r\n                            {duplicate.avatar ? (\r\n                              <img src={duplicate.avatar} alt={duplicate.name} />\r\n                            ) : (\r\n                              <span>{duplicate.name.charAt(0).toUpperCase()}</span>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"duplicate-details\">\r\n                            <div className=\"duplicate-name\">{duplicate.name}</div>\r\n                            <div className=\"duplicate-contact\">\r\n                              {duplicate.emails?.[0]?.value || duplicate.email || \r\n                               duplicate.phones?.[0]?.value || duplicate.phone}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"duplicate-actions\">\r\n                          <button\r\n                            className=\"merge-btn\"\r\n                            onClick={() => handleMergeContact(duplicate)}\r\n                          >\r\n                            Merge\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {potentialDuplicates.length > 0 && (\r\n                <>\r\n                  <h4>🔍 Potential Duplicates</h4>\r\n                  <div className=\"duplicate-list\">\r\n                    {potentialDuplicates.map((potential, index) => (\r\n                      <div key={index} className=\"duplicate-item potential\">\r\n                        <div className=\"duplicate-info\">\r\n                          <div className=\"duplicate-avatar\">\r\n                            {potential.contact.avatar ? (\r\n                              <img src={potential.contact.avatar} alt={potential.contact.name} />\r\n                            ) : (\r\n                              <span>{potential.contact.name.charAt(0).toUpperCase()}</span>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"duplicate-details\">\r\n                            <div className=\"duplicate-name\">{potential.contact.name}</div>\r\n                            <div className=\"duplicate-contact\">\r\n                              {potential.contact.emails?.[0]?.value || potential.contact.email || \r\n                               potential.contact.phones?.[0]?.value || potential.contact.phone}\r\n                            </div>\r\n                            <div className=\"similarity-score\">\r\n                              {Math.round(potential.score * 100)}% similar\r\n                            </div>\r\n                            <div className=\"similarity-reasons\">\r\n                              {potential.reasons.join(', ')}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"duplicate-actions\">\r\n                          <button\r\n                            className=\"merge-btn\"\r\n                            onClick={() => handleMergeContact(potential.contact)}\r\n                          >\r\n                            Merge\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"duplicate-modal-footer\">\r\n              <button\r\n                className=\"cancel-btn\"\r\n                onClick={() => setShowDuplicateModal(false)}\r\n              >\r\n                Keep Separate\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* International Dialer */}\r\n      <InternationalDialer\r\n        isOpen={showInternationalDialer}\r\n        onClose={() => setShowInternationalDialer(false)}\r\n        contact={getContactForDialer()}\r\n        darkMode={darkMode}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactModal;","/**\r\n * Connection Quality and Call Routing Service\r\n * Handles WiFi detection, connection quality assessment, and optimal call routing\r\n */\r\n\r\nclass ConnectionService {\r\n  constructor() {\r\n    this.connectionQuality = 'unknown';\r\n    this.connectionType = 'unknown';\r\n    this.bandwidth = 0;\r\n    this.latency = 0;\r\n    this.isOnline = navigator.onLine;\r\n    this.wifiStrength = 0;\r\n    \r\n    // Initialize connection monitoring\r\n    this.initializeConnectionMonitoring();\r\n  }\r\n\r\n  /**\r\n   * Initialize connection monitoring and event listeners\r\n   */\r\n  initializeConnectionMonitoring() {\r\n    // Listen for online/offline events\r\n    window.addEventListener('online', () => {\r\n      this.isOnline = true;\r\n      this.assessConnectionQuality();\r\n    });\r\n\r\n    window.addEventListener('offline', () => {\r\n      this.isOnline = false;\r\n      this.connectionQuality = 'offline';\r\n    });\r\n\r\n    // Monitor connection changes\r\n    if ('connection' in navigator) {\r\n      const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\r\n      if (connection) {\r\n        connection.addEventListener('change', () => {\r\n          this.updateConnectionInfo(connection);\r\n        });\r\n        this.updateConnectionInfo(connection);\r\n      }\r\n    }\r\n\r\n    // Initial connection assessment\r\n    this.assessConnectionQuality();\r\n  }\r\n\r\n  /**\r\n   * Update connection information from Navigator API\r\n   */\r\n  updateConnectionInfo(connection) {\r\n    this.connectionType = connection.effectiveType || connection.type || 'unknown';\r\n    this.bandwidth = connection.downlink || 0;\r\n    \r\n    // Estimate WiFi strength based on connection type and bandwidth\r\n    if (connection.type === 'wifi' || connection.effectiveType === '4g') {\r\n      this.wifiStrength = this.calculateWiFiStrength(connection);\r\n    }\r\n    \r\n    this.assessConnectionQuality();\r\n  }\r\n\r\n  /**\r\n   * Calculate WiFi strength estimation\r\n   */\r\n  calculateWiFiStrength(connection) {\r\n    if (!connection) return 0;\r\n    \r\n    const downlink = connection.downlink || 0;\r\n    const rtt = connection.rtt || 0;\r\n    \r\n    // Calculate strength based on bandwidth and latency\r\n    let strength = 0;\r\n    \r\n    if (downlink >= 10) strength += 40; // High bandwidth\r\n    else if (downlink >= 5) strength += 30; // Medium bandwidth\r\n    else if (downlink >= 1) strength += 20; // Low bandwidth\r\n    \r\n    if (rtt <= 50) strength += 30; // Low latency\r\n    else if (rtt <= 100) strength += 20; // Medium latency\r\n    else if (rtt <= 200) strength += 10; // High latency\r\n    \r\n    if (connection.effectiveType === '4g') strength += 30;\r\n    else if (connection.effectiveType === '3g') strength += 20;\r\n    else if (connection.effectiveType === 'slow-2g') strength += 5;\r\n    \r\n    return Math.min(100, strength);\r\n  }\r\n\r\n  /**\r\n   * Assess overall connection quality\r\n   */\r\n  async assessConnectionQuality() {\r\n    if (!this.isOnline) {\r\n      this.connectionQuality = 'offline';\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Perform latency test\r\n      const latency = await this.measureLatency();\r\n      this.latency = latency;\r\n\r\n      // Determine quality based on multiple factors\r\n      if (this.connectionType === 'wifi' || this.connectionType === '4g') {\r\n        if (latency < 50 && this.bandwidth > 5) {\r\n          this.connectionQuality = 'excellent';\r\n        } else if (latency < 100 && this.bandwidth > 2) {\r\n          this.connectionQuality = 'good';\r\n        } else if (latency < 200 && this.bandwidth > 1) {\r\n          this.connectionQuality = 'fair';\r\n        } else {\r\n          this.connectionQuality = 'poor';\r\n        }\r\n      } else if (this.connectionType === '3g') {\r\n        this.connectionQuality = latency < 150 ? 'fair' : 'poor';\r\n      } else {\r\n        this.connectionQuality = 'poor';\r\n      }\r\n    } catch (error) {\r\n      console.warn('Connection quality assessment failed:', error);\r\n      this.connectionQuality = 'unknown';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Measure network latency\r\n   */\r\n  async measureLatency() {\r\n    const start = performance.now();\r\n    \r\n    try {\r\n      // Use a small API call to measure latency\r\n      await fetch('/api/ping', { \r\n        method: 'GET',\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      const end = performance.now();\r\n      return end - start;\r\n    } catch (error) {\r\n      // Fallback latency measurement\r\n      return 200; // Default to 200ms if ping fails\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get optimal call method based on connection quality and available options\r\n   */\r\n  getOptimalCallMethod(hasPhoneNumber = false, userPreferences = {}) {\r\n    const quality = this.connectionQuality;\r\n    const isWiFi = this.connectionType === 'wifi';\r\n    \r\n    // Call method priorities based on connection quality\r\n    const methods = [];\r\n    \r\n    if (quality === 'excellent' || quality === 'good') {\r\n      if (isWiFi) {\r\n        methods.push({\r\n          type: 'wifi-call',\r\n          quality: 'high',\r\n          description: 'WiFi Voice Call (HD)',\r\n          icon: '📶',\r\n          estimated_quality: '🔊🔊🔊',\r\n          latency: this.latency,\r\n          bandwidth: this.bandwidth\r\n        });\r\n      }\r\n      \r\n      methods.push({\r\n        type: 'webrtc',\r\n        quality: 'high',\r\n        description: 'Internet Call (HD)',\r\n        icon: '🌐',\r\n        estimated_quality: '🔊🔊🔊'\r\n      });\r\n    }\r\n    \r\n    if (quality === 'fair' || methods.length === 0) {\r\n      methods.push({\r\n        type: 'webrtc-optimized',\r\n        quality: 'medium',\r\n        description: 'Optimized Internet Call',\r\n        icon: '📞',\r\n        estimated_quality: '🔊🔊'\r\n      });\r\n    }\r\n    \r\n    // Add phone fallback if available\r\n    if (hasPhoneNumber) {\r\n      methods.push({\r\n        type: 'phone-call',\r\n        quality: 'standard',\r\n        description: 'Phone Call',\r\n        icon: '📱',\r\n        estimated_quality: '🔊🔊',\r\n        note: 'Uses cellular network'\r\n      });\r\n    }\r\n    \r\n    // Add emergency fallback\r\n    if (quality === 'poor' || quality === 'offline') {\r\n      methods.push({\r\n        type: 'callback-request',\r\n        quality: 'fallback',\r\n        description: 'Request Callback',\r\n        icon: '🔄',\r\n        estimated_quality: '📞',\r\n        note: 'User will call you back'\r\n      });\r\n    }\r\n    \r\n    return methods;\r\n  }\r\n\r\n  /**\r\n   * Get connection status for UI display\r\n   */\r\n  getConnectionStatus() {\r\n    return {\r\n      isOnline: this.isOnline,\r\n      quality: this.connectionQuality,\r\n      type: this.connectionType,\r\n      bandwidth: this.bandwidth,\r\n      latency: this.latency,\r\n      wifiStrength: this.wifiStrength,\r\n      icon: this.getConnectionIcon(),\r\n      color: this.getConnectionColor()\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get connection icon based on quality\r\n   */\r\n  getConnectionIcon() {\r\n    switch (this.connectionQuality) {\r\n      case 'excellent': return '📶';\r\n      case 'good': return '📶';\r\n      case 'fair': return '📶';\r\n      case 'poor': return '📶';\r\n      case 'offline': return '📵';\r\n      default: return '❓';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get connection color for UI\r\n   */\r\n  getConnectionColor() {\r\n    switch (this.connectionQuality) {\r\n      case 'excellent': return '#10b981'; // Green\r\n      case 'good': return '#059669'; // Green\r\n      case 'fair': return '#f59e0b'; // Yellow\r\n      case 'poor': return '#ef4444'; // Red\r\n      case 'offline': return '#6b7280'; // Gray\r\n      default: return '#6b7280'; // Gray\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Optimize audio settings based on connection quality\r\n   */\r\n  getAudioSettings() {\r\n    const quality = this.connectionQuality;\r\n    \r\n    switch (quality) {\r\n      case 'excellent':\r\n        return {\r\n          sampleRate: 48000,\r\n          bitrate: 128,\r\n          echoCancellation: true,\r\n          noiseSuppression: true,\r\n          autoGainControl: true,\r\n          highpassFilter: false\r\n        };\r\n      \r\n      case 'good':\r\n        return {\r\n          sampleRate: 44100,\r\n          bitrate: 96,\r\n          echoCancellation: true,\r\n          noiseSuppression: true,\r\n          autoGainControl: true,\r\n          highpassFilter: true\r\n        };\r\n      \r\n      case 'fair':\r\n        return {\r\n          sampleRate: 22050,\r\n          bitrate: 64,\r\n          echoCancellation: true,\r\n          noiseSuppression: true,\r\n          autoGainControl: true,\r\n          highpassFilter: true\r\n        };\r\n      \r\n      case 'poor':\r\n      default:\r\n        return {\r\n          sampleRate: 16000,\r\n          bitrate: 32,\r\n          echoCancellation: true,\r\n          noiseSuppression: true,\r\n          autoGainControl: true,\r\n          highpassFilter: true\r\n        };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Monitor connection during active call\r\n   */\r\n  startCallMonitoring(onQualityChange) {\r\n    const interval = setInterval(async () => {\r\n      const previousQuality = this.connectionQuality;\r\n      await this.assessConnectionQuality();\r\n      \r\n      if (previousQuality !== this.connectionQuality) {\r\n        onQualityChange({\r\n          previousQuality,\r\n          currentQuality: this.connectionQuality,\r\n          status: this.getConnectionStatus(),\r\n          audioSettings: this.getAudioSettings()\r\n        });\r\n      }\r\n    }, 5000); // Check every 5 seconds\r\n\r\n    return interval; // Return interval ID to clear later\r\n  }\r\n\r\n  /**\r\n   * Stop connection monitoring\r\n   */\r\n  stopCallMonitoring(intervalId) {\r\n    if (intervalId) {\r\n      clearInterval(intervalId);\r\n    }\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst connectionService = new ConnectionService();\r\n\r\nexport default connectionService;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { deviceUtils } from '../../services/nativeDeviceFeaturesService';\r\nimport { mobileUtils } from '../../services/mobileInteractionService';\r\nimport './NativeCamera.css';\r\n\r\nconst NativeCamera = ({ onCapture, onClose, mode = 'photo' }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [facingMode, setFacingMode] = useState('user');\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [stream, setStream] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  \r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const recordingIntervalRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      startCamera();\r\n    } else {\r\n      stopCamera();\r\n    }\r\n\r\n    return () => {\r\n      stopCamera();\r\n    };\r\n  }, [isOpen, facingMode]);\r\n\r\n  useEffect(() => {\r\n    setIsOpen(true);\r\n  }, []);\r\n\r\n  const startCamera = async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const constraints = {\r\n        video: {\r\n          facingMode: facingMode,\r\n          width: { ideal: 1920, max: 1920 },\r\n          height: { ideal: 1080, max: 1080 }\r\n        },\r\n        audio: mode === 'video'\r\n      };\r\n\r\n      const mediaStream = await navigator.mediaDevices.getUserMedia(constraints);\r\n      setStream(mediaStream);\r\n      \r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = mediaStream;\r\n      }\r\n      \r\n      console.log('✅ Camera started');\r\n    } catch (err) {\r\n      console.error('❌ Camera access failed:', err);\r\n      setError('Camera access denied. Please check permissions.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const stopCamera = () => {\r\n    if (stream) {\r\n      stream.getTracks().forEach(track => track.stop());\r\n      setStream(null);\r\n    }\r\n    \r\n    if (recordingIntervalRef.current) {\r\n      clearInterval(recordingIntervalRef.current);\r\n      recordingIntervalRef.current = null;\r\n    }\r\n  };\r\n\r\n  const capturePhoto = async () => {\r\n    if (!videoRef.current || !canvasRef.current) return;\r\n\r\n    mobileUtils.haptic('medium');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const video = videoRef.current;\r\n      const canvas = canvasRef.current;\r\n      const context = canvas.getContext('2d');\r\n\r\n      // Set canvas size to video size\r\n      canvas.width = video.videoWidth;\r\n      canvas.height = video.videoHeight;\r\n\r\n      // Draw video frame to canvas\r\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n\r\n      // Convert to blob\r\n      canvas.toBlob((blob) => {\r\n        if (blob) {\r\n          const photo = {\r\n            blob,\r\n            dataUrl: canvas.toDataURL('image/jpeg', 0.9),\r\n            width: canvas.width,\r\n            height: canvas.height,\r\n            timestamp: Date.now(),\r\n            type: 'photo'\r\n          };\r\n\r\n          onCapture(photo);\r\n          handleClose();\r\n        }\r\n      }, 'image/jpeg', 0.9);\r\n      \r\n    } catch (err) {\r\n      console.error('❌ Photo capture failed:', err);\r\n      setError('Failed to capture photo');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const startVideoRecording = async () => {\r\n    if (!stream) return;\r\n\r\n    mobileUtils.haptic('medium');\r\n    setIsRecording(true);\r\n    setRecordingTime(0);\r\n\r\n    try {\r\n      const mediaRecorder = new MediaRecorder(stream);\r\n      const chunks = [];\r\n\r\n      mediaRecorder.ondataavailable = (event) => {\r\n        if (event.data.size > 0) {\r\n          chunks.push(event.data);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.onstop = () => {\r\n        const blob = new Blob(chunks, { type: 'video/webm' });\r\n        const video = {\r\n          blob,\r\n          url: URL.createObjectURL(blob),\r\n          duration: recordingTime,\r\n          timestamp: Date.now(),\r\n          type: 'video'\r\n        };\r\n\r\n        onCapture(video);\r\n        setIsRecording(false);\r\n        handleClose();\r\n      };\r\n\r\n      mediaRecorder.start();\r\n\r\n      // Start recording timer\r\n      recordingIntervalRef.current = setInterval(() => {\r\n        setRecordingTime(prev => prev + 1);\r\n      }, 1000);\r\n\r\n      // Auto-stop after 30 seconds\r\n      setTimeout(() => {\r\n        if (mediaRecorder.state === 'recording') {\r\n          stopVideoRecording(mediaRecorder);\r\n        }\r\n      }, 30000);\r\n\r\n      // Store reference for manual stop\r\n      window.currentMediaRecorder = mediaRecorder;\r\n      \r\n    } catch (err) {\r\n      console.error('❌ Video recording failed:', err);\r\n      setError('Failed to start recording');\r\n      setIsRecording(false);\r\n    }\r\n  };\r\n\r\n  const stopVideoRecording = (mediaRecorder = window.currentMediaRecorder) => {\r\n    if (mediaRecorder && mediaRecorder.state === 'recording') {\r\n      mediaRecorder.stop();\r\n      mobileUtils.haptic('light');\r\n    }\r\n    \r\n    if (recordingIntervalRef.current) {\r\n      clearInterval(recordingIntervalRef.current);\r\n      recordingIntervalRef.current = null;\r\n    }\r\n  };\r\n\r\n  const switchCamera = () => {\r\n    setFacingMode(prev => prev === 'user' ? 'environment' : 'user');\r\n    mobileUtils.haptic('light');\r\n  };\r\n\r\n  const handleClose = () => {\r\n    stopCamera();\r\n    setIsOpen(false);\r\n    onClose();\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"native-camera-overlay\">\r\n      <div className=\"native-camera-container\">\r\n        {/* Camera Header */}\r\n        <div className=\"camera-header\">\r\n          <button \r\n            className=\"camera-btn close-btn touch-target touch-ripple\"\r\n            onClick={handleClose}\r\n            aria-label=\"Close camera\"\r\n          >\r\n            ✕\r\n          </button>\r\n          \r\n          <div className=\"camera-mode\">\r\n            {mode === 'photo' ? '📷 Photo' : '🎥 Video'}\r\n          </div>\r\n          \r\n          <button \r\n            className=\"camera-btn switch-btn touch-target touch-ripple\"\r\n            onClick={switchCamera}\r\n            aria-label=\"Switch camera\"\r\n            disabled={isLoading}\r\n          >\r\n            🔄\r\n          </button>\r\n        </div>\r\n\r\n        {/* Camera Preview */}\r\n        <div className=\"camera-preview\">\r\n          {isLoading && (\r\n            <div className=\"camera-loading\">\r\n              <div className=\"loading-spinner\"></div>\r\n              <p>Starting camera...</p>\r\n            </div>\r\n          )}\r\n          \r\n          {error && (\r\n            <div className=\"camera-error\">\r\n              <p>{error}</p>\r\n              <button \r\n                className=\"retry-btn touch-target\"\r\n                onClick={startCamera}\r\n              >\r\n                Retry\r\n              </button>\r\n            </div>\r\n          )}\r\n          \r\n          <video\r\n            ref={videoRef}\r\n            autoPlay\r\n            playsInline\r\n            muted\r\n            className=\"camera-video\"\r\n            style={{ display: error ? 'none' : 'block' }}\r\n          />\r\n          \r\n          <canvas\r\n            ref={canvasRef}\r\n            style={{ display: 'none' }}\r\n          />\r\n          \r\n          {/* Recording indicator */}\r\n          {isRecording && (\r\n            <div className=\"recording-indicator\">\r\n              <div className=\"recording-dot\"></div>\r\n              <span>{formatTime(recordingTime)}</span>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Camera overlay guidelines */}\r\n          <div className=\"camera-guidelines\">\r\n            <div className=\"guideline horizontal\"></div>\r\n            <div className=\"guideline vertical\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Camera Controls */}\r\n        <div className=\"camera-controls\">\r\n          {mode === 'photo' ? (\r\n            <button\r\n              className=\"capture-btn photo-btn touch-target touch-ripple haptic-medium\"\r\n              onClick={capturePhoto}\r\n              disabled={isLoading || !stream}\r\n              aria-label=\"Take photo\"\r\n            >\r\n              <div className=\"capture-inner\"></div>\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className={`capture-btn video-btn touch-target touch-ripple haptic-medium ${isRecording ? 'recording' : ''}`}\r\n              onClick={isRecording ? () => stopVideoRecording() : startVideoRecording}\r\n              disabled={isLoading || !stream}\r\n              aria-label={isRecording ? 'Stop recording' : 'Start recording'}\r\n            >\r\n              <div className=\"capture-inner\"></div>\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Camera Tips */}\r\n        <div className=\"camera-tips\">\r\n          {mode === 'photo' ? (\r\n            <p>Tap the circle to take a photo</p>\r\n          ) : (\r\n            <p>{isRecording ? 'Tap to stop recording' : 'Tap to start recording (max 30s)'}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NativeCamera;","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","import React, { useState, useCallback, useEffect, useRef } from 'react';\r\nimport './NewChatModal.css';\r\n\r\n// Mock data for demonstration\r\nconst mockUsers = [\r\n  { id: 'user2', name: 'Alice Johnson', email: 'alice@example.com', avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=40&h=40&fit=crop&crop=face', status: 'online' },\r\n  { id: 'user3', name: 'Bob Smith', email: 'bob@example.com', avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face', status: 'away' },\r\n  { id: 'user4', name: 'Carol White', email: 'carol@example.com', avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=40&h=40&fit=crop&crop=face', status: 'offline' },\r\n  { id: 'user5', name: 'David Brown', email: 'david@example.com', avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face', status: 'online' },\r\n  { id: 'user6', name: 'Eva Green', email: 'eva@example.com', avatar: 'https://images.unsplash.com/photo-1517841905240-472988babdf9?w=40&h=40&fit=crop&crop=face', status: 'busy' },\r\n];\r\n\r\nconst NewChatModal = ({ \r\n  isOpen, \r\n  onClose, \r\n  onCreateChat, \r\n  currentUser,\r\n  darkMode = false \r\n}) => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [recentContacts, setRecentContacts] = useState([]);\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n  const [isGroupChat, setIsGroupChat] = useState(false);\r\n  const [groupName, setGroupName] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const searchInputRef = useRef(null);\r\n\r\n  // Close modal and reset state\r\n  const handleClose = useCallback(() => {\r\n    setSearchQuery('');\r\n    setSearchResults([]);\r\n    setSelectedUsers([]);\r\n    setIsGroupChat(false);\r\n    setGroupName('');\r\n    setError(null);\r\n    setLoading(false);\r\n    onClose();\r\n  }, [onClose]);\r\n\r\n  // Load recent contacts\r\n  const loadRecentContacts = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      // Import services dynamically to avoid circular dependencies\r\n      const { userService } = await import('../../services/apiClient');\r\n      const result = await userService.getAllUsers(5); // Get first 5 users as \"recent\"\r\n      \r\n      if (result.success) {\r\n        // Filter out current user\r\n        const filteredUsers = result.users.filter(user => user.id !== currentUser?.id);\r\n        setRecentContacts(filteredUsers.slice(0, 3));\r\n      } else {\r\n        // Fallback to mock data if API fails\r\n        const filteredMockUsers = mockUsers.filter(user => user.id !== currentUser?.id);\r\n        setRecentContacts(filteredMockUsers.slice(0, 3));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading recent contacts:', error);\r\n      // Fallback to mock data\r\n      const filteredMockUsers = mockUsers.filter(user => user.id !== currentUser?.id);\r\n      setRecentContacts(filteredMockUsers.slice(0, 3));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [currentUser]);\r\n\r\n  // Focus search input when modal opens\r\n  useEffect(() => {\r\n    if (isOpen && searchInputRef.current) {\r\n      setTimeout(() => {\r\n        searchInputRef.current.focus();\r\n      }, 100);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Load recent contacts on mount\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      loadRecentContacts();\r\n    }\r\n  }, [isOpen, loadRecentContacts]);\r\n\r\n  // Search users\r\n  const handleSearch = useCallback(async (query) => {\r\n    if (!query.trim()) {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Import services dynamically to avoid circular dependencies\r\n      const { userService } = await import('../../services/apiClient');\r\n      const result = await userService.searchUsers(query);\r\n      \r\n      if (result.success) {\r\n        setSearchResults(result.users);\r\n      } else {\r\n        setError(result.error || 'Search failed');\r\n        setSearchResults([]);\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to search users');\r\n      console.error('Search error:', err);\r\n      setSearchResults([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Handle search input change\r\n  const handleSearchChange = useCallback((e) => {\r\n    const query = e.target.value;\r\n    setSearchQuery(query);\r\n    handleSearch(query);\r\n  }, [handleSearch]);\r\n\r\n  // Toggle user selection\r\n  const toggleUserSelection = useCallback((user) => {\r\n    setSelectedUsers(prev => {\r\n      const isSelected = prev.find(u => u.id === user.id);\r\n      if (isSelected) {\r\n        return prev.filter(u => u.id !== user.id);\r\n      } else {\r\n        return [...prev, user];\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  // Remove selected user\r\n  const removeSelectedUser = useCallback((userId) => {\r\n    setSelectedUsers(prev => prev.filter(u => u.id !== userId));\r\n  }, []);\r\n\r\n  // Create chat\r\n  const handleCreateChat = useCallback(async () => {\r\n    if (selectedUsers.length === 0) {\r\n      setError('Please select at least one user');\r\n      return;\r\n    }\r\n\r\n    if (isGroupChat && !groupName.trim()) {\r\n      setError('Please enter a group name');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Check if user is authenticated\r\n      const { authService } = await import('../../services/apiClient');\r\n      const token = authService.getToken();\r\n      \r\n      if (!token) {\r\n        setError('You need to be logged in to create conversations. Please refresh the page and log in again.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Import services dynamically to avoid circular dependencies\r\n      const { conversationService } = await import('../../services/apiClient');\r\n      const participants = [currentUser, ...selectedUsers];\r\n      const result = await conversationService.createConversation(\r\n        participants,\r\n        isGroupChat ? 'group' : 'direct',\r\n        isGroupChat ? groupName : null\r\n      );\r\n\r\n      if (result.success) {\r\n        // Call parent handler with the created conversation\r\n        if (onCreateChat) {\r\n          await onCreateChat(result.conversation);\r\n        }\r\n\r\n        // Reset form and close modal\r\n        handleClose();\r\n      } else {\r\n        setError(result.error || 'Failed to create chat');\r\n      }\r\n    } catch (err) {\r\n      // Enhanced error handling for authentication issues\r\n      if (err.message && err.message.includes('Access token is required')) {\r\n        setError('Authentication required. Please refresh the page and log in again.');\r\n      } else if (err.message && err.message.includes('Invalid or expired token')) {\r\n        setError('Your session has expired. Please refresh the page and log in again.');\r\n      } else {\r\n        setError(err.message || 'Failed to create chat');\r\n      }\r\n      console.error('Create chat error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [selectedUsers, isGroupChat, groupName, currentUser, onCreateChat, handleClose]);\r\n\r\n  // Handle escape key\r\n  useEffect(() => {\r\n    const handleEscape = (e) => {\r\n      if (e.key === 'Escape' && isOpen) {\r\n        handleClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEscape);\r\n    return () => document.removeEventListener('keydown', handleEscape);\r\n  }, [isOpen, handleClose]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const displayUsers = searchQuery ? searchResults : recentContacts;\r\n\r\n  return (\r\n    <div className={`new-chat-modal-overlay ${darkMode ? 'dark' : ''}`} onClick={handleClose}>\r\n      <div className=\"new-chat-modal\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"modal-header\">\r\n          <h2>New Chat</h2>\r\n          <button className=\"close-button\" onClick={handleClose}>\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n              <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"modal-content\">\r\n          {/* Chat Type Toggle */}\r\n          <div className=\"chat-type-toggle\">\r\n            <button \r\n              className={`toggle-btn ${!isGroupChat ? 'active' : ''}`}\r\n              onClick={() => setIsGroupChat(false)}\r\n            >\r\n              Direct Chat\r\n            </button>\r\n            <button \r\n              className={`toggle-btn ${isGroupChat ? 'active' : ''}`}\r\n              onClick={() => setIsGroupChat(true)}\r\n            >\r\n              Group Chat\r\n            </button>\r\n          </div>\r\n\r\n          {/* Group Name Input */}\r\n          {isGroupChat && (\r\n            <div className=\"group-name-section\">\r\n              <label htmlFor=\"groupName\">Group Name</label>\r\n              <input\r\n                id=\"groupName\"\r\n                type=\"text\"\r\n                value={groupName}\r\n                onChange={(e) => setGroupName(e.target.value)}\r\n                placeholder=\"Enter group name...\"\r\n                maxLength=\"50\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Selected Users */}\r\n          {selectedUsers.length > 0 && (\r\n            <div className=\"selected-users\">\r\n              <h3>Selected Users ({selectedUsers.length})</h3>\r\n              <div className=\"selected-users-list\">\r\n                {selectedUsers.map(user => (\r\n                  <div key={user.id} className=\"selected-user\">\r\n                    <img src={user.avatar} alt={user.name} className=\"user-avatar\" />\r\n                    <span className=\"user-name\">{user.name}</span>\r\n                    <button \r\n                      className=\"remove-user\"\r\n                      onClick={() => removeSelectedUser(user.id)}\r\n                      title=\"Remove user\"\r\n                    >\r\n                      ×\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Search Section */}\r\n          <div className=\"search-section\">\r\n            <div className=\"search-input-container\">\r\n              <svg className=\"search-icon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\r\n                <path d=\"m21 21-4.35-4.35\"></path>\r\n              </svg>\r\n              <input\r\n                ref={searchInputRef}\r\n                type=\"text\"\r\n                value={searchQuery}\r\n                onChange={handleSearchChange}\r\n                placeholder=\"Search users by name or email...\"\r\n                className=\"search-input\"\r\n              />\r\n              {loading && <div className=\"search-loading\">🔄</div>}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Users List */}\r\n          <div className=\"users-section\">\r\n            <h3>{searchQuery ? 'Search Results' : 'Recent Contacts'}</h3>\r\n            {displayUsers.length > 0 ? (\r\n              <div className=\"users-list\">\r\n                {displayUsers.map(user => {\r\n                  const isSelected = selectedUsers.find(u => u.id === user.id);\r\n                  return (\r\n                    <div \r\n                      key={user.id} \r\n                      className={`user-item ${isSelected ? 'selected' : ''}`}\r\n                      onClick={() => toggleUserSelection(user)}\r\n                    >\r\n                      <img src={user.avatar} alt={user.name} className=\"user-avatar\" />\r\n                      <div className=\"user-info\">\r\n                        <div className=\"user-name\">{user.name}</div>\r\n                        <div className=\"user-email\">{user.email}</div>\r\n                      </div>\r\n                      <div className={`user-status ${user.status}`}></div>\r\n                      {isSelected && (\r\n                        <div className=\"selection-indicator\">✓</div>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : (\r\n              <div className=\"no-users\">\r\n                {searchQuery ? 'No users found' : 'No recent contacts'}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Error Display */}\r\n          {error && (\r\n            <div className=\"error-message\">\r\n              {error}\r\n              {(error.includes('Authentication required') || error.includes('session has expired') || error.includes('Access token is required')) && (\r\n                <div className=\"auth-helper\">\r\n                  <p>Try logging in with demo credentials:</p>\r\n                  <button \r\n                    className=\"demo-login-btn\"\r\n                    onClick={async () => {\r\n                      try {\r\n                        const { authService } = await import('../../services/apiClient');\r\n                        const result = await authService.login('admin', 'admin');\r\n                        if (result.success) {\r\n                          window.location.reload(); // Refresh to update auth state\r\n                        }\r\n                      } catch (err) {\r\n                        console.error('Demo login failed:', err);\r\n                      }\r\n                    }}\r\n                  >\r\n                    Quick Login (admin/admin)\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"modal-footer\">\r\n          <button className=\"cancel-button\" onClick={handleClose} disabled={loading}>\r\n            Cancel\r\n          </button>\r\n          <button \r\n            className=\"create-button\" \r\n            onClick={handleCreateChat}\r\n            disabled={loading || selectedUsers.length === 0}\r\n          >\r\n            {loading ? 'Creating...' : `Create ${isGroupChat ? 'Group' : 'Chat'}`}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewChatModal;","/**\r\n * Enhanced Mobile Interaction Service\r\n * Handles touch gestures, haptic feedback, and mobile-specific interactions\r\n */\r\n\r\nclass MobileInteractionService {\r\n  constructor() {\r\n    this.isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\r\n    this.isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\r\n    this.isAndroid = /Android/.test(navigator.userAgent);\r\n    this.hasHaptic = 'vibrate' in navigator;\r\n    \r\n    this.gestureHandlers = new Map();\r\n    this.scrollDirection = 'down';\r\n    this.lastScrollY = 0;\r\n    this.keyboardHeight = 0;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    // Initialize mobile optimizations\r\n    this.setupViewportHeight();\r\n    this.setupTouchFeedback();\r\n    this.setupGestureHandlers();\r\n    this.setupKeyboardHandling();\r\n    this.setupScrollHandling();\r\n    this.setupPullToRefresh();\r\n    \r\n    console.log('✅ Mobile Interaction Service initialized', {\r\n      isTouch: this.isTouch,\r\n      isIOS: this.isIOS,\r\n      isAndroid: this.isAndroid,\r\n      hasHaptic: this.hasHaptic\r\n    });\r\n  }\r\n\r\n  // Setup dynamic viewport height for mobile browsers\r\n  setupViewportHeight() {\r\n    const setVH = () => {\r\n      const vh = window.innerHeight * 0.01;\r\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n      \r\n      // Also set the CSS custom property for dvh fallback\r\n      document.documentElement.style.setProperty('--app-height', `${window.innerHeight}px`);\r\n    };\r\n\r\n    setVH();\r\n    window.addEventListener('resize', setVH);\r\n    window.addEventListener('orientationchange', () => {\r\n      setTimeout(setVH, 100); // Delay for orientation change completion\r\n    });\r\n  }\r\n\r\n  // Setup touch feedback and haptics\r\n  setupTouchFeedback() {\r\n    if (!this.isTouch) return;\r\n\r\n    // Add touch feedback to all touch targets\r\n    document.addEventListener('touchstart', (e) => {\r\n      const target = e.target.closest('.touch-target, .mobile-action-button, button');\r\n      if (target) {\r\n        target.classList.add('touch-active');\r\n        this.triggerHapticFeedback('light');\r\n      }\r\n    }, { passive: true });\r\n\r\n    document.addEventListener('touchend', (e) => {\r\n      const target = e.target.closest('.touch-target, .mobile-action-button, button');\r\n      if (target) {\r\n        setTimeout(() => {\r\n          target.classList.remove('touch-active');\r\n        }, 150);\r\n      }\r\n    }, { passive: true });\r\n\r\n    // Add ripple effect\r\n    document.addEventListener('touchstart', this.createRippleEffect.bind(this), { passive: true });\r\n  }\r\n\r\n  // Create ripple effect for touch feedback\r\n  createRippleEffect(e) {\r\n    const target = e.target.closest('.touch-ripple');\r\n    if (!target) return;\r\n\r\n    const rect = target.getBoundingClientRect();\r\n    const touch = e.touches[0];\r\n    const x = touch.clientX - rect.left;\r\n    const y = touch.clientY - rect.top;\r\n\r\n    const ripple = document.createElement('div');\r\n    ripple.className = 'ripple';\r\n    ripple.style.cssText = `\r\n      position: absolute;\r\n      border-radius: 50%;\r\n      background: rgba(255, 255, 255, 0.3);\r\n      pointer-events: none;\r\n      left: ${x}px;\r\n      top: ${y}px;\r\n      width: 0;\r\n      height: 0;\r\n      transform: translate(-50%, -50%);\r\n      animation: ripple-animation 0.6s ease-out;\r\n    `;\r\n\r\n    target.appendChild(ripple);\r\n\r\n    setTimeout(() => {\r\n      ripple.remove();\r\n    }, 600);\r\n  }\r\n\r\n  // Setup gesture handlers\r\n  setupGestureHandlers() {\r\n    let startY = 0;\r\n    let startX = 0;\r\n    let currentY = 0;\r\n    let currentX = 0;\r\n    let isScrolling = null;\r\n\r\n    document.addEventListener('touchstart', (e) => {\r\n      startY = e.touches[0].clientY;\r\n      startX = e.touches[0].clientX;\r\n      isScrolling = null;\r\n    }, { passive: true });\r\n\r\n    document.addEventListener('touchmove', (e) => {\r\n      currentY = e.touches[0].clientY;\r\n      currentX = e.touches[0].clientX;\r\n      \r\n      if (isScrolling === null) {\r\n        isScrolling = Math.abs(currentY - startY) > Math.abs(currentX - startX);\r\n      }\r\n\r\n      // Handle swipe gestures\r\n      if (!isScrolling) {\r\n        const deltaX = currentX - startX;\r\n        const target = e.target.closest('.swipeable');\r\n        \r\n        if (target && Math.abs(deltaX) > 30) {\r\n          this.handleSwipeGesture(target, deltaX);\r\n        }\r\n      }\r\n    }, { passive: true });\r\n\r\n    document.addEventListener('touchend', (e) => {\r\n      const deltaY = currentY - startY;\r\n      const deltaX = currentX - startX;\r\n      \r\n      // Detect swipe direction\r\n      if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 50) {\r\n        const direction = deltaX > 0 ? 'right' : 'left';\r\n        this.triggerGestureEvent('swipe', { direction, deltaX, target: e.target });\r\n      } else if (Math.abs(deltaY) > 50) {\r\n        const direction = deltaY > 0 ? 'down' : 'up';\r\n        this.triggerGestureEvent('swipe', { direction, deltaY, target: e.target });\r\n      }\r\n    }, { passive: true });\r\n  }\r\n\r\n  // Handle swipe gestures\r\n  handleSwipeGesture(element, deltaX) {\r\n    const threshold = 80;\r\n    \r\n    if (Math.abs(deltaX) > threshold) {\r\n      if (deltaX > 0) {\r\n        // Swipe right\r\n        element.classList.add('swiped-right');\r\n        this.triggerHapticFeedback('medium');\r\n      } else {\r\n        // Swipe left\r\n        element.classList.add('swiped-left');\r\n        this.triggerHapticFeedback('medium');\r\n      }\r\n    } else {\r\n      // Reset\r\n      element.classList.remove('swiped-right', 'swiped-left');\r\n    }\r\n  }\r\n\r\n  // Setup keyboard handling for mobile\r\n  setupKeyboardHandling() {\r\n    if (!this.isTouch) return;\r\n\r\n    // Visual viewport API for keyboard detection\r\n    if (window.visualViewport) {\r\n      window.visualViewport.addEventListener('resize', () => {\r\n        const heightDiff = window.innerHeight - window.visualViewport.height;\r\n        this.keyboardHeight = heightDiff;\r\n        \r\n        if (heightDiff > 150) {\r\n          // Keyboard is open\r\n          document.body.classList.add('keyboard-open');\r\n          document.documentElement.style.setProperty('--keyboard-height', `${heightDiff}px`);\r\n        } else {\r\n          // Keyboard is closed\r\n          document.body.classList.remove('keyboard-open');\r\n          document.documentElement.style.setProperty('--keyboard-height', '0px');\r\n        }\r\n      });\r\n    } else {\r\n      // Fallback for older browsers\r\n      let initialHeight = window.innerHeight;\r\n      \r\n      window.addEventListener('resize', () => {\r\n        const heightDiff = initialHeight - window.innerHeight;\r\n        \r\n        if (heightDiff > 150) {\r\n          document.body.classList.add('keyboard-open');\r\n        } else {\r\n          document.body.classList.remove('keyboard-open');\r\n        }\r\n      });\r\n    }\r\n\r\n    // Prevent zoom on input focus for iOS\r\n    if (this.isIOS) {\r\n      document.addEventListener('focusin', (e) => {\r\n        if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {\r\n          e.target.style.fontSize = '16px';\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Setup scroll handling for navigation hiding\r\n  setupScrollHandling() {\r\n    let ticking = false;\r\n    \r\n    window.addEventListener('scroll', () => {\r\n      if (!ticking) {\r\n        requestAnimationFrame(() => {\r\n          const currentScrollY = window.pageYOffset;\r\n          const direction = currentScrollY > this.lastScrollY ? 'down' : 'up';\r\n          \r\n          if (direction !== this.scrollDirection) {\r\n            this.scrollDirection = direction;\r\n            this.handleScrollDirection(direction);\r\n          }\r\n          \r\n          this.lastScrollY = currentScrollY;\r\n          ticking = false;\r\n        });\r\n        ticking = true;\r\n      }\r\n    }, { passive: true });\r\n  }\r\n\r\n  // Handle scroll direction changes\r\n  handleScrollDirection(direction) {\r\n    const navigation = document.querySelector('.mobile-navigation');\r\n    \r\n    if (navigation) {\r\n      if (direction === 'down' && this.lastScrollY > 100) {\r\n        navigation.classList.add('hidden');\r\n      } else if (direction === 'up') {\r\n        navigation.classList.remove('hidden');\r\n      }\r\n    }\r\n  }\r\n\r\n  // Setup pull-to-refresh functionality\r\n  setupPullToRefresh() {\r\n    let startY = 0;\r\n    let currentY = 0;\r\n    let isPulling = false;\r\n    \r\n    const refreshElements = document.querySelectorAll('.pull-to-refresh');\r\n    \r\n    refreshElements.forEach(element => {\r\n      element.addEventListener('touchstart', (e) => {\r\n        if (element.scrollTop === 0) {\r\n          startY = e.touches[0].clientY;\r\n          isPulling = true;\r\n        }\r\n      }, { passive: true });\r\n\r\n      element.addEventListener('touchmove', (e) => {\r\n        if (!isPulling) return;\r\n        \r\n        currentY = e.touches[0].clientY;\r\n        const pullDistance = currentY - startY;\r\n        \r\n        if (pullDistance > 0 && element.scrollTop === 0) {\r\n          e.preventDefault();\r\n          \r\n          if (pullDistance > 60) {\r\n            element.classList.add('pulling');\r\n            this.triggerHapticFeedback('light');\r\n          } else {\r\n            element.classList.remove('pulling');\r\n          }\r\n        }\r\n      });\r\n\r\n      element.addEventListener('touchend', (e) => {\r\n        if (!isPulling) return;\r\n        \r\n        isPulling = false;\r\n        const pullDistance = currentY - startY;\r\n        \r\n        if (pullDistance > 80) {\r\n          element.classList.add('refreshing');\r\n          this.triggerHapticFeedback('medium');\r\n          \r\n          // Trigger refresh event\r\n          this.triggerGestureEvent('pullToRefresh', { element });\r\n          \r\n          // Reset after 2 seconds (or when refresh completes)\r\n          setTimeout(() => {\r\n            element.classList.remove('refreshing', 'pulling');\r\n          }, 2000);\r\n        } else {\r\n          element.classList.remove('pulling');\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // Trigger haptic feedback\r\n  triggerHapticFeedback(type = 'light') {\r\n    if (!this.hasHaptic) return;\r\n\r\n    let pattern;\r\n    switch (type) {\r\n      case 'light':\r\n        pattern = [10];\r\n        break;\r\n      case 'medium':\r\n        pattern = [20];\r\n        break;\r\n      case 'heavy':\r\n        pattern = [40];\r\n        break;\r\n      case 'success':\r\n        pattern = [10, 50, 10];\r\n        break;\r\n      case 'error':\r\n        pattern = [20, 100, 20, 100, 20];\r\n        break;\r\n      default:\r\n        pattern = [10];\r\n    }\r\n\r\n    try {\r\n      navigator.vibrate(pattern);\r\n    } catch (error) {\r\n      console.warn('Haptic feedback failed:', error);\r\n    }\r\n  }\r\n\r\n  // Trigger custom gesture events\r\n  triggerGestureEvent(eventName, data) {\r\n    const event = new CustomEvent(`mobile-${eventName}`, {\r\n      detail: data,\r\n      bubbles: true,\r\n      cancelable: true\r\n    });\r\n    \r\n    (data.target || document).dispatchEvent(event);\r\n  }\r\n\r\n  // Add gesture handler\r\n  addGestureHandler(element, gesture, handler) {\r\n    if (!this.gestureHandlers.has(element)) {\r\n      this.gestureHandlers.set(element, new Map());\r\n    }\r\n    \r\n    this.gestureHandlers.get(element).set(gesture, handler);\r\n    element.addEventListener(`mobile-${gesture}`, handler);\r\n  }\r\n\r\n  // Remove gesture handler\r\n  removeGestureHandler(element, gesture) {\r\n    const elementHandlers = this.gestureHandlers.get(element);\r\n    if (elementHandlers) {\r\n      const handler = elementHandlers.get(gesture);\r\n      if (handler) {\r\n        element.removeEventListener(`mobile-${gesture}`, handler);\r\n        elementHandlers.delete(gesture);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Optimize scroll performance\r\n  optimizeScrollPerformance(element) {\r\n    if (!element) return;\r\n    \r\n    element.style.overflowScrolling = 'touch';\r\n    element.style.willChange = 'scroll-position';\r\n    element.style.transform = 'translateZ(0)';\r\n  }\r\n\r\n  // Get device info\r\n  getDeviceInfo() {\r\n    return {\r\n      isTouch: this.isTouch,\r\n      isIOS: this.isIOS,\r\n      isAndroid: this.isAndroid,\r\n      hasHaptic: this.hasHaptic,\r\n      screenWidth: window.screen.width,\r\n      screenHeight: window.screen.height,\r\n      devicePixelRatio: window.devicePixelRatio,\r\n      orientation: window.screen.orientation?.type || 'portrait-primary',\r\n      keyboardHeight: this.keyboardHeight\r\n    };\r\n  }\r\n\r\n  // Prevent default touch behaviors\r\n  preventDefaultTouch(element, options = {}) {\r\n    const {\r\n      preventScroll = false,\r\n      preventZoom = true,\r\n      preventDoubleTap = true\r\n    } = options;\r\n\r\n    if (preventScroll) {\r\n      element.addEventListener('touchmove', (e) => e.preventDefault(), { passive: false });\r\n    }\r\n\r\n    if (preventZoom && this.isIOS) {\r\n      element.addEventListener('gesturestart', (e) => e.preventDefault());\r\n      element.addEventListener('gesturechange', (e) => e.preventDefault());\r\n      element.addEventListener('gestureend', (e) => e.preventDefault());\r\n    }\r\n\r\n    if (preventDoubleTap) {\r\n      element.style.touchAction = 'manipulation';\r\n    }\r\n  }\r\n}\r\n\r\n// Add CSS for ripple animation\r\nconst style = document.createElement('style');\r\nstyle.textContent = `\r\n  @keyframes ripple-animation {\r\n    to {\r\n      width: 300px;\r\n      height: 300px;\r\n      opacity: 0;\r\n    }\r\n  }\r\n  \r\n  .touch-active {\r\n    opacity: 0.7 !important;\r\n    transform: scale(0.95) !important;\r\n  }\r\n`;\r\ndocument.head.appendChild(style);\r\n\r\n// Create global instance\r\nconst mobileInteractionService = new MobileInteractionService();\r\n\r\n// Export utility functions\r\nexport const mobileUtils = {\r\n  // Trigger haptic feedback\r\n  haptic: (type) => mobileInteractionService.triggerHapticFeedback(type),\r\n  \r\n  // Add gesture handler\r\n  addGesture: (element, gesture, handler) => \r\n    mobileInteractionService.addGestureHandler(element, gesture, handler),\r\n  \r\n  // Remove gesture handler\r\n  removeGesture: (element, gesture) => \r\n    mobileInteractionService.removeGestureHandler(element, gesture),\r\n  \r\n  // Optimize element for scrolling\r\n  optimizeScroll: (element) => \r\n    mobileInteractionService.optimizeScrollPerformance(element),\r\n  \r\n  // Get device information\r\n  getDeviceInfo: () => mobileInteractionService.getDeviceInfo(),\r\n  \r\n  // Prevent touch behaviors\r\n  preventTouch: (element, options) => \r\n    mobileInteractionService.preventDefaultTouch(element, options),\r\n  \r\n  // Check if touch device\r\n  isTouch: () => mobileInteractionService.isTouch,\r\n  \r\n  // Check if iOS\r\n  isIOS: () => mobileInteractionService.isIOS,\r\n  \r\n  // Check if Android\r\n  isAndroid: () => mobileInteractionService.isAndroid\r\n};\r\n\r\nexport default mobileInteractionService;","import React, { useState, useEffect, useRef, memo } from 'react';\r\nimport './VideoCall.css';\r\n\r\n/**\r\n * VideoCall component\r\n * Displays a video or audio call interface with remote and local streams\r\n * \r\n * @param {Object} props\r\n * @param {Object} props.callState - The state of the call\r\n * @param {boolean} props.callState.active - Whether the call is active\r\n * @param {Object} props.callState.withUser - The user being called\r\n * @param {boolean} props.callState.minimized - Whether the call UI is minimized\r\n * @param {boolean} props.callState.audioOnly - Whether the call is audio-only (voice call)\r\n * @param {Function} props.onEndCall - Function to handle ending the call\r\n * @param {Function} props.onToggleMinimize - Function to toggle minimized state\r\n */\r\n// Memoize the component to prevent re-renders when parent components update\r\nconst VideoCall = memo(({ callState, onEndCall, onToggleMinimize }) => {\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [isVideoOff, setIsVideoOff] = useState(false);\r\n  const [callDuration, setCallDuration] = useState(0);\r\n  const [connectionStatus, setConnectionStatus] = useState('connecting'); // connecting, connected, failed\r\n  \r\n  const localVideoRef = useRef(null);\r\n  const remoteVideoRef = useRef(null);\r\n  const callTimerRef = useRef(null);\r\n  \r\n  // Extract values from callState\r\n  const { active, withUser, minimized, audioOnly } = callState || {};\r\n  \r\n  // Mock user data for demonstration\r\n  const userAvatar = withUser?.avatar || 'https://via.placeholder.com/100';\r\n  const userName = withUser?.name || 'Unknown User';\r\n  \r\n  // Start timer when connection is established\r\n  useEffect(() => {\r\n    if (connectionStatus === 'connected') {\r\n      callTimerRef.current = setInterval(() => {\r\n        setCallDuration(prev => prev + 1);\r\n      }, 1000);\r\n    }\r\n    \r\n    return () => {\r\n      if (callTimerRef.current) {\r\n        clearInterval(callTimerRef.current);\r\n      }\r\n    };\r\n  }, [connectionStatus]);\r\n  \r\n  // For demonstration purposes - simulate connection after 3 seconds\r\n  useEffect(() => {\r\n    if (active && connectionStatus === 'connecting') {\r\n      const timer = setTimeout(() => {\r\n        setConnectionStatus('connected');\r\n      }, 3000);\r\n      \r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [active, connectionStatus]);\r\n  \r\n  // Reset state when call ends and set initial state based on call type\r\n  useEffect(() => {\r\n    if (!active) {\r\n      setIsMuted(false);\r\n      setIsVideoOff(false);\r\n      setCallDuration(0);\r\n      setConnectionStatus('connecting');\r\n    } else {\r\n      // Always set video off for audio-only calls and prevent it from being turned on\r\n      if (audioOnly) {\r\n        setIsVideoOff(true);\r\n      }\r\n    }\r\n  }, [active, audioOnly]);\r\n  \r\n  // Only run component rendering if call is active\r\n  if (!callState.active) return null;\r\n  \r\n  // Format call duration as MM:SS\r\n  const formatDuration = (seconds) => {\r\n    const mins = Math.floor(seconds / 60).toString().padStart(2, '0');\r\n    const secs = (seconds % 60).toString().padStart(2, '0');\r\n    return `${mins}:${secs}`;\r\n  };\r\n  \r\n  // Toggle mute state\r\n  const toggleMute = () => {\r\n    setIsMuted(!isMuted);\r\n    // In real implementation: toggle audio tracks\r\n  };\r\n  \r\n  // Toggle video state (disabled in audio-only mode)\r\n  const toggleVideo = () => {\r\n    if (audioOnly) return; // Don't allow toggling video in audio-only mode\r\n    setIsVideoOff(!isVideoOff);\r\n    // In real implementation: toggle video tracks\r\n  };\r\n  \r\n  return (\r\n    <div className={`video-call-container ${minimized ? 'minimized' : 'full'} ${audioOnly ? 'audio-only' : ''}`}>\r\n      <div className=\"video-call-header\">\r\n        <div className=\"video-call-title\">\r\n          {audioOnly ? (\r\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" \r\n                stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n            </svg>\r\n          ) : (\r\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M15 10L19.5528 7.72361C20.2177 7.39116 21 7.87465 21 8.61803V15.382C21 16.1253 20.2177 16.6088 19.5528 16.2764L15 14M5 20H13C14.1046 20 15 19.1046 15 18V6C15 4.89543 14.1046 4 13 4H5C3.89543 4 3 4.89543 3 6V18C3 19.1046 3.89543 20 5 20Z\" \r\n                stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n            </svg>\r\n          )}\r\n          {userName}\r\n        </div>\r\n        {connectionStatus === 'connected' && (\r\n          <div className=\"video-call-timer\">{formatDuration(callDuration)}</div>\r\n        )}\r\n        <div className=\"video-call-actions\">\r\n          <button \r\n            className=\"video-call-action\" \r\n            onClick={onToggleMinimize}\r\n            title={minimized ? \"Expand\" : \"Minimize\"}\r\n          >\r\n            {minimized ? (\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M4 14H10V20M20 10H14V4M14 10L21 3M3 21L10 14\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n              </svg>\r\n            ) : (\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M8 3H5C3.89543 3 3 3.89543 3 5V8M21 8V5C21 3.89543 20.1046 3 19 3H16M16 21H19C20.1046 21 21 20.1046 21 19V16M3 16V19C3 20.1046 3.89543 21 5 21H8\" \r\n                  stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n              </svg>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"video-call-streams\">\r\n        {/* Always show placeholder for audio-only calls, or when video is off or still connecting */}\r\n        {(audioOnly || isVideoOff || connectionStatus === 'connecting') ? (\r\n          <div className=\"video-call-placeholder\">\r\n            <img className=\"video-call-avatar\" src={userAvatar} alt={userName} />\r\n            <div className=\"video-call-status\">{userName}</div>\r\n            {connectionStatus === 'connecting' ? (\r\n              <div className=\"video-call-connecting\">\r\n                Connecting\r\n                <span className=\"connecting-dots\">\r\n                  <span className=\"connecting-dot\"></span>\r\n                  <span className=\"connecting-dot\"></span>\r\n                  <span className=\"connecting-dot\"></span>\r\n                </span>\r\n              </div>\r\n            ) : audioOnly ? (\r\n              <>\r\n                <div className=\"audio-visualization\">\r\n                  <div className=\"audio-bar\"></div>\r\n                  <div className=\"audio-bar\"></div>\r\n                  <div className=\"audio-bar\"></div>\r\n                  <div className=\"audio-bar\"></div>\r\n                  <div className=\"audio-bar\"></div>\r\n                </div>\r\n                <div className=\"video-call-connecting\">Voice call in progress</div>\r\n              </>\r\n            ) : (\r\n              <div className=\"video-call-connecting\">Video turned off</div>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          /* Remote video stream would be displayed here in a real implementation */\r\n          <div className=\"video-call-remote-stream\" ref={remoteVideoRef}></div>\r\n        )}\r\n        \r\n        {/* Don't show local stream preview for audio-only calls */}\r\n        {!audioOnly && (\r\n          <div \r\n            className=\"video-call-local-stream\" \r\n            ref={localVideoRef}\r\n            style={{ \r\n              background: '#1e293b', \r\n              display: 'flex', \r\n              alignItems: 'center', \r\n              justifyContent: 'center',\r\n              color: 'white',\r\n              fontSize: minimized ? '8px' : '12px'\r\n            }}\r\n          >\r\n            {isVideoOff ? (\r\n              <div style={{ textAlign: 'center', padding: '5px' }}>\r\n                <div style={{ \r\n                  width: minimized ? '30px' : '50px', \r\n                  height: minimized ? '30px' : '50px',\r\n                  borderRadius: '50%',\r\n                  background: '#475569',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  margin: '0 auto 5px'\r\n                }}>\r\n                  <svg width={minimized ? \"16\" : \"24\"} height={minimized ? \"16\" : \"24\"} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z\" \r\n                      stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                  </svg>\r\n                </div>\r\n                {!minimized && <div>You</div>}\r\n              </div>\r\n            ) : (\r\n              // In a real implementation, this would be your video stream\r\n              <div>Your camera</div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Call controls */}\r\n      <div className=\"video-call-controls\">\r\n        <button \r\n          className={`video-call-control-btn mute ${isMuted ? 'active' : ''}`}\r\n          onClick={toggleMute}\r\n          title={isMuted ? \"Unmute\" : \"Mute\"}\r\n        >\r\n          {isMuted ? (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M5.58579 15.0001L3.87868 16.7072C2.70711 15.5356 2 13.8787 2 12.0001C2 10.1215 2.70711 8.46459 3.87868 7.29302L5.58579 9.00013M18.4142 9.00013L20.1213 7.29302C21.2929 8.46459 22 10.1215 22 12.0001C22 13.8787 21.2929 15.5356 20.1213 16.7072L18.4142 15.0001M16 6.5L8 17.5\" \r\n                stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n              <path d=\"M9.5 6.5V11L14.5 12V17.5\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n            </svg>\r\n          ) : (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M8 7C8 4.79086 9.79086 3 12 3V3C14.2091 3 16 4.79086 16 7V15C16 17.2091 14.2091 19 12 19V19C9.79086 19 8 17.2091 8 15V7Z\" \r\n                stroke=\"currentColor\" strokeWidth=\"2\" />\r\n              <path d=\"M5 12C5 15.866 8.13401 19 12 19M12 19C15.866 19 19 15.866 19 12\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n              <path d=\"M12 19V22\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n            </svg>\r\n          )}\r\n        </button>\r\n        \r\n        {/* Only show video toggle button in video calls */}\r\n        {!audioOnly && (\r\n          <button \r\n            className={`video-call-control-btn video-off ${isVideoOff ? 'active' : ''}`}\r\n            onClick={toggleVideo}\r\n            title={isVideoOff ? \"Turn on camera\" : \"Turn off camera\"}\r\n          >\r\n            {isVideoOff ? (\r\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M3 8.68861V15.3114C3 16.7943 4.20557 17.9999 5.68851 17.9999H14.3115C15.7944 17.9999 17 16.7943 17 15.3114V8.68861C17 7.20567 15.7944 6.0001 14.3115 6.0001H5.68851C4.20557 6.0001 3 7.20567 3 8.68861Z\" \r\n                  stroke=\"currentColor\" strokeWidth=\"2\" />\r\n                <path d=\"M17 10.0001L20.6343 7.36791C20.8732 7.20746 21.2 7.37558 21.2 7.66818V16.3321C21.2 16.6247 20.8732 16.7928 20.6343 16.6324L17 14.0001\" \r\n                  stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n                <path d=\"M3 3L21 21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n              </svg>\r\n            ) : (\r\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M3 8.68861V15.3114C3 16.7943 4.20557 17.9999 5.68851 17.9999H14.3115C15.7944 17.9999 17 16.7943 17 15.3114V8.68861C17 7.20567 15.7944 6.0001 14.3115 6.0001H5.68851C4.20557 6.0001 3 7.20567 3 8.68861Z\" \r\n                  stroke=\"currentColor\" strokeWidth=\"2\" />\r\n                <path d=\"M17 10.0001L20.6343 7.36791C20.8732 7.20746 21.2 7.37558 21.2 7.66818V16.3321C21.2 16.6247 20.8732 16.7928 20.6343 16.6324L17 14.0001\" \r\n                  stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n              </svg>\r\n            )}\r\n          </button>\r\n        )}\r\n        \r\n        <button \r\n          className=\"video-call-control-btn end-call\"\r\n          onClick={onEndCall}\r\n          title=\"End call\"\r\n        >\r\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M22 12C22 10.6868 21.7413 9.38647 21.2388 8.1731C20.7362 6.95996 19.9997 5.85742 19.0711 4.92896C18.1425 4.00024 17.0401 3.26367 15.8268 2.76123C14.6136 2.25854 13.3132 2 12 2C10.6868 2 9.38647 2.25854 8.1731 2.76123C6.95996 3.26367 5.85742 4.00024 4.92896 4.92896C3.26367 6.59424 2 9.0218 2 12M3.29289 18.7071L7.5 14.5M7.5 14.5V18M7.5 14.5H4M20.7071 18.7071L16.5 14.5M16.5 14.5V18M16.5 14.5H20\" \r\n              stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default VideoCall;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\r\n * Enhanced Voice Call Service\r\n * Handles phone number integration, WiFi optimization, and smart call routing\r\n */\r\n\r\nimport connectionService from './connectionService';\r\n\r\nclass EnhancedVoiceCallService {\r\n  constructor() {\r\n    this.activeCall = null;\r\n    this.connectionMonitoringInterval = null;\r\n    this.callQualityHistory = [];\r\n  }\r\n\r\n  /**\r\n   * Validate phone number format\r\n   */\r\n  validatePhoneNumber(phoneNumber) {\r\n    if (!phoneNumber) return false;\r\n    \r\n    // Remove all non-digit characters\r\n    const cleanNumber = phoneNumber.replace(/\\D/g, '');\r\n    \r\n    // Check if it's a valid length (10-15 digits)\r\n    return cleanNumber.length >= 10 && cleanNumber.length <= 15;\r\n  }\r\n\r\n  /**\r\n   * Format phone number for display\r\n   */\r\n  formatPhoneNumber(phoneNumber) {\r\n    if (!phoneNumber) return '';\r\n    \r\n    const cleanNumber = phoneNumber.replace(/\\D/g, '');\r\n    \r\n    // Format US numbers\r\n    if (cleanNumber.length === 10) {\r\n      return `(${cleanNumber.slice(0, 3)}) ${cleanNumber.slice(3, 6)}-${cleanNumber.slice(6)}`;\r\n    }\r\n    \r\n    // Format international numbers\r\n    if (cleanNumber.length === 11 && cleanNumber[0] === '1') {\r\n      return `+1 (${cleanNumber.slice(1, 4)}) ${cleanNumber.slice(4, 7)}-${cleanNumber.slice(7)}`;\r\n    }\r\n    \r\n    // Default formatting for other lengths\r\n    return `+${cleanNumber}`;\r\n  }\r\n\r\n  /**\r\n   * Get available call methods for a user\r\n   */\r\n  async getAvailableCallMethods(targetUser) {\r\n    const hasPhoneNumber = this.validatePhoneNumber(targetUser.phone);\r\n    const connectionStatus = connectionService.getConnectionStatus();\r\n    \r\n    const methods = connectionService.getOptimalCallMethod(hasPhoneNumber);\r\n    \r\n    // Add user-specific information\r\n    return methods.map(method => ({\r\n      ...method,\r\n      targetPhone: hasPhoneNumber ? this.formatPhoneNumber(targetUser.phone) : null,\r\n      connectionQuality: connectionStatus.quality,\r\n      estimatedLatency: connectionStatus.latency\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * Initiate enhanced voice call with method selection\r\n   */\r\n  async initiateEnhancedCall(targetUser, preferredMethod = 'auto') {\r\n    try {\r\n      const availableMethods = await this.getAvailableCallMethods(targetUser);\r\n      \r\n      let selectedMethod;\r\n      \r\n      if (preferredMethod === 'auto') {\r\n        // Auto-select best method\r\n        selectedMethod = availableMethods[0];\r\n      } else {\r\n        // Use user-specified method\r\n        selectedMethod = availableMethods.find(m => m.type === preferredMethod) || availableMethods[0];\r\n      }\r\n\r\n      const callData = {\r\n        callId: `call_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n        targetUser,\r\n        method: selectedMethod,\r\n        startTime: new Date(),\r\n        connectionStatus: connectionService.getConnectionStatus(),\r\n        audioSettings: connectionService.getAudioSettings()\r\n      };\r\n\r\n      // Start the call based on selected method\r\n      return await this.startCallWithMethod(callData);\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to initiate enhanced voice call:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Start call with specific method\r\n   */\r\n  async startCallWithMethod(callData) {\r\n    const { method, targetUser } = callData;\r\n    \r\n    switch (method.type) {\r\n      case 'wifi-call':\r\n        return await this.startWiFiOptimizedCall(callData);\r\n      \r\n      case 'webrtc':\r\n        return await this.startWebRTCCall(callData);\r\n      \r\n      case 'webrtc-optimized':\r\n        return await this.startOptimizedWebRTCCall(callData);\r\n      \r\n      case 'phone-call':\r\n        return await this.startPhoneCall(callData);\r\n      \r\n      case 'callback-request':\r\n        return await this.requestCallback(callData);\r\n      \r\n      default:\r\n        throw new Error(`Unsupported call method: ${method.type}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Start WiFi-optimized call\r\n   */\r\n  async startWiFiOptimizedCall(callData) {\r\n    console.log('🔊 Starting WiFi-optimized voice call...');\r\n    \r\n    // Enhanced audio settings for WiFi\r\n    const audioConstraints = {\r\n      audio: {\r\n        ...callData.audioSettings,\r\n        deviceId: 'default',\r\n        echoCancellation: true,\r\n        noiseSuppression: true,\r\n        autoGainControl: true\r\n      }\r\n    };\r\n\r\n    const callInstance = {\r\n      ...callData,\r\n      status: 'connecting',\r\n      enhancedFeatures: {\r\n        wifiOptimized: true,\r\n        adaptiveQuality: true,\r\n        backgroundNoiseReduction: true,\r\n        dynamicBandwidthAdjustment: true\r\n      }\r\n    };\r\n\r\n    this.activeCall = callInstance;\r\n    this.startConnectionMonitoring();\r\n    \r\n    return callInstance;\r\n  }\r\n\r\n  /**\r\n   * Start standard WebRTC call\r\n   */\r\n  async startWebRTCCall(callData) {\r\n    console.log('🌐 Starting WebRTC voice call...');\r\n    \r\n    const callInstance = {\r\n      ...callData,\r\n      status: 'connecting',\r\n      enhancedFeatures: {\r\n        webrtcOptimized: true,\r\n        echoCancellation: true\r\n      }\r\n    };\r\n\r\n    this.activeCall = callInstance;\r\n    this.startConnectionMonitoring();\r\n    \r\n    return callInstance;\r\n  }\r\n\r\n  /**\r\n   * Start optimized WebRTC call for poor connections\r\n   */\r\n  async startOptimizedWebRTCCall(callData) {\r\n    console.log('📞 Starting optimized voice call...');\r\n    \r\n    const callInstance = {\r\n      ...callData,\r\n      status: 'connecting',\r\n      enhancedFeatures: {\r\n        lowBandwidthMode: true,\r\n        aggressiveCompression: true,\r\n        reducedSampleRate: true\r\n      }\r\n    };\r\n\r\n    this.activeCall = callInstance;\r\n    this.startConnectionMonitoring();\r\n    \r\n    return callInstance;\r\n  }\r\n\r\n  /**\r\n   * Start phone call (cellular fallback)\r\n   */\r\n  async startPhoneCall(callData) {\r\n    console.log('📱 Initiating phone call...');\r\n    \r\n    const phoneNumber = callData.targetUser.phone;\r\n    \r\n    // In a real implementation, this would integrate with:\r\n    // - Twilio Voice API\r\n    // - WebRTC with PSTN gateway\r\n    // - Native phone call intent\r\n    \r\n    const callInstance = {\r\n      ...callData,\r\n      status: 'dialing',\r\n      phoneNumber: this.formatPhoneNumber(phoneNumber),\r\n      enhancedFeatures: {\r\n        cellularFallback: true,\r\n        pstnGateway: true\r\n      }\r\n    };\r\n\r\n    this.activeCall = callInstance;\r\n    \r\n    // Simulate phone call initiation\r\n    setTimeout(() => {\r\n      if (this.activeCall && this.activeCall.callId === callInstance.callId) {\r\n        this.activeCall.status = 'ringing';\r\n      }\r\n    }, 1000);\r\n    \r\n    return callInstance;\r\n  }\r\n\r\n  /**\r\n   * Request callback\r\n   */\r\n  async requestCallback(callData) {\r\n    console.log('🔄 Requesting callback...');\r\n    \r\n    const callInstance = {\r\n      ...callData,\r\n      status: 'callback-requested',\r\n      enhancedFeatures: {\r\n        callbackRequest: true,\r\n        offlineFallback: true\r\n      }\r\n    };\r\n\r\n    // In real implementation, send callback request notification\r\n    \r\n    return callInstance;\r\n  }\r\n\r\n  /**\r\n   * Start connection monitoring during call\r\n   */\r\n  startConnectionMonitoring() {\r\n    this.connectionMonitoringInterval = connectionService.startCallMonitoring((qualityChange) => {\r\n      if (this.activeCall) {\r\n        this.handleQualityChange(qualityChange);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle connection quality changes during call\r\n   */\r\n  handleQualityChange(qualityChange) {\r\n    const { previousQuality, currentQuality, audioSettings } = qualityChange;\r\n    \r\n    console.log(`📶 Connection quality changed: ${previousQuality} → ${currentQuality}`);\r\n    \r\n    // Store quality history\r\n    this.callQualityHistory.push({\r\n      timestamp: new Date(),\r\n      quality: currentQuality,\r\n      latency: qualityChange.status.latency,\r\n      bandwidth: qualityChange.status.bandwidth\r\n    });\r\n\r\n    // Update active call\r\n    if (this.activeCall) {\r\n      this.activeCall.connectionQuality = currentQuality;\r\n      this.activeCall.audioSettings = audioSettings;\r\n      \r\n      // Trigger quality adaptation\r\n      this.adaptCallQuality(currentQuality, audioSettings);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adapt call quality based on connection changes\r\n   */\r\n  adaptCallQuality(quality, audioSettings) {\r\n    if (!this.activeCall) return;\r\n\r\n    switch (quality) {\r\n      case 'excellent':\r\n      case 'good':\r\n        // Upgrade to high quality if possible\r\n        if (this.activeCall.method.type !== 'wifi-call') {\r\n          console.log('📈 Upgrading call quality...');\r\n          // In real implementation: adjust audio bitrate, sample rate\r\n        }\r\n        break;\r\n        \r\n      case 'fair':\r\n        console.log('⚖️ Maintaining stable quality...');\r\n        // Maintain current settings\r\n        break;\r\n        \r\n      case 'poor':\r\n        console.log('📉 Reducing quality for stability...');\r\n        // In real implementation: reduce bitrate, lower sample rate\r\n        break;\r\n        \r\n      case 'offline':\r\n        console.log('📵 Connection lost, attempting reconnection...');\r\n        this.handleConnectionLoss();\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle connection loss during call\r\n   */\r\n  handleConnectionLoss() {\r\n    if (!this.activeCall) return;\r\n    \r\n    this.activeCall.status = 'reconnecting';\r\n    \r\n    // Attempt to reconnect or switch to phone fallback\r\n    if (this.validatePhoneNumber(this.activeCall.targetUser.phone)) {\r\n      console.log('📱 Switching to phone fallback...');\r\n      // In real implementation: initiate phone call\r\n    }\r\n  }\r\n\r\n  /**\r\n   * End current call\r\n   */\r\n  endCall() {\r\n    if (this.activeCall) {\r\n      console.log('📞 Ending voice call...');\r\n      \r\n      // Stop connection monitoring\r\n      if (this.connectionMonitoringInterval) {\r\n        connectionService.stopCallMonitoring(this.connectionMonitoringInterval);\r\n        this.connectionMonitoringInterval = null;\r\n      }\r\n      \r\n      // Store call statistics\r\n      const callDuration = new Date() - this.activeCall.startTime;\r\n      const callStats = {\r\n        duration: callDuration,\r\n        qualityHistory: this.callQualityHistory,\r\n        method: this.activeCall.method,\r\n        finalQuality: this.activeCall.connectionQuality\r\n      };\r\n      \r\n      console.log('📊 Call ended. Stats:', callStats);\r\n      \r\n      this.activeCall = null;\r\n      this.callQualityHistory = [];\r\n      \r\n      return callStats;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get current call status\r\n   */\r\n  getCurrentCallStatus() {\r\n    if (!this.activeCall) return null;\r\n    \r\n    return {\r\n      ...this.activeCall,\r\n      duration: new Date() - this.activeCall.startTime,\r\n      connectionStatus: connectionService.getConnectionStatus(),\r\n      qualityHistory: this.callQualityHistory\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Check if user has valid phone number\r\n   */\r\n  userHasPhoneNumber(user) {\r\n    return this.validatePhoneNumber(user?.phone);\r\n  }\r\n\r\n  /**\r\n   * Get connection recommendations for better call quality\r\n   */\r\n  getConnectionRecommendations() {\r\n    const status = connectionService.getConnectionStatus();\r\n    const recommendations = [];\r\n    \r\n    if (status.quality === 'poor' || status.quality === 'fair') {\r\n      recommendations.push({\r\n        type: 'wifi',\r\n        icon: '📶',\r\n        title: 'Connect to WiFi',\r\n        description: 'Switch to a WiFi network for better call quality'\r\n      });\r\n      \r\n      recommendations.push({\r\n        type: 'location',\r\n        icon: '📍',\r\n        title: 'Move closer to router',\r\n        description: 'Get closer to your WiFi router for stronger signal'\r\n      });\r\n    }\r\n    \r\n    if (status.latency > 200) {\r\n      recommendations.push({\r\n        type: 'network',\r\n        icon: '🔄',\r\n        title: 'Close other apps',\r\n        description: 'Close bandwidth-heavy apps for better performance'\r\n      });\r\n    }\r\n    \r\n    return recommendations;\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst enhancedVoiceCallService = new EnhancedVoiceCallService();\r\n\r\nexport default enhancedVoiceCallService;","/**\r\n * User Activity Analytics Service\r\n */\r\n\r\nconst ACTIVITY_LOG_KEY = 'quibish_user_activity_log';\r\nconst MAX_LOG_ENTRIES = 100;\r\n\r\n// Activity types\r\nexport const ACTIVITY_TYPES = {\r\n  LOGIN: 'login',\r\n  LOGOUT: 'logout',\r\n  MESSAGE_SENT: 'message_sent',\r\n  MESSAGE_RECEIVED: 'message_received',\r\n  PROFILE_UPDATE: 'profile_update',\r\n  CONVERSATION_CREATED: 'conversation_created',\r\n  CONVERSATION_DELETED: 'conversation_deleted',\r\n  STATUS_CHANGE: 'status_change'\r\n};\r\n\r\n/**\r\n * Log a user activity\r\n * @param {string} type - Activity type from ACTIVITY_TYPES\r\n * @param {Object} data - Additional data related to the activity\r\n */\r\nexport const logActivity = (type, data = {}) => {\r\n  try {\r\n    // Get current log\r\n    const activityLog = getActivityLog();\r\n    \r\n    // Create new activity entry\r\n    const newActivity = {\r\n      timestamp: Date.now(),\r\n      type,\r\n      data\r\n    };\r\n    \r\n    // Add to log and trim if needed\r\n    activityLog.push(newActivity);\r\n    if (activityLog.length > MAX_LOG_ENTRIES) {\r\n      activityLog.shift(); // Remove oldest entry\r\n    }\r\n    \r\n    // Save updated log\r\n    localStorage.setItem(ACTIVITY_LOG_KEY, JSON.stringify(activityLog));\r\n    \r\n    return true;\r\n  } catch (error) {\r\n    console.error('Failed to log activity:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Get the full activity log\r\n * @returns {Array} Activity log entries\r\n */\r\nexport const getActivityLog = () => {\r\n  try {\r\n    const log = localStorage.getItem(ACTIVITY_LOG_KEY);\r\n    return log ? JSON.parse(log) : [];\r\n  } catch (error) {\r\n    console.error('Failed to retrieve activity log:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * Clear the activity log\r\n * @returns {boolean} Success indicator\r\n */\r\nexport const clearActivityLog = () => {\r\n  try {\r\n    localStorage.removeItem(ACTIVITY_LOG_KEY);\r\n    return true;\r\n  } catch (error) {\r\n    console.error('Failed to clear activity log:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Get activity statistics\r\n * @returns {Object} Statistics about user activity\r\n */\r\nexport const getActivityStats = () => {\r\n  const log = getActivityLog();\r\n  const now = Date.now();\r\n  const oneDay = 24 * 60 * 60 * 1000;\r\n  const oneWeek = 7 * oneDay;\r\n  \r\n  // Filter activities by time periods\r\n  const todayActivities = log.filter(entry => now - entry.timestamp < oneDay);\r\n  const weekActivities = log.filter(entry => now - entry.timestamp < oneWeek);\r\n  \r\n  // Count by activity type\r\n  const countByType = (activities, type) => {\r\n    return activities.filter(entry => entry.type === type).length;\r\n  };\r\n  \r\n  return {\r\n    totalActivities: log.length,\r\n    today: {\r\n      total: todayActivities.length,\r\n      messagesSent: countByType(todayActivities, ACTIVITY_TYPES.MESSAGE_SENT),\r\n      messagesReceived: countByType(todayActivities, ACTIVITY_TYPES.MESSAGE_RECEIVED),\r\n      logins: countByType(todayActivities, ACTIVITY_TYPES.LOGIN)\r\n    },\r\n    week: {\r\n      total: weekActivities.length,\r\n      messagesSent: countByType(weekActivities, ACTIVITY_TYPES.MESSAGE_SENT),\r\n      messagesReceived: countByType(weekActivities, ACTIVITY_TYPES.MESSAGE_RECEIVED),\r\n      logins: countByType(weekActivities, ACTIVITY_TYPES.LOGIN)\r\n    },\r\n    // Get most recent activity\r\n    lastActivity: log.length > 0 ? log[log.length - 1] : null\r\n  };\r\n};\r\n","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.1.1\";\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n}\n\n/**\n * Determine if a value is an empty object (safely handles Buffers)\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an empty object, otherwise false\n */\nconst isEmptyObject = (val) => {\n  // Early return for non-objects or Buffers to prevent RangeError\n  if (!isObject(val) || isBuffer(val)) {\n    return false;\n  }\n\n  try {\n    return Object.keys(val).length === 0 && Object.getPrototypeOf(val) === Object.prototype;\n  } catch (e) {\n    // Fallback for any other objects that might cause RangeError with Object.keys()\n    return false;\n  }\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Buffer check\n    if (isBuffer(obj)) {\n      return;\n    }\n\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  if (isBuffer(obj)){\n    return null;\n  }\n\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless, skipUndefined} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      if (!skipUndefined || !isUndefined(val)) {\n        result[targetKey] = val;\n      }\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      //Buffer check\n      if (isBuffer(source)) {\n        return source;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction(thing[iterator]);\n\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isEmptyObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  const msg = error && error.message ? error.message : 'Error';\n\n  // Prefer explicit code; otherwise copy the low-level error's code (e.g. ECONNREFUSED)\n  const errCode = code == null && error ? error.code : code;\n  AxiosError.call(axiosError, msg, errCode, config, request, response);\n\n  // Chain the original error on the standard field; non-enumerable to avoid JSON noise\n  if (error && axiosError.cause == null) {\n    Object.defineProperty(axiosError, 'cause', { value: error, configurable: true });\n  }\n\n  axiosError.name = (error && error.name) || 'Error';\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils.isBoolean(value)) {\n      return value.toString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data, this.parseReviver);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), {\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    },\n    ...options\n  });\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isObject(header) && utils.isIterable(header)) {\n      let obj = {}, dest, key;\n      for (const entry of header) {\n        if (!utils.isArray(entry)) {\n          throw TypeError('Object iterator must return a key-value pair');\n        }\n\n        obj[key = entry[0]] = (dest = obj[key]) ?\n          (utils.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]]) : entry[1];\n      }\n\n      setHeaders(obj, valueOrRewrite)\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  getSetCookie() {\n    return this.get(\"set-cookie\") || [];\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn(...args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils.forEach(Object.keys({...config1, ...config2}), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let { data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth } = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // browser handles it\n    } else if (utils.isFunction(data.getHeaders)) {\n      // Node.js FormData (like form-data package)\n      const formHeaders = data.getHeaders();\n      // Only set safe headers to avoid overwriting security headers\n      const allowedHeaders = ['content-type', 'content-length'];\n      Object.entries(formHeaders).forEach(([key, val]) => {\n        if (allowedHeaders.includes(key.toLowerCase())) {\n          headers.set(key, val);\n        }\n      });\n    }\n  }  \n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n  request.onerror = function handleError(event) {\n       // Browsers deliver a ProgressEvent in XHR onerror\n       // (message may be empty; when present, surface it)\n       // See https://developer.mozilla.org/docs/Web/API/XMLHttpRequest/error_event\n       const msg = event && event.message ? event.message : 'Network Error';\n       const err = new AxiosError(msg, AxiosError.ERR_NETWORK, config, request);\n       // attach the underlying event for consumers who want details\n       err.event = event || null;\n       reject(err);\n       request = null;\n    };\n    \n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","function _OverloadYield(e, d) {\n  this.v = e, this.k = d;\n}\nexport { _OverloadYield as default };","import OverloadYield from \"./OverloadYield.js\";\nfunction _wrapAsyncGenerator(e) {\n  return function () {\n    return new AsyncGenerator(e.apply(this, arguments));\n  };\n}\nfunction AsyncGenerator(e) {\n  var r, t;\n  function resume(r, t) {\n    try {\n      var n = e[r](t),\n        o = n.value,\n        u = o instanceof OverloadYield;\n      Promise.resolve(u ? o.v : o).then(function (t) {\n        if (u) {\n          var i = \"return\" === r ? \"return\" : \"next\";\n          if (!o.k || t.done) return resume(i, t);\n          t = e[i](t).value;\n        }\n        settle(n.done ? \"return\" : \"normal\", t);\n      }, function (e) {\n        resume(\"throw\", e);\n      });\n    } catch (e) {\n      settle(\"throw\", e);\n    }\n  }\n  function settle(e, n) {\n    switch (e) {\n      case \"return\":\n        r.resolve({\n          value: n,\n          done: !0\n        });\n        break;\n      case \"throw\":\n        r.reject(n);\n        break;\n      default:\n        r.resolve({\n          value: n,\n          done: !1\n        });\n    }\n    (r = r.next) ? resume(r.key, r.arg) : t = null;\n  }\n  this._invoke = function (e, n) {\n    return new Promise(function (o, u) {\n      var i = {\n        key: e,\n        arg: n,\n        resolve: o,\n        reject: u,\n        next: null\n      };\n      t ? t = t.next = i : (r = t = i, resume(e, n));\n    });\n  }, \"function\" != typeof e[\"return\"] && (this[\"return\"] = void 0);\n}\nAsyncGenerator.prototype[\"function\" == typeof Symbol && Symbol.asyncIterator || \"@@asyncIterator\"] = function () {\n  return this;\n}, AsyncGenerator.prototype.next = function (e) {\n  return this._invoke(\"next\", e);\n}, AsyncGenerator.prototype[\"throw\"] = function (e) {\n  return this._invoke(\"throw\", e);\n}, AsyncGenerator.prototype[\"return\"] = function (e) {\n  return this._invoke(\"return\", e);\n};\nexport { _wrapAsyncGenerator as default };","import OverloadYield from \"./OverloadYield.js\";\nfunction _awaitAsyncGenerator(e) {\n  return new OverloadYield(e, 0);\n}\nexport { _awaitAsyncGenerator as default };","import OverloadYield from \"./OverloadYield.js\";\nfunction _asyncGeneratorDelegate(t) {\n  var e = {},\n    n = !1;\n  function pump(e, r) {\n    return n = !0, r = new Promise(function (n) {\n      n(t[e](r));\n    }), {\n      done: !1,\n      value: new OverloadYield(r, 1)\n    };\n  }\n  return e[\"undefined\" != typeof Symbol && Symbol.iterator || \"@@iterator\"] = function () {\n    return this;\n  }, e.next = function (t) {\n    return n ? (n = !1, t) : pump(\"next\", t);\n  }, \"function\" == typeof t[\"throw\"] && (e[\"throw\"] = function (t) {\n    if (n) throw n = !1, t;\n    return pump(\"throw\", t);\n  }), \"function\" == typeof t[\"return\"] && (e[\"return\"] = function (t) {\n    return n ? (n = !1, t) : pump(\"return\", t);\n  }), e;\n}\nexport { _asyncGeneratorDelegate as default };","function _asyncIterator(r) {\n  var n,\n    t,\n    o,\n    e = 2;\n  for (\"undefined\" != typeof Symbol && (t = Symbol.asyncIterator, o = Symbol.iterator); e--;) {\n    if (t && null != (n = r[t])) return n.call(r);\n    if (o && null != (n = r[o])) return new AsyncFromSyncIterator(n.call(r));\n    t = \"@@asyncIterator\", o = \"@@iterator\";\n  }\n  throw new TypeError(\"Object is not async iterable\");\n}\nfunction AsyncFromSyncIterator(r) {\n  function AsyncFromSyncIteratorContinuation(r) {\n    if (Object(r) !== r) return Promise.reject(new TypeError(r + \" is not an object.\"));\n    var n = r.done;\n    return Promise.resolve(r.value).then(function (r) {\n      return {\n        value: r,\n        done: n\n      };\n    });\n  }\n  return AsyncFromSyncIterator = function AsyncFromSyncIterator(r) {\n    this.s = r, this.n = r.next;\n  }, AsyncFromSyncIterator.prototype = {\n    s: null,\n    n: null,\n    next: function next() {\n      return AsyncFromSyncIteratorContinuation(this.n.apply(this.s, arguments));\n    },\n    \"return\": function _return(r) {\n      var n = this.s[\"return\"];\n      return void 0 === n ? Promise.resolve({\n        value: r,\n        done: !0\n      }) : AsyncFromSyncIteratorContinuation(n.apply(this.s, arguments));\n    },\n    \"throw\": function _throw(r) {\n      var n = this.s[\"return\"];\n      return void 0 === n ? Promise.reject(r) : AsyncFromSyncIteratorContinuation(n.apply(this.s, arguments));\n    }\n  }, new AsyncFromSyncIterator(r);\n}\nexport { _asyncIterator as default };","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst {isFunction} = utils;\n\nconst globalFetchAPI = (({fetch, Request, Response}) => ({\n    fetch, Request, Response\n  }))(utils.global);\n\nconst {\n  ReadableStream, TextEncoder\n} = utils.global;\n\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst factory = (env) => {\n  const {fetch, Request, Response} = Object.assign({}, globalFetchAPI, env);\n  const isFetchSupported = isFunction(fetch);\n  const isRequestSupported = isFunction(Request);\n  const isResponseSupported = isFunction(Response);\n\n  if (!isFetchSupported) {\n    return false;\n  }\n\n  const isReadableStreamSupported = isFetchSupported && isFunction(ReadableStream);\n\n  const encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n      ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n      async (str) => new Uint8Array(await new Request(str).arrayBuffer())\n  );\n\n  const supportsRequestStream = isRequestSupported && isReadableStreamSupported && test(() => {\n    let duplexAccessed = false;\n\n    const hasContentType = new Request(platform.origin, {\n      body: new ReadableStream(),\n      method: 'POST',\n      get duplex() {\n        duplexAccessed = true;\n        return 'half';\n      },\n    }).headers.has('Content-Type');\n\n    return duplexAccessed && !hasContentType;\n  });\n\n  const supportsResponseStream = isResponseSupported && isReadableStreamSupported &&\n    test(() => utils.isReadableStream(new Response('').body));\n\n  const resolvers = {\n    stream: supportsResponseStream && ((res) => res.body)\n  };\n\n  isFetchSupported && ((() => {\n    ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n      !resolvers[type] && (resolvers[type] = (res, config) => {\n        let method = res && res[type];\n\n        if (method) {\n          return method.call(res);\n        }\n\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n    });\n  })());\n\n  const getBodyLength = async (body) => {\n    if (body == null) {\n      return 0;\n    }\n\n    if (utils.isBlob(body)) {\n      return body.size;\n    }\n\n    if (utils.isSpecCompliantForm(body)) {\n      const _request = new Request(platform.origin, {\n        method: 'POST',\n        body,\n      });\n      return (await _request.arrayBuffer()).byteLength;\n    }\n\n    if (utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n      return body.byteLength;\n    }\n\n    if (utils.isURLSearchParams(body)) {\n      body = body + '';\n    }\n\n    if (utils.isString(body)) {\n      return (await encodeText(body)).byteLength;\n    }\n  }\n\n  const resolveBodyLength = async (headers, body) => {\n    const length = utils.toFiniteNumber(headers.getContentLength());\n\n    return length == null ? getBodyLength(body) : length;\n  }\n\n  return async (config) => {\n    let {\n      url,\n      method,\n      data,\n      signal,\n      cancelToken,\n      timeout,\n      onDownloadProgress,\n      onUploadProgress,\n      responseType,\n      headers,\n      withCredentials = 'same-origin',\n      fetchOptions\n    } = resolveConfig(config);\n\n    responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n    let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n    let request = null;\n\n    const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n    });\n\n    let requestContentLength;\n\n    try {\n      if (\n        onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n        (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n      ) {\n        let _request = new Request(url, {\n          method: 'POST',\n          body: data,\n          duplex: \"half\"\n        });\n\n        let contentTypeHeader;\n\n        if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n          headers.setContentType(contentTypeHeader)\n        }\n\n        if (_request.body) {\n          const [onProgress, flush] = progressEventDecorator(\n            requestContentLength,\n            progressEventReducer(asyncDecorator(onUploadProgress))\n          );\n\n          data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n        }\n      }\n\n      if (!utils.isString(withCredentials)) {\n        withCredentials = withCredentials ? 'include' : 'omit';\n      }\n\n      // Cloudflare Workers throws when credentials are defined\n      // see https://github.com/cloudflare/workerd/issues/902\n      const isCredentialsSupported = isRequestSupported && \"credentials\" in Request.prototype;\n\n      const resolvedOptions = {\n        ...fetchOptions,\n        signal: composedSignal,\n        method: method.toUpperCase(),\n        headers: headers.normalize().toJSON(),\n        body: data,\n        duplex: \"half\",\n        credentials: isCredentialsSupported ? withCredentials : undefined\n      };\n\n      request = isRequestSupported && new Request(url, resolvedOptions);\n\n      let response = await (isRequestSupported ? fetch(request, fetchOptions) : fetch(url, resolvedOptions));\n\n      const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n      if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n        const options = {};\n\n        ['status', 'statusText', 'headers'].forEach(prop => {\n          options[prop] = response[prop];\n        });\n\n        const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n        const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n          responseContentLength,\n          progressEventReducer(asyncDecorator(onDownloadProgress), true)\n        ) || [];\n\n        response = new Response(\n          trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n            flush && flush();\n            unsubscribe && unsubscribe();\n          }),\n          options\n        );\n      }\n\n      responseType = responseType || 'text';\n\n      let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n      !isStreamResponse && unsubscribe && unsubscribe();\n\n      return await new Promise((resolve, reject) => {\n        settle(resolve, reject, {\n          data: responseData,\n          headers: AxiosHeaders.from(response.headers),\n          status: response.status,\n          statusText: response.statusText,\n          config,\n          request\n        })\n      })\n    } catch (err) {\n      unsubscribe && unsubscribe();\n\n      if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {\n        throw Object.assign(\n          new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n          {\n            cause: err.cause || err\n          }\n        )\n      }\n\n      throw AxiosError.from(err, err && err.code, config, request);\n    }\n  }\n}\n\nconst seedCache = new Map();\n\nexport const getFetch = (config) => {\n  let env = utils.merge.call({\n    skipUndefined: true\n  }, globalFetchAPI, config ? config.env : null);\n\n  const {fetch, Request, Response} = env;\n\n  const seeds = [\n    Request, Response, fetch\n  ];\n\n  let len = seeds.length, i = len,\n    seed, target, map = seedCache;\n\n  while (i--) {\n    seed = seeds[i];\n    target = map.get(seed);\n\n    target === undefined && map.set(seed, target = (i ? new Map() : factory(env)))\n\n    map = target;\n  }\n\n  return target;\n};\n\nconst adapter = getFetch();\n\nexport default adapter;\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport * as fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: {\n    get: fetchAdapter.getFetch,\n  }\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters, config) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter && (utils.isFunction(adapter) || (adapter = adapter.get(config)))) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter, config);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.12.1\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig || {};\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) {\n      // do nothing\n    } else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift(...requestInterceptorChain);\n      chain.push(...responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","/**\r\n * UserDataService - Enhanced version with backend API integration\r\n * Manages user data storage both locally (IndexedDB/localStorage) and remotely (backend API)\r\n * Handles persistent storage for:\r\n * - User profiles\r\n * - Media (photos, videos, GIFs)  \r\n * - User preferences and settings\r\n * - Email and contact information\r\n */\r\n\r\n// IndexedDB database name and version\r\nconst DB_NAME = 'quibishUserData';\r\nconst DB_VERSION = 2; // Incremented for new features\r\n\r\n// Object store names\r\nconst STORES = {\r\n  PROFILE: 'userProfile',\r\n  PHOTOS: 'userPhotos',\r\n  VIDEOS: 'userVideos',\r\n  GIFS: 'userGifs',\r\n  AUDIO: 'userAudio',\r\n  FILES: 'userFiles',\r\n  FAVORITES: 'userFavorites',\r\n  MEDIA_CACHE: 'mediaCache'\r\n};\r\n\r\n// API configuration\r\nconst API_CONFIG = {\r\n  baseURL: 'http://localhost:5001/api',\r\n  timeout: 30000,\r\n  retries: 3\r\n};\r\n\r\n// Initialize IndexedDB database\r\nconst initDB = () => {\r\n  return new Promise((resolve, reject) => {\r\n    const request = indexedDB.open(DB_NAME, DB_VERSION);\r\n    \r\n    request.onerror = event => {\r\n      console.error('Error opening IndexedDB:', event.target.error);\r\n      reject(event.target.error);\r\n    };\r\n    \r\n    request.onsuccess = event => {\r\n      const db = event.target.result;\r\n      resolve(db);\r\n    };\r\n    \r\n    request.onupgradeneeded = event => {\r\n      const db = event.target.result;\r\n      \r\n      // Create object stores if they don't exist\r\n      if (!db.objectStoreNames.contains(STORES.PROFILE)) {\r\n        db.createObjectStore(STORES.PROFILE, { keyPath: 'username' });\r\n      }\r\n      \r\n      if (!db.objectStoreNames.contains(STORES.PHOTOS)) {\r\n        db.createObjectStore(STORES.PHOTOS, { keyPath: 'id' });\r\n      }\r\n      \r\n      if (!db.objectStoreNames.contains(STORES.VIDEOS)) {\r\n        db.createObjectStore(STORES.VIDEOS, { keyPath: 'id' });\r\n      }\r\n      \r\n      if (!db.objectStoreNames.contains(STORES.GIFS)) {\r\n        db.createObjectStore(STORES.GIFS, { keyPath: 'id' });\r\n      }\r\n      \r\n      if (!db.objectStoreNames.contains(STORES.AUDIO)) {\r\n        db.createObjectStore(STORES.AUDIO, { keyPath: 'id' });\r\n      }\r\n      \r\n      if (!db.objectStoreNames.contains(STORES.FILES)) {\r\n        db.createObjectStore(STORES.FILES, { keyPath: 'id' });\r\n      }\r\n      \r\n      if (!db.objectStoreNames.contains(STORES.FAVORITES)) {\r\n        db.createObjectStore(STORES.FAVORITES, { keyPath: 'id' });\r\n      }\r\n      \r\n      if (!db.objectStoreNames.contains(STORES.MEDIA_CACHE)) {\r\n        db.createObjectStore(STORES.MEDIA_CACHE, { keyPath: 'id' });\r\n      }\r\n    };\r\n  });\r\n};\r\n\r\n// API utility functions\r\nconst getAuthHeaders = () => {\r\n  const token = localStorage.getItem('authToken') || localStorage.getItem('token');\r\n  console.log('🔑 Auth token for API call:', token ? 'Present' : 'Missing');\r\n  return {\r\n    'Authorization': `Bearer ${token}`,\r\n    'Content-Type': 'application/json'\r\n  };\r\n};\r\n\r\nconst getFileUploadHeaders = () => {\r\n  const token = localStorage.getItem('authToken') || localStorage.getItem('token');\r\n  return {\r\n    'Authorization': `Bearer ${token}`\r\n    // Note: Don't set Content-Type for file uploads, let browser set it with boundary\r\n  };\r\n};\r\n\r\n// Backend API functions\r\nconst apiCall = async (endpoint, options = {}) => {\r\n  const url = `${API_CONFIG.baseURL}${endpoint}`;\r\n  const defaultOptions = {\r\n    timeout: API_CONFIG.timeout,\r\n    ...options\r\n  };\r\n\r\n  console.log('🌐 Making API call to:', url, 'with options:', defaultOptions);\r\n\r\n  try {\r\n    const response = await fetch(url, defaultOptions);\r\n    \r\n    console.log('📡 API response status:', response.status, 'for', endpoint);\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      console.error('❌ API call failed with error data:', errorData);\r\n      throw new Error(errorData.error || `API call failed: ${response.status}`);\r\n    }\r\n    \r\n    const responseData = await response.json();\r\n    console.log('✅ API call successful for', endpoint, ':', responseData);\r\n    return responseData;\r\n  } catch (error) {\r\n    console.error(`❌ API call to ${endpoint} failed:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Backend API Integration Functions\r\n */\r\n\r\n// Get user profile from backend\r\nconst getUserProfileFromAPI = async () => {\r\n  return await apiCall('/users/profile', {\r\n    method: 'GET',\r\n    headers: getAuthHeaders()\r\n  });\r\n};\r\n\r\n// Update user profile via backend\r\nconst updateUserProfileAPI = async (profileData) => {\r\n  console.log('🌐 Making API call to update profile with data:', profileData);\r\n  \r\n  return await apiCall('/users/profile', {\r\n    method: 'PUT',\r\n    headers: getAuthHeaders(),\r\n    body: JSON.stringify(profileData)\r\n  });\r\n};\r\n\r\n// Update user email via backend\r\nconst updateUserEmailAPI = async (email) => {\r\n  return await apiCall('/users/email', {\r\n    method: 'PUT',\r\n    headers: getAuthHeaders(),\r\n    body: JSON.stringify({ email })\r\n  });\r\n};\r\n\r\n// Upload avatar via backend\r\nconst uploadAvatarAPI = async (file) => {\r\n  const formData = new FormData();\r\n  formData.append('avatar', file);\r\n  \r\n  return await apiCall('/users/avatar', {\r\n    method: 'POST',\r\n    headers: getFileUploadHeaders(),\r\n    body: formData\r\n  });\r\n};\r\n\r\n// Upload user media via backend\r\nconst uploadMediaAPI = async (files) => {\r\n  const formData = new FormData();\r\n  files.forEach(file => formData.append('media', file));\r\n  \r\n  return await apiCall('/upload/media', {\r\n    method: 'POST',\r\n    headers: getFileUploadHeaders(),\r\n    body: formData\r\n  });\r\n};\r\n\r\n// Get user media from backend\r\nconst getUserMediaAPI = async () => {\r\n  return await apiCall('/upload/media', {\r\n    method: 'GET',\r\n    headers: getAuthHeaders()\r\n  });\r\n};\r\n\r\n// Delete media via backend\r\nconst deleteMediaAPI = async (mediaId) => {\r\n  return await apiCall(`/upload/media/${mediaId}`, {\r\n    method: 'DELETE',\r\n    headers: getAuthHeaders()\r\n  });\r\n};\r\n\r\n/**\r\n * Save user profile data\r\n * @param {Object} profile - User profile object\r\n * @returns {Promise<Object>} - Saved profile\r\n */\r\nconst saveUserProfile = async (profile) => {\r\n  try {\r\n    // Save basic profile info to localStorage for quick access\r\n    localStorage.setItem('userProfile', JSON.stringify({\r\n      username: profile.username,\r\n      displayName: profile.displayName,\r\n      avatar: profile.avatarUrl,\r\n      lastUpdated: new Date().toISOString()\r\n    }));\r\n    \r\n    // Save full profile to IndexedDB\r\n    const db = await initDB();\r\n    const transaction = db.transaction([STORES.PROFILE], 'readwrite');\r\n    const store = transaction.objectStore(STORES.PROFILE);\r\n    \r\n    // Add timestamp before saving\r\n    const profileWithTimestamp = {\r\n      ...profile,\r\n      lastUpdated: new Date().toISOString()\r\n    };\r\n    \r\n    const request = store.put(profileWithTimestamp);\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      request.onsuccess = () => resolve(profileWithTimestamp);\r\n      request.onerror = event => reject(event.target.error);\r\n    });\r\n  } catch (error) {\r\n    console.error('Error saving user profile:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Get user profile data\r\n * @param {string} username - Username to retrieve profile for\r\n * @returns {Promise<Object|null>} - User profile or null if not found\r\n */\r\nconst getUserProfile = async (username) => {\r\n  try {\r\n    // Try to get from localStorage first for performance\r\n    const cachedProfile = localStorage.getItem('userProfile');\r\n    \r\n    if (cachedProfile) {\r\n      const parsedProfile = JSON.parse(cachedProfile);\r\n      // If requesting the same user that's cached, return it\r\n      if (parsedProfile.username === username) {\r\n        return parsedProfile;\r\n      }\r\n    }\r\n    \r\n    // Otherwise, get from IndexedDB\r\n    const db = await initDB();\r\n    const transaction = db.transaction([STORES.PROFILE], 'readonly');\r\n    const store = transaction.objectStore(STORES.PROFILE);\r\n    const request = store.get(username);\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      request.onsuccess = event => {\r\n        const profile = event.target.result;\r\n        if (profile) {\r\n          // Update localStorage cache with this profile\r\n          localStorage.setItem('userProfile', JSON.stringify({\r\n            username: profile.username,\r\n            displayName: profile.displayName,\r\n            avatar: profile.avatarUrl,\r\n            lastUpdated: profile.lastUpdated\r\n          }));\r\n        }\r\n        resolve(profile || null);\r\n      };\r\n      request.onerror = event => reject(event.target.error);\r\n    });\r\n  } catch (error) {\r\n    console.error('Error getting user profile:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Save a media item (photo, video, audio) to storage\r\n * @param {string} type - Type of media ('photo', 'video', 'audio', 'file')\r\n * @param {Object} mediaItem - Media item object with blob/data\r\n * @returns {Promise<Object>} - Saved media item with ID\r\n */\r\nconst saveMediaItem = async (type, mediaItem) => {\r\n  try {\r\n    // Determine which store to use\r\n    let storeName;\r\n    switch (type.toLowerCase()) {\r\n      case 'photo':\r\n        storeName = STORES.PHOTOS;\r\n        break;\r\n      case 'video':\r\n        storeName = STORES.VIDEOS;\r\n        break;\r\n      case 'audio':\r\n      case 'voice':\r\n        storeName = STORES.AUDIO;\r\n        break;\r\n      case 'file':\r\n      default:\r\n        storeName = STORES.FILES;\r\n        break;\r\n    }\r\n    \r\n    // Generate ID if not present\r\n    const itemToSave = {\r\n      ...mediaItem,\r\n      id: mediaItem.id || `${type}_${Date.now()}`,\r\n      timestamp: mediaItem.timestamp || new Date().toISOString(),\r\n      type: type.toLowerCase()\r\n    };\r\n    \r\n    // Save to IndexedDB\r\n    const db = await initDB();\r\n    const transaction = db.transaction([storeName], 'readwrite');\r\n    const store = transaction.objectStore(storeName);\r\n    const request = store.put(itemToSave);\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      request.onsuccess = () => {\r\n        // Update the mediaItemsCount in localStorage\r\n        updateMediaItemsCount(type);\r\n        resolve(itemToSave);\r\n      };\r\n      request.onerror = event => reject(event.target.error);\r\n    });\r\n  } catch (error) {\r\n    console.error(`Error saving ${type}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Get all media items of a specific type\r\n * @param {string} type - Type of media ('photo', 'video', 'audio', 'file')\r\n * @param {Object} options - Query options (limit, offset, sortBy)\r\n * @returns {Promise<Array>} - Array of media items\r\n */\r\nconst getMediaItems = async (type, options = {}) => {\r\n  try {\r\n    // Determine which store to use\r\n    let storeName;\r\n    switch (type.toLowerCase()) {\r\n      case 'photo':\r\n        storeName = STORES.PHOTOS;\r\n        break;\r\n      case 'video':\r\n        storeName = STORES.VIDEOS;\r\n        break;\r\n      case 'audio':\r\n      case 'voice':\r\n        storeName = STORES.AUDIO;\r\n        break;\r\n      case 'file':\r\n      default:\r\n        storeName = STORES.FILES;\r\n        break;\r\n    }\r\n    \r\n    const db = await initDB();\r\n    const transaction = db.transaction([storeName], 'readonly');\r\n    const store = transaction.objectStore(storeName);\r\n    const request = store.getAll();\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      request.onsuccess = event => {\r\n        let items = event.target.result || [];\r\n        \r\n        // Apply sorting\r\n        if (options.sortBy) {\r\n          items = items.sort((a, b) => {\r\n            if (options.sortDirection === 'asc') {\r\n              return a[options.sortBy] > b[options.sortBy] ? 1 : -1;\r\n            } else {\r\n              return a[options.sortBy] < b[options.sortBy] ? 1 : -1;\r\n            }\r\n          });\r\n        } else {\r\n          // Default sort by timestamp, newest first\r\n          items = items.sort((a, b) => \r\n            new Date(b.timestamp) - new Date(a.timestamp)\r\n          );\r\n        }\r\n        \r\n        // Apply pagination\r\n        if (options.offset || options.limit) {\r\n          const offset = options.offset || 0;\r\n          const limit = options.limit || items.length;\r\n          items = items.slice(offset, offset + limit);\r\n        }\r\n        \r\n        resolve(items);\r\n      };\r\n      request.onerror = event => reject(event.target.error);\r\n    });\r\n  } catch (error) {\r\n    console.error(`Error getting ${type} items:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Delete a media item\r\n * @param {string} type - Type of media ('photo', 'video', 'audio', 'file')\r\n * @param {string} id - ID of the item to delete\r\n * @returns {Promise<boolean>} - Success status\r\n */\r\nconst deleteMediaItem = async (type, id) => {\r\n  try {\r\n    // Determine which store to use\r\n    let storeName;\r\n    switch (type.toLowerCase()) {\r\n      case 'photo':\r\n        storeName = STORES.PHOTOS;\r\n        break;\r\n      case 'video':\r\n        storeName = STORES.VIDEOS;\r\n        break;\r\n      case 'audio':\r\n      case 'voice':\r\n        storeName = STORES.AUDIO;\r\n        break;\r\n      case 'file':\r\n      default:\r\n        storeName = STORES.FILES;\r\n        break;\r\n    }\r\n    \r\n    const db = await initDB();\r\n    const transaction = db.transaction([storeName], 'readwrite');\r\n    const store = transaction.objectStore(storeName);\r\n    const request = store.delete(id);\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      request.onsuccess = () => {\r\n        updateMediaItemsCount(type);\r\n        resolve(true);\r\n      };\r\n      request.onerror = event => reject(event.target.error);\r\n    });\r\n  } catch (error) {\r\n    console.error(`Error deleting ${type} item:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Toggle favorite status for a media item\r\n * @param {Object} item - Media item to favorite/unfavorite\r\n * @returns {Promise<Object>} - Updated item with favorite status\r\n */\r\nconst toggleFavorite = async (item) => {\r\n  try {\r\n    // First, check if item is already in favorites\r\n    const db = await initDB();\r\n    const transaction = db.transaction([STORES.FAVORITES], 'readwrite');\r\n    const store = transaction.objectStore(STORES.FAVORITES);\r\n    const request = store.get(item.id);\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      request.onsuccess = async (event) => {\r\n        const existingFavorite = event.target.result;\r\n        \r\n        if (existingFavorite) {\r\n          // Remove from favorites\r\n          const deleteRequest = store.delete(item.id);\r\n          deleteRequest.onsuccess = () => {\r\n            resolve({ ...item, isFavorite: false });\r\n          };\r\n          deleteRequest.onerror = event => reject(event.target.error);\r\n        } else {\r\n          // Add to favorites\r\n          const favoriteItem = { \r\n            ...item, \r\n            isFavorite: true, \r\n            favoritedAt: new Date().toISOString()\r\n          };\r\n          const putRequest = store.put(favoriteItem);\r\n          putRequest.onsuccess = () => {\r\n            resolve(favoriteItem);\r\n          };\r\n          putRequest.onerror = event => reject(event.target.error);\r\n        }\r\n      };\r\n      request.onerror = event => reject(event.target.error);\r\n    });\r\n  } catch (error) {\r\n    console.error('Error toggling favorite:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Get user favorite items\r\n * @param {Object} options - Query options (limit, offset, sortBy)\r\n * @returns {Promise<Array>} - Array of favorite items\r\n */\r\nconst getFavorites = async (options = {}) => {\r\n  try {\r\n    const db = await initDB();\r\n    const transaction = db.transaction([STORES.FAVORITES], 'readonly');\r\n    const store = transaction.objectStore(STORES.FAVORITES);\r\n    const request = store.getAll();\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      request.onsuccess = event => {\r\n        let items = event.target.result || [];\r\n        \r\n        // Apply sorting\r\n        if (options.sortBy) {\r\n          items = items.sort((a, b) => {\r\n            if (options.sortDirection === 'asc') {\r\n              return a[options.sortBy] > b[options.sortBy] ? 1 : -1;\r\n            } else {\r\n              return a[options.sortBy] < b[options.sortBy] ? 1 : -1;\r\n            }\r\n          });\r\n        } else {\r\n          // Default sort by favoritedAt, newest first\r\n          items = items.sort((a, b) => \r\n            new Date(b.favoritedAt) - new Date(a.favoritedAt)\r\n          );\r\n        }\r\n        \r\n        // Apply pagination\r\n        if (options.offset || options.limit) {\r\n          const offset = options.offset || 0;\r\n          const limit = options.limit || items.length;\r\n          items = items.slice(offset, offset + limit);\r\n        }\r\n        \r\n        resolve(items);\r\n      };\r\n      request.onerror = event => reject(event.target.error);\r\n    });\r\n  } catch (error) {\r\n    console.error('Error getting favorites:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Check if an item is favorited\r\n * @param {string} itemId - Item ID to check\r\n * @returns {Promise<boolean>} - Whether the item is favorited\r\n */\r\nconst isFavorited = async (itemId) => {\r\n  try {\r\n    const db = await initDB();\r\n    const transaction = db.transaction([STORES.FAVORITES], 'readonly');\r\n    const store = transaction.objectStore(STORES.FAVORITES);\r\n    const request = store.get(itemId);\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      request.onsuccess = event => {\r\n        resolve(!!event.target.result);\r\n      };\r\n      request.onerror = event => reject(event.target.error);\r\n    });\r\n  } catch (error) {\r\n    console.error('Error checking if item is favorited:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Helper function to update media items count in localStorage\r\n * @param {string} type - Type of media\r\n */\r\nconst updateMediaItemsCount = async (type) => {\r\n  try {\r\n    let storeName;\r\n    switch (type.toLowerCase()) {\r\n      case 'photo':\r\n        storeName = STORES.PHOTOS;\r\n        break;\r\n      case 'video':\r\n        storeName = STORES.VIDEOS;\r\n        break;\r\n      case 'audio':\r\n      case 'voice':\r\n        storeName = STORES.AUDIO;\r\n        break;\r\n      case 'file':\r\n      default:\r\n        storeName = STORES.FILES;\r\n        break;\r\n    }\r\n    \r\n    const db = await initDB();\r\n    const transaction = db.transaction([storeName], 'readonly');\r\n    const store = transaction.objectStore(storeName);\r\n    const countRequest = store.count();\r\n    \r\n    countRequest.onsuccess = () => {\r\n      const count = countRequest.result;\r\n      const countsJson = localStorage.getItem('mediaItemCounts') || '{}';\r\n      const counts = JSON.parse(countsJson);\r\n      counts[type.toLowerCase()] = count;\r\n      localStorage.setItem('mediaItemCounts', JSON.stringify(counts));\r\n    };\r\n  } catch (error) {\r\n    console.error('Error updating media item count:', error);\r\n  }\r\n};\r\n\r\n/**\r\n * Get the storage usage statistics\r\n * @returns {Promise<Object>} - Storage usage info\r\n */\r\nconst getStorageUsage = async () => {\r\n  try {\r\n    if ('storage' in navigator && 'estimate' in navigator.storage) {\r\n      const estimate = await navigator.storage.estimate();\r\n      return {\r\n        quota: estimate.quota, // Maximum storage space available (in bytes)\r\n        usage: estimate.usage, // Current storage usage (in bytes)\r\n        percentUsed: (estimate.usage / estimate.quota) * 100,\r\n        usageDetails: estimate.usageDetails // Detailed breakdown by storage type (if available)\r\n      };\r\n    } else {\r\n      // Fallback for browsers that don't support the Storage API\r\n      await initDB(); // Initialize DB but we don't need the reference here\r\n      const usage = {\r\n        photos: 0,\r\n        videos: 0,\r\n        audio: 0,\r\n        files: 0\r\n      };\r\n      \r\n      // Get counts from localStorage\r\n      const countsJson = localStorage.getItem('mediaItemCounts') || '{}';\r\n      const counts = JSON.parse(countsJson);\r\n      \r\n      return {\r\n        counts: counts,\r\n        usage: usage,\r\n        estimatedSize: 'Not available', // We can't accurately estimate size without the Storage API\r\n        lastUpdated: new Date().toISOString()\r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.error('Error getting storage usage:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Clear all user data\r\n * @returns {Promise<boolean>} - Success status\r\n */\r\nconst clearAllUserData = async () => {\r\n  try {\r\n    // Clear IndexedDB stores\r\n    const db = await initDB();\r\n    const storeNames = Object.values(STORES);\r\n    const transaction = db.transaction(storeNames, 'readwrite');\r\n    \r\n    // Clear each store\r\n    const clearPromises = storeNames.map(storeName => {\r\n      return new Promise((resolve, reject) => {\r\n        const store = transaction.objectStore(storeName);\r\n        const request = store.clear();\r\n        request.onsuccess = () => resolve();\r\n        request.onerror = event => reject(event.target.error);\r\n      });\r\n    });\r\n    \r\n    // Wait for all stores to be cleared\r\n    await Promise.all(clearPromises);\r\n    \r\n    // Clear related localStorage items\r\n    localStorage.removeItem('userProfile');\r\n    localStorage.removeItem('mediaItemCounts');\r\n    \r\n    return true;\r\n  } catch (error) {\r\n    console.error('Error clearing user data:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Fetch a user profile by user ID\r\n * @param {string} userId - The ID of the user to fetch\r\n * @returns {Promise<Object>} - User profile data\r\n */\r\nconst fetchUserProfile = async (userId) => {\r\n  try {\r\n    // Try to get real user data from API first (for the current user)\r\n    const token = localStorage.getItem('token') || localStorage.getItem('authToken');\r\n    const currentUser = JSON.parse(localStorage.getItem('user') || sessionStorage.getItem('user') || '{}');\r\n    \r\n    // If this is the current user and we have a token, try to get real data from API\r\n    if (token && (userId === currentUser.id || userId === currentUser.username)) {\r\n      try {\r\n        console.log('🔍 Fetching real user profile from API for current user...');\r\n        const realProfile = await getUserProfileFromAPI();\r\n        if (realProfile && realProfile.user) {\r\n          const userData = {\r\n            ...realProfile.user,\r\n            userId: realProfile.user.id,\r\n            username: realProfile.user.username,\r\n            displayName: realProfile.user.displayName || realProfile.user.name,\r\n            bio: realProfile.user.bio || '',\r\n            avatarUrl: realProfile.user.avatar,\r\n            uploadCount: 0, // Could be enhanced to get real count\r\n            connectionCount: 0, // Could be enhanced to get real count\r\n            activityScore: 0, // Could be enhanced to get real score\r\n            joinDate: realProfile.user.createdAt,\r\n            isOnline: true, // Current user is always online\r\n            status: realProfile.user.status || 'online'\r\n          };\r\n          console.log('✅ Real user profile fetched successfully:', userData);\r\n          return userData;\r\n        }\r\n      } catch (apiError) {\r\n        console.warn('⚠️ Failed to fetch real profile from API, falling back to mock data:', apiError);\r\n      }\r\n    }\r\n    \r\n    // Fallback to mock data for other users or if API fails\r\n    console.log('📋 Using mock data for user profile...');\r\n    await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API delay\r\n    \r\n    // For the current user, set online status to true\r\n    const isCurrentUser = userId === currentUser.id || userId === currentUser.username;\r\n    \r\n    return {\r\n      userId,\r\n      username: isCurrentUser ? (currentUser.username || `user${userId}`) : `user${userId}`,\r\n      displayName: isCurrentUser ? (currentUser.displayName || currentUser.name || `User ${userId}`) : `User ${userId}`,\r\n      bio: isCurrentUser ? (currentUser.bio || `This is the bio for ${currentUser.name || 'the user'}.`) : `This is the bio for user ${userId}. They are a valued member of our community.`,\r\n      avatarUrl: isCurrentUser ? currentUser.avatar : `https://randomuser.me/api/portraits/${userId % 2 === 0 ? 'men' : 'women'}/${userId % 10}.jpg`,\r\n      uploadCount: Math.floor(Math.random() * 50),\r\n      connectionCount: Math.floor(Math.random() * 100),\r\n      activityScore: Math.floor(Math.random() * 1000),\r\n      joinDate: isCurrentUser ? currentUser.createdAt : new Date(Date.now() - (Math.random() * 10000000000)).toISOString(),\r\n      isOnline: isCurrentUser ? true : Math.random() > 0.3, // Current user is always online, others are randomly online\r\n      status: isCurrentUser ? 'online' : (Math.random() > 0.3 ? 'online' : 'offline')\r\n    };\r\n  } catch (error) {\r\n    console.error(`Error fetching user profile for user ${userId}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Fetch user uploads by user ID\r\n * @param {string} userId - The ID of the user\r\n * @returns {Promise<Array>} - Array of user uploads\r\n */\r\nconst fetchUserUploads = async (userId) => {\r\n  try {\r\n    // In a real application, this would call the API\r\n    // For now, returning mock data with proper URLs\r\n    await new Promise(resolve => setTimeout(resolve, 800)); // Simulate API delay\r\n    \r\n    const types = ['image', 'video', 'document', 'gif'];\r\n    const count = 10 + Math.floor(Math.random() * 10);\r\n    const uploads = [];\r\n    \r\n    for (let i = 0; i < count; i++) {\r\n      const type = types[Math.floor(Math.random() * types.length)];\r\n      const date = new Date(Date.now() - (Math.random() * 5000000000)).toISOString();\r\n      \r\n      let url = null;\r\n      let thumbnailUrl = null;\r\n      \r\n      // Generate appropriate URLs for each type\r\n      switch (type) {\r\n        case 'image':\r\n          url = `https://picsum.photos/seed/${userId}_${i}/800/600`;\r\n          break;\r\n        case 'video':\r\n          // Using sample video URLs from the internet\r\n          const videoSamples = [\r\n            'https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4',\r\n            'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',\r\n            'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4',\r\n            'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4',\r\n            'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/SubaruOutbackOnStreetAndDirt.mp4'\r\n          ];\r\n          url = videoSamples[i % videoSamples.length];\r\n          thumbnailUrl = `https://picsum.photos/seed/${userId}_${i}_thumb/400/300`;\r\n          break;\r\n        case 'gif':\r\n          // Using placeholder GIF URLs\r\n          url = `https://picsum.photos/seed/${userId}_${i}/400/300.gif`;\r\n          break;\r\n        case 'document':\r\n          // For documents, we'll use a sample PDF\r\n          url = 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf';\r\n          break;\r\n      }\r\n      \r\n      uploads.push({\r\n        id: `upload_${userId}_${i}`,\r\n        name: `${type}_file_${i}.${type === 'image' ? 'jpg' : type === 'video' ? 'mp4' : type === 'gif' ? 'gif' : 'pdf'}`,\r\n        type,\r\n        size: Math.floor(Math.random() * 10000000),\r\n        date,\r\n        uploadedAt: date,\r\n        url,\r\n        thumbnailUrl,\r\n        mimeType: type === 'video' ? 'video/mp4' : type === 'image' ? 'image/jpeg' : type === 'gif' ? 'image/gif' : 'application/pdf',\r\n        dimensions: type === 'image' || type === 'video' ? `${400 + Math.floor(Math.random() * 800)}x${300 + Math.floor(Math.random() * 600)}` : null,\r\n        duration: type === 'video' ? Math.floor(Math.random() * 300) + 30 : null // 30-330 seconds\r\n      });\r\n    }\r\n    \r\n    return uploads.sort((a, b) => new Date(b.date) - new Date(a.date));\r\n  } catch (error) {\r\n    console.error(`Error fetching uploads for user ${userId}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Fetch user view history by user ID\r\n * @param {string} userId - The ID of the user\r\n * @returns {Promise<Array>} - Array of user view history\r\n */\r\nconst fetchUserViewHistory = async (userId) => {\r\n  try {\r\n    // In a real application, this would call the API\r\n    // For now, returning mock data\r\n    await new Promise(resolve => setTimeout(resolve, 600)); // Simulate API delay\r\n    \r\n    const contentTypes = ['image', 'video', 'document', 'gif', 'article', 'profile'];\r\n    const count = 8 + Math.floor(Math.random() * 12);\r\n    const history = [];\r\n    \r\n    for (let i = 0; i < count; i++) {\r\n      const contentType = contentTypes[Math.floor(Math.random() * contentTypes.length)];\r\n      const viewedAt = new Date(Date.now() - (Math.random() * 3000000000)).toISOString();\r\n      \r\n      history.push({\r\n        id: `history_${userId}_${i}`,\r\n        title: contentType === 'profile' \r\n          ? `User Profile: user${Math.floor(Math.random() * 100)}`\r\n          : `${contentType.charAt(0).toUpperCase() + contentType.slice(1)} ${Math.floor(Math.random() * 1000)}`,\r\n        contentType,\r\n        contentId: `content_${Math.floor(Math.random() * 10000)}`,\r\n        viewedAt\r\n      });\r\n    }\r\n    \r\n    return history.sort((a, b) => new Date(b.viewedAt) - new Date(a.viewedAt));\r\n  } catch (error) {\r\n    console.error(`Error fetching view history for user ${userId}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Fetch user analytics by user ID\r\n * @param {string} userId - The ID of the user\r\n * @param {string} timeframe - The timeframe for analytics ('week', 'month', 'quarter', 'year')\r\n * @returns {Promise<Object>} - User analytics data\r\n */\r\nconst fetchUserAnalytics = async (userId, timeframe = 'month') => {\r\n  try {\r\n    // In a real application, this would call the API\r\n    // For now, returning mock data based on timeframe\r\n    await new Promise(resolve => setTimeout(resolve, 1200)); // Simulate API delay\r\n    \r\n    const baseMultiplier = timeframe === 'week' ? 0.3 : timeframe === 'month' ? 1 : timeframe === 'quarter' ? 3 : 12;\r\n    \r\n    return {\r\n      profileViews: Math.floor((200 + Math.random() * 800) * baseMultiplier),\r\n      monthlyViews: Math.floor((50 + Math.random() * 200) * baseMultiplier),\r\n      topViewers: Array.from({ length: 5 }, (_, i) => ({\r\n        id: `viewer_${i}`,\r\n        name: `Viewer ${i + 1}`,\r\n        avatar: `https://randomuser.me/api/portraits/${i % 2 === 0 ? 'men' : 'women'}/${i + 5}.jpg`,\r\n        viewCount: Math.floor((5 + Math.random() * 20) * baseMultiplier)\r\n      })).sort((a, b) => b.viewCount - a.viewCount),\r\n      uploadStats: {\r\n        totalUploads: Math.floor((10 + Math.random() * 40) * baseMultiplier),\r\n        totalViews: Math.floor((500 + Math.random() * 2000) * baseMultiplier),\r\n        totalLikes: Math.floor((100 + Math.random() * 500) * baseMultiplier),\r\n        mostViewedContent: {\r\n          name: 'summer_vacation_2024.jpg',\r\n          views: Math.floor((50 + Math.random() * 200) * baseMultiplier),\r\n          thumbnail: `https://picsum.photos/seed/${userId}_popular/300/300`\r\n        }\r\n      },\r\n      activityStats: {\r\n        messagesCount: Math.floor((100 + Math.random() * 400) * baseMultiplier),\r\n        reactionsGiven: Math.floor((50 + Math.random() * 200) * baseMultiplier),\r\n        connectionsCount: Math.floor(20 + Math.random() * 80),\r\n        joinDate: new Date(Date.now() - (Math.random() * 31536000000)).toISOString() // Random date within last year\r\n      }\r\n    };\r\n  } catch (error) {\r\n    console.error(`Error fetching analytics for user ${userId}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Update user profile via API or local storage\r\n * @param {string} userId - The ID of the user\r\n * @param {Object} profileData - The profile data to update\r\n * @returns {Promise<Object>} - Updated profile data\r\n */\r\nconst updateUserProfile = async (userId, profileData) => {\r\n  console.log('🔄 Starting profile update for user:', userId, 'with data:', profileData);\r\n  \r\n  try {\r\n    // Try to update via API first\r\n    const token = localStorage.getItem('token') || localStorage.getItem('authToken');\r\n    console.log('🔑 Token check:', token ? 'Found' : 'Not found');\r\n    \r\n    if (token) {\r\n      try {\r\n        console.log('🌐 Attempting API update...');\r\n        const result = await updateUserProfileAPI(profileData);\r\n        console.log('✅ API update successful:', result);\r\n        \r\n        // Also update local storage with the result\r\n        await saveUserProfile({ ...result, userId });\r\n        return result;\r\n      } catch (apiError) {\r\n        console.warn('⚠️ API update failed, falling back to local storage:', apiError);\r\n      }\r\n    } else {\r\n      console.log('📴 No token found, using local storage only');\r\n    }\r\n    \r\n    // Fallback to local storage update\r\n    const currentProfile = await getUserProfile(profileData.username || userId);\r\n    const updatedProfile = {\r\n      ...currentProfile,\r\n      ...profileData,\r\n      userId,\r\n      lastUpdated: new Date().toISOString()\r\n    };\r\n    \r\n    console.log('💾 Saving to local storage:', updatedProfile);\r\n    await saveUserProfile(updatedProfile);\r\n    return updatedProfile;\r\n  } catch (error) {\r\n    console.error(`Error updating profile for user ${userId}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Export the service functions\r\nconst userDataService = {\r\n  // Profile management (local storage)\r\n  saveUserProfile,\r\n  getUserProfile,\r\n  \r\n  // Media management (local storage)\r\n  saveMediaItem,\r\n  getMediaItems,\r\n  deleteMediaItem,\r\n  \r\n  // Favorites management\r\n  toggleFavorite,\r\n  getFavorites,\r\n  isFavorited,\r\n  \r\n  // Storage management\r\n  getStorageUsage,\r\n  clearAllUserData,\r\n  \r\n  // User profile data fetching\r\n  fetchUserProfile,\r\n  fetchUserUploads,\r\n  fetchUserViewHistory,\r\n  fetchUserAnalytics,\r\n  updateUserProfile,\r\n  \r\n  // Backend API integration\r\n  api: {\r\n    getUserProfile: getUserProfileFromAPI,\r\n    updateUserProfile: updateUserProfileAPI,\r\n    updateUserEmail: updateUserEmailAPI,\r\n    uploadAvatar: uploadAvatarAPI,\r\n    uploadMedia: uploadMediaAPI,\r\n    getUserMedia: getUserMediaAPI,\r\n    deleteMedia: deleteMediaAPI,\r\n    \r\n    // Two-Factor Authentication API methods\r\n    setupTwoFactor: async () => {\r\n      try {\r\n        const token = localStorage.getItem('authToken') || sessionStorage.getItem('authToken');\r\n        const response = await fetch(`${API_CONFIG.baseURL}/auth/2fa/setup`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        const data = await response.json();\r\n        if (!response.ok) throw new Error(data.error || 'Failed to setup 2FA');\r\n        return data;\r\n      } catch (error) {\r\n        console.error('Setup 2FA error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    \r\n    verifyTwoFactorSetup: async (verificationToken) => {\r\n      try {\r\n        const token = localStorage.getItem('authToken') || sessionStorage.getItem('authToken');\r\n        const response = await fetch(`${API_CONFIG.baseURL}/auth/2fa/verify-setup`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n          },\r\n          body: JSON.stringify({ token: verificationToken })\r\n        });\r\n        \r\n        const data = await response.json();\r\n        if (!response.ok) throw new Error(data.error || 'Failed to verify 2FA setup');\r\n        return data;\r\n      } catch (error) {\r\n        console.error('Verify 2FA setup error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    \r\n    verifyTwoFactor: async (userId, verificationToken, isBackupCode = false) => {\r\n      try {\r\n        const response = await fetch(`${API_CONFIG.baseURL}/auth/2fa/verify`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({ \r\n            userId, \r\n            token: verificationToken, \r\n            isBackupCode \r\n          })\r\n        });\r\n        \r\n        const data = await response.json();\r\n        if (!response.ok) throw new Error(data.error || 'Failed to verify 2FA');\r\n        return data;\r\n      } catch (error) {\r\n        console.error('Verify 2FA error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    \r\n    completeTwoFactorLogin: async (userId) => {\r\n      try {\r\n        const response = await fetch(`${API_CONFIG.baseURL}/auth/complete-login`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({ userId })\r\n        });\r\n        \r\n        const data = await response.json();\r\n        if (!response.ok) throw new Error(data.error || 'Failed to complete login');\r\n        return data;\r\n      } catch (error) {\r\n        console.error('Complete 2FA login error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    \r\n    disableTwoFactor: async (password, twoFactorToken) => {\r\n      try {\r\n        const token = localStorage.getItem('authToken') || sessionStorage.getItem('authToken');\r\n        const response = await fetch(`${API_CONFIG.baseURL}/auth/2fa/disable`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n          },\r\n          body: JSON.stringify({ password, token: twoFactorToken })\r\n        });\r\n        \r\n        const data = await response.json();\r\n        if (!response.ok) throw new Error(data.error || 'Failed to disable 2FA');\r\n        return data;\r\n      } catch (error) {\r\n        console.error('Disable 2FA error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    \r\n    getTwoFactorStatus: async () => {\r\n      try {\r\n        const token = localStorage.getItem('authToken') || sessionStorage.getItem('authToken');\r\n        const response = await fetch(`${API_CONFIG.baseURL}/auth/2fa/status`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        const data = await response.json();\r\n        if (!response.ok) throw new Error(data.error || 'Failed to get 2FA status');\r\n        return data;\r\n      } catch (error) {\r\n        console.error('Get 2FA status error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    \r\n    generateBackupCodes: async () => {\r\n      try {\r\n        const token = localStorage.getItem('authToken') || sessionStorage.getItem('authToken');\r\n        const response = await fetch(`${API_CONFIG.baseURL}/auth/2fa/backup-codes`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        const data = await response.json();\r\n        if (!response.ok) throw new Error(data.error || 'Failed to generate backup codes');\r\n        return data;\r\n      } catch (error) {\r\n        console.error('Generate backup codes error:', error);\r\n        throw error;\r\n      }\r\n    }\r\n  },\r\n  \r\n  // Utility functions\r\n  utils: {\r\n    formatFileSize: (bytes) => {\r\n      if (bytes === 0) return '0 Bytes';\r\n      const k = 1024;\r\n      const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n    },\r\n    \r\n    validateFile: (file) => {\r\n      const allowedImageTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];\r\n      const allowedVideoTypes = ['video/mp4', 'video/webm', 'video/ogg', 'video/avi', 'video/mov'];\r\n      const allowedTypes = [...allowedImageTypes, ...allowedVideoTypes];\r\n      \r\n      if (!allowedTypes.includes(file.type)) {\r\n        return { valid: false, error: 'Invalid file type. Only images and videos are allowed.' };\r\n      }\r\n      \r\n      const maxSize = file.type.startsWith('video/') ? 50 * 1024 * 1024 : 10 * 1024 * 1024;\r\n      if (file.size > maxSize) {\r\n        const maxSizeStr = file.type.startsWith('video/') ? '50MB' : '10MB';\r\n        return { valid: false, error: `File too large. Maximum size is ${maxSizeStr}.` };\r\n      }\r\n      \r\n      return { valid: true };\r\n    },\r\n    \r\n    createThumbnail: (file) => {\r\n      return new Promise((resolve) => {\r\n        if (file.type.startsWith('image/')) {\r\n          const reader = new FileReader();\r\n          reader.onload = (e) => resolve(e.target.result);\r\n          reader.readAsDataURL(file);\r\n        } else if (file.type.startsWith('video/')) {\r\n          const video = document.createElement('video');\r\n          const canvas = document.createElement('canvas');\r\n          const ctx = canvas.getContext('2d');\r\n\r\n          video.onloadedmetadata = () => {\r\n            canvas.width = 200; // Thumbnail width\r\n            canvas.height = (video.videoHeight / video.videoWidth) * 200;\r\n            video.currentTime = 1; // Seek to 1 second\r\n          };\r\n\r\n          video.onseeked = () => {\r\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n            resolve(canvas.toDataURL());\r\n            URL.revokeObjectURL(video.src);\r\n          };\r\n\r\n          video.src = URL.createObjectURL(file);\r\n        } else {\r\n          resolve(null);\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport default userDataService;\r\n","import axios from 'axios';\r\nimport websocketService from './websocketService';\r\n\r\n/**\r\n * Simple connection management\r\n * Uses browser's online/offline events and WebSocketService for real-time status\r\n */\r\nconst connectionManager = {\r\n  // Connection state\r\n  _isConnected: navigator.onLine && websocketService.isConnected,\r\n  _listeners: [],\r\n  \r\n  // Get current connection state\r\n  get isConnected() {\r\n    return navigator.onLine && websocketService.isConnected;\r\n  },\r\n  \r\n  // Add connection listener\r\n  addConnectionListener(listener) {\r\n    this._listeners.push(listener);\r\n    \r\n    // Connect to WebSocketService\r\n    const wsUnsubscribe = websocketService.addConnectionListener((connected, details) => {\r\n      this._isConnected = navigator.onLine && connected;\r\n      listener(this._isConnected, details);\r\n    });\r\n    \r\n    // Also listen for browser online/offline events\r\n    const handleOnline = () => {\r\n      if (websocketService.isConnected) {\r\n        this._isConnected = true;\r\n        listener(true, { source: 'browser', event: 'online' });\r\n      }\r\n    };\r\n    \r\n    const handleOffline = () => {\r\n      this._isConnected = false;\r\n      listener(false, { source: 'browser', event: 'offline' });\r\n    };\r\n    \r\n    window.addEventListener('online', handleOnline);\r\n    window.addEventListener('offline', handleOffline);\r\n    \r\n    // Return unsubscribe function that removes all listeners\r\n    return () => {\r\n      this._listeners = this._listeners.filter(l => l !== listener);\r\n      wsUnsubscribe();\r\n      window.removeEventListener('online', handleOnline);\r\n      window.removeEventListener('offline', handleOffline);\r\n    };\r\n  },\r\n  \r\n  // Notify connection status change\r\n  notifyConnectionChange(isConnected) {\r\n    if (this._isConnected !== isConnected) {\r\n      this._isConnected = isConnected;\r\n      this._listeners.forEach(listener => {\r\n        try {\r\n          listener(isConnected, { source: 'api' });\r\n        } catch (error) {\r\n          console.error('Error in connection listener:', error);\r\n        }\r\n      });\r\n      console.log(`[API] Connection status changed: ${isConnected ? 'Connected' : 'Disconnected'}`);\r\n    }\r\n  }\r\n};\r\n\r\n// Create an axios instance with default config\r\nconst API = axios.create({\r\n  baseURL: process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001/api',\r\n  timeout: parseInt(process.env.REACT_APP_API_TIMEOUT) || 5000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  }\r\n});\r\n\r\n// Add a request interceptor to include the auth token\r\nAPI.interceptors.request.use(\r\n  config => {\r\n    const token = localStorage.getItem('authToken') || sessionStorage.getItem('authToken');\r\n    if (token) {\r\n      config.headers['Authorization'] = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  error => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Additional translation API\r\nconst TRANSLATION_API = axios.create({\r\n  baseURL: 'https://api.translation-service.example', // Mock API for translation\r\n  timeout: 5000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': 'Bearer translation_api_key'\r\n  }\r\n});\r\n\r\n// Helper function to check API connection\r\nexport const checkApiConnection = async () => {\r\n  try {\r\n    const response = await API.get('/ping', { timeout: 3000 });\r\n    connectionManager.notifyConnectionChange(true);\r\n    \r\n    // Try to establish WebSocket connection if HTTP connection is successful\r\n    if (!websocketService.isConnected) {\r\n      websocketService.connect();\r\n    }\r\n    \r\n    return response.status === 200;\r\n  } catch (error) {\r\n    console.warn('API server not available, enabling demo mode:', error.message);\r\n    connectionManager.notifyConnectionChange(false);\r\n    return false;\r\n  }\r\n};\r\n\r\n// Periodic connection checker (TEMPORARILY DISABLED)\r\nconst startConnectionChecker = () => {\r\n  console.log('⚠️ Connection checker temporarily disabled to fix rate limiting');\r\n  // TODO: Re-enable after fixing rate limiting issues\r\n  return;\r\n};\r\n\r\n// Helper function to sync pending messages when connection is restored\r\nconst syncPendingMessages = async () => {\r\n  try {\r\n    // Get pending messages from localStorage\r\n    const pendingMessagesJson = localStorage.getItem('pendingMessages');\r\n    if (!pendingMessagesJson) return;\r\n    \r\n    const pendingMessages = JSON.parse(pendingMessagesJson);\r\n    if (pendingMessages.length === 0) return;\r\n    \r\n    console.log(`Syncing ${pendingMessages.length} pending messages...`);\r\n    \r\n    // Process each pending message\r\n    const syncPromises = pendingMessages.map(async (message) => {\r\n      try {\r\n        await API.post('/messages', {\r\n          text: message.text,\r\n          sender: message.sender,\r\n          type: message.type,\r\n          replyTo: message.replyTo,\r\n          timestamp: message.timestamp,\r\n          pendingId: message.id // Send original pending ID for correlation\r\n        });\r\n        return { success: true, id: message.id };\r\n      } catch (error) {\r\n        console.error(`Failed to sync message ${message.id}:`, error);\r\n        return { success: false, id: message.id };\r\n      }\r\n    });\r\n    \r\n    // Wait for all sync attempts to complete\r\n    const results = await Promise.allSettled(syncPromises);\r\n    \r\n    // Remove successfully synced messages\r\n    const syncedIds = results\r\n      .filter(r => r.status === 'fulfilled' && r.value.success)\r\n      .map(r => r.value.id);\r\n    \r\n    if (syncedIds.length > 0) {\r\n      const remainingMessages = pendingMessages.filter(m => !syncedIds.includes(m.id));\r\n      localStorage.setItem('pendingMessages', JSON.stringify(remainingMessages));\r\n      console.log(`Synced ${syncedIds.length} messages, ${remainingMessages.length} remaining`);\r\n    }\r\n  } catch (error) {\r\n    console.error('Error syncing pending messages:', error);\r\n  }\r\n};\r\n\r\n// Add connection state listener for syncing\r\nconnectionManager.addConnectionListener((isConnected) => {\r\n  if (isConnected) {\r\n    syncPendingMessages();\r\n  }\r\n});\r\n\r\n// Listen to WebSocketService for connection state\r\nwebsocketService.addConnectionListener((connected) => {\r\n  // Only update API connection status if the WebSocket state affects overall connection\r\n  const currentConnectionState = connectionManager.isConnected;\r\n  const newConnectionState = navigator.onLine && connected;\r\n  \r\n  if (currentConnectionState !== newConnectionState) {\r\n    connectionManager.notifyConnectionChange(newConnectionState);\r\n  }\r\n});\r\n\r\n// Start the connection checker\r\nstartConnectionChecker();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Request interceptor for adding auth token (standardized on 'authToken')\r\nAPI.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('authToken') || sessionStorage.getItem('authToken');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Response interceptor with retry logic\r\nAPI.interceptors.response.use(\r\n  (response) => {\r\n    // Successful response indicates we're connected\r\n    connectionManager.notifyConnectionChange(true);\r\n    return response;\r\n  },\r\n  async (error) => {\r\n    // Handle common errors here (e.g., 401 Unauthorized)\r\n    if (error.response && error.response.status === 401) {\r\n      localStorage.removeItem('authToken');\r\n      sessionStorage.removeItem('authToken');\r\n      localStorage.removeItem('user');\r\n      window.location.href = '/'; // Redirect to login\r\n      return Promise.reject(error);\r\n    }\r\n    \r\n    // Don't retry if specifically flagged to skip retry\r\n    if (error.config?.skipRetry) {\r\n      return Promise.reject(error);\r\n    }\r\n    \r\n    // Network error or timeout indicates we're disconnected\r\n    if (error.code === 'ECONNABORTED' || \r\n        error.message.includes('timeout') || \r\n        error.message.includes('Network Error')) {\r\n      \r\n      connectionManager.notifyConnectionChange(false);\r\n      \r\n      // Don't retry if we've reached max retries\r\n      if (connectionManager.currentRetries >= connectionManager.maxRetries) {\r\n        console.error(`Max retries (${connectionManager.maxRetries}) reached for request:`, error.config.url);\r\n        // Reset retry counter for next request\r\n        connectionManager.currentRetries = 0;\r\n        return Promise.reject(error);\r\n      }\r\n      \r\n      // Increment retry counter\r\n      connectionManager.currentRetries++;\r\n      \r\n      // Calculate delay for exponential backoff\r\n      const retryDelay = connectionManager.getRetryDelay();\r\n      console.log(`Retry ${connectionManager.currentRetries}/${connectionManager.maxRetries} for ${error.config.url} after ${retryDelay}ms`);\r\n      \r\n      // Wait for the backoff period\r\n      await new Promise(resolve => setTimeout(resolve, retryDelay));\r\n      \r\n      // Retry the request\r\n      return API(error.config);\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Offline authentication function\r\nconst performOfflineLogin = (username, password) => {\r\n  console.log('Performing offline authentication for:', username);\r\n  \r\n  // In offline mode, create a temporary user with the provided credentials\r\n  return {\r\n    user: {\r\n      id: Date.now(),\r\n      username: username,\r\n      email: username.includes('@') ? username : username + '@offline.com',\r\n      name: username.charAt(0).toUpperCase() + username.slice(1),\r\n      isOnline: false,\r\n      status: 'offline',\r\n      lastActive: new Date().toISOString()\r\n    },\r\n    token: 'offline-token-' + Date.now(),\r\n    success: true\r\n  };\r\n};\r\n\r\n// Auth service\r\nexport const authService = {\r\n  // Get user data by ID\r\n  getUserById: async (userId) => {\r\n    try {\r\n      const response = await API.get(`/users/${userId}`);\r\n      return response.data.user;\r\n    } catch (error) {\r\n      console.error('Error fetching user data:', error);\r\n      throw error;\r\n    }\r\n  },\r\n  \r\n  // Get all users (admin function)\r\n  getAllUsers: async () => {\r\n    try {\r\n      const response = await API.get('/users');\r\n      return response.data.users;\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n      throw error;\r\n    }\r\n  },\r\n  \r\n  // Update user profile\r\n  updateUser: async (userId, userData) => {\r\n    try {\r\n      // Handle both FormData and JSON\r\n      const isFormData = userData instanceof FormData;\r\n      \r\n      const config = {\r\n        headers: {\r\n          'Content-Type': isFormData ? 'multipart/form-data' : 'application/json'\r\n        }\r\n      };\r\n      \r\n      // For demo mode, simulate API\r\n      if (!await checkApiConnection()) {\r\n        console.log('API offline, using offline mode for updateUser');\r\n        // In offline mode, just update local storage\r\n        const currentUser = JSON.parse(localStorage.getItem('user') || sessionStorage.getItem('user'));\r\n        if (!currentUser) {\r\n          throw new Error('User not found');\r\n        }\r\n        \r\n        let dataObj = userData;\r\n        if (isFormData) {\r\n          dataObj = {};\r\n          for (const [key, value] of userData.entries()) {\r\n            dataObj[key] = value;\r\n          }\r\n        }\r\n        \r\n        const updatedUser = { ...currentUser, ...dataObj };\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        \r\n        return updatedUser;\r\n      }\r\n      \r\n      const response = await API.put(`/users/${userId}`, userData, config);\r\n      return response.data.user;\r\n    } catch (error) {\r\n      console.error('Error updating user profile:', error);\r\n      throw error;\r\n    }\r\n  },\r\n  \r\n  // Change user password\r\n  changePassword: async (userId, currentPassword, newPassword) => {\r\n    try {\r\n      // For demo mode, simulate API\r\n      if (!await checkApiConnection()) {\r\n        console.log('API offline, password changes not available in offline mode');\r\n        throw new Error('Password changes are not available when offline');\r\n      }\r\n      \r\n      const response = await API.post(`/users/${userId}/change-password`, {\r\n        currentPassword,\r\n        newPassword\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error changing password:', error);\r\n      throw error;\r\n    }\r\n  },\r\n  \r\n  // Update user preferences\r\n  updatePreferences: async (userId, preferences) => {\r\n    try {\r\n      // For demo mode, simulate API\r\n      if (!await checkApiConnection()) {\r\n        console.log('API offline, using demo mode for updatePreferences');\r\n        console.log('API offline, updating preferences locally');\r\n        const currentUser = JSON.parse(localStorage.getItem('user') || sessionStorage.getItem('user'));\r\n        if (!currentUser) {\r\n          throw new Error('User not found');\r\n        }\r\n        \r\n        const updatedUser = {\r\n          ...currentUser,\r\n          preferences: {\r\n            ...currentUser.preferences,\r\n            ...preferences\r\n          }\r\n        };\r\n        \r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        return updatedUser;\r\n      }\r\n\r\n      const response = await API.put(`/users/${userId}/preferences`, preferences);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error updating preferences:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Update current user's profile (simplified)\r\n  updateProfile: async (userData) => {\r\n    try {\r\n      const token = localStorage.getItem('authToken') || sessionStorage.getItem('authToken');\r\n      \r\n      console.log('updateProfile Debug - Token check:', {\r\n        token: token ? 'present' : 'missing',\r\n        userData: userData\r\n      });\r\n      \r\n      if (!token) {\r\n        throw new Error('No authentication token found. Please log in again.');\r\n      }\r\n      \r\n      const response = await API.put('/users/profile', userData, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      console.log('updateProfile Debug - API response:', response.data);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('updateProfile Debug - Error details:', {\r\n        error: error,\r\n        message: error.message,\r\n        response: error.response?.data,\r\n        status: error.response?.status\r\n      });\r\n      \r\n      // Fallback to offline mode\r\n      if (error.code === 'ECONNREFUSED' || error.code === 'ERR_NETWORK' || !navigator.onLine) {\r\n        console.log('Network error detected - falling back to offline mode');\r\n        const currentUser = JSON.parse(localStorage.getItem('user') || sessionStorage.getItem('user') || '{}');\r\n        const updatedUser = { ...currentUser, ...userData };\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        return { success: true, user: updatedUser };\r\n      }\r\n      \r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Upload avatar\r\n  uploadAvatar: async (file) => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('avatar', file);\r\n      \r\n      const token = localStorage.getItem('authToken');\r\n      const response = await API.post('/users/avatar', formData, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error uploading avatar:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Remove avatar\r\n  removeAvatar: async () => {\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await API.delete('/users/avatar', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error removing avatar:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Update current user preferences (simplified)\r\n  updateCurrentUserPreferences: async (preferences) => {\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await API.put('/users/preferences', preferences, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error updating preferences:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Change current user password (simplified)\r\n  changeCurrentUserPassword: async (currentPassword, newPassword) => {\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await API.post('/users/change-password', {\r\n        currentPassword,\r\n        newPassword\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error changing password:', error);\r\n      throw error;\r\n    }\r\n  },\r\n  login: async (username, password) => {\r\n    try {\r\n      console.log('API Client - Login attempt:', { username });\r\n      \r\n      // First check if API is available\r\n      const isApiConnected = await checkApiConnection();\r\n      \r\n      if (!isApiConnected) {\r\n        // Use offline/demo authentication\r\n        console.log('API offline - using demo authentication');\r\n        return performOfflineLogin(username, password);\r\n      }\r\n      \r\n      const response = await API.post('/auth/login', { username, password });\r\n      console.log('API Client - Login response:', response.data);\r\n      \r\n      // Handle inconsistent response formats by normalizing\r\n      const data = response.data;\r\n      \r\n      // If response has success field and it's false, throw custom error with response data\r\n      if (data.hasOwnProperty('success') && !data.success) {\r\n        const error = new Error(data.error || data.message || 'Login failed');\r\n        error.response = { data }; // Attach response data for consistent error handling\r\n        throw error;\r\n      }\r\n      \r\n      // Return normalized response with proper fallbacks for each field\r\n      return {\r\n        user: data.user || { username: username, email: username.includes('@') ? username : null },\r\n        token: data.token || 'demo-token', // Fallback for testing\r\n        success: true\r\n      };\r\n    } catch (error) {\r\n      console.error('Auth service login error:', error);\r\n      \r\n      // If network error, try offline authentication\r\n      if (error.code === 'ECONNREFUSED' || error.code === 'ERR_NETWORK' || !navigator.onLine) {\r\n        console.log('Network error detected - falling back to demo authentication');\r\n        return performOfflineLogin(username, password);\r\n      }\r\n      \r\n      throw error;\r\n    }\r\n  },\r\n  register: async (username, email, password) => {\r\n    try {\r\n      console.log('API Client - Registration attempt:', { username, email });\r\n      \r\n      // First check if API is available\r\n      const isApiConnected = await checkApiConnection();\r\n      \r\n      if (!isApiConnected) {\r\n        // Use offline registration\r\n        console.log('API offline - using demo registration');\r\n        return {\r\n          user: {\r\n            id: Date.now(),\r\n            username: username,\r\n            email: email,\r\n            name: username.charAt(0).toUpperCase() + username.slice(1)\r\n          },\r\n          token: 'offline-registration-token-' + Date.now(),\r\n          success: true\r\n        };\r\n      }\r\n      \r\n      const response = await API.post('/auth/register', { username, email, password });\r\n      console.log('API Client - Registration response:', response.data);\r\n      \r\n      // Handle inconsistent response formats by normalizing\r\n      const data = response.data;\r\n      \r\n      // If response has success field and it's false, throw custom error with response data\r\n      if (data.hasOwnProperty('success') && !data.success) {\r\n        const error = new Error(data.error || data.message || 'Registration failed');\r\n        error.response = { data }; // Attach response data for consistent error handling\r\n        throw error;\r\n      }\r\n      \r\n      // Return normalized response\r\n      return {\r\n        user: data.user || { username, email },\r\n        token: data.token || 'demo-token-' + Date.now().toString().slice(-6),\r\n        success: true\r\n      };\r\n    } catch (error) {\r\n      console.error('Auth service registration error:', error);\r\n      \r\n      // If network error, allow offline registration\r\n      if (error.code === 'ECONNREFUSED' || error.code === 'ERR_NETWORK' || !navigator.onLine) {\r\n        console.log('Network error detected - allowing offline registration');\r\n        return {\r\n          user: {\r\n            id: Date.now(),\r\n            username: username,\r\n            email: email,\r\n            name: username.charAt(0).toUpperCase() + username.slice(1)\r\n          },\r\n          token: 'offline-fallback-token-' + Date.now(),\r\n          success: true\r\n        };\r\n      }\r\n      \r\n      throw error;\r\n    }\r\n  },\r\n  saveUserSession: (user, token, remember = false) => {\r\n    // First clear any existing session data to prevent conflicts\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('authToken');\r\n    sessionStorage.removeItem('user');\r\n    sessionStorage.removeItem('authToken');\r\n    \r\n    // Now store in the appropriate storage\r\n    const storage = remember ? localStorage : sessionStorage;\r\n    \r\n    try {\r\n      // Ensure the user is marked as online when saving session\r\n      const userWithOnlineStatus = {\r\n        ...user,\r\n        isOnline: true,\r\n        status: 'online',\r\n        lastActive: new Date().toISOString()\r\n      };\r\n      \r\n      storage.setItem('user', JSON.stringify(userWithOnlineStatus));\r\n      storage.setItem('authToken', token);\r\n      console.log(`User session saved in ${remember ? 'localStorage' : 'sessionStorage'} with online status`);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error saving user session:', error);\r\n      // Fallback to the other storage if the primary one fails\r\n      try {\r\n        const fallbackStorage = remember ? sessionStorage : localStorage;\r\n        const userWithOnlineStatus = {\r\n          ...user,\r\n          isOnline: true,\r\n          status: 'online',\r\n          lastActive: new Date().toISOString()\r\n        };\r\n        fallbackStorage.setItem('user', JSON.stringify(userWithOnlineStatus));\r\n        fallbackStorage.setItem('authToken', token);\r\n        console.log('User session saved in fallback storage');\r\n        return true;\r\n      } catch (fallbackError) {\r\n        console.error('Error saving user session in fallback storage:', fallbackError);\r\n        return false;\r\n      }\r\n    }\r\n  },\r\n  logout: () => {\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('authToken');\r\n    sessionStorage.removeItem('user');\r\n    sessionStorage.removeItem('authToken');\r\n    window.location.href = '/'; // Redirect to login\r\n  },\r\n  getUser: () => {\r\n    // Check both storage locations\r\n    const userLocal = localStorage.getItem('user');\r\n    const userSession = sessionStorage.getItem('user');\r\n    const user = userLocal || userSession;\r\n    return user ? JSON.parse(user) : null;\r\n  },\r\n  getToken: () => {\r\n    // Check both storage locations\r\n    return localStorage.getItem('authToken') || sessionStorage.getItem('authToken');\r\n  }\r\n};\r\n\r\n// Messages service\r\n// Cache for messages\r\nconst messageCache = {\r\n  messages: [],\r\n  statusUpdates: [],\r\n  lastUpdated: null,\r\n  \r\n  // Save messages to cache\r\n  saveMessages(messages) {\r\n    this.messages = messages;\r\n    this.lastUpdated = new Date();\r\n    \r\n    // Also save to localStorage as backup\r\n    try {\r\n      localStorage.setItem('cachedMessages', JSON.stringify(messages));\r\n    } catch (e) {\r\n      console.warn('Failed to save messages to localStorage:', e);\r\n    }\r\n  },\r\n  \r\n  // Save status updates to cache\r\n  saveStatusUpdates(updates) {\r\n    this.statusUpdates = updates;\r\n    \r\n    // Also save to localStorage as backup\r\n    try {\r\n      localStorage.setItem('statusUpdates', JSON.stringify(updates));\r\n    } catch (e) {\r\n      console.warn('Failed to save status updates to localStorage:', e);\r\n    }\r\n  },\r\n  \r\n  // Get cached messages with fallback to localStorage\r\n  getCachedMessages() {\r\n    if (this.messages.length > 0) {\r\n      return this.messages;\r\n    }\r\n    \r\n    // Try to load from localStorage\r\n    try {\r\n      const cachedData = localStorage.getItem('cachedMessages');\r\n      if (cachedData) {\r\n        const parsedData = JSON.parse(cachedData);\r\n        this.messages = parsedData;\r\n        return parsedData;\r\n      }\r\n    } catch (e) {\r\n      console.warn('Failed to load cached messages from localStorage:', e);\r\n    }\r\n    \r\n    return [];\r\n  },\r\n  \r\n  // Get cached status updates with fallback to localStorage\r\n  getCachedStatusUpdates() {\r\n    if (this.statusUpdates.length > 0) {\r\n      return this.statusUpdates;\r\n    }\r\n    \r\n    // Try to load from localStorage\r\n    try {\r\n      const cachedData = localStorage.getItem('statusUpdates');\r\n      if (cachedData) {\r\n        const parsedData = JSON.parse(cachedData);\r\n        this.statusUpdates = parsedData;\r\n        return parsedData;\r\n      }\r\n    } catch (e) {\r\n      console.warn('Failed to load cached status updates from localStorage:', e);\r\n    }\r\n    \r\n    return [];\r\n  }\r\n};\r\n\r\n// User search and management service\r\nexport const userService = {\r\n  // Search users by name, username, or email\r\n  async searchUsers(query, limit = 10) {\r\n    try {\r\n      if (!query || query.trim().length < 2) {\r\n        return {\r\n          success: false,\r\n          error: 'Search query must be at least 2 characters long'\r\n        };\r\n      }\r\n\r\n      const response = await axios.get(`http://localhost:5001/api/users/search`, {\r\n        params: { q: query.trim(), limit },\r\n        headers: {\r\n          'Authorization': `Bearer ${authService.getToken()}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.data.success) {\r\n        return {\r\n          success: true,\r\n          users: response.data.users,\r\n          count: response.data.count\r\n        };\r\n      } else {\r\n        return {\r\n          success: false,\r\n          error: response.data.error || 'Search failed'\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error('Error searching users:', error);\r\n      return {\r\n        success: false,\r\n        error: error.response?.data?.error || 'Failed to search users'\r\n      };\r\n    }\r\n  },\r\n\r\n  // Get all users (for development/testing)\r\n  async getAllUsers(limit = 50) {\r\n    try {\r\n      const response = await axios.get(`http://localhost:5001/api/users`, {\r\n        params: { limit },\r\n        headers: {\r\n          'Authorization': `Bearer ${authService.getToken()}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.data.success) {\r\n        return {\r\n          success: true,\r\n          users: response.data.users\r\n        };\r\n      } else {\r\n        return {\r\n          success: false,\r\n          error: response.data.error || 'Failed to get users'\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error('Error getting users:', error);\r\n      return {\r\n        success: false,\r\n        error: error.response?.data?.error || 'Failed to get users'\r\n      };\r\n    }\r\n  }\r\n};\r\n\r\n// Conversation service\r\nexport const conversationService = {\r\n  // Create a new conversation\r\n  async createConversation(participants, type = 'direct', name = null) {\r\n    try {\r\n      const conversationData = {\r\n        type,\r\n        participants: participants.map(p => p.id || p),\r\n        name: type === 'group' ? name : null\r\n      };\r\n\r\n      const response = await axios.post(`http://localhost:5001/api/conversations`, conversationData, {\r\n        headers: {\r\n          'Authorization': `Bearer ${authService.getToken()}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.data.success) {\r\n        return {\r\n          success: true,\r\n          conversation: response.data.conversation\r\n        };\r\n      } else {\r\n        return {\r\n          success: false,\r\n          error: response.data.error || 'Failed to create conversation'\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating conversation:', error);\r\n      return {\r\n        success: false,\r\n        error: error.response?.data?.error || 'Failed to create conversation'\r\n      };\r\n    }\r\n  },\r\n\r\n  // Get user's conversations\r\n  async getConversations() {\r\n    try {\r\n      const response = await axios.get(`http://localhost:5001/api/conversations`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${authService.getToken()}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.data.success) {\r\n        return {\r\n          success: true,\r\n          conversations: response.data.conversations\r\n        };\r\n      } else {\r\n        return {\r\n          success: false,\r\n          error: response.data.error || 'Failed to get conversations'\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error('Error getting conversations:', error);\r\n      return {\r\n        success: false,\r\n        error: error.response?.data?.error || 'Failed to get conversations'\r\n      };\r\n    }\r\n  }\r\n};\r\n\r\n// Import the new messageService - using dynamic import for lazy loading\r\nimport('./messageService').then(module => {\r\n  Object.assign(messageService, module.default);\r\n});\r\n\r\n// Legacy messageService for backward compatibility\r\nexport const messageService = {\r\n  // Typing indicator callbacks\r\n  _typingCallbacks: [],\r\n  \r\n  // Connection state listener for UI updates\r\n  addConnectionStateListener: (callback) => {\r\n    // Forward to new implementation when loaded\r\n    import('./messageService').then(module => {\r\n      const newMessageService = module.default;\r\n      return newMessageService.addConnectionStateListener(callback);\r\n    });\r\n    \r\n    // For backward compatibility, still connect to connectionManager\r\n    return connectionManager.addConnectionListener(callback);\r\n  },\r\n  \r\n  // Check current connection state\r\n  isConnected: () => {\r\n    // Try to use the new implementation if it's been loaded\r\n    try {\r\n      const newMessageServiceModule = require('./messageService');\r\n      if (newMessageServiceModule && newMessageServiceModule.default) {\r\n        return newMessageServiceModule.default.isConnected();\r\n      }\r\n    } catch (e) {\r\n      // Fall back to old implementation\r\n      console.debug('Using fallback connection check');\r\n    }\r\n    \r\n    return connectionManager.isConnected;\r\n  },\r\n  \r\n  // Get connection quality (new method)\r\n  getConnectionQuality: () => {\r\n    // Try to use the new implementation if it's been loaded\r\n    try {\r\n      const newMessageServiceModule = require('./messageService');\r\n      if (newMessageServiceModule && newMessageServiceModule.default) {\r\n        return newMessageServiceModule.default.getConnectionQuality();\r\n      }\r\n    } catch (e) {\r\n      // Fall back to simple quality check\r\n      if (!connectionManager.isConnected) return 'offline';\r\n      return 'good'; // Default\r\n    }\r\n  },\r\n  \r\n  // Get detailed connection metrics\r\n  getConnectionMetrics: () => {\r\n    // Try to use the new implementation\r\n    try {\r\n      const newMessageServiceModule = require('./messageService');\r\n      if (newMessageServiceModule && newMessageServiceModule.default) {\r\n        return newMessageServiceModule.default.getConnectionMetrics();\r\n      }\r\n    } catch (e) {\r\n      // Return basic metrics\r\n      return {\r\n        latency: 0,\r\n        stability: connectionManager.isConnected ? 100 : 0,\r\n        quality: connectionManager.isConnected ? 'good' : 'offline',\r\n        connected: connectionManager.isConnected\r\n      };\r\n    }\r\n  },\r\n  \r\n  // Reconnect to server\r\n  reconnect: async () => {\r\n    try {\r\n      // Try to use the new implementation if available\r\n      const newMessageServiceModule = require('./messageService');\r\n      if (newMessageServiceModule && newMessageServiceModule.default) {\r\n        return await newMessageServiceModule.default.reconnect();\r\n      }\r\n    } catch (e) {\r\n      // Fall back to basic reconnection attempt\r\n      console.debug('Using fallback reconnect');\r\n    }\r\n\r\n    // Legacy reconnection logic\r\n    try {\r\n      await checkApiConnection();\r\n      return connectionManager.isConnected;\r\n    } catch (error) {\r\n      console.error('Reconnection failed:', error);\r\n      return false;\r\n    }\r\n  },\r\n  \r\n  getMessages: async () => {\r\n    try {\r\n      const response = await API.get('/messages');\r\n      const data = response.data;\r\n      \r\n      // Cache successful response\r\n      messageCache.saveMessages(data);\r\n      \r\n      return data;\r\n    } catch (error) {\r\n      console.warn('Error fetching messages, using cached data:', error);\r\n      \r\n      // Return cached data on error\r\n      return messageCache.getCachedMessages();\r\n    }\r\n  },\r\n  \r\n  getStatusUpdates: async () => {\r\n    try {\r\n      const response = await API.get('/status-updates');\r\n      const data = response.data;\r\n      \r\n      // Cache successful response\r\n      messageCache.saveStatusUpdates(data);\r\n      \r\n      return data;\r\n    } catch (error) {\r\n      console.warn('Error fetching status updates, using cached data:', error);\r\n      \r\n      // Return cached data on error\r\n      return messageCache.getCachedStatusUpdates();\r\n    }\r\n  },\r\n  \r\n  sendMessage: async (text, sender, replyTo = null) => {\r\n    // Create message object\r\n    const message = {\r\n      id: Date.now() + Math.random().toString(36).substring(2, 9), // Generate temporary ID\r\n      text,\r\n      sender,\r\n      type: 'text',\r\n      replyTo,\r\n      timestamp: new Date().toISOString(),\r\n      status: 'sending'\r\n    };\r\n    \r\n    try {\r\n      // Try to send message to server\r\n      const response = await API.post('/messages', {\r\n        text,\r\n        sender,\r\n        type: 'text',\r\n        replyTo,\r\n        timestamp: message.timestamp,\r\n      });\r\n      \r\n      // Update cache with successful send\r\n      const updatedMessages = [...messageCache.getCachedMessages(), response.data];\r\n      messageCache.saveMessages(updatedMessages);\r\n      \r\n      return {\r\n        ...response.data,\r\n        status: 'sent'\r\n      };\r\n    } catch (error) {\r\n      console.warn('Failed to send message, saving to pending queue:', error);\r\n      \r\n      // Store in pending messages queue for later sync\r\n      try {\r\n        const pendingMessages = JSON.parse(localStorage.getItem('pendingMessages') || '[]');\r\n        pendingMessages.push(message);\r\n        localStorage.setItem('pendingMessages', JSON.stringify(pendingMessages));\r\n      } catch (e) {\r\n        console.error('Failed to save pending message:', e);\r\n      }\r\n      \r\n      // Update local cache with the pending message\r\n      const updatedMessages = [...messageCache.getCachedMessages(), message];\r\n      messageCache.saveMessages(updatedMessages);\r\n      \r\n      // Return message with offline status\r\n      return {\r\n        ...message,\r\n        status: 'pending'\r\n      };\r\n    }\r\n  },\r\n  \r\n  sendVoiceMessage: async (audioFile, sender) => {\r\n    const formData = new FormData();\r\n    formData.append('audio', audioFile);\r\n    formData.append('sender', sender);\r\n    formData.append('type', 'voice');\r\n    \r\n    const response = await axios.post('http://localhost:5001/api/voice-messages', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n      }\r\n    });\r\n    return response.data;\r\n  },\r\n  \r\n  uploadFile: async (file, sender) => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('sender', sender);\r\n    formData.append('type', 'file');\r\n    \r\n    const response = await axios.post('http://localhost:5001/api/files', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n      }\r\n    });\r\n    return response.data;\r\n  },\r\n  \r\n  markAsRead: async (messageId, username) => {\r\n    try {\r\n      const response = await API.post(`/messages/${messageId}/read`, { username });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error marking message as read:', error);\r\n      \r\n      // Local fallback\r\n      const messages = JSON.parse(localStorage.getItem('messages') || '[]');\r\n      const updatedMessages = messages.map(msg => {\r\n        if (msg.id === messageId) {\r\n          return {\r\n            ...msg,\r\n            readBy: [...(msg.readBy || []), username]\r\n          };\r\n        }\r\n        return msg;\r\n      });\r\n      localStorage.setItem('messages', JSON.stringify(updatedMessages));\r\n      \r\n      // Return the updated message\r\n      return updatedMessages.find(msg => msg.id === messageId);\r\n    }\r\n  },\r\n  \r\n  // Re-export message service methods for compatibility\r\n  sendTypingStatus: (username, isTyping) => {\r\n    import('./messageService').then(module => {\r\n      const messageService = module.default;\r\n      messageService.sendTypingStatus(username, isTyping);\r\n    });\r\n  },\r\n  \r\n  subscribeToTyping: (callback) => {\r\n    import('./messageService').then(module => {\r\n      const messageService = module.default;\r\n      messageService.subscribeToTyping(callback);\r\n    });\r\n  },\r\n  \r\n  unsubscribeFromTyping: () => {\r\n    messageService._typingCallbacks = [];\r\n    \r\n    // In a real app, we would disconnect from WebSocket here\r\n    console.log('Unsubscribed from typing indicators');\r\n  }\r\n};\r\n\r\n// Photos service\r\nexport const photoService = {\r\n  getPhotos: async (options = {}) => {\r\n    let url = '/photos';\r\n    \r\n    // Add query parameters for delta updates\r\n    if (options.since) {\r\n      url += `?since=${options.since}`;\r\n    }\r\n    \r\n    const response = await API.get(url);\r\n    return response.data;\r\n  },\r\n  \r\n  uploadPhoto: async (file, sender) => {\r\n    const formData = new FormData();\r\n    formData.append('photo', file);\r\n    formData.append('sender', sender);\r\n    \r\n    const response = await axios.post('http://localhost:5001/api/photos', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n      }\r\n    });\r\n    return response.data;\r\n  },\r\n  \r\n  uploadVideo: async (file, sender) => {\r\n    const formData = new FormData();\r\n    formData.append('video', file);\r\n    formData.append('sender', sender);\r\n    \r\n    try {\r\n      const response = await axios.post('http://localhost:5001/api/videos', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        // Upload progress for large videos\r\n        onUploadProgress: (progressEvent) => {\r\n          const percentCompleted = Math.round(\r\n            (progressEvent.loaded * 100) / progressEvent.total\r\n          );\r\n          console.log(`Upload progress: ${percentCompleted}%`);\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      // Handle server errors\r\n      if (!navigator.onLine) {\r\n        // Create local video object if offline\r\n        return {\r\n          id: Date.now(),\r\n          url: URL.createObjectURL(file),\r\n          name: file.name,\r\n          timestamp: new Date().toISOString(),\r\n          sender: sender,\r\n          pending: true\r\n        };\r\n      }\r\n      throw error;\r\n    }\r\n  },\r\n  \r\n  // Toggle like on a photo\r\n  toggleLike: async (photoId, username, isLiking = true) => {\r\n    const action = isLiking ? 'like' : 'unlike';\r\n    const response = await API.post(`/photos/${photoId}/${action}`, { username });\r\n    return response.data;\r\n  },\r\n  \r\n  // Get photos liked by a user\r\n  getUserLikedPhotos: async (username) => {\r\n    const response = await API.get(`/photos/liked/${username}`);\r\n    return response.data;\r\n  },\r\n  \r\n  // Get like counts for all photos\r\n  getPhotoLikeCounts: async () => {\r\n    const response = await API.get('/photos/likes/counts');\r\n    return response.data;\r\n  },\r\n  \r\n  // Get users who liked a specific photo\r\n  getPhotoLikedBy: async (photoId) => {\r\n    const response = await API.get(`/photos/${photoId}/likes`);\r\n    return response.data;\r\n  }\r\n};\r\n\r\n// Translation service\r\nexport const translationService = {\r\n  // Translate text to target language\r\n  translateText: async (text, targetLanguage) => {\r\n    try {\r\n      // Check if we're online\r\n      const online = await checkApiConnection();\r\n      \r\n      if (!online) {\r\n        throw new Error('API not available');\r\n      }\r\n      \r\n      // Make translation request\r\n      const response = await TRANSLATION_API.post('/translate', {\r\n        text,\r\n        targetLanguage\r\n      });\r\n      \r\n      return response.data.translatedText;\r\n    } catch (error) {\r\n      console.error('Error in translation service:', error);\r\n      \r\n      // Demo mode - simulate translation\r\n      const demoTranslations = {\r\n        en: 'This is a sample translated text in English.',\r\n        es: 'Este es un ejemplo de texto traducido en español.',\r\n        fr: 'Ceci est un exemple de texte traduit en français.',\r\n        de: 'Dies ist ein Beispiel für übersetzten Text auf Deutsch.',\r\n        zh: '这是中文翻译文本的示例。',\r\n        ja: 'これは日本語に翻訳されたテキストの例です。',\r\n        ar: 'هذا مثال على النص المترجم باللغة العربية.',\r\n        ru: 'Это пример переведенного текста на русском языке.'\r\n      };\r\n      \r\n      // Return demo translation based on requested language\r\n      return demoTranslations[targetLanguage] || 'Translation not available';\r\n    }\r\n  }\r\n};\r\n\r\nconst apiClient = {\r\n  auth: authService,\r\n  messages: messageService,\r\n  photos: photoService,\r\n  translation: translationService\r\n};\r\n\r\nexport default apiClient;\r\n\r\n\r\n\r\n","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","/**\r\n * Compatibility Validation Suite\r\n * Validates iOS 17/Android 14 compatibility and modern browser features\r\n */\r\n\r\n// iOS 17 Compatibility Validator\r\nclass iOS17CompatibilityValidator {\r\n  constructor() {\r\n    this.isIOS = this.detectIOS();\r\n    this.version = this.detectIOSVersion();\r\n    this.supportedFeatures = this.getIOS17Features();\r\n    \r\n    console.log('🍎 iOS 17 Compatibility Validator initialized');\r\n  }\r\n\r\n  detectIOS() {\r\n    return /iPad|iPhone|iPod/.test(navigator.userAgent) ||\r\n           (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\r\n  }\r\n\r\n  detectIOSVersion() {\r\n    const match = navigator.userAgent.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\r\n    if (match) {\r\n      return {\r\n        major: parseInt(match[1]),\r\n        minor: parseInt(match[2]),\r\n        patch: parseInt(match[3] || 0)\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getIOS17Features() {\r\n    return {\r\n      // Safari 17 features\r\n      'css-nesting': true,\r\n      'container-queries': true,\r\n      'css-cascade-layers': true,\r\n      'viewport-units': ['dvh', 'svh', 'lvh'],\r\n      \r\n      // Web APIs\r\n      'web-share-api': true,\r\n      'background-sync': false, // Limited support\r\n      'push-notifications': true,\r\n      'file-system-access': false, // Not supported\r\n      \r\n      // Performance APIs\r\n      'performance-observer': true,\r\n      'intersection-observer-v2': true,\r\n      'resize-observer': true,\r\n      \r\n      // Touch and Interaction\r\n      'touch-events': true,\r\n      'haptic-feedback': true, // via vibration API\r\n      'pointer-events': true,\r\n      \r\n      // Display APIs\r\n      'screen-orientation': true,\r\n      'visual-viewport': true,\r\n      'safe-area-insets': true,\r\n      \r\n      // Media APIs\r\n      'media-session': true,\r\n      'picture-in-picture': true,\r\n      'web-audio': true\r\n    };\r\n  }\r\n\r\n  async validateCompatibility() {\r\n    console.log('🔍 Validating iOS 17 compatibility...');\r\n    \r\n    const results = {\r\n      device: 'iOS Device',\r\n      version: this.version,\r\n      isCompatible: true,\r\n      features: {},\r\n      warnings: [],\r\n      errors: []\r\n    };\r\n\r\n    // Test CSS features\r\n    results.features.css = await this.testCSSFeatures();\r\n    \r\n    // Test Web APIs\r\n    results.features.webAPIs = await this.testWebAPIs();\r\n    \r\n    // Test Performance APIs\r\n    results.features.performance = await this.testPerformanceAPIs();\r\n    \r\n    // Test Touch and Interaction\r\n    results.features.touch = await this.testTouchFeatures();\r\n    \r\n    // Test PWA features\r\n    results.features.pwa = await this.testPWAFeatures();\r\n    \r\n    // Generate warnings and errors\r\n    this.analyzeCompatibility(results);\r\n    \r\n    this.displayCompatibilityReport(results);\r\n    return results;\r\n  }\r\n\r\n  async testCSSFeatures() {\r\n    const features = {};\r\n    \r\n    // Test CSS Nesting\r\n    features.nesting = CSS.supports('selector(&:hover)');\r\n    \r\n    // Test Container Queries\r\n    features.containerQueries = CSS.supports('container-type: inline-size');\r\n    \r\n    // Test Cascade Layers\r\n    features.cascadeLayers = CSS.supports('@layer');\r\n    \r\n    // Test Viewport Units\r\n    features.viewportUnits = {\r\n      dvh: CSS.supports('height: 100dvh'),\r\n      svh: CSS.supports('height: 100svh'),\r\n      lvh: CSS.supports('height: 100lvh')\r\n    };\r\n    \r\n    // Test Safe Area\r\n    features.safeArea = CSS.supports('padding: env(safe-area-inset-top)');\r\n    \r\n    return features;\r\n  }\r\n\r\n  async testWebAPIs() {\r\n    const apis = {};\r\n    \r\n    // Web Share API\r\n    apis.webShare = 'share' in navigator;\r\n    \r\n    // Service Worker\r\n    apis.serviceWorker = 'serviceWorker' in navigator;\r\n    \r\n    // Push Manager\r\n    apis.pushManager = 'PushManager' in window;\r\n    \r\n    // Background Sync (limited on iOS)\r\n    apis.backgroundSync = 'sync' in window.ServiceWorkerRegistration?.prototype || false;\r\n    \r\n    // File System Access (not supported on iOS)\r\n    apis.fileSystemAccess = 'showOpenFilePicker' in window;\r\n    \r\n    return apis;\r\n  }\r\n\r\n  async testPerformanceAPIs() {\r\n    const performance = {};\r\n    \r\n    // Performance Observer\r\n    performance.observer = 'PerformanceObserver' in window;\r\n    \r\n    // Intersection Observer\r\n    performance.intersectionObserver = 'IntersectionObserver' in window;\r\n    \r\n    // Resize Observer\r\n    performance.resizeObserver = 'ResizeObserver' in window;\r\n    \r\n    // Memory API\r\n    performance.memory = 'memory' in window.performance;\r\n    \r\n    return performance;\r\n  }\r\n\r\n  async testTouchFeatures() {\r\n    const touch = {};\r\n    \r\n    // Touch Events\r\n    touch.touchEvents = 'ontouchstart' in window;\r\n    \r\n    // Pointer Events\r\n    touch.pointerEvents = 'onpointerdown' in window;\r\n    \r\n    // Haptic Feedback (vibration)\r\n    touch.hapticFeedback = 'vibrate' in navigator;\r\n    \r\n    // Force Touch (3D Touch successor)\r\n    touch.forceTouch = 'webkitForce' in document.createElement('div');\r\n    \r\n    return touch;\r\n  }\r\n\r\n  async testPWAFeatures() {\r\n    const pwa = {};\r\n    \r\n    // App Manifest\r\n    pwa.manifest = 'onappinstalled' in window;\r\n    \r\n    // Install Prompt\r\n    pwa.installPrompt = 'onbeforeinstallprompt' in window;\r\n    \r\n    // Standalone Display\r\n    pwa.standalone = window.matchMedia('(display-mode: standalone)').matches;\r\n    \r\n    // Media Session\r\n    pwa.mediaSession = 'mediaSession' in navigator;\r\n    \r\n    return pwa;\r\n  }\r\n\r\n  analyzeCompatibility(results) {\r\n    // Check for missing critical features\r\n    if (!results.features.css.safeArea) {\r\n      results.warnings.push('Safe area insets may not be supported - iPhone notch/island handling affected');\r\n    }\r\n    \r\n    if (!results.features.webAPIs.webShare) {\r\n      results.warnings.push('Web Share API not available - native sharing disabled');\r\n    }\r\n    \r\n    if (!results.features.touch.hapticFeedback) {\r\n      results.warnings.push('Haptic feedback not supported - reduced touch experience');\r\n    }\r\n    \r\n    // Version-specific checks\r\n    if (this.version && this.version.major < 17) {\r\n      results.errors.push(`iOS ${this.version.major} detected - iOS 17+ required for full compatibility`);\r\n      results.isCompatible = false;\r\n    }\r\n  }\r\n\r\n  displayCompatibilityReport(results) {\r\n    console.log('\\n🍎 iOS 17 COMPATIBILITY REPORT');\r\n    console.log('===============================');\r\n    \r\n    if (results.version) {\r\n      console.log(`Device: iOS ${results.version.major}.${results.version.minor}.${results.version.patch}`);\r\n    }\r\n    \r\n    console.log(`Overall Compatibility: ${results.isCompatible ? '✅ COMPATIBLE' : '❌ INCOMPATIBLE'}`);\r\n    \r\n    // Display feature support\r\n    console.log('\\n📱 Feature Support:');\r\n    this.displayFeatureMatrix(results.features);\r\n    \r\n    // Display warnings\r\n    if (results.warnings.length > 0) {\r\n      console.log('\\n⚠️ Warnings:');\r\n      results.warnings.forEach(warning => console.log(`  • ${warning}`));\r\n    }\r\n    \r\n    // Display errors\r\n    if (results.errors.length > 0) {\r\n      console.log('\\n❌ Errors:');\r\n      results.errors.forEach(error => console.log(`  • ${error}`));\r\n    }\r\n  }\r\n\r\n  displayFeatureMatrix(features) {\r\n    for (const [category, categoryFeatures] of Object.entries(features)) {\r\n      console.log(`\\n  ${category.toUpperCase()}:`);\r\n      \r\n      if (typeof categoryFeatures === 'object') {\r\n        for (const [feature, supported] of Object.entries(categoryFeatures)) {\r\n          const icon = supported ? '✅' : '❌';\r\n          console.log(`    ${icon} ${feature}`);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Android 14 Compatibility Validator\r\nclass Android14CompatibilityValidator {\r\n  constructor() {\r\n    this.isAndroid = this.detectAndroid();\r\n    this.version = this.detectAndroidVersion();\r\n    this.supportedFeatures = this.getAndroid14Features();\r\n    \r\n    console.log('🤖 Android 14 Compatibility Validator initialized');\r\n  }\r\n\r\n  detectAndroid() {\r\n    return /Android/.test(navigator.userAgent);\r\n  }\r\n\r\n  detectAndroidVersion() {\r\n    const match = navigator.userAgent.match(/Android (\\d+)\\.(\\d+)/);\r\n    if (match) {\r\n      return {\r\n        major: parseInt(match[1]),\r\n        minor: parseInt(match[2])\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getAndroid14Features() {\r\n    return {\r\n      // Chrome/WebView features\r\n      'css-nesting': true,\r\n      'container-queries': true,\r\n      'css-cascade-layers': true,\r\n      'viewport-units': ['dvh', 'svh', 'lvh'],\r\n      \r\n      // Web APIs (broader support than iOS)\r\n      'web-share-api': true,\r\n      'background-sync': true,\r\n      'push-notifications': true,\r\n      'file-system-access': true, // Origin Private File System\r\n      \r\n      // Performance APIs\r\n      'performance-observer': true,\r\n      'intersection-observer-v2': true,\r\n      'resize-observer': true,\r\n      \r\n      // Touch and Interaction\r\n      'touch-events': true,\r\n      'haptic-feedback': true,\r\n      'pointer-events': true,\r\n      \r\n      // Android-specific features\r\n      'web-app-manifest': true,\r\n      'install-prompt': true,\r\n      'ambient-light-sensor': true, // Some devices\r\n      'geolocation': true\r\n    };\r\n  }\r\n\r\n  async validateCompatibility() {\r\n    console.log('🔍 Validating Android 14 compatibility...');\r\n    \r\n    const results = {\r\n      device: 'Android Device',\r\n      version: this.version,\r\n      isCompatible: true,\r\n      features: {},\r\n      warnings: [],\r\n      errors: []\r\n    };\r\n\r\n    // Test modern web features\r\n    results.features.webFeatures = await this.testWebFeatures();\r\n    \r\n    // Test PWA capabilities\r\n    results.features.pwa = await this.testPWACapabilities();\r\n    \r\n    // Test Performance APIs\r\n    results.features.performance = await this.testPerformanceAPIs();\r\n    \r\n    // Test Android-specific features\r\n    results.features.android = await this.testAndroidFeatures();\r\n    \r\n    // Generate compatibility analysis\r\n    this.analyzeCompatibility(results);\r\n    \r\n    this.displayCompatibilityReport(results);\r\n    return results;\r\n  }\r\n\r\n  async testWebFeatures() {\r\n    const features = {};\r\n    \r\n    // Modern CSS\r\n    features.cssNesting = CSS.supports('selector(&:hover)');\r\n    features.containerQueries = CSS.supports('container-type: inline-size');\r\n    features.viewportUnits = CSS.supports('height: 100dvh');\r\n    \r\n    // Web APIs\r\n    features.webShare = 'share' in navigator;\r\n    features.backgroundSync = 'serviceWorker' in navigator && 'sync' in window.ServiceWorkerRegistration?.prototype;\r\n    features.fileSystemAccess = 'showOpenFilePicker' in window;\r\n    \r\n    return features;\r\n  }\r\n\r\n  async testPWACapabilities() {\r\n    const pwa = {};\r\n    \r\n    // Installation\r\n    pwa.installPrompt = 'onbeforeinstallprompt' in window;\r\n    pwa.manifest = document.querySelector('link[rel=\"manifest\"]') !== null;\r\n    \r\n    // App-like features\r\n    pwa.standalone = window.matchMedia('(display-mode: standalone)').matches;\r\n    pwa.fullscreen = document.fullscreenEnabled;\r\n    \r\n    // Background capabilities\r\n    pwa.backgroundSync = 'sync' in window.ServiceWorkerRegistration?.prototype || false;\r\n    pwa.pushNotifications = 'PushManager' in window;\r\n    \r\n    return pwa;\r\n  }\r\n\r\n  async testPerformanceAPIs() {\r\n    const performance = {};\r\n    \r\n    // Observation APIs\r\n    performance.performanceObserver = 'PerformanceObserver' in window;\r\n    performance.intersectionObserver = 'IntersectionObserver' in window;\r\n    performance.resizeObserver = 'ResizeObserver' in window;\r\n    \r\n    // Memory and timing\r\n    performance.memory = 'memory' in window.performance;\r\n    performance.navigation = 'navigation' in performance;\r\n    \r\n    return performance;\r\n  }\r\n\r\n  async testAndroidFeatures() {\r\n    const android = {};\r\n    \r\n    // Sensors\r\n    android.ambientLight = 'AmbientLightSensor' in window;\r\n    android.deviceMotion = 'DeviceMotionEvent' in window;\r\n    android.deviceOrientation = 'DeviceOrientationEvent' in window;\r\n    \r\n    // System integration\r\n    android.vibration = 'vibrate' in navigator;\r\n    android.wakeLock = 'wakeLock' in navigator;\r\n    android.permissions = 'permissions' in navigator;\r\n    \r\n    return android;\r\n  }\r\n\r\n  analyzeCompatibility(results) {\r\n    // Check Android version\r\n    if (this.version && this.version.major < 14) {\r\n      results.warnings.push(`Android ${this.version.major} detected - Android 14+ recommended for optimal experience`);\r\n    }\r\n    \r\n    // Check critical PWA features\r\n    if (!results.features.pwa.installPrompt) {\r\n      results.warnings.push('Install prompt may not be available - PWA installation affected');\r\n    }\r\n    \r\n    if (!results.features.webFeatures.backgroundSync) {\r\n      results.warnings.push('Background sync not supported - offline functionality limited');\r\n    }\r\n  }\r\n\r\n  displayCompatibilityReport(results) {\r\n    console.log('\\n🤖 ANDROID 14 COMPATIBILITY REPORT');\r\n    console.log('===================================');\r\n    \r\n    if (results.version) {\r\n      console.log(`Device: Android ${results.version.major}.${results.version.minor}`);\r\n    }\r\n    \r\n    console.log(`Overall Compatibility: ${results.isCompatible ? '✅ COMPATIBLE' : '❌ INCOMPATIBLE'}`);\r\n    \r\n    // Display feature matrix\r\n    console.log('\\n📱 Feature Support:');\r\n    this.displayFeatureMatrix(results.features);\r\n    \r\n    // Display warnings\r\n    if (results.warnings.length > 0) {\r\n      console.log('\\n⚠️ Warnings:');\r\n      results.warnings.forEach(warning => console.log(`  • ${warning}`));\r\n    }\r\n  }\r\n\r\n  displayFeatureMatrix(features) {\r\n    for (const [category, categoryFeatures] of Object.entries(features)) {\r\n      console.log(`\\n  ${category.toUpperCase()}:`);\r\n      \r\n      for (const [feature, supported] of Object.entries(categoryFeatures)) {\r\n        const icon = supported ? '✅' : '❌';\r\n        console.log(`    ${icon} ${feature}`);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Accessibility Compliance Validator\r\nclass AccessibilityValidator {\r\n  constructor() {\r\n    this.wcagLevel = 'AA'; // WCAG 2.1 AA compliance\r\n    console.log('♿ Accessibility Validator initialized');\r\n  }\r\n\r\n  async validateAccessibility() {\r\n    console.log('🔍 Running accessibility validation...');\r\n    \r\n    const results = {\r\n      timestamp: new Date().toISOString(),\r\n      level: this.wcagLevel,\r\n      tests: {},\r\n      score: 0,\r\n      issues: [],\r\n      recommendations: []\r\n    };\r\n\r\n    // Run accessibility tests\r\n    results.tests.contrastRatio = await this.testContrastRatios();\r\n    results.tests.keyboardNavigation = await this.testKeyboardNavigation();\r\n    results.tests.screenReaderSupport = await this.testScreenReaderSupport();\r\n    results.tests.touchTargets = await this.testTouchTargets();\r\n    results.tests.motionAndAnimation = await this.testMotionPreferences();\r\n    results.tests.semanticStructure = await this.testSemanticStructure();\r\n    \r\n    // Calculate overall score\r\n    results.score = this.calculateAccessibilityScore(results.tests);\r\n    \r\n    // Generate recommendations\r\n    results.recommendations = this.generateAccessibilityRecommendations(results.tests);\r\n    \r\n    this.displayAccessibilityReport(results);\r\n    return results;\r\n  }\r\n\r\n  async testContrastRatios() {\r\n    const elements = document.querySelectorAll('*');\r\n    const contrastIssues = [];\r\n    \r\n    for (const element of elements) {\r\n      const styles = getComputedStyle(element);\r\n      const bgColor = styles.backgroundColor;\r\n      const textColor = styles.color;\r\n      \r\n      if (bgColor !== 'rgba(0, 0, 0, 0)' && textColor !== 'rgba(0, 0, 0, 0)') {\r\n        const contrast = this.calculateContrastRatio(bgColor, textColor);\r\n        \r\n        if (contrast < 4.5) { // WCAG AA standard\r\n          contrastIssues.push({\r\n            element: element.tagName,\r\n            contrast: contrast.toFixed(2),\r\n            background: bgColor,\r\n            text: textColor\r\n          });\r\n        }\r\n      }\r\n    }\r\n    \r\n    return {\r\n      status: contrastIssues.length === 0 ? 'PASS' : 'FAIL',\r\n      issues: contrastIssues.slice(0, 10), // Limit to first 10 issues\r\n      total: contrastIssues.length\r\n    };\r\n  }\r\n\r\n  calculateContrastRatio(bg, text) {\r\n    // Simplified contrast ratio calculation\r\n    // In a real implementation, you'd convert colors to luminance values\r\n    return Math.random() * 10 + 3; // Mock calculation\r\n  }\r\n\r\n  async testKeyboardNavigation() {\r\n    const focusableElements = document.querySelectorAll(\r\n      'a, button, input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n    );\r\n    \r\n    const issues = [];\r\n    \r\n    focusableElements.forEach((element, index) => {\r\n      // Check if element is actually focusable\r\n      if (getComputedStyle(element).visibility === 'hidden' || \r\n          element.offsetParent === null) {\r\n        issues.push({\r\n          element: element.tagName,\r\n          issue: 'Hidden element in tab order'\r\n        });\r\n      }\r\n      \r\n      // Check for focus indicators\r\n      const focusOutline = getComputedStyle(element, ':focus').outline;\r\n      if (focusOutline === 'none' || focusOutline === '0px') {\r\n        issues.push({\r\n          element: element.tagName,\r\n          issue: 'No focus indicator'\r\n        });\r\n      }\r\n    });\r\n    \r\n    return {\r\n      status: issues.length === 0 ? 'PASS' : 'FAIL',\r\n      focusableElements: focusableElements.length,\r\n      issues: issues.slice(0, 10)\r\n    };\r\n  }\r\n\r\n  async testScreenReaderSupport() {\r\n    const issues = [];\r\n    \r\n    // Check for alt text on images\r\n    const images = document.querySelectorAll('img');\r\n    images.forEach(img => {\r\n      if (!img.alt && !img.getAttribute('aria-label')) {\r\n        issues.push({\r\n          element: 'img',\r\n          issue: 'Missing alt text',\r\n          src: img.src\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Check for form labels\r\n    const inputs = document.querySelectorAll('input, select, textarea');\r\n    inputs.forEach(input => {\r\n      const hasLabel = document.querySelector(`label[for=\"${input.id}\"]`) ||\r\n                     input.getAttribute('aria-label') ||\r\n                     input.getAttribute('aria-labelledby');\r\n      \r\n      if (!hasLabel) {\r\n        issues.push({\r\n          element: input.tagName,\r\n          issue: 'Missing label',\r\n          type: input.type\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Check heading structure\r\n    const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');\r\n    let previousLevel = 0;\r\n    \r\n    headings.forEach(heading => {\r\n      const currentLevel = parseInt(heading.tagName.charAt(1));\r\n      \r\n      if (currentLevel > previousLevel + 1) {\r\n        issues.push({\r\n          element: heading.tagName,\r\n          issue: 'Heading level skip',\r\n          text: heading.textContent.substring(0, 50)\r\n        });\r\n      }\r\n      \r\n      previousLevel = currentLevel;\r\n    });\r\n    \r\n    return {\r\n      status: issues.length === 0 ? 'PASS' : 'PARTIAL',\r\n      issues: issues.slice(0, 15)\r\n    };\r\n  }\r\n\r\n  async testTouchTargets() {\r\n    const interactive = document.querySelectorAll('button, a, input, select, textarea');\r\n    const smallTargets = [];\r\n    \r\n    interactive.forEach(element => {\r\n      const rect = element.getBoundingClientRect();\r\n      const minSize = 44; // 44px minimum touch target size\r\n      \r\n      if (rect.width < minSize || rect.height < minSize) {\r\n        smallTargets.push({\r\n          element: element.tagName,\r\n          size: `${Math.round(rect.width)}x${Math.round(rect.height)}`,\r\n          text: element.textContent?.substring(0, 30) || element.value?.substring(0, 30)\r\n        });\r\n      }\r\n    });\r\n    \r\n    return {\r\n      status: smallTargets.length === 0 ? 'PASS' : 'FAIL',\r\n      totalTargets: interactive.length,\r\n      smallTargets: smallTargets.slice(0, 10)\r\n    };\r\n  }\r\n\r\n  async testMotionPreferences() {\r\n    const hasReducedMotionSupport = CSS.supports('(prefers-reduced-motion: reduce)');\r\n    const animatedElements = document.querySelectorAll('[style*=\"animation\"], [class*=\"animate\"]');\r\n    \r\n    const issues = [];\r\n    \r\n    if (!hasReducedMotionSupport) {\r\n      issues.push('No prefers-reduced-motion support detected');\r\n    }\r\n    \r\n    if (animatedElements.length > 0 && !hasReducedMotionSupport) {\r\n      issues.push(`${animatedElements.length} animated elements without motion preference handling`);\r\n    }\r\n    \r\n    return {\r\n      status: issues.length === 0 ? 'PASS' : 'PARTIAL',\r\n      animatedElements: animatedElements.length,\r\n      issues: issues\r\n    };\r\n  }\r\n\r\n  async testSemanticStructure() {\r\n    const issues = [];\r\n    \r\n    // Check for main landmark\r\n    const main = document.querySelector('main, [role=\"main\"]');\r\n    if (!main) {\r\n      issues.push('No main landmark found');\r\n    }\r\n    \r\n    // Check for navigation\r\n    const nav = document.querySelector('nav, [role=\"navigation\"]');\r\n    if (!nav) {\r\n      issues.push('No navigation landmark found');\r\n    }\r\n    \r\n    // Check for page title\r\n    if (!document.title || document.title.trim() === '') {\r\n      issues.push('Missing or empty page title');\r\n    }\r\n    \r\n    return {\r\n      status: issues.length === 0 ? 'PASS' : 'PARTIAL',\r\n      issues: issues\r\n    };\r\n  }\r\n\r\n  calculateAccessibilityScore(tests) {\r\n    let totalScore = 0;\r\n    let testCount = 0;\r\n    \r\n    for (const test of Object.values(tests)) {\r\n      testCount++;\r\n      \r\n      if (test.status === 'PASS') {\r\n        totalScore += 100;\r\n      } else if (test.status === 'PARTIAL') {\r\n        totalScore += 50;\r\n      }\r\n      // FAIL = 0 points\r\n    }\r\n    \r\n    return testCount > 0 ? Math.round(totalScore / testCount) : 0;\r\n  }\r\n\r\n  generateAccessibilityRecommendations(tests) {\r\n    const recommendations = [];\r\n    \r\n    if (tests.contrastRatio.status === 'FAIL') {\r\n      recommendations.push('Improve color contrast ratios to meet WCAG AA standards (4.5:1)');\r\n    }\r\n    \r\n    if (tests.keyboardNavigation.issues.length > 0) {\r\n      recommendations.push('Add visible focus indicators for keyboard navigation');\r\n    }\r\n    \r\n    if (tests.screenReaderSupport.issues.length > 0) {\r\n      recommendations.push('Add alt text to images and labels to form controls');\r\n    }\r\n    \r\n    if (tests.touchTargets.smallTargets.length > 0) {\r\n      recommendations.push('Increase touch target sizes to minimum 44px');\r\n    }\r\n    \r\n    return recommendations;\r\n  }\r\n\r\n  displayAccessibilityReport(results) {\r\n    console.log('\\n♿ ACCESSIBILITY VALIDATION REPORT');\r\n    console.log('==================================');\r\n    \r\n    console.log(`Overall Score: ${results.score}/100`);\r\n    console.log(`WCAG Level: ${results.level}`);\r\n    \r\n    // Test results\r\n    console.log('\\n📋 Test Results:');\r\n    for (const [testName, result] of Object.entries(results.tests)) {\r\n      const icon = result.status === 'PASS' ? '✅' : \r\n                  result.status === 'PARTIAL' ? '⚠️' : '❌';\r\n      console.log(`${icon} ${testName}: ${result.status}`);\r\n    }\r\n    \r\n    // Recommendations\r\n    if (results.recommendations.length > 0) {\r\n      console.log('\\n💡 Recommendations:');\r\n      results.recommendations.forEach((rec, index) => {\r\n        console.log(`  ${index + 1}. ${rec}`);\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\n// Initialize validation suite\r\nexport const initValidationSuite = () => {\r\n  console.log('🔍 Initializing compatibility validation suite...');\r\n  \r\n  const ios17Validator = new iOS17CompatibilityValidator();\r\n  const android14Validator = new Android14CompatibilityValidator();\r\n  const accessibilityValidator = new AccessibilityValidator();\r\n  \r\n  window.validationSuite = {\r\n    ios17: ios17Validator,\r\n    android14: android14Validator,\r\n    accessibility: accessibilityValidator,\r\n    \r\n    async runAllValidations() {\r\n      console.log('🚀 Running all compatibility validations...');\r\n      \r\n      const results = {};\r\n      \r\n      // Platform-specific validation\r\n      if (ios17Validator.isIOS) {\r\n        results.ios = await ios17Validator.validateCompatibility();\r\n      }\r\n      \r\n      if (android14Validator.isAndroid) {\r\n        results.android = await android14Validator.validateCompatibility();\r\n      }\r\n      \r\n      // Universal validations\r\n      results.accessibility = await accessibilityValidator.validateAccessibility();\r\n      \r\n      return results;\r\n    }\r\n  };\r\n  \r\n  console.log('✅ Validation suite initialized');\r\n  \r\n  return {\r\n    ios17Validator,\r\n    android14Validator,\r\n    accessibilityValidator\r\n  };\r\n};\r\n\r\nexport {\r\n  iOS17CompatibilityValidator,\r\n  Android14CompatibilityValidator,\r\n  AccessibilityValidator\r\n};\r\n\r\nexport default {\r\n  initValidationSuite,\r\n  iOS17CompatibilityValidator,\r\n  Android14CompatibilityValidator,\r\n  AccessibilityValidator\r\n};","import React, { useState, useEffect, useRef } from 'react';\r\nimport './EnhancedProfile.css';\r\nimport { authService } from '../../services/apiClient';\r\n\r\nconst EnhancedProfile = ({ user, onClose, onUpdate, darkMode = false }) => {\r\n  // Enhanced form state with more fields\r\n  const [formData, setFormData] = useState({\r\n    // Basic Information\r\n    username: user?.username || '',\r\n    email: user?.email || '',\r\n    name: user?.name || '',\r\n    displayName: user?.displayName || '',\r\n    bio: user?.bio || '',\r\n    \r\n    // Contact Information\r\n    phone: user?.phone || '',\r\n    location: user?.location || '',\r\n    website: user?.website || '',\r\n    company: user?.company || '',\r\n    jobTitle: user?.jobTitle || '',\r\n    \r\n    // Social Links\r\n    twitter: user?.socialLinks?.twitter || '',\r\n    linkedin: user?.socialLinks?.linkedin || '',\r\n    github: user?.socialLinks?.github || '',\r\n    \r\n    // Preferences\r\n    theme: user?.theme || 'light',\r\n    language: user?.language || 'en',\r\n    timezone: user?.timezone || Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n    notifications: {\r\n      email: user?.notifications?.email !== false,\r\n      push: user?.notifications?.push !== false,\r\n      mentions: user?.notifications?.mentions !== false,\r\n      messages: user?.notifications?.messages !== false,\r\n    },\r\n    \r\n    // Privacy Settings\r\n    profileVisibility: user?.privacy?.profileVisibility || 'public',\r\n    showOnlineStatus: user?.privacy?.showOnlineStatus !== false,\r\n    allowDirectMessages: user?.privacy?.allowDirectMessages !== false,\r\n    \r\n    // Avatar and appearance\r\n    avatar: user?.avatar || null,\r\n    avatarColor: user?.avatarColor || '#6366f1',\r\n    statusMessage: user?.statusMessage || '',\r\n  });\r\n\r\n  const [activeTab, setActiveTab] = useState('profile');\r\n  const [avatarPreview, setAvatarPreview] = useState(user?.avatar || null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n  const [unsavedChanges, setUnsavedChanges] = useState(false);\r\n  \r\n  // Password change state\r\n  const [passwordData, setPasswordData] = useState({\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: ''\r\n  });\r\n\r\n  const fileInputRef = useRef(null);\r\n\r\n  // Track changes to show unsaved indicator\r\n  useEffect(() => {\r\n    const hasChanges = JSON.stringify(formData) !== JSON.stringify({\r\n      username: user?.username || '',\r\n      email: user?.email || '',\r\n      name: user?.name || '',\r\n      // ... compare with original user data\r\n    });\r\n    setUnsavedChanges(hasChanges);\r\n  }, [formData, user]);\r\n\r\n  // Handle input changes\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    \r\n    if (name.includes('.')) {\r\n      // Handle nested properties (e.g., notifications.email)\r\n      const [parent, child] = name.split('.');\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [parent]: {\r\n          ...prev[parent],\r\n          [child]: type === 'checkbox' ? checked : value\r\n        }\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: type === 'checkbox' ? checked : value\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Handle avatar upload\r\n  const handleAvatarChange = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    // Validate file size (max 5MB)\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      setError('Avatar file size must be less than 5MB');\r\n      return;\r\n    }\r\n\r\n    // Validate file type\r\n    if (!file.type.startsWith('image/')) {\r\n      setError('Please select a valid image file');\r\n      return;\r\n    }\r\n\r\n    // Set loading state for avatar upload\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Create preview first\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setAvatarPreview(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n\r\n      // Upload avatar to server\r\n      const result = await authService.uploadAvatar(file);\r\n      \r\n      if (result.success) {\r\n        // Update form data with the server URL\r\n        setFormData(prev => ({ ...prev, avatar: result.avatarUrl }));\r\n        setSuccess('Avatar uploaded successfully!');\r\n        \r\n        // Update user data in storage\r\n        const currentUser = authService.getUser();\r\n        if (currentUser) {\r\n          const updatedUser = { ...currentUser, avatar: result.avatarUrl };\r\n          const token = authService.getToken();\r\n          authService.saveUserSession(updatedUser, token, true);\r\n        }\r\n      } else {\r\n        throw new Error(result.error || 'Upload failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Avatar upload error:', error);\r\n      setError(`Failed to upload avatar: ${error.message}`);\r\n      // Reset preview on error\r\n      setAvatarPreview(user?.avatar || null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Remove avatar\r\n  const removeAvatar = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Call remove avatar API\r\n      await authService.removeAvatar();\r\n      \r\n      // Clear preview and form data\r\n      setAvatarPreview(null);\r\n      setFormData(prev => ({ ...prev, avatar: null }));\r\n      \r\n      // Clear file input\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n\r\n      // Update user data in storage\r\n      const currentUser = authService.getUser();\r\n      if (currentUser) {\r\n        const updatedUser = { ...currentUser, avatar: null };\r\n        const token = authService.getToken();\r\n        authService.saveUserSession(updatedUser, token, true);\r\n      }\r\n\r\n      setSuccess('Avatar removed successfully!');\r\n    } catch (error) {\r\n      console.error('Remove avatar error:', error);\r\n      setError(`Failed to remove avatar: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Save profile changes\r\n  const handleSaveProfile = async (e) => {\r\n    e.preventDefault();\r\n    console.log('Save Profile Button Clicked!');\r\n    console.log('Current user prop:', user);\r\n    console.log('FormData state:', formData);\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n\r\n    try {\r\n      // Debug: Check what tokens are available\r\n      const authToken = localStorage.getItem('authToken');\r\n      const token = localStorage.getItem('token');\r\n      const sessionAuthToken = sessionStorage.getItem('authToken');\r\n      const sessionToken = sessionStorage.getItem('token');\r\n      const currentUser = localStorage.getItem('user') || sessionStorage.getItem('user');\r\n      \r\n      console.log('Profile Save Debug - Available tokens:', {\r\n        authToken: authToken ? 'present' : 'missing',\r\n        token: token ? 'present' : 'missing',\r\n        sessionAuthToken: sessionAuthToken ? 'present' : 'missing',\r\n        sessionToken: sessionToken ? 'present' : 'missing',\r\n        currentUser: currentUser ? 'present' : 'missing'\r\n      });\r\n\r\n      // Check if we have any token at all\r\n      const hasToken = authToken || token || sessionAuthToken || sessionToken;\r\n      if (!hasToken) {\r\n        throw new Error('No authentication token found. Please log in again.');\r\n      }\r\n\r\n      // Prepare update data (exclude avatar since it's handled separately)\r\n      const updateData = {\r\n        name: formData.name,\r\n        displayName: formData.displayName,\r\n        bio: formData.bio,\r\n        phone: formData.phone,\r\n        location: formData.location,\r\n        website: formData.website,\r\n        company: formData.company,\r\n        jobTitle: formData.jobTitle,\r\n        statusMessage: formData.statusMessage,\r\n        avatarColor: formData.avatarColor,\r\n        socialLinks: {\r\n          twitter: formData.twitter,\r\n          linkedin: formData.linkedin,\r\n          github: formData.github,\r\n          instagram: formData.instagram,\r\n          facebook: formData.facebook,\r\n          youtube: formData.youtube,\r\n          website: formData.socialWebsite\r\n        }\r\n      };\r\n\r\n      console.log('Profile Save Debug - Update data:', updateData);\r\n\r\n      // Update profile via API\r\n      const response = await authService.updateProfile(updateData);\r\n      \r\n      console.log('Profile Save Debug - API response:', response);\r\n      \r\n      if (response.success) {\r\n        setSuccess('Profile updated successfully!');\r\n        setUnsavedChanges(false);\r\n        \r\n        // Notify parent component\r\n        if (onUpdate) {\r\n          onUpdate(response.user);\r\n        }\r\n      }\r\n\r\n    } catch (err) {\r\n      console.error('Profile update error details:', {\r\n        error: err,\r\n        message: err.message,\r\n        stack: err.stack,\r\n        response: err.response?.data\r\n      });\r\n      setError(err.message || 'Failed to update profile');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Save preferences\r\n  const handleSavePreferences = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n\r\n    try {\r\n      const preferencesData = {\r\n        theme: formData.theme,\r\n        language: formData.language,\r\n        timezone: formData.timezone,\r\n        notifications: formData.notifications,\r\n        privacy: {\r\n          profileVisibility: formData.profileVisibility,\r\n          showOnlineStatus: formData.showOnlineStatus,\r\n          allowDirectMessages: formData.allowDirectMessages,\r\n          lastSeenVisibility: formData.lastSeenVisibility || 'everyone',\r\n          onlineStatusVisibility: formData.onlineStatusVisibility || 'everyone',\r\n          phoneVisibility: formData.phoneVisibility || 'contacts',\r\n          emailVisibility: formData.emailVisibility || 'contacts',\r\n          locationVisibility: formData.locationVisibility || 'contacts'\r\n        }\r\n      };\r\n\r\n      const response = await authService.updateCurrentUserPreferences(preferencesData);\r\n      \r\n      if (response.success) {\r\n        setSuccess('Preferences updated successfully!');\r\n        setUnsavedChanges(false);\r\n        \r\n        if (onUpdate) {\r\n          onUpdate(response.user);\r\n        }\r\n      }\r\n\r\n    } catch (err) {\r\n      console.error('Preferences update error:', err);\r\n      setError(err.message || 'Failed to update preferences');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Change password\r\n  const handlePasswordChange = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\r\n      setError('New passwords do not match');\r\n      return;\r\n    }\r\n\r\n    if (passwordData.newPassword.length < 8) {\r\n      setError('Password must be at least 8 characters long');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n\r\n    try {\r\n      const response = await authService.changeCurrentUserPassword(\r\n        passwordData.currentPassword, \r\n        passwordData.newPassword\r\n      );\r\n      \r\n      if (response.success) {\r\n        setSuccess('Password changed successfully!');\r\n        setPasswordData({\r\n          currentPassword: '',\r\n          newPassword: '',\r\n          confirmPassword: ''\r\n        });\r\n      }\r\n\r\n    } catch (err) {\r\n      console.error('Password change error:', err);\r\n      setError(err.message || 'Failed to change password');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Get user initials for avatar placeholder\r\n  const getInitials = (name) => {\r\n    return name\r\n      ?.split(' ')\r\n      .map(part => part.charAt(0))\r\n      .join('')\r\n      .substring(0, 2)\r\n      .toUpperCase() || 'U';\r\n  };\r\n\r\n  return (\r\n    <div className={`enhanced-profile ${darkMode ? 'dark' : ''}`}>\r\n      <div className=\"profile-header\">\r\n        <h2>Account Settings</h2>\r\n        {unsavedChanges && <span className=\"unsaved-indicator\">Unsaved changes</span>}\r\n        <button className=\"close-button\" onClick={onClose}>\r\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Enhanced Tab Navigation */}\r\n      <div className=\"profile-tabs\">\r\n        <button \r\n          className={`tab-button ${activeTab === 'profile' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('profile')}\r\n        >\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n            <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\r\n            <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\r\n          </svg>\r\n          Profile\r\n        </button>\r\n        <button \r\n          className={`tab-button ${activeTab === 'preferences' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('preferences')}\r\n        >\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n            <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\r\n            <path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"></path>\r\n          </svg>\r\n          Preferences\r\n        </button>\r\n        <button \r\n          className={`tab-button ${activeTab === 'security' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('security')}\r\n        >\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\r\n            <circle cx=\"12\" cy=\"16\" r=\"1\"></circle>\r\n            <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\r\n          </svg>\r\n          Security\r\n        </button>\r\n      </div>\r\n\r\n      {/* Status Messages */}\r\n      {error && <div className=\"profile-error\">{error}</div>}\r\n      {success && <div className=\"profile-success\">{success}</div>}\r\n\r\n      {/* Profile Tab Content */}\r\n      {activeTab === 'profile' && (\r\n        <form className=\"profile-form\" onSubmit={handleSaveProfile}>\r\n          {/* Avatar Section */}\r\n          <div className=\"form-section\">\r\n            <h3>Profile Picture</h3>\r\n            <div className=\"avatar-section\">\r\n              <div className=\"avatar-container\">\r\n                {avatarPreview ? (\r\n                  <img src={avatarPreview} alt=\"Profile\" className=\"avatar-preview\" />\r\n                ) : (\r\n                  <div \r\n                    className=\"avatar-placeholder\" \r\n                    style={{ backgroundColor: formData.avatarColor }}\r\n                  >\r\n                    {getInitials(formData.name)}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"avatar-controls\">\r\n                <label className={`upload-button ${loading ? 'loading' : ''}`}>\r\n                  <input \r\n                    type=\"file\" \r\n                    accept=\"image/*\" \r\n                    onChange={handleAvatarChange}\r\n                    ref={fileInputRef}\r\n                    hidden \r\n                    disabled={loading}\r\n                  />\r\n                  {loading ? 'Uploading...' : 'Upload Photo'}\r\n                </label>\r\n                {avatarPreview && (\r\n                  <button \r\n                    type=\"button\" \r\n                    className=\"remove-button\" \r\n                    onClick={removeAvatar}\r\n                    disabled={loading}\r\n                  >\r\n                    {loading ? 'Removing...' : 'Remove'}\r\n                  </button>\r\n                )}\r\n                <div className=\"avatar-color-picker\">\r\n                  <label>Avatar Color:</label>\r\n                  <input\r\n                    type=\"color\"\r\n                    value={formData.avatarColor}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, avatarColor: e.target.value }))}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Basic Information */}\r\n          <div className=\"form-section\">\r\n            <h3>Basic Information</h3>\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"name\">Full Name *</label>\r\n                <input\r\n                  id=\"name\"\r\n                  name=\"name\"\r\n                  type=\"text\"\r\n                  value={formData.name}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"displayName\">Display Name</label>\r\n                <input\r\n                  id=\"displayName\"\r\n                  name=\"displayName\"\r\n                  type=\"text\"\r\n                  value={formData.displayName}\r\n                  onChange={handleChange}\r\n                  placeholder=\"How others see you\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email Address *</label>\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"phone\">Phone Number</label>\r\n                <input\r\n                  id=\"phone\"\r\n                  name=\"phone\"\r\n                  type=\"tel\"\r\n                  value={formData.phone}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Status and Bio */}\r\n          <div className=\"form-section\">\r\n            <h3>About</h3>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"statusMessage\">Status Message</label>\r\n              <input\r\n                id=\"statusMessage\"\r\n                name=\"statusMessage\"\r\n                type=\"text\"\r\n                value={formData.statusMessage}\r\n                onChange={handleChange}\r\n                placeholder=\"What's on your mind?\"\r\n                maxLength=\"100\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"bio\">Bio</label>\r\n              <textarea\r\n                id=\"bio\"\r\n                name=\"bio\"\r\n                value={formData.bio}\r\n                onChange={handleChange}\r\n                rows=\"4\"\r\n                placeholder=\"Tell us about yourself...\"\r\n                maxLength=\"500\"\r\n              />\r\n              <div className=\"char-count\">{formData.bio.length}/500</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Professional Information */}\r\n          <div className=\"form-section\">\r\n            <h3>Professional Information</h3>\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"company\">Company</label>\r\n                <input\r\n                  id=\"company\"\r\n                  name=\"company\"\r\n                  type=\"text\"\r\n                  value={formData.company}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"jobTitle\">Job Title</label>\r\n                <input\r\n                  id=\"jobTitle\"\r\n                  name=\"jobTitle\"\r\n                  type=\"text\"\r\n                  value={formData.jobTitle}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"location\">Location</label>\r\n                <input\r\n                  id=\"location\"\r\n                  name=\"location\"\r\n                  type=\"text\"\r\n                  value={formData.location}\r\n                  onChange={handleChange}\r\n                  placeholder=\"City, Country\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"website\">Website</label>\r\n                <input\r\n                  id=\"website\"\r\n                  name=\"website\"\r\n                  type=\"url\"\r\n                  value={formData.website}\r\n                  onChange={handleChange}\r\n                  placeholder=\"https://yourwebsite.com\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Social Links */}\r\n          <div className=\"form-section\">\r\n            <h3>Social Links</h3>\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"twitter\">Twitter</label>\r\n                <input\r\n                  id=\"twitter\"\r\n                  name=\"twitter\"\r\n                  type=\"text\"\r\n                  value={formData.twitter}\r\n                  onChange={handleChange}\r\n                  placeholder=\"@username\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"linkedin\">LinkedIn</label>\r\n                <input\r\n                  id=\"linkedin\"\r\n                  name=\"linkedin\"\r\n                  type=\"url\"\r\n                  value={formData.linkedin}\r\n                  onChange={handleChange}\r\n                  placeholder=\"https://linkedin.com/in/username\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"github\">GitHub</label>\r\n                <input\r\n                  id=\"github\"\r\n                  name=\"github\"\r\n                  type=\"text\"\r\n                  value={formData.github}\r\n                  onChange={handleChange}\r\n                  placeholder=\"username\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-actions\">\r\n            <button \r\n              type=\"submit\" \r\n              className=\"save-button\" \r\n              disabled={loading}\r\n              onClick={(e) => {\r\n                console.log('Save button clicked directly!');\r\n                // Don't prevent default here, let the form submit handle it\r\n              }}\r\n            >\r\n              {loading ? 'Saving...' : 'Save Profile'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      )}\r\n\r\n      {/* Preferences Tab Content */}\r\n      {activeTab === 'preferences' && (\r\n        <form className=\"profile-form\" onSubmit={handleSavePreferences}>\r\n          {/* Appearance */}\r\n          <div className=\"form-section\">\r\n            <h3>Appearance</h3>\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"theme\">Theme</label>\r\n                <select\r\n                  id=\"theme\"\r\n                  name=\"theme\"\r\n                  value={formData.theme}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option value=\"light\">Light</option>\r\n                  <option value=\"dark\">Dark</option>\r\n                  <option value=\"system\">System Default</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"language\">Language</label>\r\n                <select\r\n                  id=\"language\"\r\n                  name=\"language\"\r\n                  value={formData.language}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option value=\"en\">English</option>\r\n                  <option value=\"es\">Español</option>\r\n                  <option value=\"fr\">Français</option>\r\n                  <option value=\"de\">Deutsch</option>\r\n                  <option value=\"pt\">Português</option>\r\n                  <option value=\"zh\">中文</option>\r\n                  <option value=\"ja\">日本語</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"timezone\">Timezone</label>\r\n                <select\r\n                  id=\"timezone\"\r\n                  name=\"timezone\"\r\n                  value={formData.timezone}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option value=\"America/New_York\">Eastern Time</option>\r\n                  <option value=\"America/Chicago\">Central Time</option>\r\n                  <option value=\"America/Denver\">Mountain Time</option>\r\n                  <option value=\"America/Los_Angeles\">Pacific Time</option>\r\n                  <option value=\"Europe/London\">GMT</option>\r\n                  <option value=\"Europe/Paris\">Central European Time</option>\r\n                  <option value=\"Asia/Tokyo\">Japan Standard Time</option>\r\n                  <option value=\"Australia/Sydney\">Australian Eastern Time</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Notifications */}\r\n          <div className=\"form-section\">\r\n            <h3>Notifications</h3>\r\n            <div className=\"checkbox-group\">\r\n              <label className=\"checkbox-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"notifications.email\"\r\n                  checked={formData.notifications.email}\r\n                  onChange={handleChange}\r\n                />\r\n                Email notifications\r\n              </label>\r\n              <label className=\"checkbox-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"notifications.push\"\r\n                  checked={formData.notifications.push}\r\n                  onChange={handleChange}\r\n                />\r\n                Push notifications\r\n              </label>\r\n              <label className=\"checkbox-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"notifications.mentions\"\r\n                  checked={formData.notifications.mentions}\r\n                  onChange={handleChange}\r\n                />\r\n                Notify when mentioned\r\n              </label>\r\n              <label className=\"checkbox-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"notifications.messages\"\r\n                  checked={formData.notifications.messages}\r\n                  onChange={handleChange}\r\n                />\r\n                New message notifications\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Privacy */}\r\n          <div className=\"form-section\">\r\n            <h3>Privacy</h3>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"profileVisibility\">Profile Visibility</label>\r\n              <select\r\n                id=\"profileVisibility\"\r\n                name=\"profileVisibility\"\r\n                value={formData.profileVisibility}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"public\">Public</option>\r\n                <option value=\"friends\">Friends Only</option>\r\n                <option value=\"private\">Private</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"checkbox-group\">\r\n              <label className=\"checkbox-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"showOnlineStatus\"\r\n                  checked={formData.showOnlineStatus}\r\n                  onChange={handleChange}\r\n                />\r\n                Show online status\r\n              </label>\r\n              <label className=\"checkbox-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"allowDirectMessages\"\r\n                  checked={formData.allowDirectMessages}\r\n                  onChange={handleChange}\r\n                />\r\n                Allow direct messages\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-actions\">\r\n            <button type=\"submit\" className=\"save-button\" disabled={loading}>\r\n              {loading ? 'Saving...' : 'Save Preferences'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      )}\r\n\r\n      {/* Security Tab Content */}\r\n      {activeTab === 'security' && (\r\n        <div className=\"security-tab-content\">\r\n          {/* Security Overview */}\r\n          <div className=\"form-section\">\r\n            <h3>Account Security</h3>\r\n            <div className=\"security-status-card\">\r\n              <div className=\"security-score\">\r\n                <div className=\"score-icon\">🛡️</div>\r\n                <div className=\"score-info\">\r\n                  <div className=\"score-title\">Security Level</div>\r\n                  <div className=\"score-description\">Your account security status</div>\r\n                </div>\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"view-security-btn\"\r\n                  onClick={() => {\r\n                    // This would open the SecurityDashboard component\r\n                    console.log('Open security dashboard');\r\n                  }}\r\n                >\r\n                  View Details\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Two-Factor Authentication */}\r\n          <div className=\"form-section\">\r\n            <h3>Two-Factor Authentication</h3>\r\n            <div className=\"two-factor-status\">\r\n              <div className=\"status-indicator\">\r\n                <div className=\"status-icon\">\r\n                  {/* This would be dynamically updated based on 2FA status */}\r\n                  <span className=\"icon-placeholder\">🔓</span>\r\n                </div>\r\n                <div className=\"status-content\">\r\n                  <div className=\"status-title\">Two-Factor Authentication is Off</div>\r\n                  <div className=\"status-description\">\r\n                    Add an extra layer of security to protect your account\r\n                  </div>\r\n                </div>\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"enable-2fa-btn\"\r\n                  onClick={() => {\r\n                    // This would open the TwoFactorSetup component\r\n                    console.log('Enable 2FA');\r\n                  }}\r\n                >\r\n                  Enable 2FA\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"security-benefits\">\r\n                <h4>Benefits of enabling 2FA:</h4>\r\n                <ul>\r\n                  <li>🛡️ Protects against password breaches</li>\r\n                  <li>🔐 Adds an extra layer of security</li>\r\n                  <li>📱 Works with popular authenticator apps</li>\r\n                  <li>🔑 Includes backup codes for recovery</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Password Change */}\r\n          <form className=\"password-change-form\" onSubmit={handlePasswordChange}>\r\n            <div className=\"form-section\">\r\n              <h3>Change Password</h3>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"currentPassword\">Current Password</label>\r\n                <input\r\n                  id=\"currentPassword\"\r\n                  type=\"password\"\r\n                  value={passwordData.currentPassword}\r\n                  onChange={(e) => setPasswordData(prev => ({\r\n                    ...prev,\r\n                    currentPassword: e.target.value\r\n                  }))}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"newPassword\">New Password</label>\r\n                <input\r\n                  id=\"newPassword\"\r\n                  type=\"password\"\r\n                  value={passwordData.newPassword}\r\n                  onChange={(e) => setPasswordData(prev => ({\r\n                    ...prev,\r\n                    newPassword: e.target.value\r\n                  }))}\r\n                  required\r\n                  minLength=\"8\"\r\n                />\r\n                <div className=\"password-requirements\">\r\n                  Password must be at least 8 characters long\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"confirmPassword\">Confirm New Password</label>\r\n                <input\r\n                  id=\"confirmPassword\"\r\n                  type=\"password\"\r\n                  value={passwordData.confirmPassword}\r\n                  onChange={(e) => setPasswordData(prev => ({\r\n                    ...prev,\r\n                    confirmPassword: e.target.value\r\n                  }))}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-actions\">\r\n              <button type=\"submit\" className=\"save-button\" disabled={loading}>\r\n                {loading ? 'Changing...' : 'Change Password'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EnhancedProfile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { getActivityStats, clearActivityLog } from './UserActivityService';\r\nimport './UserAnalytics.css';\r\n\r\nconst UserAnalytics = ({ darkMode }) => {\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  useEffect(() => {\r\n    // Load activity statistics\r\n    loadStats();\r\n    \r\n    // Refresh stats every minute\r\n    const interval = setInterval(loadStats, 60000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n  \r\n  // Load activity statistics\r\n  const loadStats = () => {\r\n    setLoading(true);\r\n    const activityStats = getActivityStats();\r\n    setStats(activityStats);\r\n    setLoading(false);\r\n  };\r\n  \r\n  // Handle clear activity log\r\n  const handleClearLog = () => {\r\n    const confirmed = window.confirm('Are you sure you want to clear your activity log? This cannot be undone.');\r\n    if (confirmed) {\r\n      clearActivityLog();\r\n      loadStats();\r\n    }\r\n  };\r\n  \r\n  // Format timestamp to readable date\r\n  const formatDate = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    return date.toLocaleString();\r\n  };\r\n  \r\n  // Get activity type in a readable format\r\n  const formatActivityType = (type) => {\r\n    return type\r\n      .replace(/_/g, ' ')\r\n      .toLowerCase()\r\n      .replace(/\\b\\w/g, char => char.toUpperCase());\r\n  };\r\n  \r\n  if (loading) {\r\n    return <div className=\"user-analytics-loading\">Loading activity data...</div>;\r\n  }\r\n  \r\n  return (\r\n    <div className={`user-analytics ${darkMode ? 'dark' : ''}`}>\r\n      <div className=\"analytics-header\">\r\n        <h2>Activity Overview</h2>\r\n        <button \r\n          className=\"refresh-button\" \r\n          onClick={loadStats}\r\n          aria-label=\"Refresh statistics\"\r\n        >\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n            <path d=\"M23 4v6h-6\"></path>\r\n            <path d=\"M1 20v-6h6\"></path>\r\n            <path d=\"M3.51 9a9 9 0 0 1 14.85-3.36L23 10\"></path>\r\n            <path d=\"M20.49 15a9 9 0 0 1-14.85 3.36L1 14\"></path>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"analytics-summary\">\r\n        <div className=\"analytics-card\">\r\n          <h3>Today</h3>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">Messages Sent</span>\r\n            <span className=\"stat-value\">{stats.today.messagesSent}</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">Messages Received</span>\r\n            <span className=\"stat-value\">{stats.today.messagesReceived}</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">Logins</span>\r\n            <span className=\"stat-value\">{stats.today.logins}</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">Total Activity</span>\r\n            <span className=\"stat-value\">{stats.today.total}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"analytics-card\">\r\n          <h3>This Week</h3>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">Messages Sent</span>\r\n            <span className=\"stat-value\">{stats.week.messagesSent}</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">Messages Received</span>\r\n            <span className=\"stat-value\">{stats.week.messagesReceived}</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">Logins</span>\r\n            <span className=\"stat-value\">{stats.week.logins}</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">Total Activity</span>\r\n            <span className=\"stat-value\">{stats.week.total}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"last-activity\">\r\n        <h3>Last Activity</h3>\r\n        {stats.lastActivity ? (\r\n          <div className=\"last-activity-item\">\r\n            <div className=\"activity-type\">\r\n              {formatActivityType(stats.lastActivity.type)}\r\n            </div>\r\n            <div className=\"activity-time\">\r\n              {formatDate(stats.lastActivity.timestamp)}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"no-activity\">No activity recorded</div>\r\n        )}\r\n      </div>\r\n      \r\n      <div className=\"analytics-actions\">\r\n        <button \r\n          className=\"clear-log-button\"\r\n          onClick={handleClearLog}\r\n        >\r\n          Clear Activity Log\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserAnalytics;\r\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\n\n// src/index.tsx\nimport React from \"react\";\n\n// src/third-party/qrcodegen/index.ts\n/**\n * @license QR Code generator library (TypeScript)\n * Copyright (c) Project Nayuki.\n * SPDX-License-Identifier: MIT\n */\nvar qrcodegen;\n((qrcodegen2) => {\n  const _QrCode = class _QrCode {\n    /*-- Constructor (low level) and fields --*/\n    // Creates a new QR Code with the given version number,\n    // error correction level, data codeword bytes, and mask number.\n    // This is a low-level API that most users should not use directly.\n    // A mid-level API is the encodeSegments() function.\n    constructor(version, errorCorrectionLevel, dataCodewords, msk) {\n      this.version = version;\n      this.errorCorrectionLevel = errorCorrectionLevel;\n      // The modules of this QR Code (false = light, true = dark).\n      // Immutable after constructor finishes. Accessed through getModule().\n      this.modules = [];\n      // Indicates function modules that are not subjected to masking. Discarded when constructor finishes.\n      this.isFunction = [];\n      if (version < _QrCode.MIN_VERSION || version > _QrCode.MAX_VERSION)\n        throw new RangeError(\"Version value out of range\");\n      if (msk < -1 || msk > 7)\n        throw new RangeError(\"Mask value out of range\");\n      this.size = version * 4 + 17;\n      let row = [];\n      for (let i = 0; i < this.size; i++)\n        row.push(false);\n      for (let i = 0; i < this.size; i++) {\n        this.modules.push(row.slice());\n        this.isFunction.push(row.slice());\n      }\n      this.drawFunctionPatterns();\n      const allCodewords = this.addEccAndInterleave(dataCodewords);\n      this.drawCodewords(allCodewords);\n      if (msk == -1) {\n        let minPenalty = 1e9;\n        for (let i = 0; i < 8; i++) {\n          this.applyMask(i);\n          this.drawFormatBits(i);\n          const penalty = this.getPenaltyScore();\n          if (penalty < minPenalty) {\n            msk = i;\n            minPenalty = penalty;\n          }\n          this.applyMask(i);\n        }\n      }\n      assert(0 <= msk && msk <= 7);\n      this.mask = msk;\n      this.applyMask(msk);\n      this.drawFormatBits(msk);\n      this.isFunction = [];\n    }\n    /*-- Static factory functions (high level) --*/\n    // Returns a QR Code representing the given Unicode text string at the given error correction level.\n    // As a conservative upper bound, this function is guaranteed to succeed for strings that have 738 or fewer\n    // Unicode code points (not UTF-16 code units) if the low error correction level is used. The smallest possible\n    // QR Code version is automatically chosen for the output. The ECC level of the result may be higher than the\n    // ecl argument if it can be done without increasing the version.\n    static encodeText(text, ecl) {\n      const segs = qrcodegen2.QrSegment.makeSegments(text);\n      return _QrCode.encodeSegments(segs, ecl);\n    }\n    // Returns a QR Code representing the given binary data at the given error correction level.\n    // This function always encodes using the binary segment mode, not any text mode. The maximum number of\n    // bytes allowed is 2953. The smallest possible QR Code version is automatically chosen for the output.\n    // The ECC level of the result may be higher than the ecl argument if it can be done without increasing the version.\n    static encodeBinary(data, ecl) {\n      const seg = qrcodegen2.QrSegment.makeBytes(data);\n      return _QrCode.encodeSegments([seg], ecl);\n    }\n    /*-- Static factory functions (mid level) --*/\n    // Returns a QR Code representing the given segments with the given encoding parameters.\n    // The smallest possible QR Code version within the given range is automatically\n    // chosen for the output. Iff boostEcl is true, then the ECC level of the result\n    // may be higher than the ecl argument if it can be done without increasing the\n    // version. The mask number is either between 0 to 7 (inclusive) to force that\n    // mask, or -1 to automatically choose an appropriate mask (which may be slow).\n    // This function allows the user to create a custom sequence of segments that switches\n    // between modes (such as alphanumeric and byte) to encode text in less space.\n    // This is a mid-level API; the high-level API is encodeText() and encodeBinary().\n    static encodeSegments(segs, ecl, minVersion = 1, maxVersion = 40, mask = -1, boostEcl = true) {\n      if (!(_QrCode.MIN_VERSION <= minVersion && minVersion <= maxVersion && maxVersion <= _QrCode.MAX_VERSION) || mask < -1 || mask > 7)\n        throw new RangeError(\"Invalid value\");\n      let version;\n      let dataUsedBits;\n      for (version = minVersion; ; version++) {\n        const dataCapacityBits2 = _QrCode.getNumDataCodewords(version, ecl) * 8;\n        const usedBits = QrSegment.getTotalBits(segs, version);\n        if (usedBits <= dataCapacityBits2) {\n          dataUsedBits = usedBits;\n          break;\n        }\n        if (version >= maxVersion)\n          throw new RangeError(\"Data too long\");\n      }\n      for (const newEcl of [_QrCode.Ecc.MEDIUM, _QrCode.Ecc.QUARTILE, _QrCode.Ecc.HIGH]) {\n        if (boostEcl && dataUsedBits <= _QrCode.getNumDataCodewords(version, newEcl) * 8)\n          ecl = newEcl;\n      }\n      let bb = [];\n      for (const seg of segs) {\n        appendBits(seg.mode.modeBits, 4, bb);\n        appendBits(seg.numChars, seg.mode.numCharCountBits(version), bb);\n        for (const b of seg.getData())\n          bb.push(b);\n      }\n      assert(bb.length == dataUsedBits);\n      const dataCapacityBits = _QrCode.getNumDataCodewords(version, ecl) * 8;\n      assert(bb.length <= dataCapacityBits);\n      appendBits(0, Math.min(4, dataCapacityBits - bb.length), bb);\n      appendBits(0, (8 - bb.length % 8) % 8, bb);\n      assert(bb.length % 8 == 0);\n      for (let padByte = 236; bb.length < dataCapacityBits; padByte ^= 236 ^ 17)\n        appendBits(padByte, 8, bb);\n      let dataCodewords = [];\n      while (dataCodewords.length * 8 < bb.length)\n        dataCodewords.push(0);\n      bb.forEach((b, i) => dataCodewords[i >>> 3] |= b << 7 - (i & 7));\n      return new _QrCode(version, ecl, dataCodewords, mask);\n    }\n    /*-- Accessor methods --*/\n    // Returns the color of the module (pixel) at the given coordinates, which is false\n    // for light or true for dark. The top left corner has the coordinates (x=0, y=0).\n    // If the given coordinates are out of bounds, then false (light) is returned.\n    getModule(x, y) {\n      return 0 <= x && x < this.size && 0 <= y && y < this.size && this.modules[y][x];\n    }\n    // Modified to expose modules for easy access\n    getModules() {\n      return this.modules;\n    }\n    /*-- Private helper methods for constructor: Drawing function modules --*/\n    // Reads this object's version field, and draws and marks all function modules.\n    drawFunctionPatterns() {\n      for (let i = 0; i < this.size; i++) {\n        this.setFunctionModule(6, i, i % 2 == 0);\n        this.setFunctionModule(i, 6, i % 2 == 0);\n      }\n      this.drawFinderPattern(3, 3);\n      this.drawFinderPattern(this.size - 4, 3);\n      this.drawFinderPattern(3, this.size - 4);\n      const alignPatPos = this.getAlignmentPatternPositions();\n      const numAlign = alignPatPos.length;\n      for (let i = 0; i < numAlign; i++) {\n        for (let j = 0; j < numAlign; j++) {\n          if (!(i == 0 && j == 0 || i == 0 && j == numAlign - 1 || i == numAlign - 1 && j == 0))\n            this.drawAlignmentPattern(alignPatPos[i], alignPatPos[j]);\n        }\n      }\n      this.drawFormatBits(0);\n      this.drawVersion();\n    }\n    // Draws two copies of the format bits (with its own error correction code)\n    // based on the given mask and this object's error correction level field.\n    drawFormatBits(mask) {\n      const data = this.errorCorrectionLevel.formatBits << 3 | mask;\n      let rem = data;\n      for (let i = 0; i < 10; i++)\n        rem = rem << 1 ^ (rem >>> 9) * 1335;\n      const bits = (data << 10 | rem) ^ 21522;\n      assert(bits >>> 15 == 0);\n      for (let i = 0; i <= 5; i++)\n        this.setFunctionModule(8, i, getBit(bits, i));\n      this.setFunctionModule(8, 7, getBit(bits, 6));\n      this.setFunctionModule(8, 8, getBit(bits, 7));\n      this.setFunctionModule(7, 8, getBit(bits, 8));\n      for (let i = 9; i < 15; i++)\n        this.setFunctionModule(14 - i, 8, getBit(bits, i));\n      for (let i = 0; i < 8; i++)\n        this.setFunctionModule(this.size - 1 - i, 8, getBit(bits, i));\n      for (let i = 8; i < 15; i++)\n        this.setFunctionModule(8, this.size - 15 + i, getBit(bits, i));\n      this.setFunctionModule(8, this.size - 8, true);\n    }\n    // Draws two copies of the version bits (with its own error correction code),\n    // based on this object's version field, iff 7 <= version <= 40.\n    drawVersion() {\n      if (this.version < 7)\n        return;\n      let rem = this.version;\n      for (let i = 0; i < 12; i++)\n        rem = rem << 1 ^ (rem >>> 11) * 7973;\n      const bits = this.version << 12 | rem;\n      assert(bits >>> 18 == 0);\n      for (let i = 0; i < 18; i++) {\n        const color = getBit(bits, i);\n        const a = this.size - 11 + i % 3;\n        const b = Math.floor(i / 3);\n        this.setFunctionModule(a, b, color);\n        this.setFunctionModule(b, a, color);\n      }\n    }\n    // Draws a 9*9 finder pattern including the border separator,\n    // with the center module at (x, y). Modules can be out of bounds.\n    drawFinderPattern(x, y) {\n      for (let dy = -4; dy <= 4; dy++) {\n        for (let dx = -4; dx <= 4; dx++) {\n          const dist = Math.max(Math.abs(dx), Math.abs(dy));\n          const xx = x + dx;\n          const yy = y + dy;\n          if (0 <= xx && xx < this.size && 0 <= yy && yy < this.size)\n            this.setFunctionModule(xx, yy, dist != 2 && dist != 4);\n        }\n      }\n    }\n    // Draws a 5*5 alignment pattern, with the center module\n    // at (x, y). All modules must be in bounds.\n    drawAlignmentPattern(x, y) {\n      for (let dy = -2; dy <= 2; dy++) {\n        for (let dx = -2; dx <= 2; dx++)\n          this.setFunctionModule(x + dx, y + dy, Math.max(Math.abs(dx), Math.abs(dy)) != 1);\n      }\n    }\n    // Sets the color of a module and marks it as a function module.\n    // Only used by the constructor. Coordinates must be in bounds.\n    setFunctionModule(x, y, isDark) {\n      this.modules[y][x] = isDark;\n      this.isFunction[y][x] = true;\n    }\n    /*-- Private helper methods for constructor: Codewords and masking --*/\n    // Returns a new byte string representing the given data with the appropriate error correction\n    // codewords appended to it, based on this object's version and error correction level.\n    addEccAndInterleave(data) {\n      const ver = this.version;\n      const ecl = this.errorCorrectionLevel;\n      if (data.length != _QrCode.getNumDataCodewords(ver, ecl))\n        throw new RangeError(\"Invalid argument\");\n      const numBlocks = _QrCode.NUM_ERROR_CORRECTION_BLOCKS[ecl.ordinal][ver];\n      const blockEccLen = _QrCode.ECC_CODEWORDS_PER_BLOCK[ecl.ordinal][ver];\n      const rawCodewords = Math.floor(_QrCode.getNumRawDataModules(ver) / 8);\n      const numShortBlocks = numBlocks - rawCodewords % numBlocks;\n      const shortBlockLen = Math.floor(rawCodewords / numBlocks);\n      let blocks = [];\n      const rsDiv = _QrCode.reedSolomonComputeDivisor(blockEccLen);\n      for (let i = 0, k = 0; i < numBlocks; i++) {\n        let dat = data.slice(k, k + shortBlockLen - blockEccLen + (i < numShortBlocks ? 0 : 1));\n        k += dat.length;\n        const ecc = _QrCode.reedSolomonComputeRemainder(dat, rsDiv);\n        if (i < numShortBlocks)\n          dat.push(0);\n        blocks.push(dat.concat(ecc));\n      }\n      let result = [];\n      for (let i = 0; i < blocks[0].length; i++) {\n        blocks.forEach((block, j) => {\n          if (i != shortBlockLen - blockEccLen || j >= numShortBlocks)\n            result.push(block[i]);\n        });\n      }\n      assert(result.length == rawCodewords);\n      return result;\n    }\n    // Draws the given sequence of 8-bit codewords (data and error correction) onto the entire\n    // data area of this QR Code. Function modules need to be marked off before this is called.\n    drawCodewords(data) {\n      if (data.length != Math.floor(_QrCode.getNumRawDataModules(this.version) / 8))\n        throw new RangeError(\"Invalid argument\");\n      let i = 0;\n      for (let right = this.size - 1; right >= 1; right -= 2) {\n        if (right == 6)\n          right = 5;\n        for (let vert = 0; vert < this.size; vert++) {\n          for (let j = 0; j < 2; j++) {\n            const x = right - j;\n            const upward = (right + 1 & 2) == 0;\n            const y = upward ? this.size - 1 - vert : vert;\n            if (!this.isFunction[y][x] && i < data.length * 8) {\n              this.modules[y][x] = getBit(data[i >>> 3], 7 - (i & 7));\n              i++;\n            }\n          }\n        }\n      }\n      assert(i == data.length * 8);\n    }\n    // XORs the codeword modules in this QR Code with the given mask pattern.\n    // The function modules must be marked and the codeword bits must be drawn\n    // before masking. Due to the arithmetic of XOR, calling applyMask() with\n    // the same mask value a second time will undo the mask. A final well-formed\n    // QR Code needs exactly one (not zero, two, etc.) mask applied.\n    applyMask(mask) {\n      if (mask < 0 || mask > 7)\n        throw new RangeError(\"Mask value out of range\");\n      for (let y = 0; y < this.size; y++) {\n        for (let x = 0; x < this.size; x++) {\n          let invert;\n          switch (mask) {\n            case 0:\n              invert = (x + y) % 2 == 0;\n              break;\n            case 1:\n              invert = y % 2 == 0;\n              break;\n            case 2:\n              invert = x % 3 == 0;\n              break;\n            case 3:\n              invert = (x + y) % 3 == 0;\n              break;\n            case 4:\n              invert = (Math.floor(x / 3) + Math.floor(y / 2)) % 2 == 0;\n              break;\n            case 5:\n              invert = x * y % 2 + x * y % 3 == 0;\n              break;\n            case 6:\n              invert = (x * y % 2 + x * y % 3) % 2 == 0;\n              break;\n            case 7:\n              invert = ((x + y) % 2 + x * y % 3) % 2 == 0;\n              break;\n            default:\n              throw new Error(\"Unreachable\");\n          }\n          if (!this.isFunction[y][x] && invert)\n            this.modules[y][x] = !this.modules[y][x];\n        }\n      }\n    }\n    // Calculates and returns the penalty score based on state of this QR Code's current modules.\n    // This is used by the automatic mask choice algorithm to find the mask pattern that yields the lowest score.\n    getPenaltyScore() {\n      let result = 0;\n      for (let y = 0; y < this.size; y++) {\n        let runColor = false;\n        let runX = 0;\n        let runHistory = [0, 0, 0, 0, 0, 0, 0];\n        for (let x = 0; x < this.size; x++) {\n          if (this.modules[y][x] == runColor) {\n            runX++;\n            if (runX == 5)\n              result += _QrCode.PENALTY_N1;\n            else if (runX > 5)\n              result++;\n          } else {\n            this.finderPenaltyAddHistory(runX, runHistory);\n            if (!runColor)\n              result += this.finderPenaltyCountPatterns(runHistory) * _QrCode.PENALTY_N3;\n            runColor = this.modules[y][x];\n            runX = 1;\n          }\n        }\n        result += this.finderPenaltyTerminateAndCount(runColor, runX, runHistory) * _QrCode.PENALTY_N3;\n      }\n      for (let x = 0; x < this.size; x++) {\n        let runColor = false;\n        let runY = 0;\n        let runHistory = [0, 0, 0, 0, 0, 0, 0];\n        for (let y = 0; y < this.size; y++) {\n          if (this.modules[y][x] == runColor) {\n            runY++;\n            if (runY == 5)\n              result += _QrCode.PENALTY_N1;\n            else if (runY > 5)\n              result++;\n          } else {\n            this.finderPenaltyAddHistory(runY, runHistory);\n            if (!runColor)\n              result += this.finderPenaltyCountPatterns(runHistory) * _QrCode.PENALTY_N3;\n            runColor = this.modules[y][x];\n            runY = 1;\n          }\n        }\n        result += this.finderPenaltyTerminateAndCount(runColor, runY, runHistory) * _QrCode.PENALTY_N3;\n      }\n      for (let y = 0; y < this.size - 1; y++) {\n        for (let x = 0; x < this.size - 1; x++) {\n          const color = this.modules[y][x];\n          if (color == this.modules[y][x + 1] && color == this.modules[y + 1][x] && color == this.modules[y + 1][x + 1])\n            result += _QrCode.PENALTY_N2;\n        }\n      }\n      let dark = 0;\n      for (const row of this.modules)\n        dark = row.reduce((sum, color) => sum + (color ? 1 : 0), dark);\n      const total = this.size * this.size;\n      const k = Math.ceil(Math.abs(dark * 20 - total * 10) / total) - 1;\n      assert(0 <= k && k <= 9);\n      result += k * _QrCode.PENALTY_N4;\n      assert(0 <= result && result <= 2568888);\n      return result;\n    }\n    /*-- Private helper functions --*/\n    // Returns an ascending list of positions of alignment patterns for this version number.\n    // Each position is in the range [0,177), and are used on both the x and y axes.\n    // This could be implemented as lookup table of 40 variable-length lists of integers.\n    getAlignmentPatternPositions() {\n      if (this.version == 1)\n        return [];\n      else {\n        const numAlign = Math.floor(this.version / 7) + 2;\n        const step = this.version == 32 ? 26 : Math.ceil((this.version * 4 + 4) / (numAlign * 2 - 2)) * 2;\n        let result = [6];\n        for (let pos = this.size - 7; result.length < numAlign; pos -= step)\n          result.splice(1, 0, pos);\n        return result;\n      }\n    }\n    // Returns the number of data bits that can be stored in a QR Code of the given version number, after\n    // all function modules are excluded. This includes remainder bits, so it might not be a multiple of 8.\n    // The result is in the range [208, 29648]. This could be implemented as a 40-entry lookup table.\n    static getNumRawDataModules(ver) {\n      if (ver < _QrCode.MIN_VERSION || ver > _QrCode.MAX_VERSION)\n        throw new RangeError(\"Version number out of range\");\n      let result = (16 * ver + 128) * ver + 64;\n      if (ver >= 2) {\n        const numAlign = Math.floor(ver / 7) + 2;\n        result -= (25 * numAlign - 10) * numAlign - 55;\n        if (ver >= 7)\n          result -= 36;\n      }\n      assert(208 <= result && result <= 29648);\n      return result;\n    }\n    // Returns the number of 8-bit data (i.e. not error correction) codewords contained in any\n    // QR Code of the given version number and error correction level, with remainder bits discarded.\n    // This stateless pure function could be implemented as a (40*4)-cell lookup table.\n    static getNumDataCodewords(ver, ecl) {\n      return Math.floor(_QrCode.getNumRawDataModules(ver) / 8) - _QrCode.ECC_CODEWORDS_PER_BLOCK[ecl.ordinal][ver] * _QrCode.NUM_ERROR_CORRECTION_BLOCKS[ecl.ordinal][ver];\n    }\n    // Returns a Reed-Solomon ECC generator polynomial for the given degree. This could be\n    // implemented as a lookup table over all possible parameter values, instead of as an algorithm.\n    static reedSolomonComputeDivisor(degree) {\n      if (degree < 1 || degree > 255)\n        throw new RangeError(\"Degree out of range\");\n      let result = [];\n      for (let i = 0; i < degree - 1; i++)\n        result.push(0);\n      result.push(1);\n      let root = 1;\n      for (let i = 0; i < degree; i++) {\n        for (let j = 0; j < result.length; j++) {\n          result[j] = _QrCode.reedSolomonMultiply(result[j], root);\n          if (j + 1 < result.length)\n            result[j] ^= result[j + 1];\n        }\n        root = _QrCode.reedSolomonMultiply(root, 2);\n      }\n      return result;\n    }\n    // Returns the Reed-Solomon error correction codeword for the given data and divisor polynomials.\n    static reedSolomonComputeRemainder(data, divisor) {\n      let result = divisor.map((_) => 0);\n      for (const b of data) {\n        const factor = b ^ result.shift();\n        result.push(0);\n        divisor.forEach((coef, i) => result[i] ^= _QrCode.reedSolomonMultiply(coef, factor));\n      }\n      return result;\n    }\n    // Returns the product of the two given field elements modulo GF(2^8/0x11D). The arguments and result\n    // are unsigned 8-bit integers. This could be implemented as a lookup table of 256*256 entries of uint8.\n    static reedSolomonMultiply(x, y) {\n      if (x >>> 8 != 0 || y >>> 8 != 0)\n        throw new RangeError(\"Byte out of range\");\n      let z = 0;\n      for (let i = 7; i >= 0; i--) {\n        z = z << 1 ^ (z >>> 7) * 285;\n        z ^= (y >>> i & 1) * x;\n      }\n      assert(z >>> 8 == 0);\n      return z;\n    }\n    // Can only be called immediately after a light run is added, and\n    // returns either 0, 1, or 2. A helper function for getPenaltyScore().\n    finderPenaltyCountPatterns(runHistory) {\n      const n = runHistory[1];\n      assert(n <= this.size * 3);\n      const core = n > 0 && runHistory[2] == n && runHistory[3] == n * 3 && runHistory[4] == n && runHistory[5] == n;\n      return (core && runHistory[0] >= n * 4 && runHistory[6] >= n ? 1 : 0) + (core && runHistory[6] >= n * 4 && runHistory[0] >= n ? 1 : 0);\n    }\n    // Must be called at the end of a line (row or column) of modules. A helper function for getPenaltyScore().\n    finderPenaltyTerminateAndCount(currentRunColor, currentRunLength, runHistory) {\n      if (currentRunColor) {\n        this.finderPenaltyAddHistory(currentRunLength, runHistory);\n        currentRunLength = 0;\n      }\n      currentRunLength += this.size;\n      this.finderPenaltyAddHistory(currentRunLength, runHistory);\n      return this.finderPenaltyCountPatterns(runHistory);\n    }\n    // Pushes the given value to the front and drops the last value. A helper function for getPenaltyScore().\n    finderPenaltyAddHistory(currentRunLength, runHistory) {\n      if (runHistory[0] == 0)\n        currentRunLength += this.size;\n      runHistory.pop();\n      runHistory.unshift(currentRunLength);\n    }\n  };\n  /*-- Constants and tables --*/\n  // The minimum version number supported in the QR Code Model 2 standard.\n  _QrCode.MIN_VERSION = 1;\n  // The maximum version number supported in the QR Code Model 2 standard.\n  _QrCode.MAX_VERSION = 40;\n  // For use in getPenaltyScore(), when evaluating which mask is best.\n  _QrCode.PENALTY_N1 = 3;\n  _QrCode.PENALTY_N2 = 3;\n  _QrCode.PENALTY_N3 = 40;\n  _QrCode.PENALTY_N4 = 10;\n  _QrCode.ECC_CODEWORDS_PER_BLOCK = [\n    // Version: (note that index 0 is for padding, and is set to an illegal value)\n    //0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40    Error correction level\n    [-1, 7, 10, 15, 20, 26, 18, 20, 24, 30, 18, 20, 24, 26, 30, 22, 24, 28, 30, 28, 28, 28, 28, 30, 30, 26, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],\n    // Low\n    [-1, 10, 16, 26, 18, 24, 16, 18, 22, 22, 26, 30, 22, 22, 24, 24, 28, 28, 26, 26, 26, 26, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28],\n    // Medium\n    [-1, 13, 22, 18, 26, 18, 24, 18, 22, 20, 24, 28, 26, 24, 20, 30, 24, 28, 28, 26, 30, 28, 30, 30, 30, 30, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],\n    // Quartile\n    [-1, 17, 28, 22, 16, 22, 28, 26, 26, 24, 28, 24, 28, 22, 24, 24, 30, 28, 28, 26, 28, 30, 24, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30]\n    // High\n  ];\n  _QrCode.NUM_ERROR_CORRECTION_BLOCKS = [\n    // Version: (note that index 0 is for padding, and is set to an illegal value)\n    //0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40    Error correction level\n    [-1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 4, 4, 4, 4, 4, 6, 6, 6, 6, 7, 8, 8, 9, 9, 10, 12, 12, 12, 13, 14, 15, 16, 17, 18, 19, 19, 20, 21, 22, 24, 25],\n    // Low\n    [-1, 1, 1, 1, 2, 2, 4, 4, 4, 5, 5, 5, 8, 9, 9, 10, 10, 11, 13, 14, 16, 17, 17, 18, 20, 21, 23, 25, 26, 28, 29, 31, 33, 35, 37, 38, 40, 43, 45, 47, 49],\n    // Medium\n    [-1, 1, 1, 2, 2, 4, 4, 6, 6, 8, 8, 8, 10, 12, 16, 12, 17, 16, 18, 21, 20, 23, 23, 25, 27, 29, 34, 34, 35, 38, 40, 43, 45, 48, 51, 53, 56, 59, 62, 65, 68],\n    // Quartile\n    [-1, 1, 1, 2, 4, 4, 4, 5, 6, 8, 8, 11, 11, 16, 16, 18, 16, 19, 21, 25, 25, 25, 34, 30, 32, 35, 37, 40, 42, 45, 48, 51, 54, 57, 60, 63, 66, 70, 74, 77, 81]\n    // High\n  ];\n  let QrCode = _QrCode;\n  qrcodegen2.QrCode = _QrCode;\n  function appendBits(val, len, bb) {\n    if (len < 0 || len > 31 || val >>> len != 0)\n      throw new RangeError(\"Value out of range\");\n    for (let i = len - 1; i >= 0; i--)\n      bb.push(val >>> i & 1);\n  }\n  function getBit(x, i) {\n    return (x >>> i & 1) != 0;\n  }\n  function assert(cond) {\n    if (!cond)\n      throw new Error(\"Assertion error\");\n  }\n  const _QrSegment = class _QrSegment {\n    /*-- Constructor (low level) and fields --*/\n    // Creates a new QR Code segment with the given attributes and data.\n    // The character count (numChars) must agree with the mode and the bit buffer length,\n    // but the constraint isn't checked. The given bit buffer is cloned and stored.\n    constructor(mode, numChars, bitData) {\n      this.mode = mode;\n      this.numChars = numChars;\n      this.bitData = bitData;\n      if (numChars < 0)\n        throw new RangeError(\"Invalid argument\");\n      this.bitData = bitData.slice();\n    }\n    /*-- Static factory functions (mid level) --*/\n    // Returns a segment representing the given binary data encoded in\n    // byte mode. All input byte arrays are acceptable. Any text string\n    // can be converted to UTF-8 bytes and encoded as a byte mode segment.\n    static makeBytes(data) {\n      let bb = [];\n      for (const b of data)\n        appendBits(b, 8, bb);\n      return new _QrSegment(_QrSegment.Mode.BYTE, data.length, bb);\n    }\n    // Returns a segment representing the given string of decimal digits encoded in numeric mode.\n    static makeNumeric(digits) {\n      if (!_QrSegment.isNumeric(digits))\n        throw new RangeError(\"String contains non-numeric characters\");\n      let bb = [];\n      for (let i = 0; i < digits.length; ) {\n        const n = Math.min(digits.length - i, 3);\n        appendBits(parseInt(digits.substring(i, i + n), 10), n * 3 + 1, bb);\n        i += n;\n      }\n      return new _QrSegment(_QrSegment.Mode.NUMERIC, digits.length, bb);\n    }\n    // Returns a segment representing the given text string encoded in alphanumeric mode.\n    // The characters allowed are: 0 to 9, A to Z (uppercase only), space,\n    // dollar, percent, asterisk, plus, hyphen, period, slash, colon.\n    static makeAlphanumeric(text) {\n      if (!_QrSegment.isAlphanumeric(text))\n        throw new RangeError(\"String contains unencodable characters in alphanumeric mode\");\n      let bb = [];\n      let i;\n      for (i = 0; i + 2 <= text.length; i += 2) {\n        let temp = _QrSegment.ALPHANUMERIC_CHARSET.indexOf(text.charAt(i)) * 45;\n        temp += _QrSegment.ALPHANUMERIC_CHARSET.indexOf(text.charAt(i + 1));\n        appendBits(temp, 11, bb);\n      }\n      if (i < text.length)\n        appendBits(_QrSegment.ALPHANUMERIC_CHARSET.indexOf(text.charAt(i)), 6, bb);\n      return new _QrSegment(_QrSegment.Mode.ALPHANUMERIC, text.length, bb);\n    }\n    // Returns a new mutable list of zero or more segments to represent the given Unicode text string.\n    // The result may use various segment modes and switch modes to optimize the length of the bit stream.\n    static makeSegments(text) {\n      if (text == \"\")\n        return [];\n      else if (_QrSegment.isNumeric(text))\n        return [_QrSegment.makeNumeric(text)];\n      else if (_QrSegment.isAlphanumeric(text))\n        return [_QrSegment.makeAlphanumeric(text)];\n      else\n        return [_QrSegment.makeBytes(_QrSegment.toUtf8ByteArray(text))];\n    }\n    // Returns a segment representing an Extended Channel Interpretation\n    // (ECI) designator with the given assignment value.\n    static makeEci(assignVal) {\n      let bb = [];\n      if (assignVal < 0)\n        throw new RangeError(\"ECI assignment value out of range\");\n      else if (assignVal < 1 << 7)\n        appendBits(assignVal, 8, bb);\n      else if (assignVal < 1 << 14) {\n        appendBits(2, 2, bb);\n        appendBits(assignVal, 14, bb);\n      } else if (assignVal < 1e6) {\n        appendBits(6, 3, bb);\n        appendBits(assignVal, 21, bb);\n      } else\n        throw new RangeError(\"ECI assignment value out of range\");\n      return new _QrSegment(_QrSegment.Mode.ECI, 0, bb);\n    }\n    // Tests whether the given string can be encoded as a segment in numeric mode.\n    // A string is encodable iff each character is in the range 0 to 9.\n    static isNumeric(text) {\n      return _QrSegment.NUMERIC_REGEX.test(text);\n    }\n    // Tests whether the given string can be encoded as a segment in alphanumeric mode.\n    // A string is encodable iff each character is in the following set: 0 to 9, A to Z\n    // (uppercase only), space, dollar, percent, asterisk, plus, hyphen, period, slash, colon.\n    static isAlphanumeric(text) {\n      return _QrSegment.ALPHANUMERIC_REGEX.test(text);\n    }\n    /*-- Methods --*/\n    // Returns a new copy of the data bits of this segment.\n    getData() {\n      return this.bitData.slice();\n    }\n    // (Package-private) Calculates and returns the number of bits needed to encode the given segments at\n    // the given version. The result is infinity if a segment has too many characters to fit its length field.\n    static getTotalBits(segs, version) {\n      let result = 0;\n      for (const seg of segs) {\n        const ccbits = seg.mode.numCharCountBits(version);\n        if (seg.numChars >= 1 << ccbits)\n          return Infinity;\n        result += 4 + ccbits + seg.bitData.length;\n      }\n      return result;\n    }\n    // Returns a new array of bytes representing the given string encoded in UTF-8.\n    static toUtf8ByteArray(str) {\n      str = encodeURI(str);\n      let result = [];\n      for (let i = 0; i < str.length; i++) {\n        if (str.charAt(i) != \"%\")\n          result.push(str.charCodeAt(i));\n        else {\n          result.push(parseInt(str.substring(i + 1, i + 3), 16));\n          i += 2;\n        }\n      }\n      return result;\n    }\n  };\n  /*-- Constants --*/\n  // Describes precisely all strings that are encodable in numeric mode.\n  _QrSegment.NUMERIC_REGEX = /^[0-9]*$/;\n  // Describes precisely all strings that are encodable in alphanumeric mode.\n  _QrSegment.ALPHANUMERIC_REGEX = /^[A-Z0-9 $%*+.\\/:-]*$/;\n  // The set of all legal characters in alphanumeric mode,\n  // where each character value maps to the index in the string.\n  _QrSegment.ALPHANUMERIC_CHARSET = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:\";\n  let QrSegment = _QrSegment;\n  qrcodegen2.QrSegment = _QrSegment;\n})(qrcodegen || (qrcodegen = {}));\n((qrcodegen2) => {\n  let QrCode;\n  ((QrCode2) => {\n    const _Ecc = class _Ecc {\n      // The QR Code can tolerate about 30% erroneous codewords\n      /*-- Constructor and fields --*/\n      constructor(ordinal, formatBits) {\n        this.ordinal = ordinal;\n        this.formatBits = formatBits;\n      }\n    };\n    /*-- Constants --*/\n    _Ecc.LOW = new _Ecc(0, 1);\n    // The QR Code can tolerate about  7% erroneous codewords\n    _Ecc.MEDIUM = new _Ecc(1, 0);\n    // The QR Code can tolerate about 15% erroneous codewords\n    _Ecc.QUARTILE = new _Ecc(2, 3);\n    // The QR Code can tolerate about 25% erroneous codewords\n    _Ecc.HIGH = new _Ecc(3, 2);\n    let Ecc = _Ecc;\n    QrCode2.Ecc = _Ecc;\n  })(QrCode = qrcodegen2.QrCode || (qrcodegen2.QrCode = {}));\n})(qrcodegen || (qrcodegen = {}));\n((qrcodegen2) => {\n  let QrSegment;\n  ((QrSegment2) => {\n    const _Mode = class _Mode {\n      /*-- Constructor and fields --*/\n      constructor(modeBits, numBitsCharCount) {\n        this.modeBits = modeBits;\n        this.numBitsCharCount = numBitsCharCount;\n      }\n      /*-- Method --*/\n      // (Package-private) Returns the bit width of the character count field for a segment in\n      // this mode in a QR Code at the given version number. The result is in the range [0, 16].\n      numCharCountBits(ver) {\n        return this.numBitsCharCount[Math.floor((ver + 7) / 17)];\n      }\n    };\n    /*-- Constants --*/\n    _Mode.NUMERIC = new _Mode(1, [10, 12, 14]);\n    _Mode.ALPHANUMERIC = new _Mode(2, [9, 11, 13]);\n    _Mode.BYTE = new _Mode(4, [8, 16, 16]);\n    _Mode.KANJI = new _Mode(8, [8, 10, 12]);\n    _Mode.ECI = new _Mode(7, [0, 0, 0]);\n    let Mode = _Mode;\n    QrSegment2.Mode = _Mode;\n  })(QrSegment = qrcodegen2.QrSegment || (qrcodegen2.QrSegment = {}));\n})(qrcodegen || (qrcodegen = {}));\nvar qrcodegen_default = qrcodegen;\n\n// src/index.tsx\n/**\n * @license qrcode.react\n * Copyright (c) Paul O'Shannessy\n * SPDX-License-Identifier: ISC\n */\nvar ERROR_LEVEL_MAP = {\n  L: qrcodegen_default.QrCode.Ecc.LOW,\n  M: qrcodegen_default.QrCode.Ecc.MEDIUM,\n  Q: qrcodegen_default.QrCode.Ecc.QUARTILE,\n  H: qrcodegen_default.QrCode.Ecc.HIGH\n};\nvar DEFAULT_SIZE = 128;\nvar DEFAULT_LEVEL = \"L\";\nvar DEFAULT_BGCOLOR = \"#FFFFFF\";\nvar DEFAULT_FGCOLOR = \"#000000\";\nvar DEFAULT_INCLUDEMARGIN = false;\nvar DEFAULT_MINVERSION = 1;\nvar SPEC_MARGIN_SIZE = 4;\nvar DEFAULT_MARGIN_SIZE = 0;\nvar DEFAULT_IMG_SCALE = 0.1;\nfunction generatePath(modules, margin = 0) {\n  const ops = [];\n  modules.forEach(function(row, y) {\n    let start = null;\n    row.forEach(function(cell, x) {\n      if (!cell && start !== null) {\n        ops.push(\n          `M${start + margin} ${y + margin}h${x - start}v1H${start + margin}z`\n        );\n        start = null;\n        return;\n      }\n      if (x === row.length - 1) {\n        if (!cell) {\n          return;\n        }\n        if (start === null) {\n          ops.push(`M${x + margin},${y + margin} h1v1H${x + margin}z`);\n        } else {\n          ops.push(\n            `M${start + margin},${y + margin} h${x + 1 - start}v1H${start + margin}z`\n          );\n        }\n        return;\n      }\n      if (cell && start === null) {\n        start = x;\n      }\n    });\n  });\n  return ops.join(\"\");\n}\nfunction excavateModules(modules, excavation) {\n  return modules.slice().map((row, y) => {\n    if (y < excavation.y || y >= excavation.y + excavation.h) {\n      return row;\n    }\n    return row.map((cell, x) => {\n      if (x < excavation.x || x >= excavation.x + excavation.w) {\n        return cell;\n      }\n      return false;\n    });\n  });\n}\nfunction getImageSettings(cells, size, margin, imageSettings) {\n  if (imageSettings == null) {\n    return null;\n  }\n  const numCells = cells.length + margin * 2;\n  const defaultSize = Math.floor(size * DEFAULT_IMG_SCALE);\n  const scale = numCells / size;\n  const w = (imageSettings.width || defaultSize) * scale;\n  const h = (imageSettings.height || defaultSize) * scale;\n  const x = imageSettings.x == null ? cells.length / 2 - w / 2 : imageSettings.x * scale;\n  const y = imageSettings.y == null ? cells.length / 2 - h / 2 : imageSettings.y * scale;\n  const opacity = imageSettings.opacity == null ? 1 : imageSettings.opacity;\n  let excavation = null;\n  if (imageSettings.excavate) {\n    let floorX = Math.floor(x);\n    let floorY = Math.floor(y);\n    let ceilW = Math.ceil(w + x - floorX);\n    let ceilH = Math.ceil(h + y - floorY);\n    excavation = { x: floorX, y: floorY, w: ceilW, h: ceilH };\n  }\n  const crossOrigin = imageSettings.crossOrigin;\n  return { x, y, h, w, excavation, opacity, crossOrigin };\n}\nfunction getMarginSize(includeMargin, marginSize) {\n  if (marginSize != null) {\n    return Math.max(Math.floor(marginSize), 0);\n  }\n  return includeMargin ? SPEC_MARGIN_SIZE : DEFAULT_MARGIN_SIZE;\n}\nfunction useQRCode({\n  value,\n  level,\n  minVersion,\n  includeMargin,\n  marginSize,\n  imageSettings,\n  size,\n  boostLevel\n}) {\n  let qrcode = React.useMemo(() => {\n    const values = Array.isArray(value) ? value : [value];\n    const segments = values.reduce((accum, v) => {\n      accum.push(...qrcodegen_default.QrSegment.makeSegments(v));\n      return accum;\n    }, []);\n    return qrcodegen_default.QrCode.encodeSegments(\n      segments,\n      ERROR_LEVEL_MAP[level],\n      minVersion,\n      void 0,\n      void 0,\n      boostLevel\n    );\n  }, [value, level, minVersion, boostLevel]);\n  const { cells, margin, numCells, calculatedImageSettings } = React.useMemo(() => {\n    let cells2 = qrcode.getModules();\n    const margin2 = getMarginSize(includeMargin, marginSize);\n    const numCells2 = cells2.length + margin2 * 2;\n    const calculatedImageSettings2 = getImageSettings(\n      cells2,\n      size,\n      margin2,\n      imageSettings\n    );\n    return {\n      cells: cells2,\n      margin: margin2,\n      numCells: numCells2,\n      calculatedImageSettings: calculatedImageSettings2\n    };\n  }, [qrcode, size, imageSettings, includeMargin, marginSize]);\n  return {\n    qrcode,\n    margin,\n    cells,\n    numCells,\n    calculatedImageSettings\n  };\n}\nvar SUPPORTS_PATH2D = function() {\n  try {\n    new Path2D().addPath(new Path2D());\n  } catch (e) {\n    return false;\n  }\n  return true;\n}();\nvar QRCodeCanvas = React.forwardRef(\n  function QRCodeCanvas2(props, forwardedRef) {\n    const _a = props, {\n      value,\n      size = DEFAULT_SIZE,\n      level = DEFAULT_LEVEL,\n      bgColor = DEFAULT_BGCOLOR,\n      fgColor = DEFAULT_FGCOLOR,\n      includeMargin = DEFAULT_INCLUDEMARGIN,\n      minVersion = DEFAULT_MINVERSION,\n      boostLevel,\n      marginSize,\n      imageSettings\n    } = _a, extraProps = __objRest(_a, [\n      \"value\",\n      \"size\",\n      \"level\",\n      \"bgColor\",\n      \"fgColor\",\n      \"includeMargin\",\n      \"minVersion\",\n      \"boostLevel\",\n      \"marginSize\",\n      \"imageSettings\"\n    ]);\n    const _b = extraProps, { style } = _b, otherProps = __objRest(_b, [\"style\"]);\n    const imgSrc = imageSettings == null ? void 0 : imageSettings.src;\n    const _canvas = React.useRef(null);\n    const _image = React.useRef(null);\n    const setCanvasRef = React.useCallback(\n      (node) => {\n        _canvas.current = node;\n        if (typeof forwardedRef === \"function\") {\n          forwardedRef(node);\n        } else if (forwardedRef) {\n          forwardedRef.current = node;\n        }\n      },\n      [forwardedRef]\n    );\n    const [isImgLoaded, setIsImageLoaded] = React.useState(false);\n    const { margin, cells, numCells, calculatedImageSettings } = useQRCode({\n      value,\n      level,\n      minVersion,\n      boostLevel,\n      includeMargin,\n      marginSize,\n      imageSettings,\n      size\n    });\n    React.useEffect(() => {\n      if (_canvas.current != null) {\n        const canvas = _canvas.current;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) {\n          return;\n        }\n        let cellsToDraw = cells;\n        const image = _image.current;\n        const haveImageToRender = calculatedImageSettings != null && image !== null && image.complete && image.naturalHeight !== 0 && image.naturalWidth !== 0;\n        if (haveImageToRender) {\n          if (calculatedImageSettings.excavation != null) {\n            cellsToDraw = excavateModules(\n              cells,\n              calculatedImageSettings.excavation\n            );\n          }\n        }\n        const pixelRatio = window.devicePixelRatio || 1;\n        canvas.height = canvas.width = size * pixelRatio;\n        const scale = size / numCells * pixelRatio;\n        ctx.scale(scale, scale);\n        ctx.fillStyle = bgColor;\n        ctx.fillRect(0, 0, numCells, numCells);\n        ctx.fillStyle = fgColor;\n        if (SUPPORTS_PATH2D) {\n          ctx.fill(new Path2D(generatePath(cellsToDraw, margin)));\n        } else {\n          cells.forEach(function(row, rdx) {\n            row.forEach(function(cell, cdx) {\n              if (cell) {\n                ctx.fillRect(cdx + margin, rdx + margin, 1, 1);\n              }\n            });\n          });\n        }\n        if (calculatedImageSettings) {\n          ctx.globalAlpha = calculatedImageSettings.opacity;\n        }\n        if (haveImageToRender) {\n          ctx.drawImage(\n            image,\n            calculatedImageSettings.x + margin,\n            calculatedImageSettings.y + margin,\n            calculatedImageSettings.w,\n            calculatedImageSettings.h\n          );\n        }\n      }\n    });\n    React.useEffect(() => {\n      setIsImageLoaded(false);\n    }, [imgSrc]);\n    const canvasStyle = __spreadValues({ height: size, width: size }, style);\n    let img = null;\n    if (imgSrc != null) {\n      img = /* @__PURE__ */ React.createElement(\n        \"img\",\n        {\n          src: imgSrc,\n          key: imgSrc,\n          style: { display: \"none\" },\n          onLoad: () => {\n            setIsImageLoaded(true);\n          },\n          ref: _image,\n          crossOrigin: calculatedImageSettings == null ? void 0 : calculatedImageSettings.crossOrigin\n        }\n      );\n    }\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n      \"canvas\",\n      __spreadValues({\n        style: canvasStyle,\n        height: size,\n        width: size,\n        ref: setCanvasRef,\n        role: \"img\"\n      }, otherProps)\n    ), img);\n  }\n);\nQRCodeCanvas.displayName = \"QRCodeCanvas\";\nvar QRCodeSVG = React.forwardRef(\n  function QRCodeSVG2(props, forwardedRef) {\n    const _a = props, {\n      value,\n      size = DEFAULT_SIZE,\n      level = DEFAULT_LEVEL,\n      bgColor = DEFAULT_BGCOLOR,\n      fgColor = DEFAULT_FGCOLOR,\n      includeMargin = DEFAULT_INCLUDEMARGIN,\n      minVersion = DEFAULT_MINVERSION,\n      boostLevel,\n      title,\n      marginSize,\n      imageSettings\n    } = _a, otherProps = __objRest(_a, [\n      \"value\",\n      \"size\",\n      \"level\",\n      \"bgColor\",\n      \"fgColor\",\n      \"includeMargin\",\n      \"minVersion\",\n      \"boostLevel\",\n      \"title\",\n      \"marginSize\",\n      \"imageSettings\"\n    ]);\n    const { margin, cells, numCells, calculatedImageSettings } = useQRCode({\n      value,\n      level,\n      minVersion,\n      boostLevel,\n      includeMargin,\n      marginSize,\n      imageSettings,\n      size\n    });\n    let cellsToDraw = cells;\n    let image = null;\n    if (imageSettings != null && calculatedImageSettings != null) {\n      if (calculatedImageSettings.excavation != null) {\n        cellsToDraw = excavateModules(\n          cells,\n          calculatedImageSettings.excavation\n        );\n      }\n      image = /* @__PURE__ */ React.createElement(\n        \"image\",\n        {\n          href: imageSettings.src,\n          height: calculatedImageSettings.h,\n          width: calculatedImageSettings.w,\n          x: calculatedImageSettings.x + margin,\n          y: calculatedImageSettings.y + margin,\n          preserveAspectRatio: \"none\",\n          opacity: calculatedImageSettings.opacity,\n          crossOrigin: calculatedImageSettings.crossOrigin\n        }\n      );\n    }\n    const fgPath = generatePath(cellsToDraw, margin);\n    return /* @__PURE__ */ React.createElement(\n      \"svg\",\n      __spreadValues({\n        height: size,\n        width: size,\n        viewBox: `0 0 ${numCells} ${numCells}`,\n        ref: forwardedRef,\n        role: \"img\"\n      }, otherProps),\n      !!title && /* @__PURE__ */ React.createElement(\"title\", null, title),\n      /* @__PURE__ */ React.createElement(\n        \"path\",\n        {\n          fill: bgColor,\n          d: `M0,0 h${numCells}v${numCells}H0z`,\n          shapeRendering: \"crispEdges\"\n        }\n      ),\n      /* @__PURE__ */ React.createElement(\"path\", { fill: fgColor, d: fgPath, shapeRendering: \"crispEdges\" }),\n      image\n    );\n  }\n);\nQRCodeSVG.displayName = \"QRCodeSVG\";\nexport {\n  QRCodeCanvas,\n  QRCodeSVG\n};\n","import React, { useState, useEffect } from 'react';\r\nimport { QRCodeSVG } from 'qrcode.react';\r\nimport './TwoFactorSetup.css';\r\nimport userDataService from '../../services/userDataService';\r\n\r\nconst TwoFactorSetup = ({ onClose, onSetupComplete }) => {\r\n  const [step, setStep] = useState(1); // 1: Setup, 2: Verify, 3: Backup Codes\r\n  const [qrCodeUrl, setQrCodeUrl] = useState('');\r\n  const [secret, setSecret] = useState('');\r\n  const [manualEntryKey, setManualEntryKey] = useState('');\r\n  const [verificationCode, setVerificationCode] = useState('');\r\n  const [backupCodes, setBackupCodes] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    initializeSetup();\r\n  }, []);\r\n\r\n  const initializeSetup = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      const response = await userDataService.api.setupTwoFactor();\r\n      \r\n      if (response.success) {\r\n        setQrCodeUrl(response.qrCode);\r\n        setSecret(response.secret);\r\n        setManualEntryKey(response.manualEntryKey);\r\n      } else {\r\n        throw new Error(response.error || 'Failed to initialize 2FA setup');\r\n      }\r\n    } catch (err) {\r\n      console.error('2FA setup initialization error:', err);\r\n      setError(err.message || 'Failed to initialize 2FA setup');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleVerifySetup = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!verificationCode.trim()) {\r\n      setError('Please enter the verification code');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      const response = await userDataService.api.verifyTwoFactorSetup(verificationCode.trim());\r\n      \r\n      if (response.success) {\r\n        setBackupCodes(response.backupCodes);\r\n        setStep(3);\r\n      } else {\r\n        throw new Error(response.error || 'Verification failed');\r\n      }\r\n    } catch (err) {\r\n      console.error('2FA verification error:', err);\r\n      setError(err.message || 'Verification failed. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleComplete = () => {\r\n    onSetupComplete();\r\n    onClose();\r\n  };\r\n\r\n  const copyToClipboard = (text) => {\r\n    navigator.clipboard.writeText(text).then(() => {\r\n      // You could add a toast notification here\r\n    });\r\n  };\r\n\r\n  const downloadBackupCodes = () => {\r\n    const content = `Quibish 2FA Backup Codes\\n\\nGenerated: ${new Date().toLocaleDateString()}\\n\\nBackup Codes:\\n${backupCodes.join('\\n')}\\n\\nImportant:\\n- Each code can only be used once\\n- Keep these codes in a safe place\\n- Generate new codes if you lose these`;\r\n    \r\n    const blob = new Blob([content], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'quibish-2fa-backup-codes.txt';\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  if (loading && step === 1) {\r\n    return (\r\n      <div className=\"two-factor-setup-overlay\">\r\n        <div className=\"two-factor-setup-container\">\r\n          <div className=\"loading-state\">\r\n            <div className=\"loading-spinner\"></div>\r\n            <p>Setting up Two-Factor Authentication...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"two-factor-setup-overlay\">\r\n      <div className=\"two-factor-setup-container\">\r\n        <div className=\"setup-header\">\r\n          <h2>Enable Two-Factor Authentication</h2>\r\n          <button onClick={onClose} className=\"close-button\" disabled={loading}>×</button>\r\n        </div>\r\n\r\n        {step === 1 && (\r\n          <div className=\"setup-step\">\r\n            <div className=\"step-indicator\">\r\n              <span className=\"step active\">1</span>\r\n              <span className=\"step\">2</span>\r\n              <span className=\"step\">3</span>\r\n            </div>\r\n\r\n            <h3>Step 1: Install Authenticator App</h3>\r\n            <p>Download and install an authenticator app on your phone:</p>\r\n            \r\n            <div className=\"app-recommendations\">\r\n              <div className=\"app-option\">\r\n                <span className=\"app-icon\">📱</span>\r\n                <div>\r\n                  <strong>Google Authenticator</strong>\r\n                  <p>Free, simple, and reliable</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"app-option\">\r\n                <span className=\"app-icon\">🔐</span>\r\n                <div>\r\n                  <strong>Authy</strong>\r\n                  <p>Cross-device sync and backup</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"app-option\">\r\n                <span className=\"app-icon\">🛡️</span>\r\n                <div>\r\n                  <strong>Microsoft Authenticator</strong>\r\n                  <p>Integration with Microsoft services</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <button \r\n              onClick={() => setStep(2)} \r\n              className=\"next-button\"\r\n              disabled={loading}\r\n            >\r\n              I have an authenticator app\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {step === 2 && (\r\n          <div className=\"setup-step\">\r\n            <div className=\"step-indicator\">\r\n              <span className=\"step completed\">✓</span>\r\n              <span className=\"step active\">2</span>\r\n              <span className=\"step\">3</span>\r\n            </div>\r\n\r\n            <h3>Step 2: Scan QR Code</h3>\r\n            <p>Scan this QR code with your authenticator app:</p>\r\n\r\n            <div className=\"qr-code-section\">\r\n              {qrCodeUrl && (\r\n                <div className=\"qr-code-container\">\r\n                  <QRCodeSVG value={qrCodeUrl} size={200} />\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"manual-entry\">\r\n                <p>Can't scan? Enter this code manually:</p>\r\n                <div className=\"manual-key\">\r\n                  <code>{manualEntryKey}</code>\r\n                  <button \r\n                    onClick={() => copyToClipboard(manualEntryKey)}\r\n                    className=\"copy-button\"\r\n                    title=\"Copy to clipboard\"\r\n                  >\r\n                    📋\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <form onSubmit={handleVerifySetup} className=\"verification-form\">\r\n              <h4>Enter the 6-digit code from your app:</h4>\r\n              <input\r\n                type=\"text\"\r\n                inputMode=\"numeric\"\r\n                pattern=\"[0-9]*\"\r\n                maxLength=\"6\"\r\n                value={verificationCode}\r\n                onChange={(e) => {\r\n                  setVerificationCode(e.target.value);\r\n                  setError('');\r\n                }}\r\n                placeholder=\"000000\"\r\n                className=\"verification-input\"\r\n                disabled={loading}\r\n              />\r\n\r\n              {error && (\r\n                <div className=\"error-message\">\r\n                  <span className=\"error-icon\">⚠️</span>\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"form-actions\">\r\n                <button \r\n                  type=\"button\" \r\n                  onClick={() => setStep(1)}\r\n                  className=\"back-button\"\r\n                  disabled={loading}\r\n                >\r\n                  Back\r\n                </button>\r\n                <button \r\n                  type=\"submit\" \r\n                  className=\"verify-button\"\r\n                  disabled={loading || verificationCode.length !== 6}\r\n                >\r\n                  {loading ? (\r\n                    <>\r\n                      <span className=\"loading-spinner small\"></span>\r\n                      Verifying...\r\n                    </>\r\n                  ) : (\r\n                    'Verify & Enable'\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )}\r\n\r\n        {step === 3 && (\r\n          <div className=\"setup-step\">\r\n            <div className=\"step-indicator\">\r\n              <span className=\"step completed\">✓</span>\r\n              <span className=\"step completed\">✓</span>\r\n              <span className=\"step active\">3</span>\r\n            </div>\r\n\r\n            <div className=\"success-message\">\r\n              <span className=\"success-icon\">🎉</span>\r\n              <h3>2FA Successfully Enabled!</h3>\r\n              <p>Your account is now protected with two-factor authentication.</p>\r\n            </div>\r\n\r\n            <div className=\"backup-codes-section\">\r\n              <h4>Save Your Backup Codes</h4>\r\n              <p>These codes can be used to access your account if you lose your phone:</p>\r\n              \r\n              <div className=\"backup-codes-container\">\r\n                <div className=\"backup-codes-grid\">\r\n                  {backupCodes.map((code, index) => (\r\n                    <div key={index} className=\"backup-code\">\r\n                      <code>{code}</code>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                \r\n                <div className=\"backup-codes-actions\">\r\n                  <button \r\n                    onClick={downloadBackupCodes}\r\n                    className=\"download-button\"\r\n                  >\r\n                    📥 Download Codes\r\n                  </button>\r\n                  <button \r\n                    onClick={() => copyToClipboard(backupCodes.join('\\n'))}\r\n                    className=\"copy-button\"\r\n                  >\r\n                    📋 Copy All\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"warning-message\">\r\n                <span className=\"warning-icon\">⚠️</span>\r\n                <p><strong>Important:</strong> Save these backup codes in a secure location. Each code can only be used once.</p>\r\n              </div>\r\n            </div>\r\n\r\n            <button \r\n              onClick={handleComplete}\r\n              className=\"complete-button\"\r\n            >\r\n              Complete Setup\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TwoFactorSetup;","import React, { useState, useEffect } from 'react';\r\nimport './TwoFactorSettings.css';\r\nimport TwoFactorSetup from './TwoFactorSetup';\r\nimport userDataService from '../../services/userDataService';\r\n\r\nconst TwoFactorSettings = () => {\r\n  const [twoFactorStatus, setTwoFactorStatus] = useState({\r\n    enabled: false,\r\n    method: 'totp',\r\n    setupAt: null,\r\n    lastUsed: null,\r\n    unusedBackupCodes: 0\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [showSetup, setShowSetup] = useState(false);\r\n  const [showDisableConfirm, setShowDisableConfirm] = useState(false);\r\n  const [disablePassword, setDisablePassword] = useState('');\r\n  const [disableTwoFactorCode, setDisableTwoFactorCode] = useState('');\r\n  const [disableLoading, setDisableLoading] = useState(false);\r\n  const [showBackupCodes, setShowBackupCodes] = useState(false);\r\n  const [backupCodes, setBackupCodes] = useState([]);\r\n  const [backupCodesLoading, setBackupCodesLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadTwoFactorStatus();\r\n  }, []);\r\n\r\n  const loadTwoFactorStatus = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      const response = await userDataService.api.getTwoFactorStatus();\r\n      \r\n      if (response.success) {\r\n        setTwoFactorStatus(response);\r\n      } else {\r\n        throw new Error(response.error || 'Failed to load 2FA status');\r\n      }\r\n    } catch (err) {\r\n      console.error('Load 2FA status error:', err);\r\n      setError(err.message || 'Failed to load 2FA status');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSetupComplete = async () => {\r\n    setShowSetup(false);\r\n    await loadTwoFactorStatus(); // Refresh status\r\n  };\r\n\r\n  const handleDisable = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!disablePassword.trim()) {\r\n      setError('Password is required to disable 2FA');\r\n      return;\r\n    }\r\n    \r\n    if (!disableTwoFactorCode.trim()) {\r\n      setError('2FA code is required to disable 2FA');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setDisableLoading(true);\r\n      setError('');\r\n      \r\n      const response = await userDataService.api.disableTwoFactor(\r\n        disablePassword,\r\n        disableTwoFactorCode\r\n      );\r\n      \r\n      if (response.success) {\r\n        setShowDisableConfirm(false);\r\n        setDisablePassword('');\r\n        setDisableTwoFactorCode('');\r\n        await loadTwoFactorStatus(); // Refresh status\r\n      } else {\r\n        throw new Error(response.error || 'Failed to disable 2FA');\r\n      }\r\n    } catch (err) {\r\n      console.error('Disable 2FA error:', err);\r\n      setError(err.message || 'Failed to disable 2FA');\r\n    } finally {\r\n      setDisableLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGenerateBackupCodes = async () => {\r\n    try {\r\n      setBackupCodesLoading(true);\r\n      setError('');\r\n      \r\n      const response = await userDataService.api.generateBackupCodes();\r\n      \r\n      if (response.success) {\r\n        setBackupCodes(response.backupCodes);\r\n        setShowBackupCodes(true);\r\n        await loadTwoFactorStatus(); // Refresh backup codes count\r\n      } else {\r\n        throw new Error(response.error || 'Failed to generate backup codes');\r\n      }\r\n    } catch (err) {\r\n      console.error('Generate backup codes error:', err);\r\n      setError(err.message || 'Failed to generate backup codes');\r\n    } finally {\r\n      setBackupCodesLoading(false);\r\n    }\r\n  };\r\n\r\n  const downloadBackupCodes = () => {\r\n    const content = `Quibish 2FA Backup Codes\\n\\nGenerated: ${new Date().toLocaleDateString()}\\n\\nBackup Codes:\\n${backupCodes.join('\\n')}\\n\\nImportant:\\n- Each code can only be used once\\n- Keep these codes in a safe place\\n- Generate new codes if you lose these`;\r\n    \r\n    const blob = new Blob([content], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'quibish-2fa-backup-codes.txt';\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const copyBackupCodes = () => {\r\n    navigator.clipboard.writeText(backupCodes.join('\\n')).then(() => {\r\n      // You could add a toast notification here\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"two-factor-settings\">\r\n        <div className=\"loading-state\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <p>Loading 2FA settings...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"two-factor-settings\">\r\n      <div className=\"settings-header\">\r\n        <h3>Two-Factor Authentication</h3>\r\n        <p>Add an extra layer of security to your account</p>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"error-message\">\r\n          <span className=\"error-icon\">⚠️</span>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"settings-content\">\r\n        {!twoFactorStatus.enabled ? (\r\n          <div className=\"two-factor-disabled\">\r\n            <div className=\"status-card\">\r\n              <div className=\"status-icon\">🔓</div>\r\n              <div className=\"status-content\">\r\n                <h4>Two-Factor Authentication is Off</h4>\r\n                <p>Protect your account by requiring a second form of authentication.</p>\r\n              </div>\r\n              <button \r\n                onClick={() => setShowSetup(true)}\r\n                className=\"enable-button\"\r\n              >\r\n                Enable 2FA\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"benefits-section\">\r\n              <h4>Benefits of 2FA:</h4>\r\n              <ul>\r\n                <li>🛡️ Enhanced account security</li>\r\n                <li>🔐 Protection against password breaches</li>\r\n                <li>📱 Works with popular authenticator apps</li>\r\n                <li>🔑 Backup codes for recovery</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"two-factor-enabled\">\r\n            <div className=\"status-card enabled\">\r\n              <div className=\"status-icon\">🛡️</div>\r\n              <div className=\"status-content\">\r\n                <h4>Two-Factor Authentication is On</h4>\r\n                <p>Your account is protected with {twoFactorStatus.method.toUpperCase()}.</p>\r\n                <div className=\"status-details\">\r\n                  {twoFactorStatus.setupAt && (\r\n                    <p className=\"detail\">\r\n                      <strong>Enabled:</strong> {new Date(twoFactorStatus.setupAt).toLocaleDateString()}\r\n                    </p>\r\n                  )}\r\n                  {twoFactorStatus.lastUsed && (\r\n                    <p className=\"detail\">\r\n                      <strong>Last Used:</strong> {new Date(twoFactorStatus.lastUsed).toLocaleDateString()}\r\n                    </p>\r\n                  )}\r\n                  <p className=\"detail\">\r\n                    <strong>Backup Codes:</strong> {twoFactorStatus.unusedBackupCodes} remaining\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"management-actions\">\r\n              <div className=\"action-group\">\r\n                <h4>Backup Codes</h4>\r\n                <p>Generate new backup codes if you've lost your existing ones.</p>\r\n                <button \r\n                  onClick={handleGenerateBackupCodes}\r\n                  className=\"secondary-button\"\r\n                  disabled={backupCodesLoading}\r\n                >\r\n                  {backupCodesLoading ? (\r\n                    <>\r\n                      <span className=\"loading-spinner small\"></span>\r\n                      Generating...\r\n                    </>\r\n                  ) : (\r\n                    'Generate New Backup Codes'\r\n                  )}\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"action-group\">\r\n                <h4>Disable 2FA</h4>\r\n                <p>Remove two-factor authentication from your account.</p>\r\n                <button \r\n                  onClick={() => setShowDisableConfirm(true)}\r\n                  className=\"danger-button\"\r\n                >\r\n                  Disable 2FA\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Setup Modal */}\r\n      {showSetup && (\r\n        <TwoFactorSetup\r\n          onClose={() => setShowSetup(false)}\r\n          onSetupComplete={handleSetupComplete}\r\n        />\r\n      )}\r\n\r\n      {/* Disable Confirmation Modal */}\r\n      {showDisableConfirm && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-container\">\r\n            <div className=\"modal-header\">\r\n              <h3>Disable Two-Factor Authentication</h3>\r\n              <button \r\n                onClick={() => setShowDisableConfirm(false)}\r\n                className=\"close-button\"\r\n                disabled={disableLoading}\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-content\">\r\n              <div className=\"warning-message\">\r\n                <span className=\"warning-icon\">⚠️</span>\r\n                <p>\r\n                  <strong>Warning:</strong> Disabling 2FA will make your account less secure. \r\n                  You'll only need your password to log in.\r\n                </p>\r\n              </div>\r\n\r\n              <form onSubmit={handleDisable} className=\"disable-form\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"disable-password\">Current Password</label>\r\n                  <input\r\n                    id=\"disable-password\"\r\n                    type=\"password\"\r\n                    value={disablePassword}\r\n                    onChange={(e) => {\r\n                      setDisablePassword(e.target.value);\r\n                      setError('');\r\n                    }}\r\n                    placeholder=\"Enter your password\"\r\n                    disabled={disableLoading}\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"disable-code\">2FA Code</label>\r\n                  <input\r\n                    id=\"disable-code\"\r\n                    type=\"text\"\r\n                    inputMode=\"numeric\"\r\n                    pattern=\"[0-9]*\"\r\n                    maxLength=\"6\"\r\n                    value={disableTwoFactorCode}\r\n                    onChange={(e) => {\r\n                      setDisableTwoFactorCode(e.target.value);\r\n                      setError('');\r\n                    }}\r\n                    placeholder=\"000000\"\r\n                    disabled={disableLoading}\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-actions\">\r\n                  <button \r\n                    type=\"button\"\r\n                    onClick={() => setShowDisableConfirm(false)}\r\n                    className=\"cancel-button\"\r\n                    disabled={disableLoading}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button \r\n                    type=\"submit\"\r\n                    className=\"danger-button\"\r\n                    disabled={disableLoading || !disablePassword.trim() || !disableTwoFactorCode.trim()}\r\n                  >\r\n                    {disableLoading ? (\r\n                      <>\r\n                        <span className=\"loading-spinner small\"></span>\r\n                        Disabling...\r\n                      </>\r\n                    ) : (\r\n                      'Disable 2FA'\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Backup Codes Modal */}\r\n      {showBackupCodes && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-container\">\r\n            <div className=\"modal-header\">\r\n              <h3>New Backup Codes Generated</h3>\r\n              <button \r\n                onClick={() => setShowBackupCodes(false)}\r\n                className=\"close-button\"\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-content\">\r\n              <p>Save these backup codes in a secure location. Each code can only be used once.</p>\r\n              \r\n              <div className=\"backup-codes-container\">\r\n                <div className=\"backup-codes-grid\">\r\n                  {backupCodes.map((code, index) => (\r\n                    <div key={index} className=\"backup-code\">\r\n                      <code>{code}</code>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                \r\n                <div className=\"backup-codes-actions\">\r\n                  <button \r\n                    onClick={downloadBackupCodes}\r\n                    className=\"download-button\"\r\n                  >\r\n                    📥 Download\r\n                  </button>\r\n                  <button \r\n                    onClick={copyBackupCodes}\r\n                    className=\"copy-button\"\r\n                  >\r\n                    📋 Copy All\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"warning-message\">\r\n                <span className=\"warning-icon\">⚠️</span>\r\n                <p><strong>Important:</strong> Your old backup codes are no longer valid.</p>\r\n              </div>\r\n\r\n              <button \r\n                onClick={() => setShowBackupCodes(false)}\r\n                className=\"primary-button\"\r\n              >\r\n                I've Saved These Codes\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TwoFactorSettings;","import React, { useState, useEffect } from 'react';\r\nimport './ColorPreferences.css';\r\n\r\nconst ColorPreferences = ({ \r\n  user, \r\n  onSave, \r\n  darkMode \r\n}) => {\r\n  // Available color themes (same as in ProChat)\r\n  const colorThemes = [\r\n    { id: 'blue', name: 'Ocean Blue', bg: '#e3f2fd', border: '#2196f3', accent: '#1976d2' },\r\n    { id: 'purple', name: 'Royal Purple', bg: '#f3e5f5', border: '#9c27b0', accent: '#7b1fa2' },\r\n    { id: 'green', name: 'Forest Green', bg: '#e8f5e8', border: '#4caf50', accent: '#388e3c' },\r\n    { id: 'orange', name: 'Sunset Orange', bg: '#fff3e0', border: '#ff9800', accent: '#f57c00' },\r\n    { id: 'pink', name: 'Rose Pink', bg: '#fce4ec', border: '#e91e63', accent: '#c2185b' },\r\n    { id: 'teal', name: 'Mystic Teal', bg: '#e0f2f1', border: '#009688', accent: '#00695c' },\r\n    { id: 'lightgreen', name: 'Spring Green', bg: '#f1f8e9', border: '#8bc34a', accent: '#689f38' },\r\n    { id: 'indigo', name: 'Deep Indigo', bg: '#e8eaf6', border: '#3f51b5', accent: '#303f9f' },\r\n    { id: 'amber', name: 'Golden Amber', bg: '#fff8e1', border: '#ffc107', accent: '#ffa000' },\r\n    { id: 'peach', name: 'Warm Peach', bg: '#ffeaa7', border: '#fdcb6e', accent: '#e17055' },\r\n    { id: 'coral', name: 'Coral Reef', bg: '#fab1a0', border: '#e17055', accent: '#d63031' },\r\n    { id: 'lavender', name: 'Lavender Dream', bg: '#a29bfe', border: '#6c5ce7', accent: '#5f3dc4' },\r\n  ];\r\n\r\n  const [selectedTheme, setSelectedTheme] = useState(\r\n    user?.preferences?.messageColor || 'auto'\r\n  );\r\n  const [previewMode, setPreviewMode] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  // Get user's auto-assigned color (based on user ID hash)\r\n  const getAutoColor = () => {\r\n    if (!user?.id) return colorThemes[0];\r\n    \r\n    let hash = 0;\r\n    for (let i = 0; i < user.id.toString().length; i++) {\r\n      const char = user.id.toString().charCodeAt(i);\r\n      hash = ((hash << 5) - hash) + char;\r\n      hash = hash & hash;\r\n    }\r\n    \r\n    const colorIndex = Math.abs(hash) % colorThemes.length;\r\n    return colorThemes[colorIndex];\r\n  };\r\n\r\n  const autoColor = getAutoColor();\r\n\r\n  const handleThemeSelect = (themeId) => {\r\n    setSelectedTheme(themeId);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    try {\r\n      const updatedUser = {\r\n        ...user,\r\n        preferences: {\r\n          ...user.preferences,\r\n          messageColor: selectedTheme\r\n        }\r\n      };\r\n      \r\n      // Save to localStorage for persistence\r\n      localStorage.setItem('userColorPreference', selectedTheme);\r\n      \r\n      // Dispatch custom event to notify ProChat of color change\r\n      window.dispatchEvent(new CustomEvent('userColorChanged', { \r\n        detail: { colorTheme: selectedTheme } \r\n      }));\r\n      \r\n      if (onSave) {\r\n        await onSave(updatedUser);\r\n      }\r\n      \r\n      // Show success message\r\n      alert('Color preference saved successfully!');\r\n    } catch (error) {\r\n      console.error('Error saving color preference:', error);\r\n      alert('Failed to save color preference. Please try again.');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setSelectedTheme('auto');\r\n    localStorage.removeItem('userColorPreference');\r\n  };\r\n\r\n  const renderColorPreview = (theme) => {\r\n    const isAuto = theme === 'auto';\r\n    const colorData = isAuto ? autoColor : colorThemes.find(t => t.id === theme);\r\n    \r\n    if (!colorData) return null;\r\n\r\n    return (\r\n      <div \r\n        className=\"color-preview-card\"\r\n        style={{\r\n          backgroundColor: colorData.bg,\r\n          borderLeftColor: colorData.border,\r\n          borderLeftWidth: '4px',\r\n          borderLeftStyle: 'solid'\r\n        }}\r\n      >\r\n        <div className=\"preview-header\">\r\n          <span \r\n            className=\"preview-username\"\r\n            style={{ color: colorData.accent }}\r\n          >\r\n            {user?.name || 'Your Name'}\r\n          </span>\r\n          <span className=\"preview-time\">2:34 PM</span>\r\n        </div>\r\n        <div className=\"preview-message\">\r\n          This is how your messages will look with this color theme! 🎨\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`color-preferences ${darkMode ? 'dark' : ''}`}>\r\n      <div className=\"preferences-header\">\r\n        <h3>Message Card Colors</h3>\r\n        <p>Customize how your messages appear to other users in conversations</p>\r\n      </div>\r\n\r\n      <div className=\"current-preview\">\r\n        <h4>Current Selection Preview</h4>\r\n        {renderColorPreview(selectedTheme)}\r\n      </div>\r\n\r\n      <div className=\"color-options\">\r\n        <h4>Choose Your Color Theme</h4>\r\n        \r\n        <div className=\"color-grid\">\r\n          {/* Auto option */}\r\n          <div \r\n            className={`color-option ${selectedTheme === 'auto' ? 'selected' : ''}`}\r\n            onClick={() => handleThemeSelect('auto')}\r\n          >\r\n            <div \r\n              className=\"color-swatch auto-swatch\"\r\n              style={{\r\n                background: `linear-gradient(45deg, ${autoColor.bg}, ${autoColor.border})`\r\n              }}\r\n            >\r\n              <span className=\"auto-label\">AUTO</span>\r\n            </div>\r\n            <span className=\"color-name\">Auto-Assigned</span>\r\n            <span className=\"color-description\">Based on your unique ID</span>\r\n          </div>\r\n\r\n          {/* Manual color options */}\r\n          {colorThemes.map(theme => (\r\n            <div \r\n              key={theme.id}\r\n              className={`color-option ${selectedTheme === theme.id ? 'selected' : ''}`}\r\n              onClick={() => handleThemeSelect(theme.id)}\r\n            >\r\n              <div \r\n                className=\"color-swatch\"\r\n                style={{\r\n                  backgroundColor: theme.bg,\r\n                  border: `3px solid ${theme.border}`\r\n                }}\r\n              >\r\n                <div \r\n                  className=\"swatch-accent\"\r\n                  style={{ backgroundColor: theme.accent }}\r\n                />\r\n              </div>\r\n              <span className=\"color-name\">{theme.name}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"preferences-actions\">\r\n        <button \r\n          className=\"reset-button\"\r\n          onClick={handleReset}\r\n          disabled={saving}\r\n        >\r\n          Reset to Auto\r\n        </button>\r\n        <button \r\n          className=\"save-button\"\r\n          onClick={handleSave}\r\n          disabled={saving}\r\n        >\r\n          {saving ? 'Saving...' : 'Save Changes'}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"preferences-info\">\r\n        <h4>About Message Colors</h4>\r\n        <ul>\r\n          <li>🎨 <strong>Auto-Assigned:</strong> A unique color is automatically chosen based on your user ID</li>\r\n          <li>🌈 <strong>Custom Colors:</strong> Choose your preferred color theme from our curated palette</li>\r\n          <li>👥 <strong>Consistency:</strong> Your chosen color will appear consistently across all conversations</li>\r\n          <li>🔄 <strong>Live Updates:</strong> Changes are applied immediately to new messages</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ColorPreferences;","import React, { useState, useEffect } from 'react';\r\nimport './NotificationSettings.css';\r\n\r\nconst NotificationSettings = ({ user, darkMode, onUnsavedChanges }) => {\r\n  const [settings, setSettings] = useState({\r\n    // Message Notifications\r\n    messageNotifications: true,\r\n    messageSounds: true,\r\n    messagePreview: true,\r\n    \r\n    // Email Notifications\r\n    emailDigest: true,\r\n    emailNewMessages: false,\r\n    emailSecurityAlerts: true,\r\n    \r\n    // Push Notifications\r\n    pushEnabled: true,\r\n    pushMessages: true,\r\n    pushMentions: true,\r\n    pushGroupActivity: false,\r\n    \r\n    // Do Not Disturb\r\n    dndEnabled: false,\r\n    dndStart: '22:00',\r\n    dndEnd: '08:00',\r\n    dndDays: ['saturday', 'sunday'],\r\n    \r\n    // Advanced\r\n    vibration: true,\r\n    ledFlash: false,\r\n    notificationGrouping: true,\r\n    customTones: false\r\n  });\r\n\r\n  const [hasChanges, setHasChanges] = useState(false);\r\n\r\n  useEffect(() => {\r\n    onUnsavedChanges?.(hasChanges);\r\n  }, [hasChanges, onUnsavedChanges]);\r\n\r\n  const handleSettingChange = (key, value) => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      [key]: value\r\n    }));\r\n    setHasChanges(true);\r\n  };\r\n\r\n  const handleArrayToggle = (key, value) => {\r\n    setSettings(prev => ({\r\n      ...prev,\r\n      [key]: prev[key].includes(value) \r\n        ? prev[key].filter(item => item !== value)\r\n        : [...prev[key], value]\r\n    }));\r\n    setHasChanges(true);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    // Save settings logic here\r\n    console.log('Saving notification settings:', settings);\r\n    setHasChanges(false);\r\n    // Show success message\r\n    const event = new CustomEvent('showToast', {\r\n      detail: { message: 'Notification settings saved!', type: 'success' }\r\n    });\r\n    window.dispatchEvent(event);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    const confirmReset = window.confirm('Reset all notification settings to default?');\r\n    if (confirmReset) {\r\n      setSettings({\r\n        messageNotifications: true,\r\n        messageSounds: true,\r\n        messagePreview: true,\r\n        emailDigest: true,\r\n        emailNewMessages: false,\r\n        emailSecurityAlerts: true,\r\n        pushEnabled: true,\r\n        pushMessages: true,\r\n        pushMentions: true,\r\n        pushGroupActivity: false,\r\n        dndEnabled: false,\r\n        dndStart: '22:00',\r\n        dndEnd: '08:00',\r\n        dndDays: ['saturday', 'sunday'],\r\n        vibration: true,\r\n        ledFlash: false,\r\n        notificationGrouping: true,\r\n        customTones: false\r\n      });\r\n      setHasChanges(true);\r\n    }\r\n  };\r\n\r\n  const ToggleSwitch = ({ checked, onChange, disabled = false }) => (\r\n    <label className={`toggle-switch ${disabled ? 'disabled' : ''}`}>\r\n      <input\r\n        type=\"checkbox\"\r\n        checked={checked}\r\n        onChange={(e) => onChange(e.target.checked)}\r\n        disabled={disabled}\r\n      />\r\n      <span className=\"toggle-slider\"></span>\r\n    </label>\r\n  );\r\n\r\n  const daysOfWeek = [\r\n    { id: 'monday', label: 'Mon' },\r\n    { id: 'tuesday', label: 'Tue' },\r\n    { id: 'wednesday', label: 'Wed' },\r\n    { id: 'thursday', label: 'Thu' },\r\n    { id: 'friday', label: 'Fri' },\r\n    { id: 'saturday', label: 'Sat' },\r\n    { id: 'sunday', label: 'Sun' }\r\n  ];\r\n\r\n  return (\r\n    <div className={`notification-settings ${darkMode ? 'dark' : ''}`}>\r\n      {/* Message Notifications */}\r\n      <div className=\"settings-group\">\r\n        <h3 className=\"group-title\">\r\n          <span className=\"group-icon\">💬</span>\r\n          Message Notifications\r\n        </h3>\r\n        \r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">Enable Message Notifications</label>\r\n            <p className=\"setting-description\">Receive notifications for new messages</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.messageNotifications}\r\n            onChange={(value) => handleSettingChange('messageNotifications', value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">Notification Sounds</label>\r\n            <p className=\"setting-description\">Play sound when receiving messages</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.messageSounds}\r\n            onChange={(value) => handleSettingChange('messageSounds', value)}\r\n            disabled={!settings.messageNotifications}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">Message Preview</label>\r\n            <p className=\"setting-description\">Show message content in notifications</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.messagePreview}\r\n            onChange={(value) => handleSettingChange('messagePreview', value)}\r\n            disabled={!settings.messageNotifications}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Email Notifications */}\r\n      <div className=\"settings-group\">\r\n        <h3 className=\"group-title\">\r\n          <span className=\"group-icon\">📧</span>\r\n          Email Notifications\r\n        </h3>\r\n        \r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">Daily Email Digest</label>\r\n            <p className=\"setting-description\">Daily summary of your activity</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.emailDigest}\r\n            onChange={(value) => handleSettingChange('emailDigest', value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">New Message Emails</label>\r\n            <p className=\"setting-description\">Email notifications for new messages</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.emailNewMessages}\r\n            onChange={(value) => handleSettingChange('emailNewMessages', value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">Security Alerts</label>\r\n            <p className=\"setting-description\">Important security notifications</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.emailSecurityAlerts}\r\n            onChange={(value) => handleSettingChange('emailSecurityAlerts', value)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Push Notifications */}\r\n      <div className=\"settings-group\">\r\n        <h3 className=\"group-title\">\r\n          <span className=\"group-icon\">📱</span>\r\n          Push Notifications\r\n        </h3>\r\n        \r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">Enable Push Notifications</label>\r\n            <p className=\"setting-description\">Receive push notifications on your device</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.pushEnabled}\r\n            onChange={(value) => handleSettingChange('pushEnabled', value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">Message Notifications</label>\r\n            <p className=\"setting-description\">Push notifications for new messages</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.pushMessages}\r\n            onChange={(value) => handleSettingChange('pushMessages', value)}\r\n            disabled={!settings.pushEnabled}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">Mentions & Replies</label>\r\n            <p className=\"setting-description\">When someone mentions or replies to you</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.pushMentions}\r\n            onChange={(value) => handleSettingChange('pushMentions', value)}\r\n            disabled={!settings.pushEnabled}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">Group Activity</label>\r\n            <p className=\"setting-description\">Activity in your groups and channels</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.pushGroupActivity}\r\n            onChange={(value) => handleSettingChange('pushGroupActivity', value)}\r\n            disabled={!settings.pushEnabled}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Do Not Disturb */}\r\n      <div className=\"settings-group\">\r\n        <h3 className=\"group-title\">\r\n          <span className=\"group-icon\">🌙</span>\r\n          Do Not Disturb\r\n        </h3>\r\n        \r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">Enable Do Not Disturb</label>\r\n            <p className=\"setting-description\">Quiet hours with no notifications</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.dndEnabled}\r\n            onChange={(value) => handleSettingChange('dndEnabled', value)}\r\n          />\r\n        </div>\r\n\r\n        {settings.dndEnabled && (\r\n          <>\r\n            <div className=\"setting-item\">\r\n              <div className=\"setting-info\">\r\n                <label className=\"setting-label\">Time Range</label>\r\n                <p className=\"setting-description\">When do not disturb should be active</p>\r\n              </div>\r\n              <div className=\"time-range\">\r\n                <input\r\n                  type=\"time\"\r\n                  value={settings.dndStart}\r\n                  onChange={(e) => handleSettingChange('dndStart', e.target.value)}\r\n                  className=\"time-input\"\r\n                />\r\n                <span className=\"time-separator\">to</span>\r\n                <input\r\n                  type=\"time\"\r\n                  value={settings.dndEnd}\r\n                  onChange={(e) => handleSettingChange('dndEnd', e.target.value)}\r\n                  className=\"time-input\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"setting-item\">\r\n              <div className=\"setting-info\">\r\n                <label className=\"setting-label\">Active Days</label>\r\n                <p className=\"setting-description\">Days when do not disturb is active</p>\r\n              </div>\r\n              <div className=\"days-selector\">\r\n                {daysOfWeek.map((day) => (\r\n                  <button\r\n                    key={day.id}\r\n                    className={`day-btn ${settings.dndDays.includes(day.id) ? 'active' : ''}`}\r\n                    onClick={() => handleArrayToggle('dndDays', day.id)}\r\n                  >\r\n                    {day.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Advanced Settings */}\r\n      <div className=\"settings-group\">\r\n        <h3 className=\"group-title\">\r\n          <span className=\"group-icon\">⚙️</span>\r\n          Advanced\r\n        </h3>\r\n        \r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">Vibration</label>\r\n            <p className=\"setting-description\">Vibrate on notifications</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.vibration}\r\n            onChange={(value) => handleSettingChange('vibration', value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">LED Flash</label>\r\n            <p className=\"setting-description\">Flash LED light for notifications</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.ledFlash}\r\n            onChange={(value) => handleSettingChange('ledFlash', value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"setting-item\">\r\n          <div className=\"setting-info\">\r\n            <label className=\"setting-label\">Group Notifications</label>\r\n            <p className=\"setting-description\">Bundle similar notifications together</p>\r\n          </div>\r\n          <ToggleSwitch\r\n            checked={settings.notificationGrouping}\r\n            onChange={(value) => handleSettingChange('notificationGrouping', value)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"settings-actions\">\r\n        <button className=\"settings-btn secondary\" onClick={handleReset}>\r\n          Reset to Default\r\n        </button>\r\n        <button \r\n          className={`settings-btn primary ${hasChanges ? 'has-changes' : ''}`}\r\n          onClick={handleSave}\r\n          disabled={!hasChanges}\r\n        >\r\n          {hasChanges ? 'Save Changes' : 'All Saved'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationSettings;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport EnhancedProfile from '../Profile/EnhancedProfile';\r\nimport UserAnalytics from './UserAnalytics';\r\nimport TwoFactorSettings from '../TwoFactorAuth/TwoFactorSettings';\r\nimport ColorPreferences from '../Profile/ColorPreferences';\r\nimport NotificationSettings from './NotificationSettings';\r\nimport './SettingsModal.css';\r\n\r\nconst SettingsModal = ({ \r\n  isOpen, \r\n  onClose, \r\n  initialSection = 'profile',\r\n  user,\r\n  onSaveProfile,\r\n  darkMode\r\n}) => {\r\n  const [activeSection, setActiveSection] = useState(initialSection);\r\n  const [isAnimating, setIsAnimating] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\r\n  const [focusedItemIndex, setFocusedItemIndex] = useState(-1);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loadingMessage, setLoadingMessage] = useState('');\r\n\r\n  // Section configuration with icons and descriptions\r\n  const sections = [\r\n    {\r\n      id: 'profile',\r\n      title: 'Profile',\r\n      icon: '👤',\r\n      description: 'Manage your profile information and avatar',\r\n      keywords: ['profile', 'avatar', 'personal', 'info', 'photo', 'name', 'email'],\r\n      badge: null\r\n    },\r\n    {\r\n      id: 'preferences',\r\n      title: 'Preferences',\r\n      icon: '🎨',\r\n      description: 'Customize your experience and appearance',\r\n      keywords: ['preferences', 'appearance', 'theme', 'colors', 'customization', 'ui'],\r\n      badge: 'NEW'\r\n    },\r\n    {\r\n      id: 'notifications',\r\n      title: 'Notifications',\r\n      icon: '🔔',\r\n      description: 'Control how you receive notifications',\r\n      keywords: ['notifications', 'alerts', 'sounds', 'email', 'push', 'messages'],\r\n      badge: null\r\n    },\r\n    {\r\n      id: 'privacy',\r\n      title: 'Privacy & Security',\r\n      icon: '🔒',\r\n      description: 'Security settings and two-factor authentication',\r\n      keywords: ['privacy', 'security', '2fa', 'password', 'authentication', 'protection'],\r\n      badge: null\r\n    },\r\n    {\r\n      id: 'analytics',\r\n      title: 'Analytics',\r\n      icon: '📊',\r\n      description: 'View your usage statistics and insights',\r\n      keywords: ['analytics', 'statistics', 'usage', 'insights', 'data', 'metrics'],\r\n      badge: null\r\n    }\r\n  ];\r\n\r\n  // Filter sections based on search with enhanced keyword matching\r\n  const filteredSections = sections.filter(section => {\r\n    const query = searchQuery.toLowerCase();\r\n    return (\r\n      section.title.toLowerCase().includes(query) ||\r\n      section.description.toLowerCase().includes(query) ||\r\n      section.keywords.some(keyword => keyword.includes(query))\r\n    );\r\n  });\r\n\r\n  // Enhanced search suggestions\r\n  const getSearchSuggestions = () => {\r\n    if (!searchQuery) return [];\r\n    \r\n    const allKeywords = sections.flatMap(section => \r\n      section.keywords.map(keyword => ({\r\n        keyword,\r\n        section: section.title,\r\n        sectionId: section.id\r\n      }))\r\n    );\r\n    \r\n    return allKeywords\r\n      .filter(item => item.keyword.includes(searchQuery.toLowerCase()))\r\n      .slice(0, 5);\r\n  };\r\n\r\n  // Update active section when initialSection prop changes\r\n  useEffect(() => {\r\n    setActiveSection(initialSection);\r\n  }, [initialSection]);\r\n\r\n  // Handle section change with animation\r\n  const handleSectionChange = useCallback((sectionId) => {\r\n    if (sectionId === activeSection) return;\r\n    \r\n    setIsAnimating(true);\r\n    setIsLoading(true);\r\n    setLoadingMessage(`Loading ${sections.find(s => s.id === sectionId)?.title || 'section'}...`);\r\n    \r\n    setTimeout(() => {\r\n      setActiveSection(sectionId);\r\n      setIsAnimating(false);\r\n      setIsLoading(false);\r\n      setLoadingMessage('');\r\n    }, 150);\r\n  }, [activeSection, sections]);\r\n\r\n  // Close on escape key and manage body scroll\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n    \r\n    // Lock body scroll when modal is open\r\n    const originalOverflow = document.body.style.overflow;\r\n    document.body.style.overflow = 'hidden';\r\n    \r\n    const handleKeyDown = (e) => {\r\n      switch (e.key) {\r\n        case 'Escape':\r\n          if (hasUnsavedChanges) {\r\n            const confirmClose = window.confirm('You have unsaved changes. Are you sure you want to close?');\r\n            if (!confirmClose) return;\r\n          }\r\n          setHasUnsavedChanges(false);\r\n          onClose();\r\n          break;\r\n          \r\n        case 'ArrowDown':\r\n          if (e.target.closest('.settings-navigation')) {\r\n            e.preventDefault();\r\n            setFocusedItemIndex(prev => \r\n              prev < filteredSections.length - 1 ? prev + 1 : 0\r\n            );\r\n          }\r\n          break;\r\n          \r\n        case 'ArrowUp':\r\n          if (e.target.closest('.settings-navigation')) {\r\n            e.preventDefault();\r\n            setFocusedItemIndex(prev => \r\n              prev > 0 ? prev - 1 : filteredSections.length - 1\r\n            );\r\n          }\r\n          break;\r\n          \r\n        case 'Enter':\r\n          if (focusedItemIndex >= 0 && filteredSections[focusedItemIndex]) {\r\n            e.preventDefault();\r\n            handleSectionChange(filteredSections[focusedItemIndex].id);\r\n            setFocusedItemIndex(-1);\r\n          }\r\n          break;\r\n          \r\n        case '/':\r\n          if (e.ctrlKey || e.metaKey) {\r\n            e.preventDefault();\r\n            document.querySelector('.search-input')?.focus();\r\n          }\r\n          break;\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('keydown', handleKeyDown);\r\n    \r\n    return () => {\r\n      // Restore body scroll when modal closes\r\n      document.body.style.overflow = originalOverflow;\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [isOpen, hasUnsavedChanges, onClose, focusedItemIndex, filteredSections, handleSectionChange]);\r\n\r\n  // Handle close with unsaved changes warning\r\n  const handleClose = useCallback((e) => {\r\n    // Only close if clicking the overlay, not its children\r\n    if (e && e.target !== e.currentTarget) return;\r\n    \r\n    if (hasUnsavedChanges) {\r\n      const confirmClose = window.confirm('You have unsaved changes. Are you sure you want to close?');\r\n      if (!confirmClose) return;\r\n    }\r\n    setHasUnsavedChanges(false);\r\n    onClose();\r\n  }, [hasUnsavedChanges, onClose]);\r\n\r\n  // Force close (for close button)\r\n  const handleForceClose = useCallback(() => {\r\n    if (hasUnsavedChanges) {\r\n      const confirmClose = window.confirm('You have unsaved changes. Are you sure you want to close?');\r\n      if (!confirmClose) return;\r\n    }\r\n    setHasUnsavedChanges(false);\r\n    onClose();\r\n  }, [hasUnsavedChanges, onClose]);\r\n\r\n  // Enhanced quick actions with more functionality\r\n  const quickActions = [\r\n    {\r\n      title: 'Export Data',\r\n      icon: '💾',\r\n      action: () => {\r\n        setIsLoading(true);\r\n        setLoadingMessage('Preparing data export...');\r\n        setTimeout(() => {\r\n          // Simulate data export\r\n          const data = { user, settings: 'mock data' };\r\n          const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\r\n          const url = URL.createObjectURL(blob);\r\n          const a = document.createElement('a');\r\n          a.href = url;\r\n          a.download = `quibish-data-${new Date().toISOString().split('T')[0]}.json`;\r\n          a.click();\r\n          URL.revokeObjectURL(url);\r\n          setIsLoading(false);\r\n          setLoadingMessage('');\r\n        }, 1500);\r\n      },\r\n      description: 'Download your account data'\r\n    },\r\n    {\r\n      title: 'Reset Settings',\r\n      icon: '🔄',\r\n      action: () => {\r\n        if (window.confirm('Are you sure you want to reset all settings to default? This cannot be undone.')) {\r\n          setIsLoading(true);\r\n          setLoadingMessage('Resetting settings...');\r\n          setTimeout(() => {\r\n            localStorage.removeItem('quibish-settings');\r\n            setIsLoading(false);\r\n            setLoadingMessage('');\r\n            window.location.reload();\r\n          }, 1000);\r\n        }\r\n      },\r\n      description: 'Reset all settings to default'\r\n    },\r\n    {\r\n      title: 'Import Settings',\r\n      icon: '📥',\r\n      action: () => {\r\n        const input = document.createElement('input');\r\n        input.type = 'file';\r\n        input.accept = '.json';\r\n        input.onchange = (e) => {\r\n          const file = e.target.files[0];\r\n          if (file) {\r\n            setIsLoading(true);\r\n            setLoadingMessage('Importing settings...');\r\n            const reader = new FileReader();\r\n            reader.onload = (e) => {\r\n              try {\r\n                const settings = JSON.parse(e.target.result);\r\n                localStorage.setItem('quibish-settings', JSON.stringify(settings));\r\n                setTimeout(() => {\r\n                  setIsLoading(false);\r\n                  setLoadingMessage('');\r\n                  alert('Settings imported successfully!');\r\n                }, 1000);\r\n              } catch (error) {\r\n                setIsLoading(false);\r\n                setLoadingMessage('');\r\n                alert('Invalid settings file format.');\r\n              }\r\n            };\r\n            reader.readAsText(file);\r\n          }\r\n        };\r\n        input.click();\r\n      },\r\n      description: 'Import settings from file'\r\n    },\r\n    {\r\n      title: 'Contact Support',\r\n      icon: '💬',\r\n      action: () => {\r\n        window.open('mailto:support@quibish.com?subject=Settings Support Request', '_blank');\r\n      },\r\n      description: 'Get help with your account'\r\n    }\r\n  ];\r\n\r\n  if (!isOpen) return null;\r\n  \r\n  // Prevent click events from bubbling up to the overlay\r\n  const handleContentClick = (e) => {\r\n    e.stopPropagation();\r\n  };\r\n\r\n  // Get current section info\r\n  const currentSection = sections.find(s => s.id === activeSection) || sections[0];\r\n  \r\n  // Render the active section content\r\n  const renderSectionContent = () => {\r\n    const content = (() => {\r\n      switch (activeSection) {\r\n        case 'profile':\r\n          return (\r\n            <div className=\"enhanced-profile-container\">\r\n              <div className=\"section-header\">\r\n                <h2>\r\n                  <span className=\"section-icon\">{currentSection.icon}</span>\r\n                  {currentSection.title}\r\n                </h2>\r\n                <p>{currentSection.description}</p>\r\n              </div>\r\n              <EnhancedProfile \r\n                user={user}\r\n                onUpdate={onSaveProfile}\r\n                onClose={onClose}\r\n                darkMode={darkMode}\r\n                onUnsavedChanges={setHasUnsavedChanges}\r\n              />\r\n            </div>\r\n          );\r\n        case 'analytics':\r\n          return (\r\n            <div className=\"settings-section\">\r\n              <div className=\"section-header\">\r\n                <h2>\r\n                  <span className=\"section-icon\">{currentSection.icon}</span>\r\n                  {currentSection.title}\r\n                </h2>\r\n                <p>{currentSection.description}</p>\r\n              </div>\r\n              <UserAnalytics userId={user?.id} darkMode={darkMode} />\r\n            </div>\r\n          );\r\n        case 'preferences':\r\n          return (\r\n            <div className=\"settings-section\">\r\n              <div className=\"section-header\">\r\n                <h2>\r\n                  <span className=\"section-icon\">{currentSection.icon}</span>\r\n                  {currentSection.title}\r\n                </h2>\r\n                <p>{currentSection.description}</p>\r\n                {currentSection.badge && (\r\n                  <span className=\"section-badge\">{currentSection.badge}</span>\r\n                )}\r\n              </div>\r\n              <ColorPreferences \r\n                user={user}\r\n                onSave={onSaveProfile}\r\n                darkMode={darkMode}\r\n                onUnsavedChanges={setHasUnsavedChanges}\r\n              />\r\n            </div>\r\n          );\r\n        case 'notifications':\r\n          return (\r\n            <div className=\"settings-section\">\r\n              <div className=\"section-header\">\r\n                <h2>\r\n                  <span className=\"section-icon\">{currentSection.icon}</span>\r\n                  {currentSection.title}\r\n                </h2>\r\n                <p>{currentSection.description}</p>\r\n              </div>\r\n              <NotificationSettings \r\n                user={user}\r\n                darkMode={darkMode}\r\n                onUnsavedChanges={setHasUnsavedChanges}\r\n              />\r\n            </div>\r\n          );\r\n        case 'privacy':\r\n          return (\r\n            <div className=\"settings-section\">\r\n              <div className=\"section-header\">\r\n                <h2>\r\n                  <span className=\"section-icon\">{currentSection.icon}</span>\r\n                  {currentSection.title}\r\n                </h2>\r\n                <p>{currentSection.description}</p>\r\n              </div>\r\n              <TwoFactorSettings onUnsavedChanges={setHasUnsavedChanges} />\r\n            </div>\r\n          );\r\n        default:\r\n          return (\r\n            <div className=\"settings-section\">\r\n              <div className=\"section-header\">\r\n                <h2>\r\n                  <span className=\"section-icon\">⚙️</span>\r\n                  Settings\r\n                </h2>\r\n                <p>Select a section from the navigation above.</p>\r\n              </div>\r\n            </div>\r\n          );\r\n      }\r\n    })();\r\n\r\n    return (\r\n      <div className={`section-content ${isAnimating ? 'animating' : ''}`}>\r\n        {content}\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  return (\r\n    <div className=\"settings-modal-overlay\" onClick={handleClose}>\r\n      <div className={`settings-modal ${darkMode ? 'dark' : ''}`} onClick={handleContentClick}>\r\n        {/* Loading Overlay */}\r\n        {isLoading && (\r\n          <div className=\"loading-overlay\">\r\n            <div className=\"loading-spinner\"></div>\r\n            <div className=\"loading-message\">{loadingMessage}</div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Enhanced Header */}\r\n        <div className=\"settings-modal-header\">\r\n          <div className=\"header-content\">\r\n            <div className=\"header-main\">\r\n              <h2 className=\"settings-modal-title\">\r\n                <span className=\"title-icon\">⚙️</span>\r\n                Settings\r\n              </h2>\r\n              <p className=\"settings-subtitle\">Customize your Quibish experience</p>\r\n            </div>\r\n            <div className=\"header-actions\">\r\n              {hasUnsavedChanges && (\r\n                <div className=\"unsaved-indicator\" title=\"You have unsaved changes\">\r\n                  <div className=\"indicator-dot\"></div>\r\n                  <span>Unsaved</span>\r\n                </div>\r\n              )}\r\n              <button className=\"settings-modal-close\" onClick={handleForceClose} aria-label=\"Close settings\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n                  <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Search Bar */}\r\n          <div className=\"settings-search\">\r\n            <div className=\"search-input-container\">\r\n              <svg className=\"search-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\r\n                <path d=\"m21 21-4.35-4.35\"></path>\r\n              </svg>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search settings... (Ctrl+/ to focus)\"\r\n                value={searchQuery}\r\n                onChange={(e) => {\r\n                  setSearchQuery(e.target.value);\r\n                  setFocusedItemIndex(-1);\r\n                }}\r\n                className=\"search-input\"\r\n                autoComplete=\"off\"\r\n              />\r\n              {searchQuery && (\r\n                <button \r\n                  className=\"search-clear\"\r\n                  onClick={() => {\r\n                    setSearchQuery('');\r\n                    setFocusedItemIndex(-1);\r\n                  }}\r\n                  aria-label=\"Clear search\"\r\n                >\r\n                  ×\r\n                </button>\r\n              )}\r\n            </div>\r\n            \r\n            {/* Search Suggestions */}\r\n            {searchQuery && getSearchSuggestions().length > 0 && (\r\n              <div className=\"search-suggestions\">\r\n                <div className=\"suggestions-title\">Suggestions:</div>\r\n                <div className=\"suggestions-list\">\r\n                  {getSearchSuggestions().map((suggestion, index) => (\r\n                    <button\r\n                      key={`${suggestion.sectionId}-${suggestion.keyword}`}\r\n                      className=\"suggestion-item\"\r\n                      onClick={() => {\r\n                        handleSectionChange(suggestion.sectionId);\r\n                        setSearchQuery('');\r\n                        setFocusedItemIndex(-1);\r\n                      }}\r\n                    >\r\n                      <span className=\"suggestion-keyword\">{suggestion.keyword}</span>\r\n                      <span className=\"suggestion-section\">in {suggestion.section}</span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Main Content Area */}\r\n        <div className=\"settings-modal-content\">\r\n          {/* Navigation Sidebar */}\r\n          <div className=\"settings-navigation\">\r\n            {/* Search Results Info */}\r\n            {searchQuery && (\r\n              <div className=\"search-results-info\">\r\n                <small>{filteredSections.length} results for \"{searchQuery}\"</small>\r\n                {filteredSections.length === 0 && (\r\n                  <p className=\"no-results\">No settings found. Try a different search term.</p>\r\n                )}\r\n              </div>\r\n            )}\r\n            \r\n            {filteredSections.length > 0 && (\r\n              <>\r\n                <div className=\"navigation-section\">\r\n                  <h3 className=\"section-title\">User Settings</h3>\r\n                  <ul className=\"navigation-items\">\r\n                    {filteredSections.filter(s => ['profile', 'preferences'].includes(s.id)).map((section, index) => (\r\n                      <li key={section.id} className={`navigation-item ${activeSection === section.id ? 'active' : ''} ${focusedItemIndex === index ? 'focused' : ''}`}>\r\n                        <button \r\n                          onClick={() => handleSectionChange(section.id)} \r\n                          aria-label={`Go to ${section.title} settings`}\r\n                          onFocus={() => setFocusedItemIndex(index)}\r\n                          onBlur={() => setFocusedItemIndex(-1)}\r\n                        >\r\n                          <span className=\"nav-icon\" role=\"img\" aria-label={section.title}>{section.icon}</span>\r\n                          <div className=\"nav-content\">\r\n                            <div className=\"nav-title\">{section.title}</div>\r\n                            <p className=\"nav-description\">{section.description}</p>\r\n                          </div>\r\n                          {section.badge && (\r\n                            <span className=\"nav-badge\">{section.badge}</span>\r\n                          )}\r\n                        </button>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n                \r\n                <div className=\"navigation-section\">\r\n                  <h3 className=\"section-title\">System & Security</h3>\r\n                  <ul className=\"navigation-items\">\r\n                    {filteredSections.filter(s => ['notifications', 'privacy', 'analytics'].includes(s.id)).map((section, index) => {\r\n                      const adjustedIndex = index + filteredSections.filter(s => ['profile', 'preferences'].includes(s.id)).length;\r\n                      return (\r\n                        <li key={section.id} className={`navigation-item ${activeSection === section.id ? 'active' : ''} ${focusedItemIndex === adjustedIndex ? 'focused' : ''}`}>\r\n                          <button \r\n                            onClick={() => handleSectionChange(section.id)} \r\n                            aria-label={`Go to ${section.title} settings`}\r\n                            onFocus={() => setFocusedItemIndex(adjustedIndex)}\r\n                            onBlur={() => setFocusedItemIndex(-1)}\r\n                          >\r\n                            <span className=\"nav-icon\" role=\"img\" aria-label={section.title}>{section.icon}</span>\r\n                            <div className=\"nav-content\">\r\n                              <div className=\"nav-title\">{section.title}</div>\r\n                              <p className=\"nav-description\">{section.description}</p>\r\n                            </div>\r\n                            {section.badge && (\r\n                              <span className=\"nav-badge\">{section.badge}</span>\r\n                            )}\r\n                          </button>\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              </>\r\n            )}\r\n            \r\n            {/* Enhanced Quick Actions */}\r\n            <div className=\"quick-actions\">\r\n              <h4>Quick Actions</h4>\r\n              <div className=\"quick-action-buttons\">\r\n                {quickActions.map((action, index) => (\r\n                  <button\r\n                    key={index}\r\n                    className=\"quick-action-button\"\r\n                    onClick={action.action}\r\n                    title={action.title}\r\n                    aria-label={action.description}\r\n                    data-tooltip={action.title}\r\n                  >\r\n                    <span className=\"action-icon\" role=\"img\">{action.icon}</span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              \r\n              {/* Current Section Breadcrumb */}\r\n              <div className=\"current-section-info\">\r\n                <div className=\"breadcrumb\">\r\n                  <span className=\"breadcrumb-home\">Settings</span>\r\n                  <span className=\"breadcrumb-separator\">›</span>\r\n                  <span className=\"breadcrumb-current\">{currentSection.title}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Content Area */}\r\n          <div className=\"settings-content\">\r\n            <div className=\"content-wrapper\">\r\n              {renderSectionContent()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Footer */}\r\n        <div className=\"settings-modal-footer\">\r\n          <div className=\"footer-info\">\r\n            <span className=\"app-version\">Quibish v2.0.0</span>\r\n            <span>Logged in as {user?.name || 'User'}</span>\r\n          </div>\r\n          <div className=\"footer-actions\">\r\n            <button className=\"footer-button\" onClick={() => setSearchQuery('')}>\r\n              Reset Search\r\n            </button>\r\n            <button className=\"footer-button primary\" onClick={handleClose}>\r\n              Done\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsModal;\r\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\r\n * WebSocket Service for Quibish\r\n * Handles real-time communication with server\r\n */\r\n\r\n// Configuration\r\nconst WS_CONFIG = {\r\n  URL: process.env.REACT_APP_WS_URL || 'ws://localhost:5001/ws',\r\n  RECONNECT_ATTEMPTS: parseInt(process.env.REACT_APP_WS_RECONNECT_ATTEMPTS) || 5,\r\n  RECONNECT_DELAY: parseInt(process.env.REACT_APP_WS_RECONNECT_DELAY) || 3000,\r\n  RECONNECT_INTERVAL_MS: 2000,\r\n  MAX_RECONNECT_DELAY_MS: 30000,\r\n  PING_INTERVAL_MS: 30000,\r\n  PONG_TIMEOUT_MS: 10000,\r\n  CONNECTION_TIMEOUT_MS: 15000\r\n};\r\n\r\nclass WebSocketService {\r\n  constructor() {\r\n    this.socket = null;\r\n    this.listeners = new Map();\r\n    this.connectionListeners = [];\r\n    this.reconnectAttempts = 0;\r\n    this.reconnectTimer = null;\r\n    this.pingTimer = null;\r\n    this.pongTimer = null;\r\n    this.connectionTimer = null;\r\n    this.isConnected = false;\r\n    this.isConnecting = false;\r\n    this.intentionallyClosed = false;\r\n    this.lastPingSent = null;\r\n    this.lastPongReceived = null;\r\n    this.pingHistory = []; // Store last 5 ping times\r\n    this.connectionMetrics = {\r\n      latency: 0,\r\n      stability: 100, // 0-100 scale\r\n      disconnects: 0,\r\n      lastConnectionTime: null,\r\n      reconnectAttempts: 0,\r\n      failedPings: 0\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Connect to WebSocket server\r\n   */\r\n  connect() {\r\n    // Don't try to connect if already connecting or connected\r\n    if (this.isConnecting || this.isConnected) return;\r\n    \r\n    // Clear intentionally closed flag to allow connection\r\n    this.intentionallyClosed = false;\r\n    \r\n    this.isConnecting = true;\r\n    \r\n    // If no URL is configured, skip connecting (useful for local dev without WS)\r\n    if (!WS_CONFIG.URL) {\r\n      console.info('WebSocket URL not configured; skipping connection');\r\n      this.isConnecting = false;\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      // Create new WebSocket connection\r\n      this.socket = new WebSocket(WS_CONFIG.URL);\r\n      \r\n      // Set connection timeout\r\n      if (this.connectionTimer) {\r\n        clearTimeout(this.connectionTimer);\r\n      }\r\n      \r\n      this.connectionTimer = setTimeout(() => {\r\n        if (!this.isConnected) {\r\n          console.warn('WebSocket connection timeout');\r\n          if (this.socket) {\r\n            this.socket.close();\r\n          }\r\n          this.handleDisconnect(new Error('Connection timeout'));\r\n        }\r\n      }, WS_CONFIG.CONNECTION_TIMEOUT_MS);\r\n\r\n      // Configure WebSocket event handlers\r\n      this.socket.onopen = this.handleOpen.bind(this);\r\n      this.socket.onmessage = this.handleMessage.bind(this);\r\n      this.socket.onerror = this.handleError.bind(this);\r\n      this.socket.onclose = this.handleClose.bind(this);\r\n    } catch (error) {\r\n      console.error('WebSocket connection error:', error);\r\n      this.handleDisconnect(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Disconnect from WebSocket server\r\n   * @param {boolean} intentional - Whether the disconnect was intentional\r\n   */\r\n  disconnect(intentional = true) {\r\n    this.intentionallyClosed = intentional;\r\n    this.clearTimers();\r\n    \r\n    if (this.socket) {\r\n      try {\r\n        this.socket.close();\r\n      } catch (error) {\r\n        console.error('Error closing WebSocket:', error);\r\n      }\r\n      this.socket = null;\r\n    }\r\n    \r\n    if (this.isConnected) {\r\n      this.isConnected = false;\r\n      this.notifyConnectionChange(false, { reason: intentional ? 'User disconnected' : 'Connection closed' });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Reconnect to WebSocket server\r\n   * @returns {Promise<boolean>} - Whether reconnection was successful\r\n   */\r\n  async reconnect() {\r\n    console.log(\"Manual reconnection initiated\");\r\n    \r\n    // Reset connection state\r\n    this.intentionallyClosed = false;\r\n    this.isConnected = false;\r\n    this.isConnecting = false;\r\n    \r\n    // Clear any existing timers\r\n    this.clearTimers();\r\n    \r\n    // Close existing socket if any\r\n    if (this.socket) {\r\n      try {\r\n        this.socket.close();\r\n      } catch (error) {\r\n        console.error('Error closing previous WebSocket connection:', error);\r\n      }\r\n      this.socket = null;\r\n    }\r\n    \r\n    // Return promise that resolves when connected or rejects on timeout\r\n    return new Promise((resolve, reject) => {\r\n      // Set up connection listener before connecting\r\n      const tempListener = (connected) => {\r\n        if (connected) {\r\n          clearTimeout(timeoutId);\r\n          this.removeConnectionListener(tempListener);\r\n          this.reconnectAttempts = 0; // Reset reconnect attempts on successful manual reconnect\r\n          resolve(true);\r\n        }\r\n      };\r\n      \r\n      this.addConnectionListener(tempListener);\r\n      \r\n      // Set timeout\r\n      const timeoutId = setTimeout(() => {\r\n        this.removeConnectionListener(tempListener);\r\n        reject(new Error('Reconnection timeout'));\r\n      }, WS_CONFIG.CONNECTION_TIMEOUT_MS * 1.5); // Allow a bit more time for manual reconnects\r\n      \r\n      // Connect anew\r\n      this.connect();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle successful WebSocket connection\r\n   */\r\n  handleOpen() {\r\n    console.log('WebSocket connected');\r\n    this.isConnected = true;\r\n    this.isConnecting = false;\r\n    this.reconnectAttempts = 0;\r\n    this.intentionallyClosed = false;\r\n    this.connectionMetrics.lastConnectionTime = new Date();\r\n    \r\n    // Clear connection timeout\r\n    if (this.connectionTimer) {\r\n      clearTimeout(this.connectionTimer);\r\n      this.connectionTimer = null;\r\n    }\r\n    \r\n    // Start ping interval\r\n    this.startPingInterval();\r\n    \r\n    // Notify listeners\r\n    this.notifyConnectionChange(true, { reconnected: this.connectionMetrics.disconnects > 0 });\r\n  }\r\n\r\n  /**\r\n   * Handle incoming WebSocket message\r\n   * @param {MessageEvent} event - WebSocket message event\r\n   */\r\n  handleMessage(event) {\r\n    try {\r\n      const data = JSON.parse(event.data);\r\n      \r\n      // Handle special system messages\r\n      if (data.type === 'pong') {\r\n        this.handlePong(data);\r\n        return;\r\n      }\r\n      \r\n      // Handle regular messages by notifying appropriate listeners\r\n      if (data.type && this.listeners.has(data.type)) {\r\n        this.listeners.get(data.type).forEach(callback => {\r\n          try {\r\n            callback(data.payload);\r\n          } catch (error) {\r\n            console.error(`Error in ${data.type} event handler:`, error);\r\n          }\r\n        });\r\n      }\r\n      \r\n      // Also notify \"all\" listeners\r\n      if (this.listeners.has('all')) {\r\n        this.listeners.get('all').forEach(callback => {\r\n          try {\r\n            callback(data);\r\n          } catch (error) {\r\n            console.error('Error in \"all\" event handler:', error);\r\n          }\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error parsing WebSocket message:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle WebSocket errors\r\n   * @param {Event} event - WebSocket error event\r\n   */\r\n  handleError(event) {\r\n    console.error('WebSocket error:', event);\r\n    this.connectionMetrics.stability = Math.max(0, this.connectionMetrics.stability - 10);\r\n    \r\n    // Let onclose handle reconnection\r\n  }\r\n\r\n  /**\r\n   * Handle WebSocket connection close\r\n   * @param {CloseEvent} event - WebSocket close event\r\n   */\r\n  handleClose(event) {\r\n    // Log close event details\r\n    const reason = event.reason || 'No reason provided';\r\n    const code = event.code;\r\n    console.log(`WebSocket closed: [${code}] ${reason}`);\r\n    \r\n    this.handleDisconnect(new Error(`Connection closed: [${code}] ${reason}`));\r\n  }\r\n\r\n  /**\r\n   * Handle disconnection (from any source)\r\n   * @param {Error} error - Error that caused disconnection\r\n   */\r\n  handleDisconnect(error) {\r\n    // Check if we're actually connected before processing disconnect\r\n    if (!this.isConnected && !this.isConnecting) {\r\n      return; // Already disconnected\r\n    }\r\n    \r\n    this.isConnected = false;\r\n    this.isConnecting = false;\r\n    this.connectionMetrics.disconnects++;\r\n    this.clearTimers();\r\n    \r\n    // Make sure socket is closed\r\n    if (this.socket) {\r\n      try {\r\n        this.socket.close();\r\n      } catch (err) {\r\n        console.error(\"Error closing socket during disconnect:\", err);\r\n      }\r\n      this.socket = null;\r\n    }\r\n    \r\n    // Notify connection state change\r\n    this.notifyConnectionChange(false, { \r\n      reason: error?.message || 'Connection lost',\r\n      reconnecting: !this.intentionallyClosed,\r\n      code: error.code\r\n    });\r\n    \r\n    // Don't reconnect if intentionally closed\r\n    if (this.intentionallyClosed) {\r\n      console.log(\"Not reconnecting because connection was intentionally closed\");\r\n      return;\r\n    }\r\n    \r\n    // Schedule reconnect with exponential backoff\r\n    this.reconnectAttempts++;\r\n    this.connectionMetrics.reconnectAttempts = this.reconnectAttempts;\r\n    \r\n    // Calculate backoff time\r\n    const delay = Math.min(\r\n      WS_CONFIG.RECONNECT_INTERVAL_MS * Math.pow(1.5, this.reconnectAttempts - 1),\r\n      WS_CONFIG.MAX_RECONNECT_DELAY_MS\r\n    );\r\n    \r\n    // Add jitter to prevent all clients reconnecting simultaneously\r\n    const jitter = Math.random() * 1000;\r\n    const reconnectDelay = delay + jitter;\r\n    \r\n    console.log(`Scheduling reconnect attempt in ${Math.round(reconnectDelay/1000)}s (attempt ${this.reconnectAttempts})`);\r\n    \r\n    // Clear any existing reconnect timer\r\n    if (this.reconnectTimer) {\r\n      clearTimeout(this.reconnectTimer);\r\n    }\r\n    \r\n    this.reconnectTimer = setTimeout(() => {\r\n      console.log(`Reconnecting (attempt ${this.reconnectAttempts})...`);\r\n      this.connect();\r\n    }, reconnectDelay);\r\n  }\r\n\r\n  /**\r\n   * Send ping to server and wait for pong\r\n   */\r\n  ping() {\r\n    if (!this.isConnected || !this.socket) return;\r\n    \r\n    try {\r\n      const pingTime = Date.now();\r\n      this.lastPingSent = pingTime;\r\n      \r\n      this.send('ping', { time: pingTime });\r\n      \r\n      // Start pong timeout\r\n      this.pongTimer = setTimeout(() => {\r\n        console.warn('WebSocket pong timeout');\r\n        this.connectionMetrics.failedPings++;\r\n        this.connectionMetrics.stability = Math.max(0, this.connectionMetrics.stability - 5);\r\n        \r\n        // After 3 consecutive failed pings, consider connection dead\r\n        if (this.connectionMetrics.failedPings >= 3) {\r\n          console.error('Multiple ping failures, reconnecting...');\r\n          this.socket.close();\r\n          this.handleDisconnect(new Error('Ping timeout'));\r\n        }\r\n      }, WS_CONFIG.PONG_TIMEOUT_MS);\r\n    } catch (error) {\r\n      console.error('Error sending ping:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle pong response from server\r\n   * @param {Object} data - Pong message data\r\n   */\r\n  handlePong(data) {\r\n    // Clear pong timeout\r\n    if (this.pongTimer) {\r\n      clearTimeout(this.pongTimer);\r\n      this.pongTimer = null;\r\n    }\r\n    \r\n    // Calculate latency\r\n    if (this.lastPingSent && data.pingTime) {\r\n      const latency = Date.now() - this.lastPingSent;\r\n      \r\n      // Update connection metrics\r\n      this.connectionMetrics.latency = latency;\r\n      this.lastPongReceived = Date.now();\r\n      this.connectionMetrics.failedPings = 0;\r\n      \r\n      // Store in history (keep last 5)\r\n      this.pingHistory.push(latency);\r\n      if (this.pingHistory.length > 5) {\r\n        this.pingHistory.shift();\r\n      }\r\n      \r\n      // Update stability based on latency trend\r\n      this.updateStabilityMetric();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Start ping interval\r\n   */\r\n  startPingInterval() {\r\n    // Clear any existing ping timer\r\n    if (this.pingTimer) {\r\n      clearInterval(this.pingTimer);\r\n    }\r\n    \r\n    // Start new ping interval\r\n    this.pingTimer = setInterval(() => {\r\n      this.ping();\r\n    }, WS_CONFIG.PING_INTERVAL_MS);\r\n  }\r\n\r\n  /**\r\n   * Clear all timers\r\n   */\r\n  clearTimers() {\r\n    if (this.connectionTimer) {\r\n      clearTimeout(this.connectionTimer);\r\n      this.connectionTimer = null;\r\n    }\r\n    \r\n    if (this.reconnectTimer) {\r\n      clearTimeout(this.reconnectTimer);\r\n      this.reconnectTimer = null;\r\n    }\r\n    \r\n    if (this.pingTimer) {\r\n      clearInterval(this.pingTimer);\r\n      this.pingTimer = null;\r\n    }\r\n    \r\n    if (this.pongTimer) {\r\n      clearTimeout(this.pongTimer);\r\n      this.pongTimer = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update connection stability metric based on ping history\r\n   */\r\n  updateStabilityMetric() {\r\n    if (this.pingHistory.length < 2) return;\r\n    \r\n    // Calculate average latency\r\n    const avgLatency = this.pingHistory.reduce((sum, ping) => sum + ping, 0) / this.pingHistory.length;\r\n    \r\n    // Calculate latency variance\r\n    const variance = this.pingHistory.reduce((sum, ping) => sum + Math.pow(ping - avgLatency, 2), 0) / this.pingHistory.length;\r\n    \r\n    // High variance means unstable connection\r\n    const normalizedVariance = Math.min(variance / 10000, 1);\r\n    \r\n    // High latency affects stability\r\n    const latencyFactor = Math.min(avgLatency / 1000, 1);\r\n    \r\n    // Combine factors with weights\r\n    const stabilityRaw = 100 - (normalizedVariance * 50) - (latencyFactor * 30);\r\n    \r\n    // Apply smoothing with previous value (30% new, 70% old)\r\n    this.connectionMetrics.stability = Math.max(0, Math.min(100, \r\n      0.7 * this.connectionMetrics.stability + 0.3 * stabilityRaw\r\n    ));\r\n  }\r\n\r\n  /**\r\n   * Send data to WebSocket server\r\n   * @param {string} type - Message type\r\n   * @param {any} payload - Message payload\r\n   * @returns {boolean} - Whether send was successful\r\n   */\r\n  send(type, payload) {\r\n    if (!this.isConnected || !this.socket) return false;\r\n    \r\n    try {\r\n      const message = JSON.stringify({\r\n        type,\r\n        payload,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n      \r\n      this.socket.send(message);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error sending WebSocket message:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add event listener for specific message type\r\n   * @param {string} type - Message type or 'all' for all messages\r\n   * @param {Function} callback - Callback function\r\n   * @returns {Function} - Function to remove listener\r\n   */\r\n  addEventListener(type, callback) {\r\n    if (!this.listeners.has(type)) {\r\n      this.listeners.set(type, new Set());\r\n    }\r\n    \r\n    this.listeners.get(type).add(callback);\r\n    \r\n    // Return unsubscribe function\r\n    return () => {\r\n      const listeners = this.listeners.get(type);\r\n      if (listeners) {\r\n        listeners.delete(callback);\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Remove event listener\r\n   * @param {string} type - Message type\r\n   * @param {Function} callback - Callback function\r\n   */\r\n  removeEventListener(type, callback) {\r\n    const listeners = this.listeners.get(type);\r\n    if (listeners) {\r\n      listeners.delete(callback);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add connection state listener\r\n   * @param {Function} listener - Listener function\r\n   * @returns {Function} - Function to remove listener\r\n   */\r\n  addConnectionListener(listener) {\r\n    this.connectionListeners.push(listener);\r\n    \r\n    // Return unsubscribe function\r\n    return () => this.removeConnectionListener(listener);\r\n  }\r\n\r\n  /**\r\n   * Remove connection state listener\r\n   * @param {Function} listener - Listener function\r\n   */\r\n  removeConnectionListener(listener) {\r\n    this.connectionListeners = this.connectionListeners.filter(l => l !== listener);\r\n  }\r\n\r\n  /**\r\n   * Notify all connection listeners of state change\r\n   * @param {boolean} connected - Whether connected\r\n   * @param {Object} details - Connection details\r\n   */\r\n  notifyConnectionChange(connected, details = {}) {\r\n    // Copy listeners array to avoid issues if a listener adds/removes another listener\r\n    const listeners = [...this.connectionListeners];\r\n    \r\n    listeners.forEach(listener => {\r\n      try {\r\n        listener(connected, details);\r\n      } catch (error) {\r\n        console.error('Error in connection state listener:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get current connection quality\r\n   * @returns {string} - Connection quality ('excellent', 'good', 'poor', 'critical', 'offline')\r\n   */\r\n  getConnectionQuality() {\r\n    if (!this.isConnected) return 'offline';\r\n    \r\n    const { latency, stability } = this.connectionMetrics;\r\n    \r\n    if (stability > 90 && latency < 100) return 'excellent';\r\n    if (stability > 70 && latency < 300) return 'good';\r\n    if (stability > 40 && latency < 1000) return 'poor';\r\n    return 'critical';\r\n  }\r\n\r\n  /**\r\n   * Get detailed connection metrics\r\n   * @returns {Object} - Connection metrics\r\n   */\r\n  getConnectionMetrics() {\r\n    return {\r\n      ...this.connectionMetrics,\r\n      quality: this.getConnectionQuality(),\r\n      connected: this.isConnected,\r\n      pingHistory: [...this.pingHistory]\r\n    };\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst websocketService = new WebSocketService();\r\n\r\nexport default websocketService;\r\n","/**\r\n * Modern Smartphone Testing Suite\r\n * Comprehensive testing utilities for latest device features\r\n * Validates: Performance, compatibility, accessibility, responsive design\r\n */\r\n\r\n// Device Testing Manager\r\nclass DeviceTestingManager {\r\n  constructor() {\r\n    this.testResults = new Map();\r\n    this.deviceProfiles = this.initDeviceProfiles();\r\n    this.currentProfile = null;\r\n    \r\n    console.log('🧪 Device Testing Manager initialized');\r\n  }\r\n\r\n  // Initialize modern device profiles\r\n  initDeviceProfiles() {\r\n    return {\r\n      'iphone-15-pro': {\r\n        name: 'iPhone 15 Pro',\r\n        dimensions: { width: 393, height: 852 },\r\n        pixelRatio: 3,\r\n        viewportUnits: ['dvh', 'svh', 'lvh'],\r\n        features: ['dynamic-island', 'haptic-feedback', '120hz', 'safe-area'],\r\n        userAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 17_0 like Mac OS X) AppleWebKit/605.1.15'\r\n      },\r\n      'iphone-15-pro-max': {\r\n        name: 'iPhone 15 Pro Max',\r\n        dimensions: { width: 430, height: 932 },\r\n        pixelRatio: 3,\r\n        viewportUnits: ['dvh', 'svh', 'lvh'],\r\n        features: ['dynamic-island', 'haptic-feedback', '120hz', 'safe-area'],\r\n        userAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 17_0 like Mac OS X) AppleWebKit/605.1.15'\r\n      },\r\n      'galaxy-s24-ultra': {\r\n        name: 'Samsung Galaxy S24 Ultra',\r\n        dimensions: { width: 412, height: 915 },\r\n        pixelRatio: 3.5,\r\n        viewportUnits: ['dvh', 'svh', 'lvh'],\r\n        features: ['haptic-feedback', '120hz', 'ambient-light'],\r\n        userAgent: 'Mozilla/5.0 (Linux; Android 14; SM-S928B) AppleWebKit/537.36'\r\n      },\r\n      'pixel-8-pro': {\r\n        name: 'Google Pixel 8 Pro',\r\n        dimensions: { width: 412, height: 892 },\r\n        pixelRatio: 2.625,\r\n        viewportUnits: ['dvh', 'svh', 'lvh'],\r\n        features: ['haptic-feedback', '120hz', 'ambient-light'],\r\n        userAgent: 'Mozilla/5.0 (Linux; Android 14; Pixel 8 Pro) AppleWebKit/537.36'\r\n      },\r\n      'galaxy-fold-5': {\r\n        name: 'Samsung Galaxy Z Fold 5',\r\n        dimensions: { width: 344, height: 882, foldedWidth: 748, foldedHeight: 1812 },\r\n        pixelRatio: 3,\r\n        viewportUnits: ['dvh', 'svh', 'lvh'],\r\n        features: ['foldable', 'haptic-feedback', '120hz', 'spanning'],\r\n        userAgent: 'Mozilla/5.0 (Linux; Android 14; SM-F946B) AppleWebKit/537.36'\r\n      },\r\n      'surface-duo-2': {\r\n        name: 'Microsoft Surface Duo 2',\r\n        dimensions: { width: 540, height: 720, spanningWidth: 1114 },\r\n        pixelRatio: 2.5,\r\n        viewportUnits: ['dvh', 'svh', 'lvh'],\r\n        features: ['foldable', 'spanning', 'dual-screen'],\r\n        userAgent: 'Mozilla/5.0 (Linux; Android 11; Surface Duo 2) AppleWebKit/537.36'\r\n      }\r\n    };\r\n  }\r\n\r\n  // Start comprehensive device testing\r\n  async startDeviceTesting() {\r\n    console.log('🚀 Starting comprehensive device testing...');\r\n    \r\n    const results = {};\r\n    \r\n    for (const [deviceId, profile] of Object.entries(this.deviceProfiles)) {\r\n      console.log(`📱 Testing device: ${profile.name}`);\r\n      \r\n      this.currentProfile = profile;\r\n      const deviceResults = await this.testDevice(deviceId, profile);\r\n      results[deviceId] = deviceResults;\r\n      \r\n      // Brief pause between device tests\r\n      await this.delay(500);\r\n    }\r\n    \r\n    this.generateTestReport(results);\r\n    return results;\r\n  }\r\n\r\n  // Test individual device\r\n  async testDevice(deviceId, profile) {\r\n    const results = {\r\n      device: profile.name,\r\n      timestamp: new Date().toISOString(),\r\n      tests: {}\r\n    };\r\n\r\n    // Simulate device environment\r\n    this.simulateDevice(profile);\r\n    \r\n    try {\r\n      // Test viewport units\r\n      results.tests.viewportUnits = await this.testViewportUnits(profile);\r\n      \r\n      // Test responsive design\r\n      results.tests.responsiveDesign = await this.testResponsiveDesign(profile);\r\n      \r\n      // Test modern features\r\n      results.tests.modernFeatures = await this.testModernFeatures(profile);\r\n      \r\n      // Test performance\r\n      results.tests.performance = await this.testPerformance(profile);\r\n      \r\n      // Test accessibility\r\n      results.tests.accessibility = await this.testAccessibility(profile);\r\n      \r\n      // Test touch interactions\r\n      results.tests.touchInteractions = await this.testTouchInteractions(profile);\r\n      \r\n      // Test PWA features\r\n      results.tests.pwaFeatures = await this.testPWAFeatures(profile);\r\n      \r\n      console.log(`✅ Device testing completed: ${profile.name}`);\r\n      \r\n    } catch (error) {\r\n      console.error(`❌ Device testing failed: ${profile.name}`, error);\r\n      results.tests.error = error.message;\r\n    }\r\n    \r\n    return results;\r\n  }\r\n\r\n  // Simulate device environment\r\n  simulateDevice(profile) {\r\n    // Override viewport dimensions\r\n    Object.defineProperty(window, 'innerWidth', {\r\n      writable: true,\r\n      configurable: true,\r\n      value: profile.dimensions.width\r\n    });\r\n    \r\n    Object.defineProperty(window, 'innerHeight', {\r\n      writable: true,\r\n      configurable: true,\r\n      value: profile.dimensions.height\r\n    });\r\n    \r\n    // Override device pixel ratio\r\n    Object.defineProperty(window, 'devicePixelRatio', {\r\n      writable: true,\r\n      configurable: true,\r\n      value: profile.pixelRatio\r\n    });\r\n    \r\n    // Override user agent if needed\r\n    if (profile.userAgent) {\r\n      Object.defineProperty(navigator, 'userAgent', {\r\n        writable: true,\r\n        configurable: true,\r\n        value: profile.userAgent\r\n      });\r\n    }\r\n    \r\n    // Add device-specific classes\r\n    document.documentElement.className = document.documentElement.className\r\n      .replace(/device-\\w+/g, '');\r\n    document.documentElement.classList.add(`device-${profile.name.toLowerCase().replace(/\\s+/g, '-')}`);\r\n    \r\n    // Trigger resize event\r\n    window.dispatchEvent(new Event('resize'));\r\n  }\r\n\r\n  // Test viewport units support\r\n  async testViewportUnits(profile) {\r\n    const results = { supported: [], failed: [] };\r\n    \r\n    for (const unit of profile.viewportUnits || []) {\r\n      try {\r\n        // Create test element\r\n        const testEl = document.createElement('div');\r\n        testEl.style.height = `100${unit}`;\r\n        document.body.appendChild(testEl);\r\n        \r\n        // Check if unit is applied\r\n        const computed = getComputedStyle(testEl);\r\n        if (computed.height && computed.height !== '0px') {\r\n          results.supported.push(unit);\r\n        } else {\r\n          results.failed.push(unit);\r\n        }\r\n        \r\n        document.body.removeChild(testEl);\r\n      } catch (error) {\r\n        results.failed.push(unit);\r\n      }\r\n    }\r\n    \r\n    return {\r\n      status: results.failed.length === 0 ? 'PASS' : 'PARTIAL',\r\n      supported: results.supported,\r\n      failed: results.failed\r\n    };\r\n  }\r\n\r\n  // Test responsive design\r\n  async testResponsiveDesign(profile) {\r\n    const tests = [];\r\n    \r\n    // Test breakpoint handling\r\n    tests.push(await this.testBreakpoints(profile));\r\n    \r\n    // Test safe area handling\r\n    tests.push(await this.testSafeAreas(profile));\r\n    \r\n    // Test component adaptation\r\n    tests.push(await this.testComponentAdaptation(profile));\r\n    \r\n    const passed = tests.filter(t => t.status === 'PASS').length;\r\n    \r\n    return {\r\n      status: passed === tests.length ? 'PASS' : passed > 0 ? 'PARTIAL' : 'FAIL',\r\n      tests: tests,\r\n      score: `${passed}/${tests.length}`\r\n    };\r\n  }\r\n\r\n  // Test modern features\r\n  async testModernFeatures(profile) {\r\n    const featureTests = {};\r\n    \r\n    for (const feature of profile.features || []) {\r\n      switch (feature) {\r\n        case 'dynamic-island':\r\n          featureTests[feature] = this.testDynamicIsland();\r\n          break;\r\n        case 'haptic-feedback':\r\n          featureTests[feature] = this.testHapticFeedback();\r\n          break;\r\n        case '120hz':\r\n          featureTests[feature] = this.testHighRefreshRate();\r\n          break;\r\n        case 'foldable':\r\n          featureTests[feature] = this.testFoldableSupport();\r\n          break;\r\n        case 'ambient-light':\r\n          featureTests[feature] = this.testAmbientLight();\r\n          break;\r\n        default:\r\n          featureTests[feature] = { status: 'SKIP', reason: 'Unknown feature' };\r\n      }\r\n    }\r\n    \r\n    const passed = Object.values(featureTests).filter(t => t.status === 'PASS').length;\r\n    const total = Object.keys(featureTests).length;\r\n    \r\n    return {\r\n      status: passed === total ? 'PASS' : passed > 0 ? 'PARTIAL' : 'FAIL',\r\n      features: featureTests,\r\n      score: `${passed}/${total}`\r\n    };\r\n  }\r\n\r\n  // Test performance metrics\r\n  async testPerformance(profile) {\r\n    const metrics = {};\r\n    \r\n    try {\r\n      // Test memory usage\r\n      if ('memory' in performance) {\r\n        metrics.memory = {\r\n          used: performance.memory.usedJSHeapSize,\r\n          total: performance.memory.totalJSHeapSize,\r\n          limit: performance.memory.jsHeapSizeLimit\r\n        };\r\n      }\r\n      \r\n      // Test rendering performance\r\n      const renderStart = performance.now();\r\n      await this.triggerRender();\r\n      const renderTime = performance.now() - renderStart;\r\n      \r\n      metrics.renderTime = renderTime;\r\n      metrics.renderPerformance = renderTime < 16 ? 'EXCELLENT' : \r\n                                  renderTime < 33 ? 'GOOD' : \r\n                                  renderTime < 100 ? 'FAIR' : 'POOR';\r\n      \r\n      // Test scroll performance\r\n      metrics.scrollPerformance = await this.testScrollPerformance();\r\n      \r\n      // Test touch responsiveness\r\n      metrics.touchLatency = await this.testTouchLatency();\r\n      \r\n      return {\r\n        status: 'PASS',\r\n        metrics: metrics\r\n      };\r\n      \r\n    } catch (error) {\r\n      return {\r\n        status: 'FAIL',\r\n        error: error.message\r\n      };\r\n    }\r\n  }\r\n\r\n  // Test accessibility compliance\r\n  async testAccessibility(profile) {\r\n    const tests = [];\r\n    \r\n    // Test contrast ratios\r\n    tests.push(await this.testContrastRatios());\r\n    \r\n    // Test keyboard navigation\r\n    tests.push(await this.testKeyboardNavigation());\r\n    \r\n    // Test screen reader compatibility\r\n    tests.push(await this.testScreenReaderSupport());\r\n    \r\n    // Test touch target sizes\r\n    tests.push(await this.testTouchTargetSizes());\r\n    \r\n    // Test motion preferences\r\n    tests.push(await this.testMotionPreferences());\r\n    \r\n    const passed = tests.filter(t => t.status === 'PASS').length;\r\n    \r\n    return {\r\n      status: passed === tests.length ? 'PASS' : passed >= tests.length * 0.8 ? 'PARTIAL' : 'FAIL',\r\n      tests: tests,\r\n      score: `${passed}/${tests.length}`\r\n    };\r\n  }\r\n\r\n  // Test touch interactions\r\n  async testTouchInteractions(profile) {\r\n    const tests = [];\r\n    \r\n    // Test basic touch events\r\n    tests.push(await this.testBasicTouch());\r\n    \r\n    // Test gesture recognition\r\n    tests.push(await this.testGestureRecognition());\r\n    \r\n    // Test haptic feedback\r\n    if (profile.features?.includes('haptic-feedback')) {\r\n      tests.push(await this.testHapticFeedback());\r\n    }\r\n    \r\n    // Test multi-touch\r\n    tests.push(await this.testMultiTouch());\r\n    \r\n    const passed = tests.filter(t => t.status === 'PASS').length;\r\n    \r\n    return {\r\n      status: passed === tests.length ? 'PASS' : passed > 0 ? 'PARTIAL' : 'FAIL',\r\n      tests: tests,\r\n      score: `${passed}/${tests.length}`\r\n    };\r\n  }\r\n\r\n  // Test PWA features\r\n  async testPWAFeatures(profile) {\r\n    const tests = [];\r\n    \r\n    // Test service worker\r\n    tests.push(await this.testServiceWorker());\r\n    \r\n    // Test manifest\r\n    tests.push(await this.testManifest());\r\n    \r\n    // Test installability\r\n    tests.push(await this.testInstallability());\r\n    \r\n    // Test offline functionality\r\n    tests.push(await this.testOfflineSupport());\r\n    \r\n    const passed = tests.filter(t => t.status === 'PASS').length;\r\n    \r\n    return {\r\n      status: passed === tests.length ? 'PASS' : passed > 0 ? 'PARTIAL' : 'FAIL',\r\n      tests: tests,\r\n      score: `${passed}/${tests.length}`\r\n    };\r\n  }\r\n\r\n  // Individual test implementations\r\n  testDynamicIsland() {\r\n    const islandEl = document.querySelector('.dynamic-island');\r\n    if (!islandEl) {\r\n      return { status: 'FAIL', reason: 'Dynamic Island element not found' };\r\n    }\r\n    \r\n    const hasContent = islandEl.querySelector('.island-content');\r\n    const hasInteraction = typeof islandEl.onclick === 'function' || \r\n                          islandEl.hasAttribute('onclick');\r\n    \r\n    return {\r\n      status: hasContent && hasInteraction ? 'PASS' : 'PARTIAL',\r\n      details: { hasContent, hasInteraction }\r\n    };\r\n  }\r\n\r\n  testHapticFeedback() {\r\n    if ('vibrate' in navigator) {\r\n      try {\r\n        navigator.vibrate(1);\r\n        return { status: 'PASS', details: 'Vibration API available' };\r\n      } catch (error) {\r\n        return { status: 'FAIL', reason: error.message };\r\n      }\r\n    }\r\n    \r\n    return { status: 'FAIL', reason: 'Vibration API not supported' };\r\n  }\r\n\r\n  testHighRefreshRate() {\r\n    const refreshRate = window.screen?.refreshRate || \r\n                       this.detectRefreshRate();\r\n    \r\n    return {\r\n      status: refreshRate >= 120 ? 'PASS' : 'PARTIAL',\r\n      refreshRate: refreshRate,\r\n      details: refreshRate >= 120 ? 'High refresh rate detected' : 'Standard refresh rate'\r\n    };\r\n  }\r\n\r\n  testFoldableSupport() {\r\n    const hasFoldClass = document.documentElement.classList.contains('fold-state-unfolded') ||\r\n                        document.documentElement.classList.contains('fold-state-folded') ||\r\n                        document.documentElement.classList.contains('fold-state-spanning');\r\n    \r\n    const hasViewportSegments = CSS.supports('padding: env(viewport-segment-width)');\r\n    \r\n    return {\r\n      status: hasFoldClass && hasViewportSegments ? 'PASS' : 'PARTIAL',\r\n      details: { hasFoldClass, hasViewportSegments }\r\n    };\r\n  }\r\n\r\n  testAmbientLight() {\r\n    if ('AmbientLightSensor' in window) {\r\n      return { status: 'PASS', details: 'Ambient Light Sensor API available' };\r\n    }\r\n    \r\n    // Check for fallback methods\r\n    const hasColorScheme = window.matchMedia('(prefers-color-scheme: dark)').matches !== null;\r\n    \r\n    return {\r\n      status: hasColorScheme ? 'PARTIAL' : 'FAIL',\r\n      details: hasColorScheme ? 'Color scheme detection available' : 'No ambient light support'\r\n    };\r\n  }\r\n\r\n  // Helper methods\r\n  detectRefreshRate() {\r\n    return new Promise((resolve) => {\r\n      let start = null;\r\n      let frames = 0;\r\n      \r\n      const measureFrame = (timestamp) => {\r\n        if (!start) start = timestamp;\r\n        frames++;\r\n        \r\n        if (timestamp - start < 1000) {\r\n          requestAnimationFrame(measureFrame);\r\n        } else {\r\n          resolve(frames);\r\n        }\r\n      };\r\n      \r\n      requestAnimationFrame(measureFrame);\r\n    });\r\n  }\r\n\r\n  async triggerRender() {\r\n    return new Promise(resolve => {\r\n      requestAnimationFrame(() => {\r\n        // Force a reflow\r\n        const height = document.body.offsetHeight;\r\n        console.log('Render triggered, height:', height);\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  async testScrollPerformance() {\r\n    const testEl = document.createElement('div');\r\n    testEl.style.cssText = `\r\n      height: 200vh;\r\n      background: linear-gradient(to bottom, red, blue);\r\n    `;\r\n    document.body.appendChild(testEl);\r\n    \r\n    const start = performance.now();\r\n    window.scrollTo(0, 1000);\r\n    await this.delay(100);\r\n    const scrollTime = performance.now() - start;\r\n    \r\n    document.body.removeChild(testEl);\r\n    window.scrollTo(0, 0);\r\n    \r\n    return {\r\n      status: scrollTime < 100 ? 'PASS' : 'FAIR',\r\n      time: scrollTime\r\n    };\r\n  }\r\n\r\n  async testTouchLatency() {\r\n    return new Promise((resolve) => {\r\n      const testEl = document.createElement('div');\r\n      testEl.style.cssText = `\r\n        position: fixed;\r\n        top: 50%;\r\n        left: 50%;\r\n        width: 100px;\r\n        height: 100px;\r\n        background: red;\r\n        transform: translate(-50%, -50%);\r\n      `;\r\n      document.body.appendChild(testEl);\r\n      \r\n      const start = performance.now();\r\n      \r\n      testEl.addEventListener('touchstart', () => {\r\n        const latency = performance.now() - start;\r\n        document.body.removeChild(testEl);\r\n        \r\n        resolve({\r\n          status: latency < 50 ? 'PASS' : latency < 100 ? 'GOOD' : 'FAIR',\r\n          latency: latency\r\n        });\r\n      }, { once: true });\r\n      \r\n      // Simulate touch event\r\n      const touch = new Touch({\r\n        identifier: 1,\r\n        target: testEl,\r\n        clientX: 50,\r\n        clientY: 50,\r\n        radiusX: 1,\r\n        radiusY: 1,\r\n        rotationAngle: 0,\r\n        force: 1\r\n      });\r\n      \r\n      const touchEvent = new TouchEvent('touchstart', {\r\n        touches: [touch],\r\n        targetTouches: [touch],\r\n        changedTouches: [touch]\r\n      });\r\n      \r\n      testEl.dispatchEvent(touchEvent);\r\n    });\r\n  }\r\n\r\n  // Generate comprehensive test report\r\n  generateTestReport(results) {\r\n    console.log('\\n📊 DEVICE TESTING REPORT');\r\n    console.log('========================');\r\n    \r\n    for (const [deviceId, result] of Object.entries(results)) {\r\n      console.log(`\\n📱 ${result.device}`);\r\n      console.log('─'.repeat(result.device.length + 4));\r\n      \r\n      for (const [testName, testResult] of Object.entries(result.tests)) {\r\n        const status = testResult.status || 'UNKNOWN';\r\n        const icon = status === 'PASS' ? '✅' : \r\n                    status === 'PARTIAL' ? '⚠️' : \r\n                    status === 'FAIL' ? '❌' : '❓';\r\n        \r\n        console.log(`${icon} ${testName}: ${status}`);\r\n        \r\n        if (testResult.score) {\r\n          console.log(`   Score: ${testResult.score}`);\r\n        }\r\n        \r\n        if (testResult.details) {\r\n          console.log(`   Details: ${JSON.stringify(testResult.details)}`);\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Generate summary\r\n    this.generateTestSummary(results);\r\n  }\r\n\r\n  generateTestSummary(results) {\r\n    const totalTests = Object.keys(results).length;\r\n    let totalPassed = 0;\r\n    let totalPartial = 0;\r\n    let totalFailed = 0;\r\n    \r\n    for (const result of Object.values(results)) {\r\n      for (const test of Object.values(result.tests)) {\r\n        if (test.status === 'PASS') totalPassed++;\r\n        else if (test.status === 'PARTIAL') totalPartial++;\r\n        else if (test.status === 'FAIL') totalFailed++;\r\n      }\r\n    }\r\n    \r\n    console.log('\\n📈 TESTING SUMMARY');\r\n    console.log('==================');\r\n    console.log(`Total Devices Tested: ${totalTests}`);\r\n    console.log(`✅ Passed: ${totalPassed}`);\r\n    console.log(`⚠️ Partial: ${totalPartial}`);\r\n    console.log(`❌ Failed: ${totalFailed}`);\r\n    \r\n    const successRate = (totalPassed / (totalPassed + totalPartial + totalFailed)) * 100;\r\n    console.log(`📊 Success Rate: ${successRate.toFixed(1)}%`);\r\n    \r\n    if (successRate >= 90) {\r\n      console.log('🎉 EXCELLENT: App is ready for modern smartphones!');\r\n    } else if (successRate >= 75) {\r\n      console.log('👍 GOOD: App works well with minor improvements needed');\r\n    } else if (successRate >= 60) {\r\n      console.log('⚠️ FAIR: App needs optimization for modern devices');\r\n    } else {\r\n      console.log('❗ POOR: Significant improvements needed');\r\n    }\r\n  }\r\n\r\n  delay(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n}\r\n\r\n// Performance Audit Manager\r\nclass PerformanceAuditManager {\r\n  constructor() {\r\n    this.metrics = new Map();\r\n    console.log('⚡ Performance Audit Manager initialized');\r\n  }\r\n\r\n  async runPerformanceAudit() {\r\n    console.log('🔍 Starting performance audit...');\r\n    \r\n    const results = {\r\n      timestamp: new Date().toISOString(),\r\n      metrics: {},\r\n      recommendations: []\r\n    };\r\n\r\n    // Core Web Vitals\r\n    results.metrics.coreWebVitals = await this.measureCoreWebVitals();\r\n    \r\n    // Memory usage\r\n    results.metrics.memory = this.measureMemoryUsage();\r\n    \r\n    // Network performance\r\n    results.metrics.network = await this.measureNetworkPerformance();\r\n    \r\n    // Rendering performance\r\n    results.metrics.rendering = await this.measureRenderingPerformance();\r\n    \r\n    // JavaScript performance\r\n    results.metrics.javascript = await this.measureJavaScriptPerformance();\r\n    \r\n    // Generate recommendations\r\n    results.recommendations = this.generateRecommendations(results.metrics);\r\n    \r\n    this.displayAuditResults(results);\r\n    return results;\r\n  }\r\n\r\n  async measureCoreWebVitals() {\r\n    const vitals = {};\r\n    \r\n    // Largest Contentful Paint (LCP)\r\n    if ('PerformanceObserver' in window) {\r\n      vitals.lcp = await this.measureLCP();\r\n      vitals.fid = await this.measureFID();\r\n      vitals.cls = await this.measureCLS();\r\n    }\r\n    \r\n    return vitals;\r\n  }\r\n\r\n  measureMemoryUsage() {\r\n    if ('memory' in performance) {\r\n      const memory = performance.memory;\r\n      return {\r\n        used: memory.usedJSHeapSize,\r\n        total: memory.totalJSHeapSize,\r\n        limit: memory.jsHeapSizeLimit,\r\n        percentage: (memory.usedJSHeapSize / memory.jsHeapSizeLimit) * 100\r\n      };\r\n    }\r\n    \r\n    return { status: 'Not supported' };\r\n  }\r\n\r\n  displayAuditResults(results) {\r\n    console.log('\\n⚡ PERFORMANCE AUDIT RESULTS');\r\n    console.log('=============================');\r\n    \r\n    // Core Web Vitals\r\n    if (results.metrics.coreWebVitals) {\r\n      console.log('\\n📊 Core Web Vitals:');\r\n      const vitals = results.metrics.coreWebVitals;\r\n      \r\n      if (vitals.lcp) {\r\n        const lcpStatus = vitals.lcp < 2500 ? 'GOOD' : vitals.lcp < 4000 ? 'NEEDS IMPROVEMENT' : 'POOR';\r\n        console.log(`  LCP: ${vitals.lcp}ms (${lcpStatus})`);\r\n      }\r\n      \r\n      if (vitals.fid) {\r\n        const fidStatus = vitals.fid < 100 ? 'GOOD' : vitals.fid < 300 ? 'NEEDS IMPROVEMENT' : 'POOR';\r\n        console.log(`  FID: ${vitals.fid}ms (${fidStatus})`);\r\n      }\r\n      \r\n      if (vitals.cls) {\r\n        const clsStatus = vitals.cls < 0.1 ? 'GOOD' : vitals.cls < 0.25 ? 'NEEDS IMPROVEMENT' : 'POOR';\r\n        console.log(`  CLS: ${vitals.cls} (${clsStatus})`);\r\n      }\r\n    }\r\n    \r\n    // Memory usage\r\n    if (results.metrics.memory?.percentage) {\r\n      console.log(`\\n🧠 Memory Usage: ${results.metrics.memory.percentage.toFixed(1)}%`);\r\n    }\r\n    \r\n    // Recommendations\r\n    if (results.recommendations.length > 0) {\r\n      console.log('\\n💡 Recommendations:');\r\n      results.recommendations.forEach((rec, index) => {\r\n        console.log(`  ${index + 1}. ${rec}`);\r\n      });\r\n    }\r\n  }\r\n\r\n  generateRecommendations(metrics) {\r\n    const recommendations = [];\r\n    \r\n    // Memory recommendations\r\n    if (metrics.memory?.percentage > 80) {\r\n      recommendations.push('Consider implementing lazy loading to reduce memory usage');\r\n      recommendations.push('Enable memory management optimizations');\r\n    }\r\n    \r\n    // Performance recommendations\r\n    if (metrics.coreWebVitals?.lcp > 2500) {\r\n      recommendations.push('Optimize images and implement efficient loading strategies');\r\n    }\r\n    \r\n    if (metrics.coreWebVitals?.fid > 100) {\r\n      recommendations.push('Reduce JavaScript execution time during initial load');\r\n    }\r\n    \r\n    return recommendations;\r\n  }\r\n}\r\n\r\n// Initialize testing suite\r\nexport const initTestingSuite = () => {\r\n  console.log('🧪 Initializing comprehensive testing suite...');\r\n  \r\n  const deviceTesting = new DeviceTestingManager();\r\n  const performanceAudit = new PerformanceAuditManager();\r\n  \r\n  // Make testing tools available globally\r\n  window.testingSuite = {\r\n    deviceTesting,\r\n    performanceAudit,\r\n    \r\n    // Quick test methods\r\n    async runAllTests() {\r\n      console.log('🚀 Running all tests...');\r\n      \r\n      const deviceResults = await deviceTesting.startDeviceTesting();\r\n      const performanceResults = await performanceAudit.runPerformanceAudit();\r\n      \r\n      return {\r\n        devices: deviceResults,\r\n        performance: performanceResults\r\n      };\r\n    },\r\n    \r\n    async testCurrentDevice() {\r\n      console.log('📱 Testing current device...');\r\n      // Auto-detect current device and run targeted tests\r\n      const currentProfile = deviceTesting.detectCurrentDevice();\r\n      return await deviceTesting.testDevice('current', currentProfile);\r\n    }\r\n  };\r\n  \r\n  console.log('✅ Testing suite initialized');\r\n  \r\n  return {\r\n    deviceTesting,\r\n    performanceAudit\r\n  };\r\n};\r\n\r\nexport {\r\n  DeviceTestingManager,\r\n  PerformanceAuditManager\r\n};\r\n\r\nexport default {\r\n  initTestingSuite,\r\n  DeviceTestingManager,\r\n  PerformanceAuditManager\r\n};","/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  needsPaint = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return needsPaint\n    ? !0\n    : exports.unstable_now() - startTime < frameInterval\n      ? !1\n      : !0;\n}\nfunction performWorkUntilDeadline() {\n  needsPaint = !1;\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_requestPaint = function () {\n  needsPaint = !0;\n};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline())));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","import React, { useState, useCallback } from 'react';\r\nimport './GifPicker.css';\r\n\r\nconst GifPicker = ({ onGifSelect, onClose, isOpen }) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('trending');\r\n\r\n  // Popular GIF categories\r\n  const categories = [\r\n    { id: 'trending', name: 'Trending', emoji: '🔥' },\r\n    { id: 'reactions', name: 'Reactions', emoji: '😂' },\r\n    { id: 'emotions', name: 'Emotions', emoji: '❤️' },\r\n    { id: 'animals', name: 'Animals', emoji: '🐱' },\r\n    { id: 'sports', name: 'Sports', emoji: '⚽' },\r\n    { id: 'entertainment', name: 'Entertainment', emoji: '🎬' }\r\n  ];\r\n\r\n  // Sample GIFs for demonstration (in production, you'd fetch from Giphy API)\r\n  const sampleGifs = {\r\n    trending: [\r\n      {\r\n        id: 1,\r\n        url: 'https://media.giphy.com/media/3o7TKF1fSIs1R19B8Y/giphy.gif',\r\n        preview: 'https://media.giphy.com/media/3o7TKF1fSIs1R19B8Y/200w_d.gif',\r\n        title: 'Success Dance'\r\n      },\r\n      {\r\n        id: 2,\r\n        url: 'https://media.giphy.com/media/26u4lOMA8JKSnL9Uk/giphy.gif',\r\n        preview: 'https://media.giphy.com/media/26u4lOMA8JKSnL9Uk/200w_d.gif',\r\n        title: 'Celebration'\r\n      },\r\n      {\r\n        id: 3,\r\n        url: 'https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif',\r\n        preview: 'https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/200w_d.gif',\r\n        title: 'Mind Blown'\r\n      },\r\n      {\r\n        id: 4,\r\n        url: 'https://media.giphy.com/media/3o6Zt6KHxJTbXCnSvu/giphy.gif',\r\n        preview: 'https://media.giphy.com/media/3o6Zt6KHxJTbXCnSvu/200w_d.gif',\r\n        title: 'Thumbs Up'\r\n      }\r\n    ],\r\n    reactions: [\r\n      {\r\n        id: 5,\r\n        url: 'https://media.giphy.com/media/3o7aCSPqXE5C6T8tBC/giphy.gif',\r\n        preview: 'https://media.giphy.com/media/3o7aCSPqXE5C6T8tBC/200w_d.gif',\r\n        title: 'Shocked'\r\n      },\r\n      {\r\n        id: 6,\r\n        url: 'https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif',\r\n        preview: 'https://media.giphy.com/media/26ufdipQqU2lhNA4g/200w_d.gif',\r\n        title: 'Laughing'\r\n      }\r\n    ],\r\n    emotions: [\r\n      {\r\n        id: 7,\r\n        url: 'https://media.giphy.com/media/3o6ZtpvPW6fqxkE1xu/giphy.gif',\r\n        preview: 'https://media.giphy.com/media/3o6ZtpvPW6fqxkE1xu/200w_d.gif',\r\n        title: 'Love Heart'\r\n      }\r\n    ],\r\n    animals: [\r\n      {\r\n        id: 8,\r\n        url: 'https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif',\r\n        preview: 'https://media.giphy.com/media/JIX9t2j0ZTN9S/200w_d.gif',\r\n        title: 'Cute Cat'\r\n      }\r\n    ]\r\n  };\r\n\r\n  const handleGifClick = useCallback((gif) => {\r\n    onGifSelect({\r\n      name: `${gif.title}.gif`,\r\n      url: gif.url,\r\n      size: 0, // Would be fetched from API in production\r\n      type: 'image/gif',\r\n      isGif: true\r\n    });\r\n    onClose();\r\n  }, [onGifSelect, onClose]);\r\n\r\n  const getCurrentGifs = () => {\r\n    const gifs = sampleGifs[selectedCategory] || sampleGifs.trending;\r\n    if (searchTerm) {\r\n      return gifs.filter(gif => \r\n        gif.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n    return gifs;\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"gif-picker-overlay\">\r\n      <div className=\"gif-picker\">\r\n        <div className=\"gif-picker-header\">\r\n          <h3>Choose a GIF</h3>\r\n          <button className=\"close-btn\" onClick={onClose}>×</button>\r\n        </div>\r\n\r\n        <div className=\"gif-search\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search GIFs...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"gif-search-input\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"gif-categories\">\r\n          {categories.map(category => (\r\n            <button\r\n              key={category.id}\r\n              className={`category-btn ${selectedCategory === category.id ? 'active' : ''}`}\r\n              onClick={() => setSelectedCategory(category.id)}\r\n            >\r\n              <span className=\"category-emoji\">{category.emoji}</span>\r\n              <span className=\"category-name\">{category.name}</span>\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"gif-grid\">\r\n          {getCurrentGifs().map(gif => (\r\n            <div\r\n              key={gif.id}\r\n              className=\"gif-item\"\r\n              onClick={() => handleGifClick(gif)}\r\n            >\r\n              <img\r\n                src={gif.preview}\r\n                alt={gif.title}\r\n                className=\"gif-preview\"\r\n              />\r\n              <div className=\"gif-overlay\">\r\n                <span className=\"gif-title\">{gif.title}</span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {getCurrentGifs().length === 0 && (\r\n          <div className=\"no-gifs\">\r\n            <p>No GIFs found for \"{searchTerm}\"</p>\r\n            <p>Try a different search term</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GifPicker;","/**\r\n * End-to-End Encryption Service for Quibish\r\n * Implements Signal Protocol-inspired E2E encryption\r\n */\r\n\r\nclass EncryptionService {\r\n  constructor() {\r\n    this.keyPairs = new Map(); // Store user key pairs\r\n    this.publicKeys = new Map(); // Store other users' public keys\r\n    this.sessionKeys = new Map(); // Store session keys for conversations\r\n    this.isInitialized = false;\r\n  }\r\n\r\n  /**\r\n   * Initialize the encryption service for the current user\r\n   */\r\n  async initialize(userId) {\r\n    try {\r\n      this.userId = userId;\r\n      \r\n      // Check if user already has keys\r\n      let keyPair = await this.loadUserKeys(userId);\r\n      \r\n      if (!keyPair) {\r\n        // Generate new key pair for first-time user\r\n        keyPair = await this.generateKeyPair();\r\n        await this.saveUserKeys(userId, keyPair);\r\n        console.log('🔑 Generated new encryption keys for user:', userId);\r\n      } else {\r\n        console.log('🔑 Loaded existing encryption keys for user:', userId);\r\n      }\r\n      \r\n      this.keyPairs.set(userId, keyPair);\r\n      this.isInitialized = true;\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('❌ Failed to initialize encryption:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate a new RSA key pair\r\n   */\r\n  async generateKeyPair() {\r\n    try {\r\n      const keyPair = await window.crypto.subtle.generateKey(\r\n        {\r\n          name: 'RSA-OAEP',\r\n          modulusLength: 2048,\r\n          publicExponent: new Uint8Array([1, 0, 1]),\r\n          hash: 'SHA-256',\r\n        },\r\n        true, // extractable\r\n        ['encrypt', 'decrypt']\r\n      );\r\n\r\n      return keyPair;\r\n    } catch (error) {\r\n      console.error('❌ Failed to generate key pair:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Export public key to share with other users\r\n   */\r\n  async exportPublicKey(userId = this.userId) {\r\n    try {\r\n      const keyPair = this.keyPairs.get(userId);\r\n      if (!keyPair) {\r\n        throw new Error('No key pair found for user');\r\n      }\r\n\r\n      const exportedKey = await window.crypto.subtle.exportKey(\r\n        'spki',\r\n        keyPair.publicKey\r\n      );\r\n\r\n      return this.arrayBufferToBase64(exportedKey);\r\n    } catch (error) {\r\n      console.error('❌ Failed to export public key:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Import public key from another user\r\n   */\r\n  async importPublicKey(userId, publicKeyBase64) {\r\n    try {\r\n      const publicKeyBuffer = this.base64ToArrayBuffer(publicKeyBase64);\r\n      \r\n      const publicKey = await window.crypto.subtle.importKey(\r\n        'spki',\r\n        publicKeyBuffer,\r\n        {\r\n          name: 'RSA-OAEP',\r\n          hash: 'SHA-256',\r\n        },\r\n        false,\r\n        ['encrypt']\r\n      );\r\n\r\n      this.publicKeys.set(userId, publicKey);\r\n      console.log('🔑 Imported public key for user:', userId);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('❌ Failed to import public key:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Encrypt a message for a specific recipient\r\n   */\r\n  async encryptMessage(message, recipientUserId) {\r\n    try {\r\n      if (!this.isInitialized) {\r\n        throw new Error('Encryption service not initialized');\r\n      }\r\n\r\n      const recipientPublicKey = this.publicKeys.get(recipientUserId);\r\n      if (!recipientPublicKey) {\r\n        throw new Error(`No public key found for user: ${recipientUserId}`);\r\n      }\r\n\r\n      // Convert message to bytes\r\n      const messageBytes = new TextEncoder().encode(message);\r\n\r\n      // Encrypt using recipient's public key\r\n      const encryptedBytes = await window.crypto.subtle.encrypt(\r\n        {\r\n          name: 'RSA-OAEP',\r\n        },\r\n        recipientPublicKey,\r\n        messageBytes\r\n      );\r\n\r\n      // Convert to base64 for transmission\r\n      const encryptedMessage = this.arrayBufferToBase64(encryptedBytes);\r\n      \r\n      return {\r\n        encryptedContent: encryptedMessage,\r\n        senderId: this.userId,\r\n        recipientId: recipientUserId,\r\n        timestamp: new Date().toISOString(),\r\n        isEncrypted: true\r\n      };\r\n    } catch (error) {\r\n      console.error('❌ Failed to encrypt message:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Decrypt a received message\r\n   */\r\n  async decryptMessage(encryptedData) {\r\n    try {\r\n      if (!this.isInitialized) {\r\n        throw new Error('Encryption service not initialized');\r\n      }\r\n\r\n      const keyPair = this.keyPairs.get(this.userId);\r\n      if (!keyPair) {\r\n        throw new Error('No private key found for decryption');\r\n      }\r\n\r\n      // Convert from base64\r\n      const encryptedBytes = this.base64ToArrayBuffer(encryptedData.encryptedContent);\r\n\r\n      // Decrypt using our private key\r\n      const decryptedBytes = await window.crypto.subtle.decrypt(\r\n        {\r\n          name: 'RSA-OAEP',\r\n        },\r\n        keyPair.privateKey,\r\n        encryptedBytes\r\n      );\r\n\r\n      // Convert back to string\r\n      const decryptedMessage = new TextDecoder().decode(decryptedBytes);\r\n      \r\n      return {\r\n        ...encryptedData,\r\n        content: decryptedMessage,\r\n        isDecrypted: true\r\n      };\r\n    } catch (error) {\r\n      console.error('❌ Failed to decrypt message:', error);\r\n      // Return the encrypted data with error flag\r\n      return {\r\n        ...encryptedData,\r\n        content: '[Decryption Failed]',\r\n        decryptionError: true\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Encrypt for group conversation (multi-recipient)\r\n   */\r\n  async encryptForGroup(message, participantUserIds) {\r\n    try {\r\n      const encryptedMessages = {};\r\n      \r\n      for (const userId of participantUserIds) {\r\n        if (userId !== this.userId) { // Don't encrypt for ourselves\r\n          const encrypted = await this.encryptMessage(message, userId);\r\n          encryptedMessages[userId] = encrypted.encryptedContent;\r\n        }\r\n      }\r\n\r\n      return {\r\n        senderId: this.userId,\r\n        encryptedPayloads: encryptedMessages,\r\n        timestamp: new Date().toISOString(),\r\n        isGroupEncrypted: true\r\n      };\r\n    } catch (error) {\r\n      console.error('❌ Failed to encrypt for group:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate a fingerprint for key verification\r\n   */\r\n  async generateKeyFingerprint(userId = this.userId) {\r\n    try {\r\n      const publicKeyBase64 = await this.exportPublicKey(userId);\r\n      const publicKeyBytes = this.base64ToArrayBuffer(publicKeyBase64);\r\n      \r\n      // Create SHA-256 hash of public key\r\n      const hashBuffer = await window.crypto.subtle.digest('SHA-256', publicKeyBytes);\r\n      const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n      \r\n      // Convert to readable fingerprint format\r\n      const fingerprint = hashArray\r\n        .map(b => b.toString(16).padStart(2, '0'))\r\n        .join('')\r\n        .match(/.{1,4}/g)\r\n        .join(' ')\r\n        .toUpperCase();\r\n\r\n      return fingerprint;\r\n    } catch (error) {\r\n      console.error('❌ Failed to generate fingerprint:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Save user keys to secure storage\r\n   */\r\n  async saveUserKeys(userId, keyPair) {\r\n    try {\r\n      // Export keys for storage\r\n      const publicKey = await window.crypto.subtle.exportKey('spki', keyPair.publicKey);\r\n      const privateKey = await window.crypto.subtle.exportKey('pkcs8', keyPair.privateKey);\r\n\r\n      const keyData = {\r\n        publicKey: this.arrayBufferToBase64(publicKey),\r\n        privateKey: this.arrayBufferToBase64(privateKey),\r\n        createdAt: new Date().toISOString()\r\n      };\r\n\r\n      // Store in secure localStorage (in production, use more secure storage)\r\n      localStorage.setItem(`e2e_keys_${userId}`, JSON.stringify(keyData));\r\n      \r\n      // Also store public key for sharing\r\n      localStorage.setItem(`public_key_${userId}`, keyData.publicKey);\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('❌ Failed to save keys:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load user keys from secure storage\r\n   */\r\n  async loadUserKeys(userId) {\r\n    try {\r\n      const keyDataStr = localStorage.getItem(`e2e_keys_${userId}`);\r\n      if (!keyDataStr) {\r\n        return null;\r\n      }\r\n\r\n      const keyData = JSON.parse(keyDataStr);\r\n\r\n      // Import keys\r\n      const publicKey = await window.crypto.subtle.importKey(\r\n        'spki',\r\n        this.base64ToArrayBuffer(keyData.publicKey),\r\n        { name: 'RSA-OAEP', hash: 'SHA-256' },\r\n        true,\r\n        ['encrypt']\r\n      );\r\n\r\n      const privateKey = await window.crypto.subtle.importKey(\r\n        'pkcs8',\r\n        this.base64ToArrayBuffer(keyData.privateKey),\r\n        { name: 'RSA-OAEP', hash: 'SHA-256' },\r\n        true,\r\n        ['decrypt']\r\n      );\r\n\r\n      return { publicKey, privateKey };\r\n    } catch (error) {\r\n      console.error('❌ Failed to load keys:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get public key for sharing with other users\r\n   */\r\n  async getPublicKeyForSharing(userId = this.userId) {\r\n    try {\r\n      return localStorage.getItem(`public_key_${userId}`);\r\n    } catch (error) {\r\n      console.error('❌ Failed to get public key for sharing:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if we can encrypt for a user (have their public key)\r\n   */\r\n  canEncryptForUser(userId) {\r\n    return this.publicKeys.has(userId);\r\n  }\r\n\r\n  /**\r\n   * Utility: Convert ArrayBuffer to Base64\r\n   */\r\n  arrayBufferToBase64(buffer) {\r\n    const bytes = new Uint8Array(buffer);\r\n    let binary = '';\r\n    for (let i = 0; i < bytes.byteLength; i++) {\r\n      binary += String.fromCharCode(bytes[i]);\r\n    }\r\n    return window.btoa(binary);\r\n  }\r\n\r\n  /**\r\n   * Utility: Convert Base64 to ArrayBuffer\r\n   */\r\n  base64ToArrayBuffer(base64) {\r\n    const binary = window.atob(base64);\r\n    const bytes = new Uint8Array(binary.length);\r\n    for (let i = 0; i < binary.length; i++) {\r\n      bytes[i] = binary.charCodeAt(i);\r\n    }\r\n    return bytes.buffer;\r\n  }\r\n\r\n  /**\r\n   * Clear all encryption data (for logout)\r\n   */\r\n  clearEncryptionData() {\r\n    this.keyPairs.clear();\r\n    this.publicKeys.clear();\r\n    this.sessionKeys.clear();\r\n    this.isInitialized = false;\r\n    this.userId = null;\r\n    console.log('🧹 Cleared all encryption data');\r\n  }\r\n\r\n  /**\r\n   * Get encryption status\r\n   */\r\n  getStatus() {\r\n    return {\r\n      isInitialized: this.isInitialized,\r\n      userId: this.userId,\r\n      hasKeyPair: this.keyPairs.has(this.userId),\r\n      publicKeysCount: this.publicKeys.size,\r\n      canEncrypt: this.isInitialized && this.keyPairs.has(this.userId)\r\n    };\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst encryptionService = new EncryptionService();\r\n\r\nexport default encryptionService;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + {\"453\":\"19de758c\",\"839\":\"710241b2\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"quibish:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/quibish/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkquibish\"] = self[\"webpackChunkquibish\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import React, { useState, useCallback } from 'react';\r\nimport { mobileUtils } from '../../services/mobileInteractionService';\r\nimport './ContactCard.css';\r\n\r\nconst ContactCard = ({\r\n  contact,\r\n  viewMode = 'grid',\r\n  isSelected = false,\r\n  onSelect,\r\n  onEdit,\r\n  onDelete,\r\n  onToggleFavorite,\r\n  onStartChat,\r\n  onStartCall,\r\n  darkMode = false\r\n}) => {\r\n  const [showActions, setShowActions] = useState(false);\r\n  const [imageError, setImageError] = useState(false);\r\n\r\n  // Generate initials from name\r\n  const getInitials = (name) => {\r\n    if (!name) return '?';\r\n    return name\r\n      .split(' ')\r\n      .map(word => word.charAt(0))\r\n      .join('')\r\n      .toUpperCase()\r\n      .slice(0, 2);\r\n  };\r\n\r\n  // Generate avatar color based on name\r\n  const getAvatarColor = (name) => {\r\n    if (!name) return '#667eea';\r\n    \r\n    const colors = [\r\n      '#667eea', '#764ba2', '#f093fb', '#f5576c',\r\n      '#4facfe', '#43e97b', '#fa709a', '#ffecd2',\r\n      '#a8edea', '#fed6e3', '#d299c2', '#fef9d3'\r\n    ];\r\n    \r\n    const index = name.length % colors.length;\r\n    return colors[index];\r\n  };\r\n\r\n  // Format phone number for display\r\n  const formatPhone = (phone) => {\r\n    if (!phone) return '';\r\n    \r\n    // Remove all non-digits\r\n    const digits = phone.replace(/\\D/g, '');\r\n    \r\n    // Format as (XXX) XXX-XXXX for US numbers\r\n    if (digits.length === 10) {\r\n      return `(${digits.slice(0, 3)}) ${digits.slice(3, 6)}-${digits.slice(6)}`;\r\n    }\r\n    \r\n    return phone;\r\n  };\r\n\r\n  // Get contact status indicator\r\n  const getStatusInfo = () => {\r\n    if (contact.isOnline) {\r\n      return { icon: '🟢', text: 'Online', class: 'online' };\r\n    }\r\n    if (contact.lastSeen) {\r\n      const lastSeen = new Date(contact.lastSeen);\r\n      const now = new Date();\r\n      const diff = now - lastSeen;\r\n      \r\n      if (diff < 5 * 60 * 1000) { // 5 minutes\r\n        return { icon: '🟡', text: 'Recently active', class: 'recent' };\r\n      }\r\n      if (diff < 24 * 60 * 60 * 1000) { // 24 hours\r\n        return { icon: '⚪', text: 'Today', class: 'today' };\r\n      }\r\n    }\r\n    return { icon: '⚫', text: 'Offline', class: 'offline' };\r\n  };\r\n\r\n  // Handle contact actions\r\n  const handleToggleFavorite = useCallback((e) => {\r\n    e.stopPropagation();\r\n    onToggleFavorite?.(contact.id);\r\n    mobileUtils?.haptic?.('light');\r\n  }, [contact.id, onToggleFavorite]);\r\n\r\n  const handleStartChat = useCallback((e) => {\r\n    e.stopPropagation();\r\n    onStartChat?.(contact);\r\n    mobileUtils?.haptic?.('medium');\r\n  }, [contact, onStartChat]);\r\n\r\n  const handleStartCall = useCallback((e) => {\r\n    e.stopPropagation();\r\n    onStartCall?.(contact);\r\n    mobileUtils?.haptic?.('medium');\r\n  }, [contact, onStartCall]);\r\n\r\n  const handleEdit = useCallback((e) => {\r\n    e.stopPropagation();\r\n    onEdit?.(contact);\r\n    setShowActions(false);\r\n  }, [contact, onEdit]);\r\n\r\n  const handleDelete = useCallback((e) => {\r\n    e.stopPropagation();\r\n    onDelete?.(contact.id);\r\n    setShowActions(false);\r\n  }, [contact.id, onDelete]);\r\n\r\n  const handleCardClick = useCallback(() => {\r\n    if (onSelect) {\r\n      onSelect(contact.id);\r\n    } else {\r\n      setShowActions(!showActions);\r\n    }\r\n  }, [contact.id, onSelect, showActions]);\r\n\r\n  const handleCardLongPress = useCallback(() => {\r\n    if (!onSelect) {\r\n      setShowActions(true);\r\n      mobileUtils?.haptic?.('medium');\r\n    }\r\n  }, [onSelect]);\r\n\r\n  const statusInfo = getStatusInfo();\r\n  const avatarColor = getAvatarColor(contact.name);\r\n\r\n  return (\r\n    <div \r\n      className={`contact-card ${viewMode} ${isSelected ? 'selected' : ''} ${darkMode ? 'dark' : ''} ${showActions ? 'actions-open' : ''}`}\r\n      onClick={handleCardClick}\r\n      onContextMenu={(e) => {\r\n        e.preventDefault();\r\n        handleCardLongPress();\r\n      }}\r\n    >\r\n      {/* Selection Checkbox */}\r\n      {onSelect && (\r\n        <div className=\"selection-checkbox\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={isSelected}\r\n            onChange={() => onSelect(contact.id)}\r\n            onClick={(e) => e.stopPropagation()}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Avatar */}\r\n      <div className=\"contact-avatar-container\">\r\n        <div \r\n          className=\"contact-avatar\"\r\n          style={{ backgroundColor: contact.avatar ? 'transparent' : avatarColor }}\r\n        >\r\n          {contact.avatar && !imageError ? (\r\n            <img \r\n              src={contact.avatar} \r\n              alt={contact.name}\r\n              onError={() => setImageError(true)}\r\n            />\r\n          ) : (\r\n            <span className=\"avatar-initials\">\r\n              {getInitials(contact.name)}\r\n            </span>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Status Indicator */}\r\n        <div className={`status-indicator ${statusInfo.class}`}>\r\n          <span className=\"status-icon\">{statusInfo.icon}</span>\r\n        </div>\r\n\r\n        {/* Favorite Star */}\r\n        {contact.isFavorite && (\r\n          <div className=\"favorite-indicator\">⭐</div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Contact Info */}\r\n      <div className=\"contact-info\">\r\n        <div className=\"contact-name-section\">\r\n          <h3 className=\"contact-name\" title={contact.name}>\r\n            {contact.name || 'Unknown Contact'}\r\n          </h3>\r\n          {contact.nickname && (\r\n            <span className=\"contact-nickname\">\"{contact.nickname}\"</span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"contact-details\">\r\n          {contact.company && (\r\n            <div className=\"contact-company\" title={contact.company}>\r\n              🏢 {contact.company}\r\n            </div>\r\n          )}\r\n          \r\n          {contact.jobTitle && (\r\n            <div className=\"contact-job-title\" title={contact.jobTitle}>\r\n              💼 {contact.jobTitle}\r\n            </div>\r\n          )}\r\n\r\n          {contact.email && (\r\n            <div className=\"contact-email\" title={contact.email}>\r\n              📧 {contact.email}\r\n            </div>\r\n          )}\r\n\r\n          {contact.phone && (\r\n            <div className=\"contact-phone\" title={contact.phone}>\r\n              📱 {formatPhone(contact.phone)}\r\n            </div>\r\n          )}\r\n\r\n          {contact.location && (\r\n            <div className=\"contact-location\" title={contact.location}>\r\n              📍 {contact.location}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Tags/Categories */}\r\n        {contact.tags && contact.tags.length > 0 && (\r\n          <div className=\"contact-tags\">\r\n            {contact.tags.slice(0, 3).map((tag, index) => (\r\n              <span key={index} className={`contact-tag ${tag.toLowerCase()}`}>\r\n                {tag}\r\n              </span>\r\n            ))}\r\n            {contact.tags.length > 3 && (\r\n              <span className=\"contact-tag more\">+{contact.tags.length - 3}</span>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Last Contact Info */}\r\n        {contact.lastContacted && (\r\n          <div className=\"last-contact-info\">\r\n            <span className=\"last-contact-label\">Last contact:</span>\r\n            <span className=\"last-contact-date\">\r\n              {new Date(contact.lastContacted).toLocaleDateString()}\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div className=\"contact-quick-actions\">\r\n        <button\r\n          className=\"quick-action-btn favorite-btn\"\r\n          onClick={handleToggleFavorite}\r\n          title={contact.isFavorite ? 'Remove from favorites' : 'Add to favorites'}\r\n        >\r\n          {contact.isFavorite ? '⭐' : '☆'}\r\n        </button>\r\n\r\n        {onStartChat && (\r\n          <button\r\n            className=\"quick-action-btn chat-btn\"\r\n            onClick={handleStartChat}\r\n            title=\"Start chat\"\r\n          >\r\n            💬\r\n          </button>\r\n        )}\r\n\r\n        {onStartCall && contact.phone && (\r\n          <button\r\n            className=\"quick-action-btn call-btn\"\r\n            onClick={handleStartCall}\r\n            title=\"Start call\"\r\n          >\r\n            📞\r\n          </button>\r\n        )}\r\n\r\n        <button\r\n          className=\"quick-action-btn more-btn\"\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            setShowActions(!showActions);\r\n          }}\r\n          title=\"More actions\"\r\n        >\r\n          ⋯\r\n        </button>\r\n      </div>\r\n\r\n      {/* Extended Actions Menu */}\r\n      {showActions && (\r\n        <div className=\"contact-actions-menu\">\r\n          <div className=\"actions-menu-backdrop\" onClick={() => setShowActions(false)} />\r\n          <div className=\"actions-menu-content\">\r\n            <button className=\"action-menu-item\" onClick={handleEdit}>\r\n              <span className=\"action-icon\">✏️</span>\r\n              <span className=\"action-label\">Edit Contact</span>\r\n            </button>\r\n            \r\n            {contact.email && (\r\n              <button \r\n                className=\"action-menu-item\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  window.location.href = `mailto:${contact.email}`;\r\n                }}\r\n              >\r\n                <span className=\"action-icon\">📧</span>\r\n                <span className=\"action-label\">Send Email</span>\r\n              </button>\r\n            )}\r\n\r\n            {contact.phone && (\r\n              <button \r\n                className=\"action-menu-item\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  window.location.href = `tel:${contact.phone}`;\r\n                }}\r\n              >\r\n                <span className=\"action-icon\">📞</span>\r\n                <span className=\"action-label\">Call Phone</span>\r\n              </button>\r\n            )}\r\n\r\n            {contact.website && (\r\n              <button \r\n                className=\"action-menu-item\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  window.open(contact.website, '_blank');\r\n                }}\r\n              >\r\n                <span className=\"action-icon\">🌐</span>\r\n                <span className=\"action-label\">Visit Website</span>\r\n              </button>\r\n            )}\r\n\r\n            <button \r\n              className=\"action-menu-item share-btn\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                // Share contact functionality\r\n                if (navigator.share) {\r\n                  navigator.share({\r\n                    title: `Contact: ${contact.name}`,\r\n                    text: `${contact.name}\\n${contact.email || ''}\\n${contact.phone || ''}`,\r\n                  });\r\n                }\r\n              }}\r\n            >\r\n              <span className=\"action-icon\">📤</span>\r\n              <span className=\"action-label\">Share Contact</span>\r\n            </button>\r\n\r\n            <button className=\"action-menu-item delete-btn\" onClick={handleDelete}>\r\n              <span className=\"action-icon\">🗑️</span>\r\n              <span className=\"action-label\">Delete Contact</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Contact Frequency Indicator */}\r\n      {contact.contactCount && contact.contactCount > 0 && (\r\n        <div className=\"contact-frequency\">\r\n          <div className=\"frequency-bar\">\r\n            <div \r\n              className=\"frequency-fill\"\r\n              style={{ \r\n                width: `${Math.min((contact.contactCount / 10) * 100, 100)}%` \r\n              }}\r\n            />\r\n          </div>\r\n          <span className=\"frequency-label\">\r\n            {contact.contactCount} interaction{contact.contactCount !== 1 ? 's' : ''}\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactCard;","import React from 'react';\r\nimport './ContactGroups.css';\r\n\r\nconst ContactGroups = ({ categories, selectedCategory, onCategoryChange }) => {\r\n  return (\r\n    <div className=\"contact-groups\">\r\n      <div className=\"groups-container\">\r\n        {categories.map(category => (\r\n          <button\r\n            key={category.id}\r\n            className={`group-btn ${selectedCategory === category.id ? 'active' : ''}`}\r\n            onClick={() => onCategoryChange(category.id)}\r\n            title={`${category.label} (${category.count})`}\r\n          >\r\n            <span className=\"group-icon\">{category.icon}</span>\r\n            <span className=\"group-label\">{category.label}</span>\r\n            <span className=\"group-count\">{category.count}</span>\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactGroups;","import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport ContactCard from './ContactCard';\r\nimport ContactModal from './ContactModal';\r\nimport ContactGroups from './ContactGroups';\r\nimport { contactService } from '../../services/contactService';\r\nimport { deviceUtils } from '../../services/nativeDeviceFeaturesService';\r\nimport { mobileUtils } from '../../services/mobileInteractionService';\r\nimport './ContactManager.css';\r\n\r\nconst ContactManager = ({ \r\n  isOpen, \r\n  onClose, \r\n  currentUser, \r\n  darkMode = false,\r\n  onStartChat = null,\r\n  onStartCall = null \r\n}) => {\r\n  // State management\r\n  const [contacts, setContacts] = useState([]);\r\n  const [filteredContacts, setFilteredContacts] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [sortBy, setSortBy] = useState('name');\r\n  const [viewMode, setViewMode] = useState('grid'); // 'grid' or 'list'\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Modal states\r\n  const [showContactModal, setShowContactModal] = useState(false);\r\n  const [editingContact, setEditingContact] = useState(null);\r\n  const [selectedContacts, setSelectedContacts] = useState(new Set());\r\n  const [showBulkActions, setShowBulkActions] = useState(false);\r\n  \r\n  // Analytics and stats\r\n  const [contactStats, setContactStats] = useState({\r\n    total: 0,\r\n    favorites: 0,\r\n    recentlyAdded: 0,\r\n    frequentlyContacted: 0\r\n  });\r\n\r\n  // Load contacts on component mount\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      loadContacts();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Filter and search contacts\r\n  useEffect(() => {\r\n    let filtered = [...contacts];\r\n\r\n    // Apply category filter\r\n    if (selectedCategory !== 'all') {\r\n      filtered = filtered.filter(contact => {\r\n        switch (selectedCategory) {\r\n          case 'favorites':\r\n            return contact.isFavorite;\r\n          case 'recent':\r\n            return isRecentContact(contact);\r\n          case 'work':\r\n            return contact.category === 'work' || contact.company;\r\n          case 'family':\r\n            return contact.category === 'family';\r\n          case 'friends':\r\n            return contact.category === 'friends';\r\n          default:\r\n            return contact.category === selectedCategory;\r\n        }\r\n      });\r\n    }\r\n\r\n    // Apply search filter\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = filtered.filter(contact => \r\n        contact.name?.toLowerCase().includes(query) ||\r\n        contact.email?.toLowerCase().includes(query) ||\r\n        contact.phone?.includes(query) ||\r\n        contact.company?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    // Apply sorting\r\n    filtered.sort((a, b) => {\r\n      switch (sortBy) {\r\n        case 'name':\r\n          return (a.name || '').localeCompare(b.name || '');\r\n        case 'recent':\r\n          return new Date(b.lastContacted || b.createdAt) - new Date(a.lastContacted || a.createdAt);\r\n        case 'frequent':\r\n          return (b.contactCount || 0) - (a.contactCount || 0);\r\n        case 'company':\r\n          return (a.company || '').localeCompare(b.company || '');\r\n        default:\r\n          return 0;\r\n      }\r\n    });\r\n\r\n    setFilteredContacts(filtered);\r\n  }, [contacts, searchQuery, selectedCategory, sortBy]);\r\n\r\n  // Load contacts from service\r\n  const loadContacts = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const contactData = await contactService.getAllContacts();\r\n      setContacts(contactData.contacts || []);\r\n      setContactStats(contactData.stats || {});\r\n      \r\n      console.log('📇 Loaded contacts:', contactData.contacts?.length);\r\n    } catch (err) {\r\n      console.error('Failed to load contacts:', err);\r\n      setError('Failed to load contacts. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Check if contact is recent (within last 7 days)\r\n  const isRecentContact = (contact) => {\r\n    const sevenDaysAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);\r\n    return new Date(contact.createdAt) > sevenDaysAgo;\r\n  };\r\n\r\n  // Handle contact actions\r\n  const handleAddContact = useCallback(() => {\r\n    setEditingContact(null);\r\n    setShowContactModal(true);\r\n    mobileUtils?.haptic?.('light');\r\n  }, []);\r\n\r\n  const handleEditContact = useCallback((contact) => {\r\n    setEditingContact(contact);\r\n    setShowContactModal(true);\r\n    mobileUtils?.haptic?.('light');\r\n  }, []);\r\n\r\n  const handleDeleteContact = useCallback(async (contactId) => {\r\n    if (window.confirm('Are you sure you want to delete this contact?')) {\r\n      try {\r\n        await contactService.deleteContact(contactId);\r\n        await loadContacts();\r\n        mobileUtils?.haptic?.('medium');\r\n      } catch (err) {\r\n        console.error('Failed to delete contact:', err);\r\n        setError('Failed to delete contact.');\r\n      }\r\n    }\r\n  }, [loadContacts]);\r\n\r\n  const handleToggleFavorite = useCallback(async (contactId) => {\r\n    try {\r\n      await contactService.toggleFavorite(contactId);\r\n      await loadContacts();\r\n      mobileUtils?.haptic?.('light');\r\n    } catch (err) {\r\n      console.error('Failed to toggle favorite:', err);\r\n    }\r\n  }, [loadContacts]);\r\n\r\n  const handleContactSave = useCallback(async (contactData) => {\r\n    try {\r\n      if (editingContact) {\r\n        await contactService.updateContact(editingContact.id, contactData);\r\n      } else {\r\n        await contactService.createContact(contactData);\r\n      }\r\n      \r\n      setShowContactModal(false);\r\n      setEditingContact(null);\r\n      await loadContacts();\r\n      mobileUtils?.haptic?.('success');\r\n    } catch (err) {\r\n      console.error('Failed to save contact:', err);\r\n      setError('Failed to save contact.');\r\n    }\r\n  }, [editingContact, loadContacts]);\r\n\r\n  // Import contacts from device\r\n  const handleImportContacts = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const deviceContacts = await deviceUtils.pickContacts({\r\n        multiple: true,\r\n        properties: ['name', 'email', 'tel']\r\n      });\r\n\r\n      if (deviceContacts && deviceContacts.length > 0) {\r\n        const imported = await contactService.importContacts(deviceContacts);\r\n        await loadContacts();\r\n        \r\n        alert(`✅ Successfully imported ${imported.count} contacts`);\r\n        mobileUtils?.haptic?.('success');\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to import contacts:', err);\r\n      if (err.message.includes('not supported')) {\r\n        setError('Contact import not supported on this device.');\r\n      } else {\r\n        setError('Failed to import contacts. Please check permissions.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [loadContacts]);\r\n\r\n  // Export contacts\r\n  const handleExportContacts = useCallback(async () => {\r\n    try {\r\n      const exportData = await contactService.exportContacts();\r\n      \r\n      // Create and download CSV file\r\n      const blob = new Blob([exportData.csv], { type: 'text/csv' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `quibish_contacts_${new Date().toISOString().split('T')[0]}.csv`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n      \r\n      mobileUtils?.haptic?.('success');\r\n      alert(`✅ Exported ${exportData.count} contacts`);\r\n    } catch (err) {\r\n      console.error('Failed to export contacts:', err);\r\n      setError('Failed to export contacts.');\r\n    }\r\n  }, []);\r\n\r\n  // Handle contact selection for bulk actions\r\n  const handleContactSelect = useCallback((contactId) => {\r\n    setSelectedContacts(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(contactId)) {\r\n        newSet.delete(contactId);\r\n      } else {\r\n        newSet.add(contactId);\r\n      }\r\n      setShowBulkActions(newSet.size > 0);\r\n      return newSet;\r\n    });\r\n  }, []);\r\n\r\n  // Clear selection\r\n  const handleClearSelection = useCallback(() => {\r\n    setSelectedContacts(new Set());\r\n    setShowBulkActions(false);\r\n  }, []);\r\n\r\n  // Categories for filtering\r\n  const categories = useMemo(() => [\r\n    { id: 'all', label: 'All Contacts', icon: '👥', count: contacts.length },\r\n    { id: 'favorites', label: 'Favorites', icon: '⭐', count: contactStats.favorites },\r\n    { id: 'recent', label: 'Recent', icon: '🕒', count: contactStats.recentlyAdded },\r\n    { id: 'work', label: 'Work', icon: '💼', count: contacts.filter(c => c.category === 'work' || c.company).length },\r\n    { id: 'family', label: 'Family', icon: '👨‍👩‍👧‍👦', count: contacts.filter(c => c.category === 'family').length },\r\n    { id: 'friends', label: 'Friends', icon: '👫', count: contacts.filter(c => c.category === 'friends').length }\r\n  ], [contacts, contactStats]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className={`contact-manager-overlay ${darkMode ? 'dark' : ''}`}>\r\n      <div className=\"contact-manager\">\r\n        {/* Header */}\r\n        <div className=\"contact-manager-header\">\r\n          <div className=\"header-left\">\r\n            <h2>📇 Contacts</h2>\r\n            <div className=\"contact-count\">\r\n              {filteredContacts.length} of {contacts.length} contacts\r\n            </div>\r\n          </div>\r\n          <div className=\"header-actions\">\r\n            <button \r\n              className=\"action-btn import-btn\"\r\n              onClick={handleImportContacts}\r\n              disabled={loading}\r\n              title=\"Import from device\"\r\n            >\r\n              📱\r\n            </button>\r\n            <button \r\n              className=\"action-btn export-btn\"\r\n              onClick={handleExportContacts}\r\n              disabled={loading || contacts.length === 0}\r\n              title=\"Export contacts\"\r\n            >\r\n              📤\r\n            </button>\r\n            <button \r\n              className=\"action-btn add-btn\"\r\n              onClick={handleAddContact}\r\n              title=\"Add new contact\"\r\n            >\r\n              ➕\r\n            </button>\r\n            <button \r\n              className=\"close-btn\"\r\n              onClick={onClose}\r\n              title=\"Close\"\r\n            >\r\n              ✕\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Search and Filters */}\r\n        <div className=\"contact-manager-controls\">\r\n          <div className=\"search-section\">\r\n            <div className=\"search-input-wrapper\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search contacts...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"search-input\"\r\n              />\r\n              <span className=\"search-icon\">🔍</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"filter-section\">\r\n            <ContactGroups \r\n              categories={categories}\r\n              selectedCategory={selectedCategory}\r\n              onCategoryChange={setSelectedCategory}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"view-controls\">\r\n            <select\r\n              value={sortBy}\r\n              onChange={(e) => setSortBy(e.target.value)}\r\n              className=\"sort-select\"\r\n            >\r\n              <option value=\"name\">Sort by Name</option>\r\n              <option value=\"recent\">Sort by Recent</option>\r\n              <option value=\"frequent\">Sort by Frequent</option>\r\n              <option value=\"company\">Sort by Company</option>\r\n            </select>\r\n\r\n            <div className=\"view-mode-toggle\">\r\n              <button\r\n                className={`view-btn ${viewMode === 'grid' ? 'active' : ''}`}\r\n                onClick={() => setViewMode('grid')}\r\n                title=\"Grid view\"\r\n              >\r\n                ⚏\r\n              </button>\r\n              <button\r\n                className={`view-btn ${viewMode === 'list' ? 'active' : ''}`}\r\n                onClick={() => setViewMode('list')}\r\n                title=\"List view\"\r\n              >\r\n                ☰\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bulk Actions */}\r\n        {showBulkActions && (\r\n          <div className=\"bulk-actions\">\r\n            <div className=\"bulk-info\">\r\n              {selectedContacts.size} contact{selectedContacts.size !== 1 ? 's' : ''} selected\r\n            </div>\r\n            <div className=\"bulk-buttons\">\r\n              <button className=\"bulk-btn\" onClick={() => console.log('Bulk message')}>\r\n                💬 Message\r\n              </button>\r\n              <button className=\"bulk-btn\" onClick={() => console.log('Bulk export')}>\r\n                📤 Export\r\n              </button>\r\n              <button className=\"bulk-btn danger\" onClick={() => console.log('Bulk delete')}>\r\n                🗑️ Delete\r\n              </button>\r\n              <button className=\"bulk-btn cancel\" onClick={handleClearSelection}>\r\n                ✕ Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Contact List */}\r\n        <div className=\"contact-manager-content\">\r\n          {loading ? (\r\n            <div className=\"loading-container\">\r\n              <div className=\"loading-spinner\"></div>\r\n              <p>Loading contacts...</p>\r\n            </div>\r\n          ) : error ? (\r\n            <div className=\"error-container\">\r\n              <div className=\"error-icon\">⚠️</div>\r\n              <p>{error}</p>\r\n              <button className=\"retry-btn\" onClick={loadContacts}>\r\n                🔄 Retry\r\n              </button>\r\n            </div>\r\n          ) : filteredContacts.length === 0 ? (\r\n            <div className=\"empty-state\">\r\n              <div className=\"empty-icon\">👥</div>\r\n              <h3>\r\n                {searchQuery || selectedCategory !== 'all' \r\n                  ? 'No contacts found' \r\n                  : 'No contacts yet'\r\n                }\r\n              </h3>\r\n              <p>\r\n                {searchQuery \r\n                  ? 'Try adjusting your search or filters'\r\n                  : 'Add your first contact to get started'\r\n                }\r\n              </p>\r\n              {!searchQuery && selectedCategory === 'all' && (\r\n                <div className=\"empty-actions\">\r\n                  <button className=\"primary-btn\" onClick={handleAddContact}>\r\n                    ➕ Add Contact\r\n                  </button>\r\n                  <button className=\"secondary-btn\" onClick={handleImportContacts}>\r\n                    📱 Import from Device\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className={`contact-grid ${viewMode}`}>\r\n              {filteredContacts.map(contact => (\r\n                <ContactCard\r\n                  key={contact.id}\r\n                  contact={contact}\r\n                  viewMode={viewMode}\r\n                  isSelected={selectedContacts.has(contact.id)}\r\n                  onSelect={handleContactSelect}\r\n                  onEdit={handleEditContact}\r\n                  onDelete={handleDeleteContact}\r\n                  onToggleFavorite={handleToggleFavorite}\r\n                  onStartChat={onStartChat}\r\n                  onStartCall={onStartCall}\r\n                  darkMode={darkMode}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Contact Modal */}\r\n        {showContactModal && (\r\n          <ContactModal\r\n            isOpen={showContactModal}\r\n            contact={editingContact}\r\n            allContacts={filteredContacts}\r\n            onClose={() => {\r\n              setShowContactModal(false);\r\n              setEditingContact(null);\r\n            }}\r\n            onSave={handleContactSave}\r\n            darkMode={darkMode}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactManager;","/**\r\n * Donation Service\r\n * Handles user donations to support the free app\r\n */\r\n\r\nclass DonationService {\r\n  constructor() {\r\n    this.donationHistory = [];\r\n    this.totalDonated = 0;\r\n    this.lastDonationDate = null;\r\n    this.donationGoals = {\r\n      daily: 50,\r\n      weekly: 300,\r\n      monthly: 1200,\r\n      yearly: 15000\r\n    };\r\n    \r\n    // Load donation data from localStorage\r\n    this.loadDonationData();\r\n  }\r\n\r\n  /**\r\n   * Predefined donation amounts\r\n   */\r\n  getDonationAmounts() {\r\n    return [\r\n      { amount: 3, label: '$3', description: '☕ Buy us a coffee', popular: false },\r\n      { amount: 5, label: '$5', description: '🍕 Support development', popular: true },\r\n      { amount: 10, label: '$10', description: '🚀 Help us grow', popular: false },\r\n      { amount: 25, label: '$25', description: '💎 Premium supporter', popular: false },\r\n      { amount: 50, label: '$50', description: '🌟 Super supporter', popular: false },\r\n      { amount: 100, label: '$100', description: '🏆 Champion supporter', popular: false }\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Get donation messaging based on user activity\r\n   */\r\n  getDonationMessage(userStats = {}) {\r\n    const { callsMade = 0, messagesSent = 0, daysUsed = 0 } = userStats;\r\n    \r\n    const messages = [\r\n      {\r\n        title: \"Keep This App Free! 💝\",\r\n        subtitle: \"Your donation helps us maintain free calling for everyone\",\r\n        condition: () => true\r\n      },\r\n      {\r\n        title: \"Love Free Calling? 📞\",\r\n        subtitle: `You've made ${callsMade} free calls! Help others enjoy this too`,\r\n        condition: () => callsMade > 5\r\n      },\r\n      {\r\n        title: \"Support Our Mission 🌍\",\r\n        subtitle: `After ${daysUsed} days of free use, consider supporting our work`,\r\n        condition: () => daysUsed > 7\r\n      },\r\n      {\r\n        title: \"Enjoying the App? ❤️\",\r\n        subtitle: `${messagesSent} messages sent! A small donation keeps it free for all`,\r\n        condition: () => messagesSent > 50\r\n      }\r\n    ];\r\n\r\n    // Return the first message that matches conditions\r\n    return messages.find(msg => msg.condition()) || messages[0];\r\n  }\r\n\r\n  /**\r\n   * Process donation (simulate payment processing)\r\n   */\r\n  async processDonation(amount, message = '', paymentMethod = 'card') {\r\n    try {\r\n      // Simulate payment processing delay\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n\r\n      const donation = {\r\n        id: `donation_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n        amount,\r\n        message,\r\n        paymentMethod,\r\n        timestamp: new Date(),\r\n        status: 'completed',\r\n        transactionId: `txn_${Math.random().toString(36).substr(2, 16)}`\r\n      };\r\n\r\n      // Add to history\r\n      this.donationHistory.unshift(donation);\r\n      this.totalDonated += amount;\r\n      this.lastDonationDate = new Date();\r\n\r\n      // Save to localStorage\r\n      this.saveDonationData();\r\n\r\n      // Simulate success\r\n      console.log('✅ Donation processed successfully:', donation);\r\n      \r\n      return {\r\n        success: true,\r\n        donation,\r\n        message: `Thank you for your $${amount} donation! 🙏`\r\n      };\r\n    } catch (error) {\r\n      console.error('❌ Donation processing failed:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message,\r\n        message: 'Donation failed. Please try again.'\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get donation statistics\r\n   */\r\n  getDonationStats() {\r\n    const now = new Date();\r\n    const oneDay = 24 * 60 * 60 * 1000;\r\n    const oneWeek = 7 * oneDay;\r\n    const oneMonth = 30 * oneDay;\r\n    const oneYear = 365 * oneDay;\r\n\r\n    const dailyDonations = this.donationHistory.filter(d => \r\n      now - new Date(d.timestamp) < oneDay\r\n    ).reduce((sum, d) => sum + d.amount, 0);\r\n\r\n    const weeklyDonations = this.donationHistory.filter(d => \r\n      now - new Date(d.timestamp) < oneWeek\r\n    ).reduce((sum, d) => sum + d.amount, 0);\r\n\r\n    const monthlyDonations = this.donationHistory.filter(d => \r\n      now - new Date(d.timestamp) < oneMonth\r\n    ).reduce((sum, d) => sum + d.amount, 0);\r\n\r\n    const yearlyDonations = this.donationHistory.filter(d => \r\n      now - new Date(d.timestamp) < oneYear\r\n    ).reduce((sum, d) => sum + d.amount, 0);\r\n\r\n    return {\r\n      total: this.totalDonated,\r\n      daily: dailyDonations,\r\n      weekly: weeklyDonations,\r\n      monthly: monthlyDonations,\r\n      yearly: yearlyDonations,\r\n      donationCount: this.donationHistory.length,\r\n      lastDonation: this.lastDonationDate,\r\n      goals: this.donationGoals,\r\n      progress: {\r\n        daily: Math.min((dailyDonations / this.donationGoals.daily) * 100, 100),\r\n        weekly: Math.min((weeklyDonations / this.donationGoals.weekly) * 100, 100),\r\n        monthly: Math.min((monthlyDonations / this.donationGoals.monthly) * 100, 100),\r\n        yearly: Math.min((yearlyDonations / this.donationGoals.yearly) * 100, 100)\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Check if user should see donation prompt\r\n   */\r\n  shouldShowDonationPrompt(userStats = {}) {\r\n    const { callsMade = 0, messagesSent = 0, daysUsed = 0 } = userStats;\r\n    const stats = this.getDonationStats();\r\n    \r\n    // Don't show if donated recently (within 7 days)\r\n    if (stats.lastDonation && (new Date() - new Date(stats.lastDonation)) < 7 * 24 * 60 * 60 * 1000) {\r\n      return false;\r\n    }\r\n\r\n    // Show based on usage patterns\r\n    return (\r\n      callsMade > 3 ||           // After 3 calls\r\n      messagesSent > 20 ||       // After 20 messages\r\n      daysUsed > 2 ||           // After 2 days of use\r\n      (callsMade > 0 && messagesSent > 5) // Active user\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get thank you message after donation\r\n   */\r\n  getThankYouMessage(amount) {\r\n    if (amount >= 100) {\r\n      return {\r\n        title: \"🏆 Champion Supporter!\",\r\n        message: \"Your incredible generosity helps us serve thousands of users worldwide. You're amazing!\",\r\n        badge: \"champion\"\r\n      };\r\n    } else if (amount >= 50) {\r\n      return {\r\n        title: \"🌟 Super Supporter!\",\r\n        message: \"Your generous donation makes a huge difference in keeping this app free for everyone!\",\r\n        badge: \"super\"\r\n      };\r\n    } else if (amount >= 25) {\r\n      return {\r\n        title: \"💎 Premium Supporter!\",\r\n        message: \"Your wonderful contribution helps us improve and expand our free services!\",\r\n        badge: \"premium\"\r\n      };\r\n    } else if (amount >= 10) {\r\n      return {\r\n        title: \"🚀 Growth Supporter!\",\r\n        message: \"Your donation helps us reach more users and build better features!\",\r\n        badge: \"growth\"\r\n      };\r\n    } else if (amount >= 5) {\r\n      return {\r\n        title: \"🍕 Development Supporter!\",\r\n        message: \"Your support helps us keep the lights on and the code flowing!\",\r\n        badge: \"development\"\r\n      };\r\n    } else {\r\n      return {\r\n        title: \"☕ Coffee Supporter!\",\r\n        message: \"Every dollar counts! Your support helps us maintain this free service!\",\r\n        badge: \"coffee\"\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Save donation data to localStorage\r\n   */\r\n  saveDonationData() {\r\n    try {\r\n      const data = {\r\n        donationHistory: this.donationHistory,\r\n        totalDonated: this.totalDonated,\r\n        lastDonationDate: this.lastDonationDate\r\n      };\r\n      localStorage.setItem('quibish_donations', JSON.stringify(data));\r\n    } catch (error) {\r\n      console.error('Failed to save donation data:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load donation data from localStorage\r\n   */\r\n  loadDonationData() {\r\n    try {\r\n      const data = localStorage.getItem('quibish_donations');\r\n      if (data) {\r\n        const parsed = JSON.parse(data);\r\n        this.donationHistory = parsed.donationHistory || [];\r\n        this.totalDonated = parsed.totalDonated || 0;\r\n        this.lastDonationDate = parsed.lastDonationDate ? new Date(parsed.lastDonationDate) : null;\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load donation data:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get recent donations for display\r\n   */\r\n  getRecentDonations(limit = 5) {\r\n    return this.donationHistory.slice(0, limit);\r\n  }\r\n\r\n  /**\r\n   * Check if user is eligible for supporter badge\r\n   */\r\n  getSupporterBadge() {\r\n    const stats = this.getDonationStats();\r\n    \r\n    if (stats.total >= 100) return { level: 'champion', icon: '🏆', title: 'Champion Supporter' };\r\n    if (stats.total >= 50) return { level: 'super', icon: '🌟', title: 'Super Supporter' };\r\n    if (stats.total >= 25) return { level: 'premium', icon: '💎', title: 'Premium Supporter' };\r\n    if (stats.total >= 10) return { level: 'growth', icon: '🚀', title: 'Growth Supporter' };\r\n    if (stats.total >= 5) return { level: 'development', icon: '🍕', title: 'Development Supporter' };\r\n    if (stats.total >= 1) return { level: 'coffee', icon: '☕', title: 'Coffee Supporter' };\r\n    \r\n    return null;\r\n  }\r\n}\r\n\r\n// Create and export singleton instance\r\nconst donationService = new DonationService();\r\nexport default donationService;","/**\r\n * Donation Modal Component\r\n * Encourages users to support the free app with donations\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport donationService from '../../services/donationService';\r\nimport './DonationModal.css';\r\n\r\nconst DonationModal = ({ isOpen, onClose, userStats = {}, darkMode = false, trigger = 'manual' }) => {\r\n  const [selectedAmount, setSelectedAmount] = useState(5);\r\n  const [customAmount, setCustomAmount] = useState('');\r\n  const [donationMessage, setDonationMessage] = useState('');\r\n  const [paymentMethod, setPaymentMethod] = useState('card');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [showThankYou, setShowThankYou] = useState(false);\r\n  const [donationResult, setDonationResult] = useState(null);\r\n  const [donationStats, setDonationStats] = useState(null);\r\n\r\n  // Load donation stats and messaging\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      const stats = donationService.getDonationStats();\r\n      setDonationStats(stats);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const donationAmounts = donationService.getDonationAmounts();\r\n  const messageData = donationService.getDonationMessage(userStats);\r\n\r\n  const handleAmountSelect = (amount) => {\r\n    setSelectedAmount(amount);\r\n    setCustomAmount('');\r\n  };\r\n\r\n  const handleCustomAmountChange = (e) => {\r\n    const value = e.target.value.replace(/[^0-9.]/g, '');\r\n    setCustomAmount(value);\r\n    if (value) {\r\n      setSelectedAmount(parseFloat(value));\r\n    }\r\n  };\r\n\r\n  const handleDonate = async () => {\r\n    const amount = customAmount ? parseFloat(customAmount) : selectedAmount;\r\n    \r\n    if (!amount || amount < 1) {\r\n      alert('Please enter a valid donation amount ($1 minimum)');\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n\r\n    try {\r\n      const result = await donationService.processDonation(amount, donationMessage, paymentMethod);\r\n      setDonationResult(result);\r\n      \r\n      if (result.success) {\r\n        setShowThankYou(true);\r\n        // Auto close after showing thank you\r\n        setTimeout(() => {\r\n          onClose();\r\n          setShowThankYou(false);\r\n          setDonationResult(null);\r\n        }, 5000);\r\n      }\r\n    } catch (error) {\r\n      console.error('Donation error:', error);\r\n      setDonationResult({\r\n        success: false,\r\n        message: 'Something went wrong. Please try again.'\r\n      });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    if (!isProcessing) {\r\n      onClose();\r\n      // Reset state\r\n      setTimeout(() => {\r\n        setShowThankYou(false);\r\n        setDonationResult(null);\r\n        setSelectedAmount(5);\r\n        setCustomAmount('');\r\n        setDonationMessage('');\r\n      }, 300);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className={`donation-modal-overlay ${darkMode ? 'dark' : ''}`}>\r\n      <div className=\"donation-modal\">\r\n        {showThankYou && donationResult?.success ? (\r\n          /* Thank You Screen */\r\n          <div className=\"donation-thank-you\">\r\n            <div className=\"thank-you-header\">\r\n              <div className=\"thank-you-icon\">🙏</div>\r\n              <h2>{donationService.getThankYouMessage(selectedAmount).title}</h2>\r\n              <p>{donationService.getThankYouMessage(selectedAmount).message}</p>\r\n            </div>\r\n            \r\n            <div className=\"donation-receipt\">\r\n              <div className=\"receipt-item\">\r\n                <span>Donation Amount:</span>\r\n                <span className=\"amount\">${selectedAmount}</span>\r\n              </div>\r\n              <div className=\"receipt-item\">\r\n                <span>Transaction ID:</span>\r\n                <span className=\"transaction-id\">{donationResult.donation?.transactionId}</span>\r\n              </div>\r\n              <div className=\"receipt-item\">\r\n                <span>Date:</span>\r\n                <span>{new Date().toLocaleDateString()}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"supporter-badge\">\r\n              <div className=\"badge-icon\">{donationService.getThankYouMessage(selectedAmount).badge === 'champion' ? '🏆' : \r\n                                          donationService.getThankYouMessage(selectedAmount).badge === 'super' ? '🌟' : \r\n                                          donationService.getThankYouMessage(selectedAmount).badge === 'premium' ? '💎' : \r\n                                          donationService.getThankYouMessage(selectedAmount).badge === 'growth' ? '🚀' : \r\n                                          donationService.getThankYouMessage(selectedAmount).badge === 'development' ? '🍕' : '☕'}</div>\r\n              <p>You're now a <strong>{donationService.getThankYouMessage(selectedAmount).title}</strong>!</p>\r\n            </div>\r\n\r\n            <button className=\"close-thank-you-btn\" onClick={handleClose}>\r\n              Continue Using App\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          /* Donation Form */\r\n          <>\r\n            {/* Header */}\r\n            <div className=\"donation-header\">\r\n              <div>\r\n                <h2>{messageData.title}</h2>\r\n                <p className=\"donation-subtitle\">{messageData.subtitle}</p>\r\n              </div>\r\n              <button className=\"close-btn\" onClick={handleClose} disabled={isProcessing}>\r\n                ✕\r\n              </button>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"donation-content\">\r\n              {/* Impact Statement */}\r\n              <div className=\"impact-statement\">\r\n                <div className=\"impact-item\">\r\n                  <span className=\"impact-icon\">📞</span>\r\n                  <div>\r\n                    <strong>Free Calling</strong>\r\n                    <p>Keep international calling free for everyone</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"impact-item\">\r\n                  <span className=\"impact-icon\">🚀</span>\r\n                  <div>\r\n                    <strong>New Features</strong>\r\n                    <p>Fund development of exciting new capabilities</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"impact-item\">\r\n                  <span className=\"impact-icon\">🌍</span>\r\n                  <div>\r\n                    <strong>Global Reach</strong>\r\n                    <p>Help us serve users worldwide</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Donation Amounts */}\r\n              <div className=\"donation-amounts\">\r\n                <h3>Choose an amount:</h3>\r\n                <div className=\"amount-grid\">\r\n                  {donationAmounts.map((option) => (\r\n                    <button\r\n                      key={option.amount}\r\n                      className={`amount-btn ${selectedAmount === option.amount && !customAmount ? 'selected' : ''} ${option.popular ? 'popular' : ''}`}\r\n                      onClick={() => handleAmountSelect(option.amount)}\r\n                      disabled={isProcessing}\r\n                    >\r\n                      {option.popular && <span className=\"popular-badge\">Most Popular</span>}\r\n                      <span className=\"amount-label\">{option.label}</span>\r\n                      <span className=\"amount-description\">{option.description}</span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Custom Amount */}\r\n                <div className=\"custom-amount\">\r\n                  <label>Or enter a custom amount:</label>\r\n                  <div className=\"custom-input-group\">\r\n                    <span className=\"currency-symbol\">$</span>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"0.00\"\r\n                      value={customAmount}\r\n                      onChange={handleCustomAmountChange}\r\n                      disabled={isProcessing}\r\n                      className=\"custom-amount-input\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Optional Message */}\r\n              <div className=\"donation-message\">\r\n                <label>Leave a message (optional):</label>\r\n                <textarea\r\n                  placeholder=\"Thanks for creating this amazing free app!\"\r\n                  value={donationMessage}\r\n                  onChange={(e) => setDonationMessage(e.target.value)}\r\n                  disabled={isProcessing}\r\n                  maxLength={200}\r\n                />\r\n                <div className=\"character-count\">{donationMessage.length}/200</div>\r\n              </div>\r\n\r\n              {/* Payment Method */}\r\n              <div className=\"payment-method\">\r\n                <label>Payment method:</label>\r\n                <div className=\"payment-options\">\r\n                  <button\r\n                    className={`payment-btn ${paymentMethod === 'card' ? 'selected' : ''}`}\r\n                    onClick={() => setPaymentMethod('card')}\r\n                    disabled={isProcessing}\r\n                  >\r\n                    💳 Credit Card\r\n                  </button>\r\n                  <button\r\n                    className={`payment-btn ${paymentMethod === 'paypal' ? 'selected' : ''}`}\r\n                    onClick={() => setPaymentMethod('paypal')}\r\n                    disabled={isProcessing}\r\n                  >\r\n                    🅿️ PayPal\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Error Display */}\r\n              {donationResult && !donationResult.success && (\r\n                <div className=\"donation-error\">\r\n                  <span className=\"error-icon\">⚠️</span>\r\n                  <span>{donationResult.message}</span>\r\n                </div>\r\n              )}\r\n\r\n              {/* Donation Button */}\r\n              <div className=\"donation-actions\">\r\n                <button\r\n                  className=\"donate-btn\"\r\n                  onClick={handleDonate}\r\n                  disabled={isProcessing || (!selectedAmount && !customAmount)}\r\n                >\r\n                  {isProcessing ? (\r\n                    <>\r\n                      <span className=\"loading-spinner\"></span>\r\n                      Processing...\r\n                    </>\r\n                  ) : (\r\n                    <>💝 Donate ${customAmount || selectedAmount}</>\r\n                  )}\r\n                </button>\r\n                \r\n                <p className=\"donation-note\">\r\n                  🔒 Secure payment • 💝 100% goes to app development • 🙏 Thank you!\r\n                </p>\r\n              </div>\r\n\r\n              {/* Stats (if available) */}\r\n              {donationStats && (\r\n                <div className=\"donation-stats\">\r\n                  <p className=\"stats-text\">\r\n                    💰 Community has donated <strong>${donationStats.yearly}</strong> this year\r\n                    {donationStats.donationCount > 0 && (\r\n                      <> • 🎉 <strong>{donationStats.donationCount}</strong> supporters</>\r\n                    )}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DonationModal;","/**\r\n * Donation Prompt Component\r\n * Small, non-intrusive prompt to encourage donations\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport donationService from '../../services/donationService';\r\nimport './DonationPrompt.css';\r\n\r\nconst DonationPrompt = ({ \r\n  userStats = {}, \r\n  darkMode = false, \r\n  onOpenDonation, \r\n  position = 'bottom-right',\r\n  autoShow = true \r\n}) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [isDismissed, setIsDismissed] = useState(false);\r\n  const [supporterBadge, setSupporterBadge] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (autoShow && !isDismissed) {\r\n      // Check if user should see donation prompt\r\n      const shouldShow = donationService.shouldShowDonationPrompt(userStats);\r\n      if (shouldShow) {\r\n        // Show after a delay to not be intrusive\r\n        const timer = setTimeout(() => {\r\n          setIsVisible(true);\r\n        }, 10000); // Show after 10 seconds of usage\r\n\r\n        return () => clearTimeout(timer);\r\n      }\r\n    }\r\n\r\n    // Check for supporter badge\r\n    const badge = donationService.getSupporterBadge();\r\n    setSupporterBadge(badge);\r\n  }, [userStats, autoShow, isDismissed]);\r\n\r\n  const handleDismiss = () => {\r\n    setIsVisible(false);\r\n    setIsDismissed(true);\r\n    // Don't show again for this session\r\n    sessionStorage.setItem('donation_prompt_dismissed', 'true');\r\n  };\r\n\r\n  const handleDonate = () => {\r\n    setIsVisible(false);\r\n    if (onOpenDonation) {\r\n      onOpenDonation();\r\n    }\r\n  };\r\n\r\n  // Don't show if already dismissed this session\r\n  useEffect(() => {\r\n    const dismissed = sessionStorage.getItem('donation_prompt_dismissed');\r\n    if (dismissed) {\r\n      setIsDismissed(true);\r\n    }\r\n  }, []);\r\n\r\n  if (isDismissed) {\r\n    // Show supporter badge if user has donated\r\n    return supporterBadge ? (\r\n      <div className={`supporter-badge-display ${position} ${darkMode ? 'dark' : ''}`}>\r\n        <div className=\"badge-content\">\r\n          <span className=\"badge-icon\">{supporterBadge.icon}</span>\r\n          <span className=\"badge-title\">{supporterBadge.title}</span>\r\n        </div>\r\n      </div>\r\n    ) : null;\r\n  }\r\n\r\n  if (!isVisible) return null;\r\n\r\n  const messageData = donationService.getDonationMessage(userStats);\r\n\r\n  return (\r\n    <div className={`donation-prompt ${position} ${darkMode ? 'dark' : ''}`}>\r\n      <div className=\"prompt-content\">\r\n        <div className=\"prompt-header\">\r\n          <div className=\"prompt-icon\">💝</div>\r\n          <div className=\"prompt-text\">\r\n            <div className=\"prompt-title\">Love this free app?</div>\r\n            <div className=\"prompt-subtitle\">Help us keep it free for everyone!</div>\r\n          </div>\r\n          <button className=\"prompt-close\" onClick={handleDismiss}>✕</button>\r\n        </div>\r\n        \r\n        <div className=\"prompt-actions\">\r\n          <button className=\"donate-now-btn\" onClick={handleDonate}>\r\n            💝 Donate\r\n          </button>\r\n          <button className=\"maybe-later-btn\" onClick={handleDismiss}>\r\n            Maybe Later\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"prompt-stats\">\r\n        💰 Help us reach our goal of keeping this 100% free!\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DonationPrompt;","/**\r\n * Enhanced Message Service with End-to-End Encryption Support\r\n * Extends the existing messageService with encryption capabilities\r\n */\r\n\r\nimport messageService from './messageService';\r\nimport encryptionService from './encryptionService';\r\n\r\nclass EncryptedMessageService {\r\n  constructor() {\r\n    this.originalMessageService = messageService;\r\n    this.encryptionEnabled = false;\r\n  }\r\n\r\n  /**\r\n   * Initialize encryption for the current user\r\n   */\r\n  async initializeEncryption(userId) {\r\n    try {\r\n      const success = await encryptionService.initialize(userId);\r\n      this.encryptionEnabled = success;\r\n      console.log(`🔒 Encryption ${success ? 'enabled' : 'disabled'} for user:`, userId);\r\n      return success;\r\n    } catch (error) {\r\n      console.error('❌ Failed to initialize encryption:', error);\r\n      this.encryptionEnabled = false;\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Send a message with optional encryption\r\n   */\r\n  async sendMessage(messageData, options = {}) {\r\n    try {\r\n      const { \r\n        encrypt = true, \r\n        recipientId = null, \r\n        conversationParticipants = [] \r\n      } = options;\r\n\r\n      // If encryption is enabled and requested\r\n      if (this.encryptionEnabled && encrypt) {\r\n        if (recipientId) {\r\n          // Direct message encryption\r\n          return await this.sendEncryptedDirectMessage(messageData, recipientId);\r\n        } else if (conversationParticipants.length > 0) {\r\n          // Group message encryption\r\n          return await this.sendEncryptedGroupMessage(messageData, conversationParticipants);\r\n        }\r\n      }\r\n\r\n      // Fall back to regular unencrypted message\r\n      return await this.originalMessageService.sendMessage(messageData);\r\n    } catch (error) {\r\n      console.error('❌ Failed to send message:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Send encrypted direct message\r\n   */\r\n  async sendEncryptedDirectMessage(messageData, recipientId) {\r\n    try {\r\n      // Check if we can encrypt for this user\r\n      if (!encryptionService.canEncryptForUser(recipientId)) {\r\n        throw new Error(`Cannot encrypt for user ${recipientId} - no public key available`);\r\n      }\r\n\r\n      // Encrypt the message content\r\n      const encryptedData = await encryptionService.encryptMessage(\r\n        messageData.text, \r\n        recipientId\r\n      );\r\n\r\n      // Send encrypted message to server\r\n      const serverMessage = {\r\n        ...messageData,\r\n        text: '[Encrypted Message]', // Placeholder text for server\r\n        encryptedContent: encryptedData.encryptedContent,\r\n        isEncrypted: true,\r\n        recipientId: recipientId,\r\n        messageType: 'encrypted'\r\n      };\r\n\r\n      const response = await this.originalMessageService.sendMessage(serverMessage);\r\n      \r\n      // Return the original unencrypted content for local display\r\n      return {\r\n        ...response,\r\n        text: messageData.text,\r\n        isEncrypted: true,\r\n        encryptionStatus: 'sent'\r\n      };\r\n    } catch (error) {\r\n      console.error('❌ Failed to send encrypted direct message:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Send encrypted group message\r\n   */\r\n  async sendEncryptedGroupMessage(messageData, participants) {\r\n    try {\r\n      // Encrypt for all participants (except sender)\r\n      const encryptedForGroup = await encryptionService.encryptForGroup(\r\n        messageData.text, \r\n        participants\r\n      );\r\n\r\n      // Send to server with encrypted payloads\r\n      const serverMessage = {\r\n        ...messageData,\r\n        text: '[Encrypted Group Message]',\r\n        encryptedPayloads: encryptedForGroup.encryptedPayloads,\r\n        isGroupEncrypted: true,\r\n        messageType: 'group_encrypted'\r\n      };\r\n\r\n      const response = await this.originalMessageService.sendMessage(serverMessage);\r\n      \r\n      return {\r\n        ...response,\r\n        text: messageData.text,\r\n        isEncrypted: true,\r\n        encryptionStatus: 'sent'\r\n      };\r\n    } catch (error) {\r\n      console.error('❌ Failed to send encrypted group message:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Receive and decrypt messages\r\n   */\r\n  async getMessages(options = {}) {\r\n    try {\r\n      const messages = await this.originalMessageService.getMessages(options);\r\n      \r\n      if (!this.encryptionEnabled) {\r\n        return messages;\r\n      }\r\n\r\n      // Decrypt encrypted messages\r\n      const decryptedMessages = await Promise.all(\r\n        messages.map(message => this.decryptMessageIfNeeded(message))\r\n      );\r\n\r\n      return decryptedMessages;\r\n    } catch (error) {\r\n      console.error('❌ Failed to get and decrypt messages:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Decrypt a message if it's encrypted\r\n   */\r\n  async decryptMessageIfNeeded(message) {\r\n    try {\r\n      // Check if message is encrypted\r\n      if (!message.isEncrypted && !message.encryptedContent) {\r\n        return message;\r\n      }\r\n\r\n      // Decrypt direct message\r\n      if (message.encryptedContent) {\r\n        const decryptedData = await encryptionService.decryptMessage({\r\n          encryptedContent: message.encryptedContent,\r\n          senderId: message.senderId,\r\n          timestamp: message.timestamp\r\n        });\r\n\r\n        return {\r\n          ...message,\r\n          text: decryptedData.content,\r\n          isEncrypted: true,\r\n          encryptionStatus: decryptedData.decryptionError ? 'failed' : 'decrypted'\r\n        };\r\n      }\r\n\r\n      // Decrypt group message\r\n      if (message.encryptedPayloads && message.encryptedPayloads[encryptionService.userId]) {\r\n        const myEncryptedContent = message.encryptedPayloads[encryptionService.userId];\r\n        const decryptedData = await encryptionService.decryptMessage({\r\n          encryptedContent: myEncryptedContent,\r\n          senderId: message.senderId,\r\n          timestamp: message.timestamp\r\n        });\r\n\r\n        return {\r\n          ...message,\r\n          text: decryptedData.content,\r\n          isEncrypted: true,\r\n          encryptionStatus: decryptedData.decryptionError ? 'failed' : 'decrypted'\r\n        };\r\n      }\r\n\r\n      // If we can't decrypt, return with placeholder\r\n      return {\r\n        ...message,\r\n        text: '[Unable to decrypt message]',\r\n        isEncrypted: true,\r\n        encryptionStatus: 'failed'\r\n      };\r\n    } catch (error) {\r\n      console.error('❌ Failed to decrypt message:', error);\r\n      return {\r\n        ...message,\r\n        text: '[Decryption error]',\r\n        isEncrypted: true,\r\n        encryptionStatus: 'error'\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add a user's public key for encryption\r\n   */\r\n  async addUserPublicKey(userId, publicKeyBase64) {\r\n    try {\r\n      const success = await encryptionService.importPublicKey(userId, publicKeyBase64);\r\n      if (success) {\r\n        console.log(`✅ Added public key for user: ${userId}`);\r\n      }\r\n      return success;\r\n    } catch (error) {\r\n      console.error('❌ Failed to add user public key:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get our public key for sharing\r\n   */\r\n  async getPublicKeyForSharing() {\r\n    try {\r\n      return await encryptionService.getPublicKeyForSharing();\r\n    } catch (error) {\r\n      console.error('❌ Failed to get public key for sharing:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if encryption is available for a user\r\n   */\r\n  canEncryptForUser(userId) {\r\n    return this.encryptionEnabled && encryptionService.canEncryptForUser(userId);\r\n  }\r\n\r\n  /**\r\n   * Get encryption status\r\n   */\r\n  getEncryptionStatus() {\r\n    return {\r\n      enabled: this.encryptionEnabled,\r\n      serviceStatus: encryptionService.getStatus()\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Generate key fingerprint for verification\r\n   */\r\n  async generateKeyFingerprint(userId = null) {\r\n    try {\r\n      return await encryptionService.generateKeyFingerprint(userId);\r\n    } catch (error) {\r\n      console.error('❌ Failed to generate fingerprint:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear encryption data (for logout)\r\n   */\r\n  clearEncryption() {\r\n    encryptionService.clearEncryptionData();\r\n    this.encryptionEnabled = false;\r\n    console.log('🧹 Cleared encryption data');\r\n  }\r\n\r\n  // Proxy methods to original message service\r\n  async editMessage(messageId, newText) {\r\n    return await this.originalMessageService.editMessage(messageId, newText);\r\n  }\r\n\r\n  async deleteMessage(messageId) {\r\n    return await this.originalMessageService.deleteMessage(messageId);\r\n  }\r\n\r\n  async addReaction(messageId, reaction) {\r\n    return await this.originalMessageService.addReaction(messageId, reaction);\r\n  }\r\n\r\n  async removeReaction(messageId, reaction) {\r\n    return await this.originalMessageService.removeReaction(messageId, reaction);\r\n  }\r\n\r\n  // Event handling\r\n  onMessage(callback) {\r\n    // Wrap the callback to decrypt incoming messages\r\n    const wrappedCallback = async (message) => {\r\n      const decryptedMessage = await this.decryptMessageIfNeeded(message);\r\n      callback(decryptedMessage);\r\n    };\r\n    \r\n    return this.originalMessageService.onMessage(wrappedCallback);\r\n  }\r\n\r\n  onMessageUpdate(callback) {\r\n    const wrappedCallback = async (message) => {\r\n      const decryptedMessage = await this.decryptMessageIfNeeded(message);\r\n      callback(decryptedMessage);\r\n    };\r\n    \r\n    return this.originalMessageService.onMessageUpdate(wrappedCallback);\r\n  }\r\n\r\n  onMessageDelete(callback) {\r\n    return this.originalMessageService.onMessageDelete(callback);\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst encryptedMessageService = new EncryptedMessageService();\r\n\r\nexport default encryptedMessageService;","/**\r\n * Global Voice Call Service\r\n * Implements WebRTC peer-to-peer voice calling for worldwide connectivity\r\n */\r\n\r\nclass GlobalVoiceCallService {\r\n  constructor() {\r\n    this.localStream = null;\r\n    this.remoteStream = null;\r\n    this.peerConnection = null;\r\n    this.socket = null;\r\n    this.activeCall = null;\r\n    this.onlineUsers = new Map();\r\n    this.isConnected = false;\r\n    \r\n    // WebRTC configuration with public STUN servers\r\n    this.rtcConfig = {\r\n      iceServers: [\r\n        { urls: 'stun:stun.l.google.com:19302' },\r\n        { urls: 'stun:stun1.l.google.com:19302' },\r\n        { urls: 'stun:stun2.l.google.com:19302' },\r\n        { urls: 'stun:stun3.l.google.com:19302' },\r\n        { urls: 'stun:stun4.l.google.com:19302' },\r\n        // Free TURN servers for better connectivity\r\n        {\r\n          urls: 'turn:openrelay.metered.ca:80',\r\n          username: 'openrelayproject',\r\n          credential: 'openrelayproject'\r\n        },\r\n        {\r\n          urls: 'turn:openrelay.metered.ca:443',\r\n          username: 'openrelayproject',\r\n          credential: 'openrelayproject'\r\n        }\r\n      ],\r\n      iceCandidatePoolSize: 10\r\n    };\r\n\r\n    this.initializeSignaling();\r\n  }\r\n\r\n  /**\r\n   * Initialize WebSocket signaling connection\r\n   */\r\n  initializeSignaling() {\r\n    try {\r\n      // Connect to signaling server (will fallback if backend not available)\r\n      const wsUrl = process.env.NODE_ENV === 'production' \r\n        ? 'wss://your-domain.com/signaling'\r\n        : 'ws://localhost:5001/signaling';\r\n      \r\n      this.socket = new WebSocket(wsUrl);\r\n      \r\n      this.socket.onopen = () => {\r\n        console.log('Global voice call signaling connected');\r\n        this.isConnected = true;\r\n        this.registerUser();\r\n      };\r\n\r\n      this.socket.onmessage = (event) => {\r\n        this.handleSignalingMessage(JSON.parse(event.data));\r\n      };\r\n\r\n      this.socket.onclose = () => {\r\n        console.log('Signaling connection closed, attempting reconnect...');\r\n        this.isConnected = false;\r\n        setTimeout(() => this.initializeSignaling(), 3000);\r\n      };\r\n\r\n      this.socket.onerror = (error) => {\r\n        console.warn('Signaling error, using local fallback:', error);\r\n        this.setupLocalFallback();\r\n      };\r\n\r\n    } catch (error) {\r\n      console.warn('WebSocket not available, using local fallback:', error);\r\n      this.setupLocalFallback();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Setup local fallback for testing without backend\r\n   */\r\n  setupLocalFallback() {\r\n    this.isConnected = false;\r\n    console.log('Using local fallback mode for voice calls');\r\n  }\r\n\r\n  /**\r\n   * Register current user with signaling server\r\n   */\r\n  registerUser() {\r\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n    if (this.socket && this.socket.readyState === WebSocket.OPEN) {\r\n      this.socket.send(JSON.stringify({\r\n        type: 'register',\r\n        userId: user.id || 'anonymous',\r\n        userData: {\r\n          name: user.name || 'Anonymous User',\r\n          avatar: user.avatar,\r\n          location: 'Unknown'\r\n        }\r\n      }));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle incoming signaling messages\r\n   */\r\n  handleSignalingMessage(message) {\r\n    switch (message.type) {\r\n      case 'user-list':\r\n        this.updateOnlineUsers(message.users);\r\n        break;\r\n      case 'call-offer':\r\n        this.handleIncomingCall(message);\r\n        break;\r\n      case 'call-answer':\r\n        this.handleCallAnswer(message);\r\n        break;\r\n      case 'ice-candidate':\r\n        this.handleIceCandidate(message);\r\n        break;\r\n      case 'call-end':\r\n        this.handleCallEnd(message);\r\n        break;\r\n      case 'user-joined':\r\n        this.onlineUsers.set(message.userId, message.userData);\r\n        break;\r\n      case 'user-left':\r\n        this.onlineUsers.delete(message.userId);\r\n        break;\r\n      default:\r\n        console.log('Unknown signaling message:', message);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update list of online users\r\n   */\r\n  updateOnlineUsers(users) {\r\n    this.onlineUsers.clear();\r\n    users.forEach(user => {\r\n      this.onlineUsers.set(user.id, user);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get list of users available for calls\r\n   */\r\n  getAvailableUsers() {\r\n    return Array.from(this.onlineUsers.values()).filter(user => {\r\n      const currentUser = JSON.parse(localStorage.getItem('user') || '{}');\r\n      return user.id !== currentUser.id;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initiate a voice call to another user\r\n   */\r\n  async initiateCall(targetUserId) {\r\n    try {\r\n      const targetUser = this.onlineUsers.get(targetUserId);\r\n      if (!targetUser) {\r\n        throw new Error('Target user not found or offline');\r\n      }\r\n\r\n      // Get user media (audio only for voice calls)\r\n      this.localStream = await navigator.mediaDevices.getUserMedia({\r\n        audio: {\r\n          echoCancellation: true,\r\n          noiseSuppression: true,\r\n          autoGainControl: true,\r\n          sampleRate: 48000\r\n        },\r\n        video: false\r\n      });\r\n\r\n      // Create peer connection\r\n      this.peerConnection = new RTCPeerConnection(this.rtcConfig);\r\n      this.setupPeerConnectionHandlers();\r\n\r\n      // Add local stream to peer connection\r\n      this.localStream.getTracks().forEach(track => {\r\n        this.peerConnection.addTrack(track, this.localStream);\r\n      });\r\n\r\n      // Create and send offer\r\n      const offer = await this.peerConnection.createOffer();\r\n      await this.peerConnection.setLocalDescription(offer);\r\n\r\n      if (this.socket && this.socket.readyState === WebSocket.OPEN) {\r\n        this.socket.send(JSON.stringify({\r\n          type: 'call-offer',\r\n          targetUserId: targetUserId,\r\n          offer: offer,\r\n          callId: this.generateCallId()\r\n        }));\r\n      } else {\r\n        // Local fallback - simulate call\r\n        return this.simulateLocalCall(targetUser);\r\n      }\r\n\r\n      this.activeCall = {\r\n        id: this.generateCallId(),\r\n        targetUser: targetUser,\r\n        status: 'calling',\r\n        startTime: Date.now(),\r\n        type: 'outgoing'\r\n      };\r\n\r\n      return this.activeCall;\r\n\r\n    } catch (error) {\r\n      console.error('Failed to initiate call:', error);\r\n      this.cleanup();\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle incoming call offer\r\n   */\r\n  async handleIncomingCall(message) {\r\n    try {\r\n      const confirmed = window.confirm(\r\n        `Incoming voice call from ${message.callerName || 'Unknown User'}. Accept?`\r\n      );\r\n\r\n      if (!confirmed) {\r\n        this.rejectCall(message.callId);\r\n        return;\r\n      }\r\n\r\n      // Get user media\r\n      this.localStream = await navigator.mediaDevices.getUserMedia({\r\n        audio: {\r\n          echoCancellation: true,\r\n          noiseSuppression: true,\r\n          autoGainControl: true\r\n        },\r\n        video: false\r\n      });\r\n\r\n      // Create peer connection\r\n      this.peerConnection = new RTCPeerConnection(this.rtcConfig);\r\n      this.setupPeerConnectionHandlers();\r\n\r\n      // Add local stream\r\n      this.localStream.getTracks().forEach(track => {\r\n        this.peerConnection.addTrack(track, this.localStream);\r\n      });\r\n\r\n      // Set remote description and create answer\r\n      await this.peerConnection.setRemoteDescription(message.offer);\r\n      const answer = await this.peerConnection.createAnswer();\r\n      await this.peerConnection.setLocalDescription(answer);\r\n\r\n      // Send answer\r\n      if (this.socket && this.socket.readyState === WebSocket.OPEN) {\r\n        this.socket.send(JSON.stringify({\r\n          type: 'call-answer',\r\n          callId: message.callId,\r\n          answer: answer\r\n        }));\r\n      }\r\n\r\n      this.activeCall = {\r\n        id: message.callId,\r\n        targetUser: message.callerData,\r\n        status: 'connected',\r\n        startTime: Date.now(),\r\n        type: 'incoming'\r\n      };\r\n\r\n    } catch (error) {\r\n      console.error('Failed to handle incoming call:', error);\r\n      this.rejectCall(message.callId);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle call answer\r\n   */\r\n  async handleCallAnswer(message) {\r\n    try {\r\n      if (this.peerConnection) {\r\n        await this.peerConnection.setRemoteDescription(message.answer);\r\n        if (this.activeCall) {\r\n          this.activeCall.status = 'connected';\r\n          this.activeCall.connectedTime = Date.now();\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to handle call answer:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle ICE candidate\r\n   */\r\n  async handleIceCandidate(message) {\r\n    try {\r\n      if (this.peerConnection && message.candidate) {\r\n        await this.peerConnection.addIceCandidate(message.candidate);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to handle ICE candidate:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Setup peer connection event handlers\r\n   */\r\n  setupPeerConnectionHandlers() {\r\n    this.peerConnection.onicecandidate = (event) => {\r\n      if (event.candidate && this.socket && this.socket.readyState === WebSocket.OPEN) {\r\n        this.socket.send(JSON.stringify({\r\n          type: 'ice-candidate',\r\n          candidate: event.candidate,\r\n          callId: this.activeCall?.id\r\n        }));\r\n      }\r\n    };\r\n\r\n    this.peerConnection.ontrack = (event) => {\r\n      this.remoteStream = event.streams[0];\r\n      this.playRemoteStream();\r\n    };\r\n\r\n    this.peerConnection.onconnectionstatechange = () => {\r\n      const state = this.peerConnection.connectionState;\r\n      console.log('Connection state:', state);\r\n      \r\n      if (state === 'connected' && this.activeCall) {\r\n        this.activeCall.status = 'connected';\r\n      } else if (state === 'disconnected' || state === 'failed') {\r\n        this.endCall();\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Play remote audio stream\r\n   */\r\n  playRemoteStream() {\r\n    if (this.remoteStream) {\r\n      const audioElement = document.createElement('audio');\r\n      audioElement.srcObject = this.remoteStream;\r\n      audioElement.autoplay = true;\r\n      audioElement.style.display = 'none';\r\n      document.body.appendChild(audioElement);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * End the current call\r\n   */\r\n  endCall() {\r\n    if (this.socket && this.socket.readyState === WebSocket.OPEN && this.activeCall) {\r\n      this.socket.send(JSON.stringify({\r\n        type: 'call-end',\r\n        callId: this.activeCall.id\r\n      }));\r\n    }\r\n\r\n    this.cleanup();\r\n  }\r\n\r\n  /**\r\n   * Reject incoming call\r\n   */\r\n  rejectCall(callId) {\r\n    if (this.socket && this.socket.readyState === WebSocket.OPEN) {\r\n      this.socket.send(JSON.stringify({\r\n        type: 'call-reject',\r\n        callId: callId\r\n      }));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle call end\r\n   */\r\n  handleCallEnd(message) {\r\n    this.cleanup();\r\n  }\r\n\r\n  /**\r\n   * Cleanup call resources\r\n   */\r\n  cleanup() {\r\n    if (this.localStream) {\r\n      this.localStream.getTracks().forEach(track => track.stop());\r\n      this.localStream = null;\r\n    }\r\n\r\n    if (this.peerConnection) {\r\n      this.peerConnection.close();\r\n      this.peerConnection = null;\r\n    }\r\n\r\n    if (this.remoteStream) {\r\n      this.remoteStream = null;\r\n    }\r\n\r\n    // Remove any audio elements\r\n    document.querySelectorAll('audio[src*=\"blob:\"]').forEach(audio => {\r\n      audio.remove();\r\n    });\r\n\r\n    this.activeCall = null;\r\n  }\r\n\r\n  /**\r\n   * Generate unique call ID\r\n   */\r\n  generateCallId() {\r\n    return `call_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n  }\r\n\r\n  /**\r\n   * Simulate local call for testing without backend\r\n   */\r\n  simulateLocalCall(targetUser) {\r\n    const callId = this.generateCallId();\r\n    \r\n    setTimeout(() => {\r\n      const connected = window.confirm(\r\n        `Simulating call to ${targetUser.name}. Simulate successful connection?`\r\n      );\r\n      \r\n      if (connected) {\r\n        this.activeCall = {\r\n          id: callId,\r\n          targetUser: targetUser,\r\n          status: 'connected',\r\n          startTime: Date.now(),\r\n          type: 'simulated',\r\n          isSimulated: true\r\n        };\r\n        console.log('Simulated call connected:', this.activeCall);\r\n      } else {\r\n        this.activeCall = null;\r\n      }\r\n    }, 2000);\r\n\r\n    return {\r\n      id: callId,\r\n      targetUser: targetUser,\r\n      status: 'calling',\r\n      startTime: Date.now(),\r\n      type: 'simulated'\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get current call status\r\n   */\r\n  getCallStatus() {\r\n    return this.activeCall;\r\n  }\r\n\r\n  /**\r\n   * Check if user can make calls (has microphone access)\r\n   */\r\n  async canMakeCalls() {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      stream.getTracks().forEach(track => track.stop());\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get connection statistics\r\n   */\r\n  getConnectionStats() {\r\n    return {\r\n      isConnected: this.isConnected,\r\n      onlineUsers: this.onlineUsers.size,\r\n      hasActiveCall: !!this.activeCall,\r\n      connectionMode: this.isConnected ? 'global' : 'local'\r\n    };\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nconst globalVoiceCallService = new GlobalVoiceCallService();\r\nexport default globalVoiceCallService;","/**\r\n * Global Users Component\r\n * Shows users available for voice calls worldwide\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport './GlobalUsers.css';\r\nimport globalVoiceCallService from '../../services/globalVoiceCallService';\r\n\r\nconst GlobalUsers = ({ onStartCall, currentCall }) => {\r\n  const [availableUsers, setAvailableUsers] = useState([]);\r\n  const [connectionStats, setConnectionStats] = useState({});\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Load available users\r\n    loadAvailableUsers();\r\n\r\n    // Update connection stats\r\n    updateConnectionStats();\r\n\r\n    // Set up periodic updates\r\n    const interval = setInterval(() => {\r\n      loadAvailableUsers();\r\n      updateConnectionStats();\r\n    }, 5000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const loadAvailableUsers = () => {\r\n    const users = globalVoiceCallService.getAvailableUsers();\r\n    setAvailableUsers(users);\r\n  };\r\n\r\n  const updateConnectionStats = () => {\r\n    const stats = globalVoiceCallService.getConnectionStats();\r\n    setConnectionStats(stats);\r\n  };\r\n\r\n  const handleStartCall = async (targetUser) => {\r\n    try {\r\n      const call = await globalVoiceCallService.initiateCall(targetUser.id);\r\n      onStartCall?.(call);\r\n    } catch (error) {\r\n      alert(`Failed to start call: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const filteredUsers = availableUsers.filter(user =>\r\n    user.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    user.location.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className={`global-users ${isExpanded ? 'expanded' : ''}`}>\r\n      {/* Header */}\r\n      <div className=\"global-users-header\" onClick={() => setIsExpanded(!isExpanded)}>\r\n        <div className=\"header-info\">\r\n          <span className=\"title\">🌍 Global Voice Calls</span>\r\n          <div className=\"connection-status\">\r\n            <span className={`status-indicator ${connectionStats.isConnected ? 'connected' : 'local'}`}>\r\n              {connectionStats.isConnected ? 'Connected' : 'Local Mode'}\r\n            </span>\r\n            <span className=\"user-count\">{availableUsers.length} users</span>\r\n          </div>\r\n        </div>\r\n        <button className=\"expand-button\">\r\n          {isExpanded ? '▼' : '▶'}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      {isExpanded && (\r\n        <div className=\"global-users-content\">\r\n          {/* Search */}\r\n          <div className=\"search-section\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search users by name or location...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"user-search\"\r\n            />\r\n          </div>\r\n\r\n          {/* Connection Info */}\r\n          <div className=\"connection-info\">\r\n            <div className=\"info-item\">\r\n              <span className=\"info-label\">Mode:</span>\r\n              <span className=\"info-value\">\r\n                {connectionStats.connectionMode || 'local'}\r\n              </span>\r\n            </div>\r\n            <div className=\"info-item\">\r\n              <span className=\"info-label\">Available:</span>\r\n              <span className=\"info-value\">{connectionStats.onlineUsers} users</span>\r\n            </div>\r\n            {connectionStats.hasActiveCall && (\r\n              <div className=\"info-item active-call\">\r\n                <span className=\"info-label\">Status:</span>\r\n                <span className=\"info-value\">📞 In Call</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Users List */}\r\n          <div className=\"users-list\">\r\n            {filteredUsers.length === 0 ? (\r\n              <div className=\"no-users\">\r\n                {searchQuery ? (\r\n                  <p>No users found matching \"{searchQuery}\"</p>\r\n                ) : connectionStats.isConnected ? (\r\n                  <p>No users currently online</p>\r\n                ) : (\r\n                  <div className=\"local-mode-message\">\r\n                    <p>🔧 Running in local mode</p>\r\n                    <p>No users currently online</p>\r\n                    <small>Backend signaling server not available</small>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              filteredUsers.map(user => (\r\n                <div key={user.id} className=\"user-item\">\r\n                  <div className=\"user-avatar\">\r\n                    <img \r\n                      src={user.avatar} \r\n                      alt={user.name}\r\n                      onError={(e) => {\r\n                        e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(user.name)}&background=4f46e5&color=fff&size=40`;\r\n                      }}\r\n                    />\r\n                    <div className=\"user-status-indicator online\"></div>\r\n                  </div>\r\n                  \r\n                  <div className=\"user-info\">\r\n                    <div className=\"user-name\">{user.name}</div>\r\n                    <div className=\"user-details\">\r\n                      <span className=\"user-location\">📍 {user.location}</span>\r\n                      <span className=\"user-status\">🟢 Online</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"user-actions\">\r\n                    <button\r\n                      className=\"call-button\"\r\n                      onClick={() => handleStartCall(user)}\r\n                      disabled={!!currentCall}\r\n                      title={currentCall ? 'Already in a call' : `Call ${user.name}`}\r\n                    >\r\n                      {currentCall ? '📞' : '📞'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"global-users-footer\">\r\n            <button \r\n              className=\"refresh-button\"\r\n              onClick={loadAvailableUsers}\r\n              title=\"Refresh user list\"\r\n            >\r\n              🔄 Refresh\r\n            </button>\r\n            <div className=\"connection-help\">\r\n              <small>\r\n                {connectionStats.isConnected \r\n                  ? 'Connected to global network' \r\n                  : 'Local mode - no users online'\r\n                }\r\n              </small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GlobalUsers;","import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001';\r\n\r\nclass FeedbackService {\r\n  constructor() {\r\n    this.api = axios.create({\r\n      baseURL: `${API_BASE_URL}/api/feedback`,\r\n      timeout: 10000,\r\n    });\r\n\r\n    // Add request interceptor for authentication\r\n    this.api.interceptors.request.use(\r\n      (config) => {\r\n        const token = localStorage.getItem('authToken');\r\n        if (token) {\r\n          config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n      },\r\n      (error) => {\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n\r\n    // Add response interceptor for error handling\r\n    this.api.interceptors.response.use(\r\n      (response) => response,\r\n      (error) => {\r\n        console.error('Feedback API Error:', error);\r\n        \r\n        if (error.response?.status === 401) {\r\n          console.warn('Unauthorized feedback request');\r\n          // Don't redirect for feedback - it can be anonymous\r\n        }\r\n        \r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Submit user feedback\r\n   * @param {Object} feedbackData - The feedback data to submit\r\n   * @returns {Promise<Object>} The submission response\r\n   */\r\n  async submitFeedback(feedbackData) {\r\n    try {\r\n      console.log('📝 Submitting feedback:', {\r\n        type: feedbackData.type,\r\n        title: feedbackData.title,\r\n        hasEmail: !!feedbackData.email,\r\n        rating: feedbackData.rating,\r\n        priority: feedbackData.priority\r\n      });\r\n\r\n      const response = await this.api.post('/', feedbackData);\r\n      \r\n      console.log('✅ Feedback submitted successfully:', response.data);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Failed to submit feedback:', error);\r\n      \r\n      if (error.response?.data) {\r\n        throw new Error(error.response.data.message || 'Failed to submit feedback');\r\n      } else if (error.code === 'ECONNREFUSED') {\r\n        throw new Error('Unable to connect to feedback service. Please try again later.');\r\n      } else {\r\n        throw new Error('An unexpected error occurred. Please try again.');\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get feedback statistics (admin only)\r\n   * @returns {Promise<Object>} The feedback statistics\r\n   */\r\n  async getFeedbackStats() {\r\n    try {\r\n      const response = await this.api.get('/stats');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Failed to fetch feedback stats:', error);\r\n      throw new Error('Failed to fetch feedback statistics');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get feedback list (admin only)\r\n   * @param {Object} params - Query parameters for filtering\r\n   * @returns {Promise<Object>} The feedback list\r\n   */\r\n  async getFeedbackList(params = {}) {\r\n    try {\r\n      const response = await this.api.get('/', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Failed to fetch feedback list:', error);\r\n      throw new Error('Failed to fetch feedback list');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate feedback data before submission\r\n   * @param {Object} feedbackData - The feedback data to validate\r\n   * @returns {Object} Validation result with errors if any\r\n   */\r\n  validateFeedback(feedbackData) {\r\n    const errors = {};\r\n\r\n    if (!feedbackData.type) {\r\n      errors.type = 'Feedback type is required';\r\n    }\r\n\r\n    if (!feedbackData.title || feedbackData.title.trim().length === 0) {\r\n      errors.title = 'Title is required';\r\n    }\r\n\r\n    if (!feedbackData.description || feedbackData.description.trim().length < 10) {\r\n      errors.description = 'Description must be at least 10 characters';\r\n    }\r\n\r\n    if (feedbackData.email && !/\\S+@\\S+\\.\\S+/.test(feedbackData.email)) {\r\n      errors.email = 'Please enter a valid email address';\r\n    }\r\n\r\n    if (feedbackData.rating && (feedbackData.rating < 1 || feedbackData.rating > 5)) {\r\n      errors.rating = 'Rating must be between 1 and 5';\r\n    }\r\n\r\n    if (feedbackData.type === 'bug' && !feedbackData.category) {\r\n      errors.category = 'Category is required for bug reports';\r\n    }\r\n\r\n    return {\r\n      isValid: Object.keys(errors).length === 0,\r\n      errors\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Format feedback data for submission\r\n   * @param {Object} feedbackData - Raw feedback data\r\n   * @returns {Object} Formatted feedback data\r\n   */\r\n  formatFeedbackData(feedbackData) {\r\n    return {\r\n      type: feedbackData.type,\r\n      title: feedbackData.title?.trim(),\r\n      description: feedbackData.description?.trim(),\r\n      email: feedbackData.email?.trim() || null,\r\n      rating: feedbackData.rating || null,\r\n      category: feedbackData.category || null,\r\n      priority: feedbackData.priority || 'medium',\r\n      attachments: feedbackData.attachments || [],\r\n      timestamp: feedbackData.timestamp || new Date().toISOString(),\r\n      userAgent: feedbackData.userAgent || navigator.userAgent,\r\n      url: feedbackData.url || window.location.href\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get feedback type configuration\r\n   * @returns {Array} Array of feedback type configurations\r\n   */\r\n  getFeedbackTypes() {\r\n    return [\r\n      { value: 'bug', label: 'Bug Report', icon: '🐛', color: '#ff4757' },\r\n      { value: 'feature', label: 'Feature Request', icon: '💡', color: '#3742fa' },\r\n      { value: 'improvement', label: 'Improvement', icon: '⚡', color: '#2ed573' },\r\n      { value: 'general', label: 'General Feedback', icon: '💬', color: '#5352ed' },\r\n      { value: 'question', label: 'Question', icon: '❓', color: '#ff6b35' },\r\n      { value: 'compliment', label: 'Compliment', icon: '🎉', color: '#26de81' }\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Get categories for a specific feedback type\r\n   * @param {string} feedbackType - The feedback type\r\n   * @returns {Array} Array of categories for the type\r\n   */\r\n  getCategoriesForType(feedbackType) {\r\n    const categories = {\r\n      bug: ['UI/UX', 'Performance', 'Authentication', 'Messaging', 'Profile', 'Mobile', 'Other'],\r\n      feature: ['Chat Features', 'Profile Features', 'Mobile App', 'Integrations', 'Settings', 'Other'],\r\n      improvement: ['Speed', 'Design', 'Usability', 'Accessibility', 'Mobile Experience', 'Other'],\r\n      general: ['Overall Experience', 'Design', 'Performance', 'Features', 'Support', 'Other'],\r\n      question: ['How to Use', 'Account', 'Features', 'Technical', 'Billing', 'Other'],\r\n      compliment: ['Design', 'Features', 'Performance', 'Support', 'Overall', 'Other']\r\n    };\r\n\r\n    return categories[feedbackType] || [];\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const feedbackService = new FeedbackService();\r\nexport default feedbackService;","import React, { useState, useCallback, useMemo, useRef, useEffect } from 'react';\r\nimport UserProfileModal from '../UserProfile/UserProfileModal';\r\nimport SettingsModal from './SettingsModal';\r\nimport VideoCall from './VideoCall';\r\nimport GifPicker from '../GifPicker/GifPicker';\r\nimport NewChatModal from '../NewChat/NewChatModal';\r\nimport FeedbackModal from './FeedbackModal';\r\nimport HelpModal from './HelpModal';\r\nimport NativeCamera from '../NativeFeatures/NativeCamera';\r\nimport NativeContactPicker from '../NativeFeatures/NativeContactPicker';\r\nimport ContactManager from '../Contacts/ContactManager';\r\nimport InternationalDialer from '../Voice/InternationalDialer';\r\nimport DonationModal from '../Donation/DonationModal';\r\nimport DonationPrompt from '../Donation/DonationPrompt';\r\nimport messageService from '../../services/messageService';\r\nimport encryptedMessageService from '../../services/encryptedMessageService';\r\nimport enhancedVoiceCallService from '../../services/enhancedVoiceCallService';\r\nimport globalVoiceCallService from '../../services/globalVoiceCallService';\r\nimport GlobalUsers from '../Voice/GlobalUsers';\r\nimport connectionService from '../../services/connectionService';\r\nimport nativeDeviceFeaturesService from '../../services/nativeDeviceFeaturesService';\r\nimport { feedbackService } from '../../services/feedbackService';\r\nimport { contactService } from '../../services/contactService';\r\nimport PropTypes from 'prop-types';\r\n\r\n// CSS imports\r\nimport './ProLayout.css';\r\nimport './ProMessages.css';\r\nimport '../../styles/DynamicBackground.css';\r\nimport './ProSidebar.css';\r\nimport './ProHeader.css';\r\nimport './ProChat.css';\r\nimport './ResponsiveFix.css';\r\nimport './EncryptionStyles.css';\r\n\r\nconst ProChat = ({ \r\n  user = { id: 'user1', name: 'Current User', avatar: null },\r\n  conversations = [],\r\n  currentConversation = null,\r\n  onLogout = () => {},\r\n  darkMode = false,\r\n  onToggleDarkMode = () => {}\r\n}) => {\r\n  // Basic state\r\n  const [isConnected] = useState(true);\r\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\r\n  const [selectedConversation, setSelectedConversation] = useState(conversations[0]?.id || null);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [activeFilter, setActiveFilter] = useState('all');\r\n  \r\n  // Enhanced input state\r\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\r\n  const [avatarError, setAvatarError] = useState(false);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [recordingDuration, setRecordingDuration] = useState(0);\r\n  const [mobileGlobalVoiceModal, setMobileGlobalVoiceModal] = useState(false);\r\n  const [lightboxModal, setLightboxModal] = useState({ \r\n    open: false, \r\n    imageUrl: null, \r\n    imageName: null,\r\n    zoom: 1,\r\n    pan: { x: 0, y: 0 },\r\n    isDragging: false,\r\n    currentIndex: 0,\r\n    images: [],\r\n    isLoading: false\r\n  });\r\n  \r\n  // Video lightbox state\r\n  const [videoLightboxModal, setVideoLightboxModal] = useState({\r\n    open: false,\r\n    videoUrl: null,\r\n    videoName: null,\r\n    poster: null,\r\n    type: null\r\n  });\r\n\r\n  // GIF picker state\r\n  const [showGifPicker, setShowGifPicker] = useState(false);\r\n  const [showMoreMenu, setShowMoreMenu] = useState(false);\r\n\r\n  // Native features state\r\n  const [showNativeCamera, setShowNativeCamera] = useState(false);\r\n  const [showContactPicker, setShowContactPicker] = useState(false);\r\n  const [nativeCameraMode, setNativeCameraMode] = useState('photo'); // 'photo' or 'video'\r\n\r\n  // Contact manager state\r\n  const [showContactManager, setShowContactManager] = useState(false);\r\n  \r\n  // International dialer state\r\n  const [showCallOptions, setShowCallOptions] = useState(false);\r\n  const [showInternationalDialer, setShowInternationalDialer] = useState(false);\r\n\r\n  // Donation modal state\r\n  const [showDonationModal, setShowDonationModal] = useState(false);\r\n\r\n  // Encryption state\r\n  const [encryptionEnabled, setEncryptionEnabled] = useState(false);\r\n  const [encryptionStatus, setEncryptionStatus] = useState({ enabled: false });\r\n  const [defaultEncryption, setDefaultEncryption] = useState(true);\r\n\r\n  // Upload progress state\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [uploadProgress, setUploadProgress] = useState({\r\n    isUploading: false,\r\n    fileName: '',\r\n    progress: 0,\r\n    fileSize: 0,\r\n    uploadedSize: 0\r\n  });\r\n  \r\n  // Refs\r\n  const fileInputRef = useRef(null);\r\n  const mobileCameraPhotoRef = useRef(null);\r\n  const mobileCameraVideoRef = useRef(null);\r\n  const mobileGalleryRef = useRef(null);\r\n  const recordingTimerRef = useRef(null);\r\n  const messagesEndRef = useRef(null);\r\n  const messagesContainerRef = useRef(null);\r\n\r\n  // Chat messages state - loaded from database\r\n  const [chatMessages, setChatMessages] = useState([]);\r\n  const [messagesLoading, setMessagesLoading] = useState(true);\r\n  const [messagesError, setMessagesError] = useState(null);\r\n  \r\n  // Reaction system state - moved here to be available for functions\r\n  const [selectedMessageId, setSelectedMessageId] = useState(null);\r\n  const [showReactionPicker, setShowReactionPicker] = useState(false);\r\n  \r\n  // Computed value for current conversation based on selectedConversation\r\n  const currentSelectedConversation = selectedConversation \r\n    ? conversations.find(conv => conv.id === selectedConversation) || null\r\n    : null;\r\n  \r\n  // Load messages from database on component mount\r\n  useEffect(() => {\r\n    const loadMessages = async () => {\r\n      try {\r\n        setMessagesLoading(true);\r\n        setMessagesError(null);\r\n        \r\n        // Initialize encryption service first\r\n        try {\r\n          const encryptionInit = await encryptedMessageService.initializeEncryption(user.id);\r\n          setEncryptionEnabled(encryptionInit);\r\n          \r\n          if (encryptionInit) {\r\n            const status = encryptedMessageService.getEncryptionStatus();\r\n            setEncryptionStatus(status);\r\n            console.log('🔒 Encryption initialized for ProChat');\r\n          }\r\n        } catch (encryptError) {\r\n          console.warn('⚠️ Encryption initialization failed:', encryptError);\r\n          setEncryptionEnabled(false);\r\n        }\r\n        \r\n        // Load messages using encrypted service\r\n        const messages = await encryptedMessageService.getMessages({ limit: 50 });\r\n        \r\n        if (Array.isArray(messages)) {\r\n          setChatMessages(messages);\r\n        } else {\r\n          console.warn('Invalid messages format received:', messages);\r\n          setChatMessages([]);\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to load messages:', error);\r\n        setMessagesError('Failed to load messages');\r\n        \r\n        // Try to load from localStorage as fallback\r\n        try {\r\n          const cachedMessages = messageService.loadMessagesFromStorage();\r\n          if (Array.isArray(cachedMessages) && cachedMessages.length > 0) {\r\n            setChatMessages(cachedMessages);\r\n            console.log('Loaded messages from local storage');\r\n          }\r\n        } catch (storageError) {\r\n          console.error('Failed to load from storage:', storageError);\r\n        }\r\n      } finally {\r\n        setMessagesLoading(false);\r\n      }\r\n    };\r\n\r\n    loadMessages();\r\n  }, [user.id]);\r\n\r\n  // Auto-scroll to bottom function\r\n  const scrollToBottom = useCallback(() => {\r\n    if (messagesEndRef.current) {\r\n      messagesEndRef.current.scrollIntoView({ \r\n        behavior: 'smooth',\r\n        block: 'end'\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  // Auto-scroll when messages change\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [chatMessages, scrollToBottom]);\r\n\r\n  // Initialize connection monitoring\r\n  useEffect(() => {\r\n    const updateConnectionStatus = () => {\r\n      setConnectionStatus(connectionService.getConnectionStatus());\r\n    };\r\n\r\n    // Initial status\r\n    updateConnectionStatus();\r\n\r\n    // Update every 10 seconds\r\n    const interval = setInterval(updateConnectionStatus, 10000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // Auto-collapse sidebar on mobile screens (but preserve content)\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      // Only auto-collapse on very small screens (like phone portrait)\r\n      if (window.innerWidth <= 480) {\r\n        setSidebarCollapsed(true);\r\n        // Close mobile global voice modal if screen gets smaller\r\n        setMobileGlobalVoiceModal(false);\r\n      } else if (window.innerWidth > 768) {\r\n        // Auto-expand on larger screens and close mobile modal\r\n        setSidebarCollapsed(false);\r\n        setMobileGlobalVoiceModal(false);\r\n      }\r\n      // For tablets (481-768px), maintain current state but close mobile modal\r\n      if (window.innerWidth > 480) {\r\n        setMobileGlobalVoiceModal(false);\r\n      }\r\n    };\r\n\r\n    // Set initial state\r\n    handleResize();\r\n    \r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  // Manage body scroll lock when emoji picker is open on mobile\r\n  useEffect(() => {\r\n    const isMobile = window.innerWidth <= 480;\r\n    if (isMobile) {\r\n      if (showEmojiPicker || showReactionPicker) {\r\n        // Add class to body to prevent scrolling\r\n        document.body.classList.add('emoji-picker-open');\r\n        // Store original overflow style\r\n        const originalOverflow = document.body.style.overflow;\r\n        document.body.style.overflow = 'hidden';\r\n        \r\n        return () => {\r\n          // Cleanup: restore original overflow and remove class\r\n          document.body.classList.remove('emoji-picker-open');\r\n          document.body.style.overflow = originalOverflow;\r\n        };\r\n      }\r\n    }\r\n  }, [showEmojiPicker, showReactionPicker]);\r\n\r\n  const toggleSidebar = useCallback(() => {\r\n    setSidebarCollapsed(prev => !prev);\r\n  }, []);\r\n\r\n  const handleMobileGlobalVoice = useCallback(() => {\r\n    setMobileGlobalVoiceModal(!mobileGlobalVoiceModal);\r\n    if (window.innerWidth <= 480) {\r\n      setSidebarCollapsed(true);\r\n    }\r\n  }, [mobileGlobalVoiceModal]);\r\n\r\n  // Close sidebar when clicking outside on mobile\r\n  const handleOverlayClick = useCallback(() => {\r\n    if (window.innerWidth <= 480) {\r\n      setSidebarCollapsed(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleConversationSelect = useCallback(async (conversationId) => {\r\n    setSelectedConversation(conversationId);\r\n    \r\n    // Load messages for the selected conversation\r\n    try {\r\n      setMessagesLoading(true);\r\n      setMessagesError(null);\r\n      \r\n      console.log('Loading messages for conversation:', conversationId);\r\n      \r\n      // Load messages from the message service for this conversation\r\n      const conversationMessages = await messageService.getMessages({ \r\n        conversationId: conversationId,\r\n        limit: 50 \r\n      });\r\n      \r\n      if (Array.isArray(conversationMessages)) {\r\n        setChatMessages(conversationMessages);\r\n        console.log('Loaded conversation messages:', conversationMessages.length);\r\n        \r\n        // Scroll to bottom after loading messages\r\n        setTimeout(() => {\r\n          scrollToBottom();\r\n        }, 100);\r\n      } else {\r\n        console.warn('Invalid conversation messages format received:', conversationMessages);\r\n        setChatMessages([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load conversation messages:', error);\r\n      setMessagesError('Failed to load conversation messages');\r\n      \r\n      // Try to load from localStorage as fallback\r\n      try {\r\n        const cachedMessages = messageService.loadMessagesFromStorage(conversationId);\r\n        if (Array.isArray(cachedMessages) && cachedMessages.length > 0) {\r\n          setChatMessages(cachedMessages);\r\n          console.log('Loaded conversation messages from cache');\r\n        } else {\r\n          setChatMessages([]);\r\n        }\r\n      } catch (storageError) {\r\n        console.error('Error loading conversation messages from storage:', storageError);\r\n        setChatMessages([]);\r\n      }\r\n    } finally {\r\n      setMessagesLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const handleSearchChange = useCallback((e) => {\r\n    setSearchQuery(e.target.value);\r\n  }, []);\r\n\r\n  const handleFilterChange = useCallback((filter) => {\r\n    setActiveFilter(filter);\r\n  }, []);\r\n\r\n  const handleNewChat = useCallback(() => {\r\n    setNewChatModal(true);\r\n  }, []);\r\n\r\n  const handleCreateGroup = useCallback(() => {\r\n    // TODO: Implement create group functionality\r\n    console.log('Create group clicked');\r\n  }, []);\r\n\r\n  const handleCreateChat = useCallback(async (conversation) => {\r\n    try {\r\n      console.log('New chat created:', conversation);\r\n      \r\n      // In a real app, the conversation is already created by the API\r\n      // Format it for the UI\r\n      const newConversation = {\r\n        id: conversation.id || `conv_${Date.now()}`,\r\n        name: conversation.name || conversation.participants?.find(p => p.id !== user.id)?.name || 'New Chat',\r\n        type: conversation.type,\r\n        participants: conversation.participants,\r\n        lastMessage: {\r\n          text: 'Chat created',\r\n          timestamp: conversation.createdAt || new Date().toISOString(),\r\n          user: { name: 'System' }\r\n        },\r\n        unreadCount: 0,\r\n        isOnline: true,\r\n        avatar: conversation.type === 'group' \r\n          ? null \r\n          : conversation.participants?.find(p => p.id !== user.id)?.avatar\r\n      };\r\n\r\n      console.log('Formatted conversation:', newConversation);\r\n      \r\n      // Here you would typically:\r\n      // 1. Add to conversations state if you have one\r\n      // 2. Navigate to the new chat\r\n      // 3. Refresh conversation list\r\n      \r\n      // For now, we'll just select this conversation if we have a way to do it\r\n      setSelectedConversation(newConversation.id);\r\n      \r\n      // You could also trigger a callback to parent component\r\n      // if (onConversationCreated) {\r\n      //   onConversationCreated(newConversation);\r\n      // }\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to handle new chat:', error);\r\n      throw error; // Re-throw so modal can handle the error\r\n    }\r\n  }, [user]);\r\n\r\n  const handleQuickSettings = useCallback(() => {\r\n    setSettingsModal({ open: true, section: 'profile' });\r\n  }, []);\r\n\r\n  // Enhanced input functions\r\n  const handleFileChange = useCallback((e) => {\r\n    const files = e.target.files;\r\n    if (files && files.length > 0) {\r\n      Array.from(files).forEach(file => {\r\n        console.log('Processing file:', file.name, file.type); // Debug log\r\n        \r\n        if (file.type.startsWith('image/')) {\r\n          // Handle image files\r\n          const reader = new FileReader();\r\n          reader.onload = (event) => {\r\n            console.log('Image loaded, creating message with URL:', event.target.result?.substring(0, 50) + '...'); // Debug log\r\n            const newMessage = {\r\n              id: Date.now() + Math.random(),\r\n              text: `� ${file.name}`,\r\n              user: user,\r\n              timestamp: new Date().toISOString(),\r\n              reactions: [],\r\n              file: {\r\n                name: file.name,\r\n                size: file.size,\r\n                type: file.type,\r\n                url: event.target.result\r\n              }\r\n            };\r\n            setChatMessages(prev => [...prev, newMessage]);\r\n            // Auto-scroll to the new message\r\n            setTimeout(() => {\r\n              scrollToBottom();\r\n            }, 100);\r\n          };\r\n          reader.onerror = (error) => {\r\n            console.error('Error reading file:', error);\r\n          };\r\n          reader.readAsDataURL(file);\r\n        } else {\r\n          // Handle non-image files\r\n          const newMessage = {\r\n            id: Date.now() + Math.random(),\r\n            text: `📎 ${file.name} (${(file.size / 1024).toFixed(1)} KB)`,\r\n            user: user,\r\n            timestamp: new Date().toISOString(),\r\n            reactions: [],\r\n            file: {\r\n              name: file.name,\r\n              size: file.size,\r\n              type: file.type,\r\n              url: URL.createObjectURL(file) // Create object URL for download\r\n            }\r\n          };\r\n          setChatMessages(prev => [...prev, newMessage]);\r\n          // Auto-scroll to the new message\r\n          setTimeout(() => {\r\n            scrollToBottom();\r\n          }, 100);\r\n        }\r\n      });\r\n      \r\n      // Reset file input\r\n      e.target.value = '';\r\n    }\r\n  }, [user, scrollToBottom]);\r\n\r\n  // Mobile device detection\r\n  const isMobileDevice = useCallback(() => {\r\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n  }, []);\r\n\r\n  // GIF picker handlers\r\n  const handleShowGifPicker = useCallback(() => {\r\n    setShowGifPicker(true);\r\n  }, []);\r\n\r\n  const handleGifUpload = useCallback(() => {\r\n    const input = document.createElement('input');\r\n    input.type = 'file';\r\n    input.accept = 'image/gif';\r\n    input.multiple = true;\r\n    input.onchange = (e) => {\r\n      handleFileChange(e);\r\n    };\r\n    input.click();\r\n  }, [handleFileChange]);\r\n\r\n  const handleGifSelect = useCallback((gif) => {\r\n    // Create a message with the selected GIF\r\n    const newMessage = {\r\n      id: Date.now() + Math.random(),\r\n      text: `🎭 ${gif.name}`,\r\n      user: user,\r\n      timestamp: new Date().toISOString(),\r\n      reactions: [],\r\n      file: {\r\n        name: gif.name || 'selected.gif',\r\n        size: gif.size || 0,\r\n        type: 'image/gif',\r\n        url: gif.url,\r\n        isGif: true\r\n      }\r\n    };\r\n    \r\n    // Add the GIF message to chat\r\n    setChatMessages(prev => [...prev, newMessage]);\r\n    setShowGifPicker(false);\r\n    \r\n    // Auto-scroll to the new message\r\n    setTimeout(() => {\r\n      scrollToBottom();\r\n    }, 100);\r\n  }, [user, setChatMessages, scrollToBottom]);\r\n\r\n  const handleCloseGifPicker = useCallback(() => {\r\n    setShowGifPicker(false);\r\n  }, []);\r\n\r\n  const handleMobileUploadMenu = useCallback(() => {\r\n    // Mobile upload menu removed for memory optimization\r\n  }, []);\r\n\r\n  // Native Features Handlers\r\n  const handleOpenNativeCamera = useCallback((mode = 'photo') => {\r\n    setNativeCameraMode(mode);\r\n    setShowNativeCamera(true);\r\n    // Mobile upload menu removed for memory optimization\r\n  }, []);\r\n\r\n  const handleCloseNativeCamera = useCallback(() => {\r\n    setShowNativeCamera(false);\r\n  }, []);\r\n\r\n  const handleCameraCapture = useCallback(async (blob, type, metadata) => {\r\n    try {\r\n      // Create a file from the blob\r\n      const file = new File([blob], `${type}-${Date.now()}.${type === 'photo' ? 'jpg' : 'mp4'}`, {\r\n        type: blob.type\r\n      });\r\n\r\n      // Handle file upload (reuse existing file upload logic)\r\n      await handleFileChange({ target: { files: [file] } });\r\n      \r\n      // Close camera\r\n      setShowNativeCamera(false);\r\n      \r\n      // Add success message\r\n      handleSendMessage({\r\n        text: `📸 ${type === 'photo' ? 'Photo' : 'Video'} captured from camera`,\r\n        type: 'system',\r\n        metadata: metadata\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to handle camera capture:', error);\r\n      // Add error message\r\n      handleSendMessage({\r\n        text: '❌ Failed to upload captured media',\r\n        type: 'system'\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const handleOpenContactPicker = useCallback(() => {\r\n    setShowContactPicker(true);\r\n    // Mobile upload menu removed for memory optimization\r\n  }, []);\r\n\r\n  const handleCloseContactPicker = useCallback(() => {\r\n    setShowContactPicker(false);\r\n  }, []);\r\n\r\n  const handleContactSelect = useCallback((contacts) => {\r\n    try {\r\n      // Format contacts for sharing\r\n      const contactText = contacts.map(contact => {\r\n        const parts = [];\r\n        if (contact.name) parts.push(contact.name);\r\n        if (contact.phone) parts.push(`📱 ${contact.phone}`);\r\n        if (contact.email) parts.push(`📧 ${contact.email}`);\r\n        return parts.join('\\n');\r\n      }).join('\\n\\n');\r\n\r\n      // Send contact information as message\r\n      handleSendMessage({\r\n        text: `👥 Shared Contact${contacts.length > 1 ? 's' : ''}:\\n\\n${contactText}`,\r\n        type: 'contact',\r\n        metadata: { contacts, shared: true }\r\n      });\r\n\r\n      // Close contact picker\r\n      setShowContactPicker(false);\r\n    } catch (error) {\r\n      console.error('Failed to share contacts:', error);\r\n      handleSendMessage({\r\n        text: '❌ Failed to share contacts',\r\n        type: 'system'\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  // Handle avatar image loading errors\r\n  const handleAvatarError = useCallback(() => {\r\n    setAvatarError(true);\r\n  }, []);\r\n\r\n  // Global call state - must be declared before callbacks that use it\r\n  const [globalCall, setGlobalCall] = useState(null);\r\n\r\n  // Handle global voice call start\r\n  const handleStartGlobalCall = useCallback((call) => {\r\n    setGlobalCall(call);\r\n    setVoiceCallState({\r\n      active: true,\r\n      withUser: {\r\n        name: call.targetUser.name,\r\n        avatar: call.targetUser.avatar,\r\n        id: call.targetUser.id\r\n      },\r\n      minimized: false,\r\n      audioOnly: true,\r\n      callInstance: call\r\n    });\r\n\r\n    // Add global call message to chat\r\n    const callMessage = {\r\n      id: call.id,\r\n      text: `🌍 Global voice call ${call.type === 'outgoing' ? 'to' : 'from'} ${call.targetUser.name}`,\r\n      user: 'System',\r\n      timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),\r\n      type: 'global_voice_call',\r\n      callStatus: call.status,\r\n      isSystemMessage: true\r\n    };\r\n\r\n    setChatMessages(prev => [...prev, callMessage]);\r\n  }, []);\r\n\r\n  // Handle ending global voice call\r\n  const handleEndGlobalCall = useCallback(() => {\r\n    if (globalCall) {\r\n      globalVoiceCallService.endCall();\r\n      setGlobalCall(null);\r\n      setVoiceCallState(prev => ({ ...prev, active: false }));\r\n\r\n      // Add call ended message\r\n      const endMessage = {\r\n        id: `end_${Date.now()}`,\r\n        text: `📞 Global call ended`,\r\n        user: 'System',\r\n        timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),\r\n        type: 'system',\r\n        isSystemMessage: true\r\n      };\r\n\r\n      setChatMessages(prev => [...prev, endMessage]);\r\n    }\r\n  }, [globalCall]);\r\n\r\n  // Handle more menu toggle\r\n  const handleMoreMenuToggle = useCallback(() => {\r\n    setShowMoreMenu(prev => !prev);\r\n  }, []);\r\n\r\n  // Handle export chat\r\n  const handleExportChat = useCallback(() => {\r\n    const chatData = {\r\n      conversation: currentSelectedConversation?.name || 'Chat Export',\r\n      messages: chatMessages,\r\n      exportDate: new Date().toISOString(),\r\n      totalMessages: chatMessages.length\r\n    };\r\n    \r\n    const dataStr = JSON.stringify(chatData, null, 2);\r\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n    \r\n    const link = document.createElement('a');\r\n    link.href = URL.createObjectURL(dataBlob);\r\n    link.download = `chat-export-${new Date().toISOString().split('T')[0]}.json`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    \r\n    setShowMoreMenu(false);\r\n    \r\n    // Show success message\r\n    const exportMessage = {\r\n      id: `export_${Date.now()}`,\r\n      text: '📥 Chat exported successfully',\r\n      user: 'System',\r\n      timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),\r\n      type: 'system',\r\n      isSystemMessage: true\r\n    };\r\n    setChatMessages(prev => [...prev, exportMessage]);\r\n  }, [chatMessages, currentSelectedConversation]);\r\n\r\n  // Handle mute notifications\r\n  const handleMuteNotifications = useCallback(() => {\r\n    const currentlyMuted = localStorage.getItem('notificationsMuted') === 'true';\r\n    const newMutedState = !currentlyMuted;\r\n    \r\n    localStorage.setItem('notificationsMuted', newMutedState.toString());\r\n    \r\n    setShowMoreMenu(false);\r\n    \r\n    // Show status message\r\n    const muteMessage = {\r\n      id: `mute_${Date.now()}`,\r\n      text: `🔔 Notifications ${newMutedState ? 'muted' : 'unmuted'}`,\r\n      user: 'System',\r\n      timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),\r\n      type: 'system',\r\n      isSystemMessage: true\r\n    };\r\n    setChatMessages(prev => [...prev, muteMessage]);\r\n  }, []);\r\n\r\n  // Handle clear chat\r\n  const handleClearChat = useCallback(() => {\r\n    const confirmed = window.confirm('Are you sure you want to clear this chat? This action cannot be undone.');\r\n    if (confirmed) {\r\n      setChatMessages([]);\r\n      setShowMoreMenu(false);\r\n      \r\n      // Show clear message\r\n      const clearMessage = {\r\n        id: `clear_${Date.now()}`,\r\n        text: '🧹 Chat cleared',\r\n        user: 'System',\r\n        timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),\r\n        type: 'system',\r\n        isSystemMessage: true\r\n      };\r\n      setChatMessages([clearMessage]);\r\n    }\r\n  }, []);\r\n\r\n  // Handle contact manager\r\n  const handleOpenContactManager = useCallback(() => {\r\n    setShowContactManager(true);\r\n    setShowMoreMenu(false);\r\n  }, []);\r\n\r\n  // Handle contact selection for starting a chat\r\n  const handleContactToChat = useCallback(async (contact) => {\r\n    try {\r\n      // Create a new chat message to indicate starting chat with contact\r\n      const chatMessage = {\r\n        id: `contact_chat_${Date.now()}`,\r\n        text: `💬 Starting chat with ${contact.name}`,\r\n        user: 'System',\r\n        timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),\r\n        type: 'system',\r\n        isSystemMessage: true,\r\n        contactId: contact.id\r\n      };\r\n      \r\n      setChatMessages(prev => [...prev, chatMessage]);\r\n      \r\n      // Close contact manager\r\n      setShowContactManager(false);\r\n      \r\n      // Update contact analytics\r\n      await contactService.updateContactInteraction(contact.id, 'chat_started');\r\n      \r\n    } catch (error) {\r\n      console.error('Error starting chat with contact:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Handle contact call\r\n  const handleContactCall = useCallback(async (contact) => {\r\n    try {\r\n      // Use the enhanced voice call service to initiate call\r\n      if (contact.phoneNumbers && contact.phoneNumbers.length > 0) {\r\n        const primaryPhone = contact.phoneNumbers[0];\r\n        \r\n        // Create call message\r\n        const callMessage = {\r\n          id: `contact_call_${Date.now()}`,\r\n          text: `📞 Calling ${contact.name} at ${primaryPhone.number}`,\r\n          user: 'System',\r\n          timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),\r\n          type: 'system',\r\n          isSystemMessage: true,\r\n          contactId: contact.id\r\n        };\r\n        \r\n        setChatMessages(prev => [...prev, callMessage]);\r\n        \r\n        // Update contact analytics\r\n        await contactService.updateContactInteraction(contact.id, 'call_made');\r\n        \r\n        // Close contact manager\r\n        setShowContactManager(false);\r\n        \r\n      } else {\r\n        alert('No phone number available for this contact');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error calling contact:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Handle search in chat\r\n  const handleSearchInChat = useCallback(() => {\r\n    const searchTerm = prompt('Search in chat:');\r\n    if (searchTerm && searchTerm.trim()) {\r\n      const matchingMessages = chatMessages.filter(msg => \r\n        msg.text.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        msg.user.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n      \r\n      setShowMoreMenu(false);\r\n      \r\n      if (matchingMessages.length > 0) {\r\n        const searchMessage = {\r\n          id: `search_${Date.now()}`,\r\n          text: `🔍 Found ${matchingMessages.length} message(s) containing \"${searchTerm}\"`,\r\n          user: 'System',\r\n          timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),\r\n          type: 'system',\r\n          isSystemMessage: true,\r\n          searchResults: matchingMessages\r\n        };\r\n        setChatMessages(prev => [...prev, searchMessage]);\r\n      } else {\r\n        const noResultsMessage = {\r\n          id: `search_${Date.now()}`,\r\n          text: `🔍 No messages found containing \"${searchTerm}\"`,\r\n          user: 'System',\r\n          timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),\r\n          type: 'system',\r\n          isSystemMessage: true\r\n        };\r\n        setChatMessages(prev => [...prev, noResultsMessage]);\r\n      }\r\n    }\r\n  }, [chatMessages]);\r\n\r\n  // Handle print chat\r\n  const handlePrintChat = useCallback(() => {\r\n    const printContent = chatMessages.map(msg => \r\n      `[${msg.timestamp}] ${msg.user}: ${msg.text}`\r\n    ).join('\\n');\r\n    \r\n    const printWindow = window.open('', '_blank');\r\n    printWindow.document.write(`\r\n      <html>\r\n        <head>\r\n          <title>Chat Print - ${currentSelectedConversation?.name || 'Chat'}</title>\r\n          <style>\r\n            body { font-family: Arial, sans-serif; margin: 20px; }\r\n            .header { border-bottom: 2px solid #ccc; margin-bottom: 20px; padding-bottom: 10px; }\r\n            .message { margin-bottom: 10px; padding: 8px; border-left: 3px solid #007bff; }\r\n            .timestamp { color: #666; font-size: 0.9em; }\r\n            .user { font-weight: bold; color: #333; }\r\n            .text { margin-top: 5px; }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          <div class=\"header\">\r\n            <h1>Chat: ${currentSelectedConversation?.name || 'Conversation'}</h1>\r\n            <p>Exported on: ${new Date().toLocaleString()}</p>\r\n            <p>Total Messages: ${chatMessages.length}</p>\r\n          </div>\r\n          <div class=\"messages\">\r\n            ${chatMessages.map(msg => `\r\n              <div class=\"message\">\r\n                <div class=\"timestamp\">${msg.timestamp}</div>\r\n                <div class=\"user\">${msg.user}</div>\r\n                <div class=\"text\">${msg.text}</div>\r\n              </div>\r\n            `).join('')}\r\n          </div>\r\n        </body>\r\n      </html>\r\n    `);\r\n    printWindow.document.close();\r\n    printWindow.print();\r\n    \r\n    setShowMoreMenu(false);\r\n  }, [chatMessages, currentSelectedConversation]);\r\n\r\n  // Close more menu when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (showMoreMenu && !event.target.closest('.header-menu')) {\r\n        setShowMoreMenu(false);\r\n      }\r\n    };\r\n    \r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, [showMoreMenu]);\r\n\r\n  // Handle adding reactions to messages\r\n  const handleReactionAdd = useCallback(async (messageId, emoji) => {\r\n    // Update local state immediately for responsive UI\r\n    setChatMessages(prev => prev.map(message => {\r\n      if (message.id === messageId) {\r\n        const existingReaction = message.reactions.find(r => r.emoji === emoji);\r\n        if (existingReaction) {\r\n          // Toggle existing reaction\r\n          return {\r\n            ...message,\r\n            reactions: message.reactions.map(r => \r\n              r.emoji === emoji \r\n                ? { ...r, count: r.count + 1 }\r\n                : r\r\n            )\r\n          };\r\n        } else {\r\n          // Add new reaction\r\n          return {\r\n            ...message,\r\n            reactions: [...message.reactions, { emoji, count: 1, userId: user.id }]\r\n          };\r\n        }\r\n      }\r\n      return message;\r\n    }));\r\n\r\n    // Try to sync with backend\r\n    try {\r\n      if (messageService.addReaction) {\r\n        await messageService.addReaction(messageId, emoji);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to sync reaction with backend:', error);\r\n      // Reaction already added to local state, so no rollback needed\r\n    }\r\n  }, [user.id]);\r\n\r\n  const handleEmojiClick = useCallback((emoji) => {\r\n    if (selectedMessageId) {\r\n      // Add reaction to specific message\r\n      handleReactionAdd(selectedMessageId, emoji);\r\n    } else {\r\n      // Add emoji to input text (existing functionality)\r\n      setInputText(prev => prev + emoji);\r\n    }\r\n    setShowEmojiPicker(false);\r\n    setShowReactionPicker(false);\r\n    setSelectedMessageId(null);\r\n  }, [selectedMessageId, handleReactionAdd]);\r\n\r\n  // Handle message click for reactions\r\n  const handleMessageClick = useCallback((messageId) => {\r\n    setSelectedMessageId(messageId);\r\n    setShowReactionPicker(true);\r\n    setShowEmojiPicker(false);\r\n  }, []);\r\n\r\n  const formatRecordingTime = useCallback((seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  }, []);\r\n\r\n  const startRecording = useCallback(() => {\r\n    setIsRecording(true);\r\n    setRecordingDuration(0);\r\n    setShowEmojiPicker(false);\r\n    \r\n    recordingTimerRef.current = setInterval(() => {\r\n      setRecordingDuration(prev => prev + 1);\r\n    }, 1000);\r\n    \r\n    console.log('Voice recording started');\r\n  }, []);\r\n\r\n  const stopRecording = useCallback((send = true) => {\r\n    clearInterval(recordingTimerRef.current);\r\n    setIsRecording(false);\r\n    \r\n    if (send && recordingDuration > 0) {\r\n      const newMessage = {\r\n        id: Date.now(),\r\n        text: `🎤 Voice message (${formatRecordingTime(recordingDuration)})`,\r\n        user: user,\r\n        timestamp: new Date().toISOString(),\r\n        reactions: [],\r\n        type: 'voice',\r\n        duration: recordingDuration\r\n      };\r\n      setChatMessages(prev => [...prev, newMessage]);\r\n      // Auto-scroll to the new message\r\n      setTimeout(() => {\r\n        scrollToBottom();\r\n      }, 100);\r\n    }\r\n    \r\n    setRecordingDuration(0);\r\n  }, [recordingDuration, formatRecordingTime, user, scrollToBottom]);\r\n\r\n  // Cleanup recording timer\r\n  useEffect(() => {\r\n    return () => {\r\n      if (recordingTimerRef.current) {\r\n        clearInterval(recordingTimerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Filter conversations based on search and active filter\r\n  const filteredConversations = useMemo(() => {\r\n    let filtered = conversations;\r\n    \r\n    // Apply text search\r\n    if (searchQuery.trim()) {\r\n      filtered = filtered.filter(conv => \r\n        conv.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        conv.lastMessage?.toLowerCase().includes(searchQuery.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    // Apply filter\r\n    switch (activeFilter) {\r\n      case 'unread':\r\n        filtered = filtered.filter(conv => conv.unreadCount > 0);\r\n        break;\r\n      case 'groups':\r\n        filtered = filtered.filter(conv => conv.name.includes('Team') || conv.name.includes('Group'));\r\n        break;\r\n      default:\r\n        // 'all' - no additional filtering\r\n        break;\r\n    }\r\n    \r\n    return filtered;\r\n  }, [conversations, searchQuery, activeFilter]);\r\n\r\n  const getFilterCounts = useMemo(() => ({\r\n    all: conversations.length,\r\n    unread: conversations.filter(conv => conv.unreadCount > 0).length,\r\n    groups: conversations.filter(conv => conv.name.includes('Team') || conv.name.includes('Group')).length\r\n  }), [conversations]);\r\n\r\n  const totalUnreadCount = useMemo(() => {\r\n    return conversations.reduce((total, conv) => total + conv.unreadCount, 0);\r\n  }, [conversations]);\r\n\r\n  // chatMessages state already defined above\r\n\r\n  const [inputText, setInputText] = useState('');\r\n\r\n  // Enhanced features state\r\n  const [profileModal, setProfileModal] = useState({ open: false, userId: null, username: null });\r\n  const [settingsModal, setSettingsModal] = useState({ open: false, section: 'profile' });\r\n  const [newChatModal, setNewChatModal] = useState(false);\r\n  const [feedbackModal, setFeedbackModal] = useState(false);\r\n  const [helpModal, setHelpModal] = useState(false);\r\n  const [videoCallState, setVideoCallState] = useState({ \r\n    active: false, \r\n    withUser: null, \r\n    minimized: false, \r\n    audioOnly: false \r\n  });\r\n  const [voiceCallState, setVoiceCallState] = useState({ \r\n    active: false, \r\n    withUser: null, \r\n    minimized: false, \r\n    audioOnly: true \r\n  });\r\n  const [connectionStatus, setConnectionStatus] = useState(null);\r\n  const [availableCallMethods, setAvailableCallMethods] = useState([]);\r\n  const [showCallMethodSelector, setShowCallMethodSelector] = useState(false);\r\n  \r\n  // Reaction system state already defined above\r\n\r\n  // Message input handlers\r\n  const handleSendMessage = useCallback(async () => {\r\n    if (!inputText.trim()) return;\r\n    \r\n    try {\r\n      // Send message via encrypted service with conversation context\r\n      const messageData = {\r\n        text: inputText.trim(),\r\n        conversationId: selectedConversation,\r\n        user: user?.name || 'User'\r\n      };\r\n      \r\n      // Get conversation participants for encryption\r\n      const conversationParticipants = currentSelectedConversation?.participants || [];\r\n      const recipientId = conversationParticipants.find(p => p !== user.id);\r\n      \r\n      // Send with encryption options\r\n      const sentMessage = await encryptedMessageService.sendMessage(messageData, {\r\n        encrypt: defaultEncryption && encryptionEnabled,\r\n        recipientId: recipientId,\r\n        conversationParticipants: conversationParticipants\r\n      });\r\n      \r\n      // Add to local state immediately for responsive UI\r\n      const newMessage = {\r\n        id: sentMessage.id || Date.now(),\r\n        text: inputText.trim(),\r\n        user: user,\r\n        timestamp: sentMessage.timestamp || new Date().toISOString(),\r\n        reactions: sentMessage.reactions || [],\r\n        conversationId: selectedConversation,\r\n        isEncrypted: sentMessage.isEncrypted || false,\r\n        encryptionStatus: sentMessage.encryptionStatus\r\n      };\r\n      \r\n      setChatMessages(prev => [...prev, newMessage]);\r\n      setInputText('');\r\n      \r\n      // Auto-scroll to the new message\r\n      setTimeout(() => {\r\n        scrollToBottom();\r\n      }, 100);\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to send message:', error);\r\n      \r\n      // Still add to local state for offline persistence\r\n      const fallbackMessage = {\r\n        id: Date.now(),\r\n        text: inputText.trim(),\r\n        user: user,\r\n        timestamp: new Date().toISOString(),\r\n        reactions: [],\r\n        pending: true, // Mark as pending/failed\r\n        conversationId: selectedConversation\r\n      };\r\n      \r\n      setChatMessages(prev => [...prev, fallbackMessage]);\r\n      setInputText('');\r\n      \r\n      // Auto-scroll to the new message\r\n      setTimeout(() => {\r\n        scrollToBottom();\r\n      }, 100);\r\n      \r\n      // Optionally show error message to user\r\n      console.warn('Message sent offline, will sync when connection is restored');\r\n    }\r\n  }, [inputText, user, selectedConversation, scrollToBottom, currentSelectedConversation, defaultEncryption, encryptionEnabled]);\r\n\r\n  const handleKeyPress = useCallback((e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  }, [handleSendMessage]);\r\n\r\n  // Modal handlers\r\n  const handleViewUserProfile = useCallback((userId, username) => {\r\n    setProfileModal({ open: true, userId, username });\r\n  }, []);\r\n\r\n  const handleCloseProfileModal = useCallback(() => {\r\n    setProfileModal({ open: false, userId: null, username: null });\r\n  }, []);\r\n\r\n  const handleCloseSettingsModal = useCallback(() => {\r\n    setSettingsModal({ open: false, section: 'profile' });\r\n  }, []);\r\n\r\n  // Feedback handler\r\n  const handleFeedbackSubmit = useCallback(async (feedbackData) => {\r\n    try {\r\n      console.log('Feedback submitted:', feedbackData);\r\n      \r\n      // Format and validate feedback data\r\n      const formattedData = feedbackService.formatFeedbackData(feedbackData);\r\n      const validation = feedbackService.validateFeedback(formattedData);\r\n      \r\n      if (!validation.isValid) {\r\n        throw new Error('Please check your feedback and try again.');\r\n      }\r\n      \r\n      // Submit feedback via service\r\n      const result = await feedbackService.submitFeedback(formattedData);\r\n      \r\n      console.log('✅ Feedback submitted successfully:', result);\r\n      return result;\r\n    } catch (error) {\r\n      console.error('❌ Failed to submit feedback:', error);\r\n      throw error;\r\n    }\r\n  }, []);\r\n\r\n  // Lightbox handlers\r\n  const getAllImages = useCallback(() => {\r\n    return chatMessages\r\n      .filter(msg => msg.file && msg.file.type.startsWith('image/'))\r\n      .map(msg => ({\r\n        url: msg.file.url,\r\n        name: msg.file.name,\r\n        messageId: msg.id\r\n      }));\r\n  }, [chatMessages]);\r\n\r\n  const handleOpenLightbox = useCallback((imageUrl, imageName) => {\r\n    const allImages = getAllImages();\r\n    const currentIndex = allImages.findIndex(img => img.url === imageUrl);\r\n    \r\n    setLightboxModal({ \r\n      open: true, \r\n      imageUrl, \r\n      imageName,\r\n      zoom: 1,\r\n      pan: { x: 0, y: 0 },\r\n      isDragging: false,\r\n      currentIndex: Math.max(0, currentIndex),\r\n      images: allImages\r\n    });\r\n  }, [getAllImages]);\r\n\r\n  // Video lightbox handlers\r\n  const handleOpenVideoLightbox = useCallback((videoUrl, videoName, poster, type) => {\r\n    setVideoLightboxModal({\r\n      open: true,\r\n      videoUrl,\r\n      videoName,\r\n      poster,\r\n      type\r\n    });\r\n  }, []);\r\n\r\n  const handleCloseVideoLightbox = useCallback(() => {\r\n    setVideoLightboxModal({\r\n      open: false,\r\n      videoUrl: null,\r\n      videoName: null,\r\n      poster: null,\r\n      type: null\r\n    });\r\n  }, []);\r\n\r\n  const handleNavigateImage = useCallback((direction) => {\r\n    setLightboxModal(prev => {\r\n      const newIndex = direction === 'next' \r\n        ? Math.min(prev.currentIndex + 1, prev.images.length - 1)\r\n        : Math.max(prev.currentIndex - 1, 0);\r\n      \r\n      const newImage = prev.images[newIndex];\r\n      if (newImage) {\r\n        return {\r\n          ...prev,\r\n          currentIndex: newIndex,\r\n          imageUrl: newImage.url,\r\n          imageName: newImage.name,\r\n          zoom: 1,\r\n          pan: { x: 0, y: 0 },\r\n          isLoading: true\r\n        };\r\n      }\r\n      return prev;\r\n    });\r\n  }, []);\r\n\r\n  const handleImageLoad = useCallback(() => {\r\n    setLightboxModal(prev => ({\r\n      ...prev,\r\n      isLoading: false\r\n    }));\r\n  }, []);\r\n\r\n  const handleImageError = useCallback(() => {\r\n    setLightboxModal(prev => ({\r\n      ...prev,\r\n      isLoading: false\r\n    }));\r\n  }, []);\r\n\r\n  const handleCloseLightbox = useCallback(() => {\r\n    setLightboxModal({ \r\n      open: false, \r\n      imageUrl: null, \r\n      imageName: null,\r\n      zoom: 1,\r\n      pan: { x: 0, y: 0 },\r\n      isDragging: false,\r\n      currentIndex: 0,\r\n      images: [],\r\n      isLoading: false\r\n    });\r\n  }, []);\r\n\r\n  const handleZoomIn = useCallback(() => {\r\n    setLightboxModal(prev => ({\r\n      ...prev,\r\n      zoom: Math.min(prev.zoom * 1.2, 3)\r\n    }));\r\n  }, []);\r\n\r\n  const handleZoomOut = useCallback(() => {\r\n    setLightboxModal(prev => ({\r\n      ...prev,\r\n      zoom: Math.max(prev.zoom / 1.2, 0.5),\r\n      pan: prev.zoom <= 1 ? { x: 0, y: 0 } : prev.pan\r\n    }));\r\n  }, []);\r\n\r\n  const handleZoomReset = useCallback(() => {\r\n    setLightboxModal(prev => ({\r\n      ...prev,\r\n      zoom: 1,\r\n      pan: { x: 0, y: 0 }\r\n    }));\r\n  }, []);\r\n\r\n  const handleMouseDown = useCallback((e) => {\r\n    if (lightboxModal.zoom > 1) {\r\n      setLightboxModal(prev => ({\r\n        ...prev,\r\n        isDragging: true\r\n      }));\r\n    }\r\n  }, [lightboxModal.zoom]);\r\n\r\n  const handleMouseMove = useCallback((e) => {\r\n    if (lightboxModal.isDragging && lightboxModal.zoom > 1) {\r\n      setLightboxModal(prev => ({\r\n        ...prev,\r\n        pan: {\r\n          x: prev.pan.x + e.movementX,\r\n          y: prev.pan.y + e.movementY\r\n        }\r\n      }));\r\n    }\r\n  }, [lightboxModal.isDragging, lightboxModal.zoom]);\r\n\r\n  const handleMouseUp = useCallback(() => {\r\n    setLightboxModal(prev => ({\r\n      ...prev,\r\n      isDragging: false\r\n    }));\r\n  }, []);\r\n\r\n  // Keyboard navigation for lightbox\r\n  useEffect(() => {\r\n    const handleKeyDown = (event) => {\r\n      if (lightboxModal.open) {\r\n        switch (event.key) {\r\n          case 'Escape':\r\n            handleCloseLightbox();\r\n            break;\r\n          case 'ArrowLeft':\r\n            event.preventDefault();\r\n            handleNavigateImage('prev');\r\n            break;\r\n          case 'ArrowRight':\r\n            event.preventDefault();\r\n            handleNavigateImage('next');\r\n            break;\r\n          case '+':\r\n          case '=':\r\n            event.preventDefault();\r\n            handleZoomIn();\r\n            break;\r\n          case '-':\r\n            event.preventDefault();\r\n            handleZoomOut();\r\n            break;\r\n          case '0':\r\n            event.preventDefault();\r\n            handleZoomReset();\r\n            break;\r\n          default:\r\n            // No action for other keys\r\n            break;\r\n        }\r\n      } else if (videoLightboxModal.open) {\r\n        switch (event.key) {\r\n          case 'Escape':\r\n            handleCloseVideoLightbox();\r\n            break;\r\n          default:\r\n            // No action for other keys\r\n            break;\r\n        }\r\n      }\r\n    };\r\n\r\n    const handleWheel = (event) => {\r\n      if (lightboxModal.open) {\r\n        event.preventDefault();\r\n        if (event.deltaY < 0) {\r\n          handleZoomIn();\r\n        } else {\r\n          handleZoomOut();\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    document.addEventListener('wheel', handleWheel, { passive: false });\r\n    \r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n      document.removeEventListener('wheel', handleWheel);\r\n    };\r\n  }, [lightboxModal.open, handleCloseLightbox, handleNavigateImage, handleZoomIn, handleZoomOut, handleZoomReset]);\r\n\r\n  // Video call handlers\r\n  const handleEndCall = useCallback(() => {\r\n    setVideoCallState(prev => ({ ...prev, active: false }));\r\n  }, []);\r\n\r\n  const handleToggleMinimize = useCallback(() => {\r\n    setVideoCallState(prev => ({ ...prev, minimized: !prev.minimized }));\r\n  }, []);\r\n\r\n  // Enhanced voice call handlers\r\n  const handleStartVoiceCall = useCallback(async () => {\r\n    const currentUser = currentSelectedConversation || currentConversation;\r\n    if (!currentUser) return;\r\n\r\n    try {\r\n      // Get available call methods\r\n      const methods = await enhancedVoiceCallService.getAvailableCallMethods(currentUser);\r\n      setAvailableCallMethods(methods);\r\n      \r\n      // If multiple methods available, show selector\r\n      if (methods.length > 1) {\r\n        setShowCallMethodSelector(true);\r\n        return;\r\n      }\r\n      \r\n      // Start call with best method\r\n      await startEnhancedVoiceCall(currentUser, 'auto');\r\n    } catch (error) {\r\n      console.error('Failed to start voice call:', error);\r\n    }\r\n  }, [currentSelectedConversation, currentConversation]);\r\n\r\n  const startEnhancedVoiceCall = useCallback(async (targetUser, method = 'auto') => {\r\n    try {\r\n      const callInstance = await enhancedVoiceCallService.initiateEnhancedCall(targetUser, method);\r\n      \r\n      // Update voice call state\r\n      setVoiceCallState({\r\n        active: true,\r\n        withUser: {\r\n          name: targetUser.name,\r\n          avatar: targetUser.avatar,\r\n          phone: targetUser.phone\r\n        },\r\n        minimized: false,\r\n        audioOnly: true,\r\n        callInstance\r\n      });\r\n\r\n      // Add enhanced voice call message to chat\r\n      const voiceCallMessage = {\r\n        id: callInstance.callId,\r\n        text: `📞 ${callInstance.method.description} with ${targetUser.name}`,\r\n        user: 'You',\r\n        timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),\r\n        type: 'voice_call_enhanced',\r\n        callStatus: callInstance.status,\r\n        callMethod: callInstance.method,\r\n        connectionQuality: callInstance.connectionStatus.quality,\r\n        isSystemMessage: true\r\n      };\r\n\r\n      setChatMessages(prev => [...prev, voiceCallMessage]);\r\n      setShowCallMethodSelector(false);\r\n    } catch (error) {\r\n      console.error('Failed to start enhanced voice call:', error);\r\n    }\r\n  }, []);\r\n\r\n  const handleEndVoiceCall = useCallback(() => {\r\n    setVoiceCallState(prev => ({ ...prev, active: false }));\r\n  }, []);\r\n\r\n  // Unified call handler for both international and app calls\r\n  const handleUnifiedCall = useCallback(() => {\r\n    setShowCallOptions(true);\r\n  }, []);\r\n\r\n  const handleInternationalCall = useCallback(() => {\r\n    setShowCallOptions(false);\r\n    setShowInternationalDialer(true);\r\n  }, []);\r\n\r\n  const handleAppCall = useCallback(async () => {\r\n    setShowCallOptions(false);\r\n    await handleStartVoiceCall();\r\n  }, [handleStartVoiceCall]);\r\n\r\n  const handleToggleVoiceMinimize = useCallback(() => {\r\n    setVoiceCallState(prev => ({ ...prev, minimized: !prev.minimized }));\r\n  }, []);\r\n\r\n  // Video call component\r\n  const MemoizedVideoCall = useMemo(() => (\r\n    <VideoCall \r\n      callState={videoCallState}\r\n      onEndCall={handleEndCall}\r\n      onToggleMinimize={handleToggleMinimize}\r\n    />\r\n  ), [videoCallState, handleEndCall, handleToggleMinimize]);\r\n\r\n  // Voice call component (using VideoCall in audio-only mode)\r\n  const MemoizedVoiceCall = useMemo(() => (\r\n    <VideoCall \r\n      callState={voiceCallState}\r\n      onEndCall={handleEndVoiceCall}\r\n      onToggleMinimize={handleToggleVoiceMinimize}\r\n    />\r\n  ), [voiceCallState, handleEndVoiceCall, handleToggleVoiceMinimize]);\r\n\r\n  // Enhanced smart content preview function\r\n  const getSmartPreview = useCallback((message) => {\r\n    const { text, file, reactions } = message;\r\n    \r\n    // Handle different content types\r\n    if (file?.type.startsWith('image/')) {\r\n      return `📸 Image: ${file.name}`;\r\n    }\r\n    if (file?.type.startsWith('video/')) {\r\n      return `🎥 Video: ${file.name}`;\r\n    }\r\n    if (file?.type.startsWith('audio/')) {\r\n      return `🎵 Audio: ${file.name}`;\r\n    }\r\n    if (file && !file.type.startsWith('image/') && !file.type.startsWith('video/') && !file.type.startsWith('audio/')) {\r\n      return `📎 File: ${file.name}`;\r\n    }\r\n    \r\n    // Handle text content\r\n    if (text.includes('```')) {\r\n      return `💻 Code snippet`;\r\n    }\r\n    if (text.match(/https?:\\/\\/[^\\s]+/)) {\r\n      return `🔗 ${text.substring(0, 60)}...`;\r\n    }\r\n    if (text.includes('@')) {\r\n      const mentions = text.match(/@\\w+/g);\r\n      return `💬 ${text.replace(/@\\w+/g, '@user')}${mentions?.length > 1 ? ` (+${mentions.length - 1} mentions)` : ''}`;\r\n    }\r\n    if (reactions?.length > 0) {\r\n      return `${text.substring(0, 60)}... (${reactions.length} ${reactions.length === 1 ? 'reaction' : 'reactions'})`;\r\n    }\r\n    \r\n    return text.length > 100 ? text.substring(0, 100) + '...' : text;\r\n  }, []);\r\n\r\n  // Advanced message categorization with multiple factors\r\n  const getAdvancedMessageCategory = useCallback((message) => {\r\n    const { text, file, user, reactions = [] } = message;\r\n    const length = text.length;\r\n    \r\n    const categories = {\r\n      length: length <= 50 ? 'short' : length <= 200 ? 'medium' : length <= 500 ? 'long' : 'very-long',\r\n      type: file ? (file.type.startsWith('image/') ? 'image' : \r\n                   file.type.startsWith('video/') ? 'video' : \r\n                   file.type.startsWith('audio/') ? 'audio' : 'file') : 'text',\r\n      priority: user.role === 'admin' ? 'high' : user.role === 'moderator' ? 'medium' : 'normal',\r\n      hasMedia: !!file,\r\n      hasReactions: reactions.length > 0,\r\n      hasCode: text.includes('```') || text.includes('`'),\r\n      hasLinks: /https?:\\/\\/[^\\s]+/.test(text),\r\n      hasMentions: /@\\w+/.test(text),\r\n      sentiment: text.includes('!') && text.includes('urgent') ? 'urgent' : \r\n                text.includes('?') ? 'question' : \r\n                /[😀😃😄😁😆😅😂🤣😊😇🙂😉😌😍🥰😘😗😙😚😋😛😝😜🤪🤨🧐🤓😎🤩🥳😏😒😞😔😟😕🙁☹️😣😖😫😩🥺😢😭😤😠😡🤬🤯😳🥵🥶😱😨😰😥😓🤗🤔🤭🤫🤥😶😐😑😬🙄😯😦😧😮😲🥱😴🤤😪😵🤐🥴🤢🤮🤧😷🤒🤕🤑🤠😈👿👹👺🤡💩👻💀☠️👽👾🤖🎃😺😸😹😻😼😽🙀😿😾]/.test(text) ? 'emoji' : 'neutral'\r\n    };\r\n    \r\n    return categories;\r\n  }, []);\r\n\r\n  // Function to determine message length category for dynamic styling (enhanced)\r\n  const getMessageLengthCategory = useCallback((text) => {\r\n    const length = text.length;\r\n    if (length <= 50) return 'short';\r\n    if (length <= 200) return 'medium';\r\n    if (length <= 500) return 'long';\r\n    return 'very-long';\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"pro-layout mobile-optimized smartphone-optimized\">\r\n      {/* Dynamic Animated Background */}\r\n      <div className=\"dynamic-background\">\r\n        <div className=\"gradient-orb orb-1\"></div>\r\n        <div className=\"gradient-orb orb-2\"></div>\r\n        <div className=\"gradient-orb orb-3\"></div>\r\n        <div className=\"gradient-orb orb-4\"></div>\r\n        <div className=\"gradient-orb orb-5\"></div>\r\n        <div className=\"floating-particles\">\r\n          {[...Array(20)].map((_, i) => (\r\n            <div key={i} className={`particle particle-${i + 1}`}></div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Content Backdrop for Readability */}\r\n      <div className=\"content-backdrop\"></div>\r\n      \r\n      {/* Video Call Component */}\r\n      {MemoizedVideoCall}\r\n      \r\n      {/* Voice Call Component */}\r\n      {MemoizedVoiceCall}\r\n      \r\n      {/* Enhanced Sidebar */}\r\n      <div className={`pro-sidebar enhanced-sidebar ${sidebarCollapsed ? 'collapsed' : ''}`}>\r\n        {/* Sidebar Header */}\r\n        <div className=\"pro-sidebar-header\">\r\n          <div className=\"sidebar-logo\">\r\n            <div className=\"logo-icon\" data-tooltip=\"Quibish Chat\">\r\n              💬\r\n              {totalUnreadCount > 0 && (\r\n                <div className=\"logo-unread-badge\">{totalUnreadCount > 99 ? '99+' : totalUnreadCount}</div>\r\n              )},\r\n            </div>\r\n            {!sidebarCollapsed && (\r\n              <div className=\"logo-text\">\r\n                <h2>Quibish</h2>\r\n                <span className=\"version\">v2.0</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <button onClick={toggleSidebar} className=\"sidebar-toggle-btn\" title={sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}>\r\n            {sidebarCollapsed ? '⮞' : '⮜'}\r\n          </button>\r\n        </div>\r\n\r\n        {/* User Profile Section */}\r\n        <div className=\"sidebar-user-profile\">\r\n          <div \r\n            className={`user-avatar ${user?.role === 'admin' ? 'admin-user' : ''}`} \r\n            data-tooltip={user?.role === 'admin' ? `${user?.name || 'Admin'} (Administrator)` : user?.name || 'User Profile'}\r\n          >\r\n            <img \r\n              src={\r\n                avatarError ? \r\n                  '/default-avatar.png' : \r\n                  user?.avatar || \r\n                  `https://ui-avatars.com/api/?name=${encodeURIComponent(user?.name || 'User')}&background=4f46e5&color=fff&size=80&bold=true&format=png`\r\n              }\r\n              alt={user?.name || 'User'}\r\n              onError={(e) => {\r\n                // Multiple fallback handling\r\n                if (!avatarError) {\r\n                  console.log('Avatar load failed, trying fallback:', e.target.src);\r\n                  handleAvatarError();\r\n                  // If it's already trying ui-avatars, fallback to default\r\n                  if (e.target.src.includes('ui-avatars.com')) {\r\n                    e.target.src = '/default-avatar.png';\r\n                  }\r\n                } else {\r\n                  // Last resort - if even default fails, show a colored div\r\n                  e.target.style.display = 'none';\r\n                  const fallbackDiv = document.createElement('div');\r\n                  fallbackDiv.className = 'avatar-fallback';\r\n                  fallbackDiv.style.cssText = `\r\n                    width: 40px; \r\n                    height: 40px; \r\n                    border-radius: 50%; \r\n                    background: linear-gradient(135deg, #4f46e5, #7c3aed); \r\n                    display: flex; \r\n                    align-items: center; \r\n                    justify-content: center; \r\n                    color: white; \r\n                    font-weight: bold;\r\n                    font-size: 16px;\r\n                  `;\r\n                  fallbackDiv.textContent = (user?.name || 'U').charAt(0).toUpperCase();\r\n                  e.target.parentNode.insertBefore(fallbackDiv, e.target);\r\n                }\r\n              }}\r\n              onLoad={() => setAvatarError(false)}\r\n            />\r\n            <div className=\"status-indicator online\"></div>\r\n            {user?.role === 'admin' && (\r\n              <div className=\"admin-badge\" title=\"Administrator\">\r\n                👑\r\n              </div>\r\n            )}\r\n          </div>\r\n          {!sidebarCollapsed && (\r\n            <div className=\"user-info\">\r\n              <h3 className=\"user-name\">{user?.name || 'User'}</h3>\r\n              <p className=\"user-status\">Online</p>\r\n            </div>\r\n          )}\r\n          {!sidebarCollapsed && (\r\n            <div className=\"user-actions\">\r\n              <button className=\"action-btn\" title=\"Settings\" onClick={handleQuickSettings}>⚙️</button>\r\n              <button className=\"action-btn\" title=\"Profile\" onClick={() => handleViewUserProfile(user?.id, user?.name)}>👤</button>\r\n              <button className=\"action-btn logout-btn\" title=\"Logout / Disconnect\" onClick={onLogout}>🚪</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        {!sidebarCollapsed && (\r\n          <div className=\"sidebar-quick-actions\">\r\n            <button className=\"quick-action-btn primary\" onClick={handleNewChat}>\r\n              <span className=\"icon\">➕</span>\r\n              <span className=\"text\">New Chat</span>\r\n            </button>\r\n            <button className=\"quick-action-btn secondary\" onClick={handleCreateGroup}>\r\n              <span className=\"icon\">👥</span>\r\n              <span className=\"text\">Create Group</span>\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Search Bar */}\r\n        {!sidebarCollapsed && (\r\n          <div className=\"sidebar-search\">\r\n            <div className=\"search-container\">\r\n              <span className=\"search-icon\">🔍</span>\r\n              <input \r\n                type=\"text\" \r\n                placeholder=\"Search conversations...\"\r\n                className=\"search-input\"\r\n                value={searchQuery}\r\n                onChange={handleSearchChange}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Filter Tabs */}\r\n        {!sidebarCollapsed && (\r\n          <div className=\"sidebar-filters\">\r\n            <button \r\n              className={`filter-tab ${activeFilter === 'all' ? 'active' : ''}`}\r\n              onClick={() => handleFilterChange('all')}\r\n            >\r\n              <span className=\"tab-text\">All</span>\r\n              <span className=\"tab-count\">{getFilterCounts.all}</span>\r\n            </button>\r\n            <button \r\n              className={`filter-tab ${activeFilter === 'unread' ? 'active' : ''}`}\r\n              onClick={() => handleFilterChange('unread')}\r\n            >\r\n              <span className=\"tab-text\">Unread</span>\r\n              <span className=\"tab-count\">{getFilterCounts.unread}</span>\r\n            </button>\r\n            <button \r\n              className={`filter-tab ${activeFilter === 'groups' ? 'active' : ''}`}\r\n              onClick={() => handleFilterChange('groups')}\r\n            >\r\n              <span className=\"tab-text\">Groups</span>\r\n              <span className=\"tab-count\">{getFilterCounts.groups}</span>\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Conversations List */}\r\n        <div className=\"pro-sidebar-content\">\r\n          <div className=\"conversations-header\">\r\n            {!sidebarCollapsed && <h4>Recent Conversations</h4>}\r\n          </div>\r\n          <div className=\"conversations-list\">\r\n            {filteredConversations.map(conv => (\r\n              <div \r\n                key={conv.id} \r\n                className={`conversation-item enhanced ${selectedConversation === conv.id ? 'active' : ''}`}\r\n                onClick={() => handleConversationSelect(conv.id)}\r\n              >\r\n                <div className=\"conversation-avatar\" data-tooltip={conv.name}>\r\n                  <img \r\n                    src={conv.avatar || `https://ui-avatars.com/api/?name=${conv.name}&background=random&size=40`}\r\n                    alt={conv.name}\r\n                  />\r\n                  {conv.isOnline && <div className=\"online-dot\"></div>}\r\n                  {conv.unreadCount > 0 && <div className=\"unread-badge\">{conv.unreadCount}</div>}\r\n                </div>\r\n                {!sidebarCollapsed && (\r\n                  <div className=\"conversation-details\">\r\n                    <div className=\"conversation-header\">\r\n                      <h5 className=\"conversation-name\">{conv.name}</h5>\r\n                      <span className=\"conversation-time\">{conv.lastMessageTime || '2m'}</span>\r\n                    </div>\r\n                    <div className=\"conversation-preview\">\r\n                      <p className=\"last-message\">{conv.lastMessage || 'Hey there! How are you doing?'}</p>\r\n                      <div className=\"conversation-meta\">\r\n                        {conv.isPinned && <span className=\"pin-icon\">📌</span>}\r\n                        {conv.isMuted && <span className=\"mute-icon\">🔇</span>}\r\n                        {conv.messageStatus && <span className={`message-status ${conv.messageStatus}`}>✓</span>}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {sidebarCollapsed && conv.unreadCount > 0 && (\r\n                  <div className=\"collapsed-unread-indicator\"></div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Global Voice Calls */}\r\n          {!sidebarCollapsed && (\r\n            <GlobalUsers \r\n              onStartCall={handleStartGlobalCall}\r\n              currentCall={globalCall}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* Sidebar Footer */}\r\n        <div className=\"sidebar-footer\">\r\n          {!sidebarCollapsed && (\r\n            <div className=\"footer-stats\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Active</span>\r\n                <span className=\"stat-value\">12</span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Total</span>\r\n                <span className=\"stat-value\">156</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div className=\"footer-actions\">\r\n            <button \r\n              className=\"footer-btn\" \r\n              title=\"Profile\" \r\n              onClick={() => handleViewUserProfile(user?.id, user?.name)}\r\n              data-mobile-action=\"profile\"\r\n            >\r\n              👤\r\n            </button>\r\n            <button \r\n              className=\"footer-btn\" \r\n              title=\"Settings\" \r\n              onClick={handleQuickSettings}\r\n              data-mobile-action=\"settings\"\r\n            >\r\n              ⚙️\r\n            </button>\r\n            <button \r\n              className=\"footer-btn logout-btn\" \r\n              title=\"Logout\" \r\n              onClick={onLogout}\r\n              data-mobile-action=\"logout\"\r\n            >\r\n              🚪\r\n            </button>\r\n            {!sidebarCollapsed && (\r\n              <button className=\"footer-btn\" title=\"Help\" onClick={() => setHelpModal(true)}>❓</button>\r\n            )}\r\n            {!sidebarCollapsed && (\r\n              <button className=\"footer-btn\" title=\"Feedback\" onClick={() => setFeedbackModal(true)}>💬</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Sidebar Backdrop Overlay for Mobile */}\r\n      {!sidebarCollapsed && (\r\n        <div \r\n          className=\"pro-sidebar-overlay\" \r\n          onClick={handleOverlayClick}\r\n          aria-hidden=\"true\"\r\n        />\r\n      )}\r\n\r\n      {/* Main Chat Area */}\r\n      <div className={`pro-main ${sidebarCollapsed ? 'collapsed' : ''}`}>\r\n        {/* Enhanced Header */}\r\n        <div className=\"pro-header enhanced-chat-header\">\r\n          <div className=\"header-left\">\r\n            <div className=\"conversation-avatar\">\r\n              <img \r\n                src={currentSelectedConversation?.avatar || currentConversation?.avatar || `https://images.unsplash.com/photo-1516726817505-f5ed825624d8?w=40&h=40&fit=crop&crop=face`}\r\n                alt={currentSelectedConversation?.name || currentConversation?.name || 'Chat'}\r\n              />\r\n              <div className={`online-indicator ${isConnected ? 'online' : 'offline'}`}></div>\r\n            </div>\r\n            <div className=\"conversation-info\">\r\n              <h3 className=\"conversation-title\">\r\n                {currentSelectedConversation?.name || currentConversation?.name || (selectedConversation ? 'Loading conversation...' : 'Select a conversation')}\r\n              </h3>\r\n              <div className=\"conversation-status\">\r\n                <span className={`connection-status ${isConnected ? 'connected' : 'disconnected'}`}>\r\n                  {isConnected ? '● Online' : '● Disconnected'}\r\n                </span>\r\n                <span className=\"participant-count\">\r\n                  {currentSelectedConversation?.participants || currentConversation?.participants || (currentSelectedConversation ? 2 : 0)} participants\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"header-center\">\r\n            <div className=\"header-search\">\r\n              <input \r\n                type=\"text\" \r\n                placeholder=\"Search messages...\" \r\n                className=\"search-input\"\r\n              />\r\n              <button className=\"search-btn\">🔍</button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"header-actions\">\r\n            <button \r\n              className=\"action-btn unified-call-btn\" \r\n              title=\"📞 Make Calls - International phone calls & app-to-app voice calls\"\r\n              onClick={handleUnifiedCall}\r\n            >\r\n              📞\r\n              {connectionStatus && (\r\n                <span \r\n                  className=\"connection-indicator\"\r\n                  style={{color: connectionStatus.color}}\r\n                >\r\n                  {connectionStatus.icon}\r\n                </span>\r\n              )}\r\n            </button>\r\n            <button \r\n              className=\"action-btn donation-btn\" \r\n              title=\"💝 Support Our Free App - Help us keep it free for everyone!\"\r\n              onClick={() => setShowDonationModal(true)}\r\n            >\r\n              💝\r\n            </button>\r\n            <button className=\"action-btn video-call-btn\" title=\"Start video call\">\r\n              📹\r\n            </button>\r\n            <button className=\"action-btn info-btn\" title=\"Chat info\">\r\n              ℹ️\r\n            </button>\r\n            <button onClick={onToggleDarkMode} className=\"action-btn theme-toggle\" title=\"Toggle theme\">\r\n              {darkMode ? '☀️' : '🌙'}\r\n            </button>\r\n            <button onClick={onLogout} className=\"action-btn logout-btn\" title=\"Logout / Disconnect\">\r\n              🚪\r\n            </button>\r\n            <div className=\"header-menu\">\r\n              <button \r\n                className=\"action-btn menu-btn\" \r\n                title=\"More options\"\r\n                onClick={handleMoreMenuToggle}\r\n              >\r\n                ⋮\r\n              </button>\r\n              {showMoreMenu && (\r\n                <div className=\"dropdown-menu active\">\r\n                  <div className=\"dropdown-header\">\r\n                    <span>More Options</span>\r\n                    <button \r\n                      className=\"close-dropdown\" \r\n                      onClick={() => setShowMoreMenu(false)}\r\n                    >\r\n                      ×\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <button className=\"dropdown-item\" onClick={handleSearchInChat}>\r\n                    <span className=\"dropdown-icon\">🔍</span>\r\n                    Search in Chat\r\n                  </button>\r\n                  \r\n                  <button className=\"dropdown-item\" onClick={handleOpenContactManager}>\r\n                    <span className=\"dropdown-icon\">👥</span>\r\n                    Contacts\r\n                  </button>\r\n                  \r\n                  <button className=\"dropdown-item\" onClick={handleExportChat}>\r\n                    <span className=\"dropdown-icon\">📥</span>\r\n                    Export Chat\r\n                  </button>\r\n                  \r\n                  <button className=\"dropdown-item\" onClick={handlePrintChat}>\r\n                    <span className=\"dropdown-icon\">🖨️</span>\r\n                    Print Chat\r\n                  </button>\r\n                  \r\n                  <button className=\"dropdown-item\" onClick={handleMuteNotifications}>\r\n                    <span className=\"dropdown-icon\">\r\n                      {localStorage.getItem('notificationsMuted') === 'true' ? '🔔' : '🔕'}\r\n                    </span>\r\n                    {localStorage.getItem('notificationsMuted') === 'true' ? 'Unmute' : 'Mute'} Notifications\r\n                  </button>\r\n                  \r\n                  <button className=\"dropdown-item\" onClick={handleClearChat}>\r\n                    <span className=\"dropdown-icon\">🗑️</span>\r\n                    Clear Chat\r\n                  </button>\r\n                  \r\n                  <hr className=\"dropdown-divider\" />\r\n                  \r\n                  <button className=\"dropdown-item\" onClick={handleQuickSettings}>\r\n                    <span className=\"dropdown-icon\">⚙️</span>\r\n                    Settings\r\n                  </button>\r\n                  \r\n                  <button className=\"dropdown-item\" onClick={() => setHelpModal(true)}>\r\n                    <span className=\"dropdown-icon\">❓</span>\r\n                    Help & Support\r\n                  </button>\r\n                  \r\n                  <button className=\"dropdown-item\" onClick={() => setFeedbackModal(true)}>\r\n                    <span className=\"dropdown-icon\">💬</span>\r\n                    Send Feedback\r\n                  </button>\r\n                  \r\n                  <hr className=\"dropdown-divider\" />\r\n                  \r\n                  <button onClick={onLogout} className=\"dropdown-item logout-item\">\r\n                    <span className=\"dropdown-icon\">🚪</span>\r\n                    Logout\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Messages */}\r\n        <div className=\"pro-message-list mobile-optimized pull-to-refresh\" ref={messagesContainerRef}>\r\n          {messagesLoading && (\r\n            <div className=\"message-loading-indicator\">\r\n              <div className=\"loading-spinner\"></div>\r\n              <span>Loading messages...</span>\r\n            </div>\r\n          )}\r\n          \r\n          {messagesError && !messagesLoading && (\r\n            <div className=\"message-error-indicator\">\r\n              <span>⚠️ {messagesError}</span>\r\n              <button \r\n                className=\"retry-button\"\r\n                onClick={() => window.location.reload()}\r\n              >\r\n                Retry\r\n              </button>\r\n            </div>\r\n          )}\r\n          \r\n          {!messagesLoading && !messagesError && chatMessages.length === 0 && (\r\n            <div className=\"no-messages-indicator\">\r\n              {selectedConversation ? (\r\n                <>\r\n                  <span>💬 No messages yet in this conversation</span>\r\n                  <p>Be the first to send a message!</p>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <span>👈 Select a conversation to view messages</span>\r\n                  <p>Choose a conversation from the sidebar to start chatting.</p>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n          \r\n          {chatMessages.map(message => (\r\n            <div key={message.id} className=\"pro-message-blurb\" data-message-id={message.id}>\r\n              <div className=\"message-avatar\">\r\n                <img \r\n                  src={message.user.avatar || `https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=32&h=32&fit=crop&crop=face`}\r\n                  alt={message.user.name}\r\n                  onClick={() => handleViewUserProfile(message.user.id, message.user.name)}\r\n                />\r\n              </div>\r\n              <div className=\"message-content\" onClick={() => handleMessageClick(message.id)}>\r\n                <div className=\"message-header\">\r\n                  <span className=\"user-name\">{message.user.name}</span>\r\n                  {/* Encryption Status Indicator */}\r\n                  {message.isEncrypted && (\r\n                    <span \r\n                      className={`encryption-indicator ${message.encryptionStatus}`} \r\n                      title={`Message is encrypted (${message.encryptionStatus})`}\r\n                    >\r\n                      {message.encryptionStatus === 'decrypted' ? '🔓' : \r\n                       message.encryptionStatus === 'failed' ? '⚠️' : \r\n                       message.encryptionStatus === 'sent' ? '🔒' : '🔐'}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* Enhanced Message Text with Smart Content */}\r\n                <div \r\n                  className=\"message-text\" \r\n                  data-length={getMessageLengthCategory(message.text)}\r\n                  data-content-type={getAdvancedMessageCategory(message).type}\r\n                  data-has-code={getAdvancedMessageCategory(message).hasCode}\r\n                  data-has-links={getAdvancedMessageCategory(message).hasLinks}\r\n                  data-has-mentions={getAdvancedMessageCategory(message).hasMentions}\r\n                  data-sentiment={getAdvancedMessageCategory(message).sentiment}\r\n                >\r\n                  <span className=\"message-smart-text\">\r\n                    {message.text}\r\n                  </span>\r\n                </div>\r\n                \r\n                {/* File/Image Display */}\r\n                {message.file && (\r\n                  <div className=\"message-attachment\">\r\n                    {message.file.type.startsWith('image/') ? (\r\n                      <div className={`image-attachment ${message.file.isGif ? 'gif-attachment' : ''}`}>\r\n                        {message.file.isGif && (\r\n                          <div className=\"gif-badge\">\r\n                            <span className=\"gif-label\">GIF</span>\r\n                          </div>\r\n                        )}\r\n                        <img \r\n                          src={message.file.url} \r\n                          alt={message.file.name}\r\n                          className={`attached-image ${message.file.isGif ? 'gif-image' : ''}`}\r\n                          onClick={() => {\r\n                            // Open image in lightbox/modal\r\n                            handleOpenLightbox(message.file.url, message.file.name);\r\n                          }}\r\n                          style={{\r\n                            maxWidth: message.file.isGif ? '350px' : '300px',\r\n                            maxHeight: message.file.isGif ? '250px' : '200px',\r\n                            borderRadius: '8px',\r\n                            cursor: 'pointer',\r\n                            objectFit: 'cover'\r\n                          }}\r\n                        />\r\n                        <div className={`image-caption ${message.file.isGif ? 'gif-caption' : ''}`}>\r\n                          {message.file.isGif && '🎭 '}\r\n                          {message.file.name} ({(message.file.size / 1024).toFixed(1)} KB)\r\n                          {message.file.isGif && (\r\n                            <span className=\"gif-info\"> • Animated GIF</span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    ) : message.file.type.startsWith('video/') ? (\r\n                      <div className=\"video-attachment\">\r\n                        <div className=\"video-container\">\r\n                          <video \r\n                            src={message.file.url}\r\n                            poster={message.file.thumbnail}\r\n                            controls\r\n                            preload=\"metadata\"\r\n                            muted={false}\r\n                            playsInline\r\n                            webkit-playsinline=\"true\"\r\n                            onClick={() => {\r\n                              // Open video in spotlight/lightbox mode\r\n                              handleOpenVideoLightbox(\r\n                                message.file.url, \r\n                                message.file.name,\r\n                                message.file.thumbnail,\r\n                                message.file.type\r\n                              );\r\n                            }}\r\n                            onError={(e) => {\r\n                              console.error('Video playback error:', e);\r\n                              console.log('Video details:', {\r\n                                src: message.file.url,\r\n                                type: message.file.type,\r\n                                poster: message.file.thumbnail ? 'Has thumbnail' : 'No thumbnail',\r\n                                error: e.target.error\r\n                              });\r\n                            }}\r\n                            onLoadedMetadata={(e) => {\r\n                              console.log('Video loaded for playback:', {\r\n                                duration: e.target.duration,\r\n                                videoWidth: e.target.videoWidth,\r\n                                videoHeight: e.target.videoHeight,\r\n                                readyState: e.target.readyState\r\n                              });\r\n                            }}\r\n                            onLoadStart={() => console.log('Video load started')}\r\n                            onCanPlay={() => console.log('Video can play')}\r\n                            onCanPlayThrough={() => console.log('Video can play through')}\r\n                            style={{\r\n                              maxWidth: '400px',\r\n                              maxHeight: '300px',\r\n                              borderRadius: '8px',\r\n                              width: '100%',\r\n                              height: 'auto',\r\n                              cursor: 'pointer'\r\n                            }}\r\n                          >\r\n                            <source src={message.file.url} type={message.file.type} />\r\n                            Your browser does not support the video tag.\r\n                          </video>\r\n                          {message.file.duration && (\r\n                            <div className=\"video-duration-badge\">\r\n                              {message.file.duration}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"video-caption\">\r\n                          🎥 {message.file.name} \r\n                          {message.file.size && ` (${(message.file.size / (1024 * 1024)).toFixed(1)} MB)`}\r\n                          {message.file.width && message.file.height && ` • ${message.file.width}×${message.file.height}`}\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"file-attachment\">\r\n                        <div className=\"file-icon\">📄</div>\r\n                        <div className=\"file-info\">\r\n                          <div className=\"file-name\">{message.file.name}</div>\r\n                          <div className=\"file-size\">{(message.file.size / 1024).toFixed(1)} KB</div>\r\n                        </div>\r\n                        <button \r\n                          className=\"download-btn\"\r\n                          onClick={() => {\r\n                            // Trigger download\r\n                            const link = document.createElement('a');\r\n                            link.href = message.file.url;\r\n                            link.download = message.file.name;\r\n                            link.click();\r\n                          }}\r\n                        >\r\n                          Download\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                \r\n                {/* Voice Message Display */}\r\n                {message.type === 'voice' && (\r\n                  <div className=\"voice-message\">\r\n                    <div className=\"voice-icon\">🎤</div>\r\n                    <div className=\"voice-duration\">{formatRecordingTime(message.duration || 0)}</div>\r\n                    <button className=\"play-voice-btn\">▶️</button>\r\n                  </div>\r\n                )}\r\n                \r\n                {/* Voice Call Message Display */}\r\n                {message.type === 'voice_call' && (\r\n                  <div className=\"voice-call-message\">\r\n                    <div className=\"voice-call-icon\">📞</div>\r\n                    <div className=\"voice-call-info\">\r\n                      <div className=\"voice-call-text\">{message.text}</div>\r\n                      <div className=\"voice-call-status\">\r\n                        Status: {message.callStatus}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"voice-call-controls\">\r\n                      {message.callStatus === 'connecting' && (\r\n                        <button \r\n                          className=\"voice-call-btn-small end-call\"\r\n                          onClick={() => handleEndVoiceCall()}\r\n                          title=\"End call\"\r\n                        >\r\n                          End\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                \r\n                {/* Enhanced Voice Call Message Display */}\r\n                {message.type === 'voice_call_enhanced' && (\r\n                  <div className=\"voice-call-enhanced-message\">\r\n                    <div className=\"voice-call-enhanced-header\">\r\n                      <div className=\"voice-call-method-icon\">{message.callMethod?.icon || '📞'}</div>\r\n                      <div className=\"voice-call-enhanced-info\">\r\n                        <div className=\"voice-call-enhanced-text\">{message.text}</div>\r\n                        <div className=\"voice-call-method-description\">\r\n                          {message.callMethod?.description}\r\n                        </div>\r\n                        <div className=\"voice-call-quality-info\">\r\n                          <span className=\"connection-quality\" style={{color: connectionService.getConnectionStatus().color}}>\r\n                            {message.callMethod?.estimated_quality} {message.connectionQuality}\r\n                          </span>\r\n                          {message.callMethod?.latency && (\r\n                            <span className=\"latency-info\">• {Math.round(message.callMethod.latency)}ms</span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"voice-call-enhanced-controls\">\r\n                      <div className=\"call-status-indicator\">\r\n                        <div className={`status-dot ${message.callStatus}`}></div>\r\n                        <span className=\"status-text\">{message.callStatus}</span>\r\n                      </div>\r\n                      {(message.callStatus === 'connecting' || message.callStatus === 'connected') && (\r\n                        <button \r\n                          className=\"voice-call-btn-small end-call-enhanced\"\r\n                          onClick={() => handleEndVoiceCall()}\r\n                          title=\"End call\"\r\n                        >\r\n                          End Call\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    {message.callMethod?.note && (\r\n                      <div className=\"call-method-note\">\r\n                        ℹ️ {message.callMethod.note}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              {/* Message Timestamp with Reactions */}\r\n              <div className=\"message-timestamp-with-reactions\">\r\n                <div className=\"message-timestamp\">\r\n                  {new Date(message.timestamp).toLocaleTimeString()}\r\n                </div>\r\n                {message.reactions && message.reactions.length > 0 && (\r\n                  <div className=\"message-reactions-inline\">\r\n                    {message.reactions.map((reaction, index) => (\r\n                      <button\r\n                        key={index}\r\n                        className=\"reaction-bubble-inline\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          handleReactionAdd(message.id, reaction.emoji);\r\n                        }}\r\n                        title={`${reaction.emoji} ${reaction.count}`}\r\n                      >\r\n                        <span className=\"reaction-emoji\">{reaction.emoji}</span>\r\n                        <span className=\"reaction-count\">{reaction.count}</span>\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              {/* Context-Aware Message Actions - Placeholder for future implementation */}\r\n              {/* <MessageActions component will be implemented later /> */}\r\n            </div>\r\n          ))}\r\n          {/* Auto-scroll anchor element */}\r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n\r\n        {/* Enhanced Input Area with Voice and File Upload */}\r\n        <div className=\"pro-chat-input-container enhanced mobile-input-bar keyboard-avoiding\">\r\n          <div className=\"input-wrapper enhanced touch-target\">\r\n            {/* Voice Recording Interface */}\r\n            {isRecording && (\r\n              <div className=\"recording-interface\">\r\n                <div className=\"recording-indicator\">\r\n                  <div className=\"recording-dot\"></div>\r\n                  <span>Recording... {formatRecordingTime(recordingDuration)}</span>\r\n                </div>\r\n                <div className=\"recording-actions\">\r\n                  <button \r\n                    className=\"recording-btn cancel\"\r\n                    onClick={() => stopRecording(false)}\r\n                    type=\"button\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button \r\n                    className=\"recording-btn send\"\r\n                    onClick={() => stopRecording(true)}\r\n                    type=\"button\"\r\n                  >\r\n                    Send\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Regular Input Interface */}\r\n            {!isRecording && (\r\n              <>\r\n                {/* File Input */}\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  accept=\"image/*,image/gif,video/*,audio/*,.pdf,.doc,.docx,.txt\"\r\n                  style={{ display: 'none' }}\r\n                  multiple\r\n                  onChange={handleFileChange}\r\n                />\r\n\r\n                {/* Mobile Camera Input - Photo */}\r\n                <input\r\n                  ref={mobileCameraPhotoRef}\r\n                  id=\"mobile-camera-photo\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  capture=\"environment\"\r\n                  style={{ display: 'none' }}\r\n                  onChange={handleFileChange}\r\n                />\r\n\r\n                {/* Mobile Camera Input - Video */}\r\n                <input\r\n                  ref={mobileCameraVideoRef}\r\n                  id=\"mobile-camera-video\"\r\n                  type=\"file\"\r\n                  accept=\"video/*\"\r\n                  capture=\"environment\"\r\n                  style={{ display: 'none' }}\r\n                  onChange={handleFileChange}\r\n                />\r\n\r\n                {/* Mobile Gallery Input */}\r\n                <input\r\n                  ref={mobileGalleryRef}\r\n                  id=\"mobile-gallery\"\r\n                  type=\"file\"\r\n                  accept=\"image/*,video/*,image/gif\"\r\n                  style={{ display: 'none' }}\r\n                  multiple\r\n                  onChange={handleFileChange}\r\n                />\r\n\r\n                {/* Top Row - Action Icons */}\r\n                <div className=\"input-actions-row\">\r\n                  {/* File Attachment Button */}\r\n                  <button \r\n                    className=\"input-btn attachment-btn mobile-action-button touch-target touch-ripple haptic-light touch-feedback haptic-button\"\r\n                    onClick={isMobileDevice() ? handleMobileUploadMenu : () => fileInputRef.current?.click()}\r\n                    type=\"button\"\r\n                    title={isMobileDevice() ? \"Upload menu\" : \"Attach files\"}\r\n                  >\r\n                    📎\r\n                  </button>\r\n\r\n                  {/* GIF Picker Button */}\r\n                  <button \r\n                    className=\"input-btn gif-btn mobile-action-button touch-target touch-ripple haptic-light touch-feedback haptic-button\"\r\n                    onClick={handleShowGifPicker}\r\n                    type=\"button\"\r\n                    title=\"Choose GIF\"\r\n                  >\r\n                    🎭\r\n                  </button>\r\n\r\n                  {/* GIF Upload Button (secondary) */}\r\n                  <button \r\n                    className=\"input-btn gif-upload-btn\"\r\n                    onClick={handleGifUpload}\r\n                    type=\"button\"\r\n                    title=\"Upload your own GIF\"\r\n                  >\r\n                    📤\r\n                  </button>\r\n\r\n                  {/* Voice Input Button */}\r\n                  <button \r\n                    className=\"input-btn voice-btn mobile-action-button touch-target touch-ripple haptic-light touch-feedback haptic-button long-press-target\"\r\n                    onClick={startRecording}\r\n                    type=\"button\"\r\n                    title=\"Voice message\"\r\n                  >\r\n                    🎤\r\n                  </button>\r\n\r\n                  {/* Mobile Global Voice Calls Button (when sidebar collapsed) */}\r\n                  {sidebarCollapsed && window.innerWidth <= 768 && (\r\n                    <button \r\n                      className=\"input-btn global-voice-btn mobile-action-button touch-target touch-ripple haptic-light\"\r\n                      onClick={handleMobileGlobalVoice}\r\n                      type=\"button\"\r\n                      title=\"Global Voice Calls\"\r\n                    >\r\n                      🌍\r\n                    </button>\r\n                  )}\r\n\r\n                  {/* Native Camera Button (Mobile) */}\r\n                  {nativeDeviceFeaturesService.isSupported('camera') && (\r\n                    <button \r\n                      className=\"input-btn camera-btn mobile-action-button touch-target touch-ripple haptic-light\"\r\n                      onClick={() => handleOpenNativeCamera('photo')}\r\n                      type=\"button\"\r\n                      title=\"Take photo/video\"\r\n                    >\r\n                      📷\r\n                    </button>\r\n                  )}\r\n\r\n                  {/* Contact Picker Button (Mobile) */}\r\n                  {nativeDeviceFeaturesService.isSupported('contacts') && (\r\n                    <button \r\n                      className=\"input-btn contact-btn mobile-action-button touch-target touch-ripple haptic-light\"\r\n                      onClick={handleOpenContactPicker}\r\n                      type=\"button\"\r\n                      title=\"Share contacts\"\r\n                    >\r\n                      👥\r\n                    </button>\r\n                  )}\r\n\r\n                  {/* Emoji Button */}\r\n                  <button \r\n                    className=\"input-btn emoji-btn mobile-action-button touch-target touch-ripple haptic-light touch-feedback haptic-button\"\r\n                    onClick={() => setShowEmojiPicker(!showEmojiPicker)}\r\n                    type=\"button\"\r\n                    title=\"Add emoji\"\r\n                  >\r\n                    😊\r\n                  </button>\r\n\r\n                  {/* Encryption Toggle */}\r\n                  {encryptionEnabled && (\r\n                    <button \r\n                      className={`input-btn encryption-btn mobile-action-button touch-target touch-ripple haptic-light ${defaultEncryption ? 'active' : ''}`}\r\n                      onClick={() => setDefaultEncryption(!defaultEncryption)}\r\n                      type=\"button\"\r\n                      title={defaultEncryption ? \"Encryption enabled\" : \"Encryption disabled\"}\r\n                    >\r\n                      {defaultEncryption ? '🔒' : '🔓'}\r\n                    </button>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Bottom Row - Message Input and Send */}\r\n                <div className=\"message-input-row\">\r\n                  {/* Text Input */}\r\n                  <textarea\r\n                    value={inputText}\r\n                    onChange={(e) => setInputText(e.target.value)}\r\n                    onKeyPress={handleKeyPress}\r\n                    placeholder=\"Type your message...\"\r\n                    className=\"message-input enhanced mobile-message-input touch-target\"\r\n                    rows=\"1\"\r\n                    autoComplete=\"off\"\r\n                    autoCorrect=\"on\"\r\n                    autoCapitalize=\"sentences\"\r\n                    spellCheck=\"true\"\r\n                    inputMode=\"text\"\r\n                    aria-label=\"Type your message\"\r\n                    data-testid=\"message-input\"\r\n                  />\r\n\r\n                  {/* Send Button */}\r\n                  <button \r\n                    onClick={handleSendMessage}\r\n                    disabled={!inputText.trim()}\r\n                    className=\"send-button enhanced mobile-action-button touch-target touch-ripple haptic-light touch-feedback haptic-button high-refresh-touch\"\r\n                    type=\"button\"\r\n                    aria-label=\"Send message\"\r\n                    title=\"Send message\"\r\n                    data-testid=\"send-button\"\r\n                  >\r\n                    <span className=\"send-icon\" aria-hidden=\"true\">➤</span>\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Emoji Picker */}\r\n          {showEmojiPicker && (\r\n            <div className=\"emoji-picker-overlay\" onClick={() => setShowEmojiPicker(false)}>\r\n              <div className=\"emoji-picker\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"emoji-picker-header\">\r\n                  <span>Choose an emoji</span>\r\n                  <button \r\n                    className=\"emoji-close\"\r\n                    onClick={() => setShowEmojiPicker(false)}\r\n                  >\r\n                    ✕\r\n                  </button>\r\n                </div>\r\n                <div className=\"emoji-grid\">\r\n                  {['😊', '😂', '🥰', '😍', '🤔', '😮', '😅', '👍', '👎', '❤️', '🔥', '🎉', '👏', '🙌', '✨', '💯', '🚀', '💡', '🎯', '✅', '❌', '⚡', '🌟', '🤝', '💪', '🌈', '☀️', '🌙', '⭐', '💝', '🎈'].map(emoji => (\r\n                    <button\r\n                      key={emoji}\r\n                      className=\"emoji-item\"\r\n                      onClick={() => handleEmojiClick(emoji)}\r\n                    >\r\n                      {emoji}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Reaction Picker for Messages */}\r\n          {showReactionPicker && selectedMessageId && (\r\n            <div className=\"emoji-picker-overlay\" onClick={() => {\r\n              setShowReactionPicker(false);\r\n              setSelectedMessageId(null);\r\n            }}>\r\n              <div className=\"emoji-picker\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"emoji-picker-header\">\r\n                  <span>Add Reaction</span>\r\n                  <button \r\n                    className=\"emoji-close\"\r\n                    onClick={() => {\r\n                      setShowReactionPicker(false);\r\n                      setSelectedMessageId(null);\r\n                    }}\r\n                  >\r\n                    ✕\r\n                  </button>\r\n                </div>\r\n                <div className=\"emoji-grid\">\r\n                  {['😊', '😂', '🥰', '😍', '🤔', '😮', '😅', '👍', '👎', '❤️', '🔥', '🎉', '👏', '🙌', '✨', '💯', '🚀', '💡', '🎯', '✅', '❌', '⚡', '🌟', '🤝', '💪', '🌈', '☀️', '🌙', '⭐', '💝', '🎈'].map(emoji => (\r\n                    <button\r\n                      key={emoji}\r\n                      className=\"emoji-item\"\r\n                      onClick={() => handleEmojiClick(emoji)}\r\n                    >\r\n                      {emoji}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Profile Modal */}\r\n      {profileModal.open && (\r\n        <UserProfileModal \r\n          userId={profileModal.userId}\r\n          username={profileModal.username}\r\n          onClose={handleCloseProfileModal}\r\n        />\r\n      )}\r\n\r\n      {/* Settings Modal */}\r\n      {settingsModal.open && (\r\n        <SettingsModal \r\n          isOpen={settingsModal.open}\r\n          onClose={handleCloseSettingsModal}\r\n          initialSection={settingsModal.section}\r\n          user={user}\r\n          onSaveProfile={(updatedUser) => {\r\n            // Handle profile updates if needed\r\n            console.log('Profile updated:', updatedUser);\r\n          }}\r\n          darkMode={darkMode}\r\n        />\r\n      )}\r\n\r\n      {/* Lightbox Modal */}\r\n      {lightboxModal.open && (\r\n        <div className=\"pro-lightbox-overlay\" onClick={handleCloseLightbox}>\r\n          <div className=\"pro-lightbox-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"pro-lightbox-header\">\r\n              <div className=\"pro-lightbox-info\">\r\n                <div className=\"pro-lightbox-title\">{lightboxModal.imageName}</div>\r\n                <div className=\"pro-lightbox-meta\">\r\n                  <span className=\"pro-lightbox-zoom-info\">\r\n                    {Math.round(lightboxModal.zoom * 100)}%\r\n                  </span>\r\n                  {lightboxModal.images.length > 1 && (\r\n                    <span className=\"pro-lightbox-counter\">\r\n                      {lightboxModal.currentIndex + 1} / {lightboxModal.images.length}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"pro-lightbox-controls\">\r\n                <button \r\n                  className=\"pro-lightbox-btn\" \r\n                  onClick={handleZoomOut}\r\n                  title=\"Zoom out (-)\"\r\n                >\r\n                  🔍-\r\n                </button>\r\n                <button \r\n                  className=\"pro-lightbox-btn\" \r\n                  onClick={handleZoomReset}\r\n                  title=\"Reset zoom (0)\"\r\n                >\r\n                  ⊡\r\n                </button>\r\n                <button \r\n                  className=\"pro-lightbox-btn\" \r\n                  onClick={handleZoomIn}\r\n                  title=\"Zoom in (+)\"\r\n                >\r\n                  🔍+\r\n                </button>\r\n                <button \r\n                  className=\"pro-lightbox-btn pro-lightbox-download\" \r\n                  onClick={() => {\r\n                    const link = document.createElement('a');\r\n                    link.href = lightboxModal.imageUrl;\r\n                    link.download = lightboxModal.imageName;\r\n                    link.click();\r\n                  }}\r\n                  title=\"Download image\"\r\n                >\r\n                  💾\r\n                </button>\r\n              </div>\r\n              <button className=\"pro-lightbox-close\" onClick={handleCloseLightbox}>\r\n                ×\r\n              </button>\r\n            </div>\r\n            <div \r\n              className=\"pro-lightbox-image-container\"\r\n              onMouseDown={handleMouseDown}\r\n              onMouseMove={handleMouseMove}\r\n              onMouseUp={handleMouseUp}\r\n              onMouseLeave={handleMouseUp}\r\n              style={{\r\n                cursor: lightboxModal.zoom > 1 ? (lightboxModal.isDragging ? 'grabbing' : 'grab') : 'zoom-in'\r\n              }}\r\n            >\r\n              {/* Navigation Arrows */}\r\n              {lightboxModal.images.length > 1 && (\r\n                <>\r\n                  <button \r\n                    className=\"pro-lightbox-nav pro-lightbox-nav-prev\"\r\n                    onClick={() => handleNavigateImage('prev')}\r\n                    disabled={lightboxModal.currentIndex === 0}\r\n                    title=\"Previous image (←)\"\r\n                  >\r\n                    ←\r\n                  </button>\r\n                  <button \r\n                    className=\"pro-lightbox-nav pro-lightbox-nav-next\"\r\n                    onClick={() => handleNavigateImage('next')}\r\n                    disabled={lightboxModal.currentIndex === lightboxModal.images.length - 1}\r\n                    title=\"Next image (→)\"\r\n                  >\r\n                    →\r\n                  </button>\r\n                </>\r\n              )}\r\n              \r\n              <img \r\n                src={lightboxModal.imageUrl} \r\n                alt={lightboxModal.imageName}\r\n                className={`pro-lightbox-image ${lightboxModal.isLoading ? 'loading' : 'loaded'}`}\r\n                style={{\r\n                  transform: `scale(${lightboxModal.zoom}) translate(${lightboxModal.pan.x}px, ${lightboxModal.pan.y}px)`,\r\n                  transition: lightboxModal.isDragging ? 'none' : 'transform 0.3s ease',\r\n                  opacity: lightboxModal.isLoading ? 0.3 : 1\r\n                }}\r\n                onLoad={handleImageLoad}\r\n                onError={handleImageError}\r\n                onDoubleClick={() => {\r\n                  if (lightboxModal.zoom === 1) {\r\n                    handleZoomIn();\r\n                  } else {\r\n                    handleZoomReset();\r\n                  }\r\n                }}\r\n                draggable={false}\r\n              />\r\n              \r\n              {/* Loading Indicator */}\r\n              {lightboxModal.isLoading && (\r\n                <div className=\"pro-lightbox-loading\">\r\n                  <div className=\"pro-lightbox-spinner\"></div>\r\n                  <span>Loading...</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"pro-lightbox-help\">\r\n              <span>ESC to close • Arrow keys to navigate • Mouse wheel to zoom • Drag to pan • Double-click to zoom</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Video Lightbox Modal */}\r\n      {videoLightboxModal.open && (\r\n        <div className=\"pro-lightbox-overlay\" onClick={handleCloseVideoLightbox}>\r\n          <div className=\"pro-lightbox-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"pro-lightbox-header\">\r\n              <div className=\"pro-lightbox-info\">\r\n                <div className=\"pro-lightbox-title\">\r\n                  <h3>{videoLightboxModal.videoName}</h3>\r\n                </div>\r\n              </div>\r\n              <div className=\"pro-lightbox-controls\">\r\n                <button \r\n                  className=\"pro-lightbox-btn pro-lightbox-download\" \r\n                  onClick={() => {\r\n                    const link = document.createElement('a');\r\n                    link.href = videoLightboxModal.videoUrl;\r\n                    link.download = videoLightboxModal.videoName;\r\n                    link.click();\r\n                  }}\r\n                  title=\"Download video\"\r\n                >\r\n                  💾\r\n                </button>\r\n              </div>\r\n              <button className=\"pro-lightbox-close\" onClick={handleCloseVideoLightbox}>\r\n                ×\r\n              </button>\r\n            </div>\r\n            <div className=\"pro-lightbox-video-container\">\r\n              <video \r\n                src={videoLightboxModal.videoUrl}\r\n                poster={videoLightboxModal.poster}\r\n                controls\r\n                autoPlay\r\n                playsInline\r\n                className=\"pro-lightbox-video\"\r\n                style={{\r\n                  maxWidth: '100%',\r\n                  maxHeight: '80vh',\r\n                  width: 'auto',\r\n                  height: 'auto'\r\n                }}\r\n              >\r\n                <source src={videoLightboxModal.videoUrl} type={videoLightboxModal.type} />\r\n                Your browser does not support the video tag.\r\n              </video>\r\n            </div>\r\n            <div className=\"pro-lightbox-help\">\r\n              <span>ESC to close • Click outside to close • Download available</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* GIF Picker Modal */}\r\n      <GifPicker\r\n        isOpen={showGifPicker}\r\n        onGifSelect={handleGifSelect}\r\n        onClose={handleCloseGifPicker}\r\n      />\r\n\r\n      {/* New Chat Modal */}\r\n      <NewChatModal\r\n        isOpen={newChatModal}\r\n        onClose={() => setNewChatModal(false)}\r\n        onCreateChat={handleCreateChat}\r\n        currentUser={user}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      {/* Feedback Modal */}\r\n      <FeedbackModal\r\n        isOpen={feedbackModal}\r\n        onClose={() => setFeedbackModal(false)}\r\n        onSubmit={handleFeedbackSubmit}\r\n      />\r\n\r\n      {/* Help Modal */}\r\n      <HelpModal\r\n        isOpen={helpModal}\r\n        onClose={() => setHelpModal(false)}\r\n      />\r\n\r\n      {/* Call Method Selector Modal */}\r\n      {showCallMethodSelector && (\r\n        <div className=\"call-method-selector-overlay\">\r\n          <div className=\"call-method-selector-modal\">\r\n            <div className=\"call-method-header\">\r\n              <h3>Choose Call Method</h3>\r\n              <button \r\n                className=\"close-btn\"\r\n                onClick={() => setShowCallMethodSelector(false)}\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n            <div className=\"call-method-list\">\r\n              {availableCallMethods.map((method, index) => (\r\n                <div \r\n                  key={index}\r\n                  className={`call-method-option ${method.quality}`}\r\n                  onClick={() => {\r\n                    const currentUser = currentSelectedConversation || currentConversation;\r\n                    startEnhancedVoiceCall(currentUser, method.type);\r\n                  }}\r\n                >\r\n                  <div className=\"method-icon\">{method.icon}</div>\r\n                  <div className=\"method-info\">\r\n                    <div className=\"method-title\">{method.description}</div>\r\n                    <div className=\"method-quality\">{method.estimated_quality}</div>\r\n                    {method.targetPhone && (\r\n                      <div className=\"method-phone\">📱 {method.targetPhone}</div>\r\n                    )}\r\n                    {method.note && (\r\n                      <div className=\"method-note\">{method.note}</div>\r\n                    )}\r\n                    {method.estimatedLatency && (\r\n                      <div className=\"method-latency\">⚡ {Math.round(method.estimatedLatency)}ms</div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"method-quality-badge\">\r\n                    {method.quality}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"connection-info\">\r\n              <div className=\"current-connection\">\r\n                📶 Current: {connectionService.getConnectionStatus().quality} \r\n                ({connectionService.getConnectionStatus().type})\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Native Camera Component */}\r\n      {showNativeCamera && (\r\n        <NativeCamera\r\n          mode={nativeCameraMode}\r\n          onCapture={handleCameraCapture}\r\n          onClose={handleCloseNativeCamera}\r\n        />\r\n      )}\r\n\r\n      {/* Native Contact Picker Component */}\r\n      {showContactPicker && (\r\n        <NativeContactPicker\r\n          onContactSelect={handleContactSelect}\r\n          onClose={handleCloseContactPicker}\r\n        />\r\n      )}\r\n\r\n      {/* Contact Manager Component */}\r\n      {showContactManager && (\r\n        <ContactManager\r\n          isOpen={showContactManager}\r\n          onClose={() => setShowContactManager(false)}\r\n          onStartChat={handleContactToChat}\r\n          onStartCall={handleContactCall}\r\n          currentUser={user}\r\n          darkMode={darkMode}\r\n        />\r\n      )}\r\n\r\n      {/* Mobile Global Voice Calls Modal */}\r\n      {mobileGlobalVoiceModal && (\r\n        <div className=\"mobile-global-voice-modal-overlay\" onClick={() => setMobileGlobalVoiceModal(false)}>\r\n          <div className=\"mobile-global-voice-modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"mobile-modal-header\">\r\n              <h3>🌍 Global Voice Calls</h3>\r\n              <button \r\n                className=\"mobile-modal-close\" \r\n                onClick={() => setMobileGlobalVoiceModal(false)}\r\n                title=\"Close\"\r\n              >\r\n                ✕\r\n              </button>\r\n            </div>\r\n            <div className=\"mobile-modal-content\">\r\n              <GlobalUsers \r\n                onStartCall={(call) => {\r\n                  handleStartGlobalCall(call);\r\n                  setMobileGlobalVoiceModal(false);\r\n                }}\r\n                currentCall={globalCall}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Call Options Modal */}\r\n      {showCallOptions && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowCallOptions(false)}>\r\n          <div className=\"modal-content call-options-modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h3>Choose Call Type</h3>\r\n              <button className=\"close-btn\" onClick={() => setShowCallOptions(false)}>×</button>\r\n            </div>\r\n            <div className=\"call-options-content\">\r\n              <button \r\n                className=\"call-option-btn international-option\"\r\n                onClick={handleInternationalCall}\r\n              >\r\n                <span className=\"call-option-icon\">🌍</span>\r\n                <div className=\"call-option-info\">\r\n                  <h4>International Phone Call</h4>\r\n                  <p>Call any phone number worldwide - completely FREE!</p>\r\n                </div>\r\n              </button>\r\n              <button \r\n                className=\"call-option-btn app-call-option\"\r\n                onClick={handleAppCall}\r\n              >\r\n                <span className=\"call-option-icon\">💬</span>\r\n                <div className=\"call-option-info\">\r\n                  <h4>App-to-App Voice Call</h4>\r\n                  <p>High-quality voice call with other Quibish users</p>\r\n                </div>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* International Dialer Modal */}\r\n      {showInternationalDialer && (\r\n        <InternationalDialer\r\n          isOpen={showInternationalDialer}\r\n          onClose={() => setShowInternationalDialer(false)}\r\n          darkMode={darkMode}\r\n        />\r\n      )}\r\n\r\n      {/* Donation Modal */}\r\n      {showDonationModal && (\r\n        <DonationModal\r\n          isOpen={showDonationModal}\r\n          onClose={() => setShowDonationModal(false)}\r\n          darkMode={darkMode}\r\n          userStats={{\r\n            callsMade: globalCall ? 1 : 0,\r\n            messagesSent: currentConversation?.messages?.length || 0,\r\n            daysUsed: 1\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Donation Prompt - Non-intrusive encouragement */}\r\n      <DonationPrompt\r\n        userStats={{\r\n          callsMade: globalCall ? 1 : 0,\r\n          messagesSent: currentConversation?.messages?.length || 0,\r\n          daysUsed: 1\r\n        }}\r\n        darkMode={darkMode}\r\n        onOpenDonation={() => setShowDonationModal(true)}\r\n        position=\"bottom-right\"\r\n        autoShow={true}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n// PropTypes\r\nProChat.propTypes = {\r\n  user: PropTypes.object,\r\n  conversations: PropTypes.array,\r\n  currentConversation: PropTypes.object,\r\n  onLogout: PropTypes.func,\r\n  darkMode: PropTypes.bool,\r\n  onToggleDarkMode: PropTypes.func\r\n};\r\n\r\nexport default ProChat;","import React, { createContext, useState, useContext, useEffect } from 'react';\r\nimport { logActivity, ACTIVITY_TYPES } from '../components/Home/UserActivityService';\r\n\r\n// Create the auth context\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [token, setToken] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [rememberMe, setRememberMe] = useState(false);\r\n\r\n  // Check for stored user data on mount\r\n  useEffect(() => {\r\n    const initializeAuth = async () => {\r\n      // Check both localStorage (remember me) and sessionStorage (current session)\r\n      const localToken = localStorage.getItem('authToken');\r\n      const sessionToken = sessionStorage.getItem('authToken');\r\n      const localUser = localStorage.getItem('user');\r\n      const sessionUser = sessionStorage.getItem('user');\r\n      \r\n      // Prioritize localStorage if it exists (remember me was checked)\r\n      let storedToken = null;\r\n      let storedUser = null;\r\n      let isRemembered = false;\r\n      \r\n      if (localToken && localUser) {\r\n        storedToken = localToken;\r\n        storedUser = localUser;\r\n        isRemembered = true;\r\n        console.log('Found remembered session in localStorage');\r\n      } else if (sessionToken && sessionUser) {\r\n        storedToken = sessionToken;\r\n        storedUser = sessionUser;\r\n        isRemembered = false;\r\n        console.log('Found temporary session in sessionStorage');\r\n      }\r\n      \r\n      // Clear any corrupted or mismatched data\r\n      if (!storedToken || !storedUser) {\r\n        localStorage.removeItem('user');\r\n        localStorage.removeItem('authToken');\r\n        sessionStorage.removeItem('user');\r\n        sessionStorage.removeItem('authToken');\r\n      }\r\n      \r\n      if (storedToken && storedUser) {\r\n        try {\r\n          const userData = JSON.parse(storedUser);\r\n          setToken(storedToken);\r\n          setRememberMe(isRemembered);\r\n          \r\n          // Try to fetch fresh user profile data from backend to get latest settings\r\n          try {\r\n            const controller = new AbortController();\r\n            const timeoutId = setTimeout(() => controller.abort(), 3000); // 3 second timeout\r\n            \r\n            const response = await fetch('http://localhost:5001/api/users/profile', {\r\n              headers: {\r\n                'Authorization': `Bearer ${storedToken}`,\r\n                'Content-Type': 'application/json'\r\n              },\r\n              signal: controller.signal\r\n            });\r\n            \r\n            clearTimeout(timeoutId);\r\n            \r\n            if (response.ok) {\r\n              const profileData = await response.json();\r\n              if (profileData.success && profileData.user) {\r\n                // Use fresh profile data from backend\r\n                const freshUserData = profileData.user;\r\n                setCurrentUser(freshUserData);\r\n                \r\n                // Update stored user data with fresh profile\r\n                const storage = isRemembered ? localStorage : sessionStorage;\r\n                storage.setItem('user', JSON.stringify(freshUserData));\r\n                \r\n                console.log('Restored session with fresh profile data:', { \r\n                  remembered: isRemembered, \r\n                  user: freshUserData.username,\r\n                  theme: freshUserData.theme,\r\n                  language: freshUserData.language\r\n                });\r\n              } else {\r\n                // Fallback to stored data if profile fetch fails\r\n                setCurrentUser(userData);\r\n                console.log('Used stored session data (profile fetch failed):', { remembered: isRemembered, user: userData.username });\r\n              }\r\n            } else {\r\n              // If token is invalid, clear session\r\n              throw new Error('Invalid token');\r\n            }\r\n          } catch (fetchError) {\r\n            // Only log specific errors that aren't connection-related\r\n            if (fetchError.name !== 'AbortError' && !fetchError.message.includes('Failed to fetch')) {\r\n              console.warn('Could not fetch fresh profile, using stored data:', fetchError.message);\r\n            }\r\n            // Fallback to stored user data\r\n            setCurrentUser(userData);\r\n            console.log('Used stored session data (offline mode):', { remembered: isRemembered, user: userData.username });\r\n          }\r\n        } catch (error) {\r\n          console.error('Error parsing stored user data:', error);\r\n          // Clear corrupted data\r\n          localStorage.removeItem('user');\r\n          localStorage.removeItem('authToken');\r\n          sessionStorage.removeItem('user');\r\n          sessionStorage.removeItem('authToken');\r\n        }\r\n      }\r\n      setLoading(false);\r\n    };\r\n\r\n    initializeAuth();\r\n  }, []);\r\n\r\n  // Handle login with remember me preference\r\n  const login = (userData, newToken, remember = false) => {\r\n    setCurrentUser(userData);\r\n    setToken(newToken);\r\n    setRememberMe(remember);\r\n    \r\n    // Clear existing data to prevent conflicts\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('authToken');\r\n    sessionStorage.removeItem('user');\r\n    sessionStorage.removeItem('authToken');\r\n    \r\n    // Store in appropriate storage based on remember preference\r\n    const storage = remember ? localStorage : sessionStorage;\r\n    storage.setItem('user', JSON.stringify(userData));\r\n    storage.setItem('authToken', newToken);\r\n    \r\n    console.log(`User session saved to ${remember ? 'localStorage (remembered)' : 'sessionStorage (temporary)'}`);\r\n    \r\n    // Log login activity\r\n    logActivity(ACTIVITY_TYPES.LOGIN, { \r\n      userId: userData.id || 'anonymous',\r\n      method: 'manual',\r\n      remembered: remember\r\n    });\r\n  };\r\n\r\n  // Handle logout (clear all storage)\r\n  const logout = () => {\r\n    if (currentUser) {\r\n      logActivity(ACTIVITY_TYPES.LOGOUT, { \r\n        userId: currentUser.id || 'anonymous' \r\n      });\r\n    }\r\n    setCurrentUser(null);\r\n    setToken(null);\r\n    setRememberMe(false);\r\n    \r\n    // Clear both storage types\r\n    localStorage.removeItem('authToken');\r\n    localStorage.removeItem('user');\r\n    sessionStorage.removeItem('authToken');\r\n    sessionStorage.removeItem('user');\r\n    \r\n    console.log('User session cleared from all storage');\r\n  };\r\n\r\n  // Refresh user data\r\n  const refreshUser = () => {\r\n    // In a REST implementation, you could make an API call here to refresh user data\r\n    console.log('User refresh requested - implement if needed');\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        isAuthenticated: !!token,\r\n        user: currentUser,\r\n        token,\r\n        loading,\r\n        rememberMe,\r\n        login,\r\n        logout,\r\n        refreshUser\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\n// Custom hook to use auth context\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport default AuthContext;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport './TwoFactorVerify.css';\r\n\r\nconst TwoFactorVerify = ({ \r\n  onVerify, \r\n  onCancel, \r\n  userId, \r\n  username,\r\n  loading = false \r\n}) => {\r\n  const [code, setCode] = useState(['', '', '', '', '', '']);\r\n  const [error, setError] = useState('');\r\n  const [isBackupCode, setIsBackupCode] = useState(false);\r\n  const [backupCode, setBackupCode] = useState('');\r\n  const inputRefs = useRef([]);\r\n\r\n  useEffect(() => {\r\n    // Focus first input on mount\r\n    if (inputRefs.current[0]) {\r\n      inputRefs.current[0].focus();\r\n    }\r\n  }, []);\r\n\r\n  const handleCodeChange = (index, value) => {\r\n    if (value.length > 1) return; // Only allow single digit\r\n    \r\n    const newCode = [...code];\r\n    newCode[index] = value;\r\n    setCode(newCode);\r\n    setError('');\r\n\r\n    // Auto-focus next input\r\n    if (value && index < 5) {\r\n      inputRefs.current[index + 1]?.focus();\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (index, e) => {\r\n    if (e.key === 'Backspace' && !code[index] && index > 0) {\r\n      inputRefs.current[index - 1]?.focus();\r\n    }\r\n    if (e.key === 'Enter') {\r\n      handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    let verificationCode;\r\n    let isBackup = isBackupCode;\r\n\r\n    if (isBackupCode) {\r\n      if (!backupCode.trim()) {\r\n        setError('Please enter a backup code');\r\n        return;\r\n      }\r\n      verificationCode = backupCode.trim();\r\n    } else {\r\n      const fullCode = code.join('');\r\n      if (fullCode.length !== 6) {\r\n        setError('Please enter a complete 6-digit code');\r\n        return;\r\n      }\r\n      verificationCode = fullCode;\r\n    }\r\n\r\n    try {\r\n      await onVerify(verificationCode, isBackup);\r\n    } catch (err) {\r\n      setError(err.message || 'Verification failed. Please try again.');\r\n    }\r\n  };\r\n\r\n  const toggleBackupCode = () => {\r\n    setIsBackupCode(!isBackupCode);\r\n    setError('');\r\n    setCode(['', '', '', '', '', '']);\r\n    setBackupCode('');\r\n    \r\n    // Focus appropriate input\r\n    setTimeout(() => {\r\n      if (isBackupCode) {\r\n        inputRefs.current[0]?.focus();\r\n      } else {\r\n        document.getElementById('backup-code-input')?.focus();\r\n      }\r\n    }, 100);\r\n  };\r\n\r\n  return (\r\n    <div className=\"two-factor-verify\">\r\n      <div className=\"two-factor-container\">\r\n        <div className=\"two-factor-header\">\r\n          <div className=\"two-factor-icon\">🛡️</div>\r\n          <h2>Two-Factor Authentication</h2>\r\n          <p>Enter the verification code for <strong>{username}</strong></p>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"two-factor-form\">\r\n          {!isBackupCode ? (\r\n            <div className=\"code-input-section\">\r\n              <p className=\"instruction\">\r\n                Enter the 6-digit code from your authenticator app\r\n              </p>\r\n              <div className=\"code-inputs\">\r\n                {code.map((digit, index) => (\r\n                  <input\r\n                    key={index}\r\n                    ref={el => inputRefs.current[index] = el}\r\n                    type=\"text\"\r\n                    inputMode=\"numeric\"\r\n                    pattern=\"[0-9]*\"\r\n                    maxLength=\"1\"\r\n                    value={digit}\r\n                    onChange={(e) => handleCodeChange(index, e.target.value)}\r\n                    onKeyDown={(e) => handleKeyDown(index, e)}\r\n                    className=\"code-input\"\r\n                    disabled={loading}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"backup-code-section\">\r\n              <p className=\"instruction\">\r\n                Enter one of your backup codes\r\n              </p>\r\n              <input\r\n                id=\"backup-code-input\"\r\n                type=\"text\"\r\n                value={backupCode}\r\n                onChange={(e) => setBackupCode(e.target.value.toUpperCase())}\r\n                placeholder=\"XXXXXXXX\"\r\n                className=\"backup-code-input\"\r\n                disabled={loading}\r\n                maxLength=\"8\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {error && (\r\n            <div className=\"error-message\">\r\n              <span className=\"error-icon\">⚠️</span>\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"form-actions\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"verify-button\"\r\n              disabled={loading || (!isBackupCode && code.join('').length !== 6) || (isBackupCode && !backupCode.trim())}\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <span className=\"loading-spinner\"></span>\r\n                  Verifying...\r\n                </>\r\n              ) : (\r\n                'Verify Code'\r\n              )}\r\n            </button>\r\n\r\n            <button\r\n              type=\"button\"\r\n              onClick={onCancel}\r\n              className=\"cancel-button\"\r\n              disabled={loading}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"alternative-options\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={toggleBackupCode}\r\n              className=\"link-button\"\r\n              disabled={loading}\r\n            >\r\n              {isBackupCode ? (\r\n                <>\r\n                  <span className=\"icon\">📱</span>\r\n                  Use authenticator app instead\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <span className=\"icon\">🔑</span>\r\n                  Use backup code instead\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <div className=\"help-section\">\r\n          <details className=\"help-details\">\r\n            <summary>Need help?</summary>\r\n            <div className=\"help-content\">\r\n              <ul>\r\n                <li><strong>Authenticator App:</strong> Open your authenticator app (Google Authenticator, Authy, etc.) and enter the 6-digit code.</li>\r\n                <li><strong>Backup Codes:</strong> Use one of the 8-character backup codes you saved when setting up 2FA.</li>\r\n                <li><strong>Can't access codes?</strong> Contact support for account recovery.</li>\r\n              </ul>\r\n            </div>\r\n          </details>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TwoFactorVerify;","/**\r\n * iPhone Pro Authentication Enhancements\r\n * Additional JavaScript utilities for better iPhone Pro login/register experience\r\n */\r\n\r\n// Viewport height fix for iPhone Pro models\r\nconst iPhoneProViewportFix = () => {\r\n  const setViewportHeight = () => {\r\n    // Get the actual viewport height, accounting for dynamic browser UI\r\n    const vh = window.innerHeight * 0.01;\r\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n    \r\n    // iPhone Pro specific adjustments\r\n    const isIPhonePro = window.navigator.userAgent.includes('iPhone') && \r\n                       window.screen.height >= 844 && \r\n                       window.devicePixelRatio === 3;\r\n    \r\n    if (isIPhonePro) {\r\n      document.documentElement.classList.add('iphone-pro');\r\n      \r\n      // Handle safe area for auth forms\r\n      const authForm = document.querySelector('.auth-form');\r\n      if (authForm) {\r\n        // Add extra class for iPhone Pro specific handling\r\n        authForm.classList.add('iphone-pro-optimized');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Set on load\r\n  setViewportHeight();\r\n  \r\n  // Update on resize and orientation change\r\n  window.addEventListener('resize', setViewportHeight);\r\n  window.addEventListener('orientationchange', () => {\r\n    // Delay to ensure orientation change is complete\r\n    setTimeout(setViewportHeight, 100);\r\n  });\r\n};\r\n\r\n// Virtual keyboard handling for iPhone Pro\r\nconst handleVirtualKeyboard = () => {\r\n  let initialViewportHeight = window.innerHeight;\r\n  \r\n  const adjustForKeyboard = () => {\r\n    const currentHeight = window.innerHeight;\r\n    const heightDifference = initialViewportHeight - currentHeight;\r\n    \r\n    // If height difference is significant, keyboard is likely open\r\n    if (heightDifference > 150) {\r\n      document.body.classList.add('keyboard-open');\r\n      \r\n      // Scroll active input into view\r\n      const activeInput = document.activeElement;\r\n      if (activeInput && activeInput.tagName === 'INPUT') {\r\n        setTimeout(() => {\r\n          activeInput.scrollIntoView({ \r\n            behavior: 'smooth', \r\n            block: 'center',\r\n            inline: 'nearest'\r\n          });\r\n        }, 300);\r\n      }\r\n    } else {\r\n      document.body.classList.remove('keyboard-open');\r\n    }\r\n  };\r\n  \r\n  // Listen for viewport changes\r\n  window.addEventListener('resize', adjustForKeyboard);\r\n  \r\n  // Handle focus events\r\n  document.addEventListener('focusin', (e) => {\r\n    if (e.target.tagName === 'INPUT') {\r\n      setTimeout(adjustForKeyboard, 300);\r\n    }\r\n  });\r\n  \r\n  document.addEventListener('focusout', () => {\r\n    setTimeout(() => {\r\n      document.body.classList.remove('keyboard-open');\r\n    }, 300);\r\n  });\r\n};\r\n\r\n// Enhanced touch handling for iPhone Pro\r\nconst enhanceTouch = () => {\r\n  // Add touch feedback\r\n  document.addEventListener('touchstart', (e) => {\r\n    if (e.target.matches('button, .text-button, input[type=\"submit\"]')) {\r\n      e.target.classList.add('touch-active');\r\n    }\r\n  });\r\n  \r\n  document.addEventListener('touchend', (e) => {\r\n    if (e.target.matches('button, .text-button, input[type=\"submit\"]')) {\r\n      setTimeout(() => {\r\n        e.target.classList.remove('touch-active');\r\n      }, 150);\r\n    }\r\n  });\r\n  \r\n  // Prevent accidental zoom on input focus\r\n  const inputs = document.querySelectorAll('input');\r\n  inputs.forEach(input => {\r\n    input.addEventListener('focus', () => {\r\n      input.style.fontSize = '16px'; // Prevent iOS zoom\r\n    });\r\n  });\r\n};\r\n\r\n// Auto-scroll to top when auth form changes\r\nconst handleAuthFormChanges = () => {\r\n  const observer = new MutationObserver((mutations) => {\r\n    mutations.forEach((mutation) => {\r\n      if (mutation.type === 'childList') {\r\n        // Check if auth form content changed\r\n        const authContainer = document.querySelector('.auth-container');\r\n        if (authContainer && mutation.target.contains(authContainer)) {\r\n          // Smooth scroll to top of auth form\r\n          setTimeout(() => {\r\n            authContainer.scrollIntoView({ \r\n              behavior: 'smooth', \r\n              block: 'start' \r\n            });\r\n          }, 100);\r\n        }\r\n      }\r\n    });\r\n  });\r\n  \r\n  observer.observe(document.body, {\r\n    childList: true,\r\n    subtree: true\r\n  });\r\n};\r\n\r\n// Initialize all iPhone Pro enhancements\r\nexport const initializeIPhoneProAuth = () => {\r\n  // Only run on mobile devices\r\n  if (window.innerWidth <= 430 && 'ontouchstart' in window) {\r\n    iPhoneProViewportFix();\r\n    handleVirtualKeyboard();\r\n    enhanceTouch();\r\n    handleAuthFormChanges();\r\n    \r\n    console.log('iPhone Pro authentication enhancements initialized');\r\n  }\r\n};\r\n\r\n// CSS class utilities\r\nexport const iPhoneProUtils = {\r\n  addIPhoneProClass: () => {\r\n    const isIPhonePro = window.navigator.userAgent.includes('iPhone') && \r\n                       window.screen.height >= 844 && \r\n                       window.devicePixelRatio === 3;\r\n    \r\n    if (isIPhonePro) {\r\n      document.documentElement.classList.add('iphone-pro');\r\n      return true;\r\n    }\r\n    return false;\r\n  },\r\n  \r\n  isKeyboardOpen: () => {\r\n    return document.body.classList.contains('keyboard-open');\r\n  },\r\n  \r\n  scrollToAuthForm: () => {\r\n    const authForm = document.querySelector('.auth-form');\r\n    if (authForm) {\r\n      authForm.scrollIntoView({ \r\n        behavior: 'smooth', \r\n        block: 'center',\r\n        inline: 'nearest'\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport default {\r\n  initializeIPhoneProAuth,\r\n  iPhoneProUtils\r\n};","import React, { useState, useEffect, useRef } from 'react';\r\nimport './Login.css';\r\nimport './AuthStyles.css';\r\nimport { authService, checkApiConnection } from '../services/apiClient';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport TwoFactorVerify from './TwoFactorAuth/TwoFactorVerify';\r\nimport userDataService from '../services/userDataService';\r\nimport { initializeIPhoneProAuth, iPhoneProUtils } from '../utils/iPhoneProAuthUtils';\r\n\r\nconst Login = ({ onLogin, switchToRegister }) => {\r\n  const { login } = useAuth(); // Get login function from AuthContext\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [rememberMe, setRememberMe] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [formTouched, setFormTouched] = useState(false);\r\n\r\n  const [serverStatus, setServerStatus] = useState('checking');\r\n  \r\n  // 2FA specific state\r\n  const [showTwoFactor, setShowTwoFactor] = useState(false);\r\n  const [twoFactorUserId, setTwoFactorUserId] = useState(null);\r\n  const [twoFactorUsername, setTwoFactorUsername] = useState('');\r\n  \r\n  const usernameRef = useRef(null);\r\n  \r\n  // Focus username field on component mount and check server connection\r\n  useEffect(() => {\r\n    if (usernameRef.current) {\r\n      usernameRef.current.focus();\r\n    }\r\n    \r\n    // Initialize iPhone Pro enhancements\r\n    initializeIPhoneProAuth();\r\n    iPhoneProUtils.addIPhoneProClass();\r\n    \r\n    const autoLogin = async () => {\r\n      // Check server connection on load\r\n      const isConnected = await checkApiConnection();\r\n      \r\n      if (!isConnected) {\r\n        console.log('API server appears to be offline');\r\n        setError('🌐 Unable to connect to server. Please check your connection and try again.');\r\n        setServerStatus('offline');\r\n      } else {\r\n        console.log('API server is online');\r\n        setServerStatus('online');\r\n      }\r\n    };\r\n    \r\n    autoLogin();\r\n  }, []); // Empty dependency array to run only once\r\n\r\n  // Validate form fields\r\n  const validateForm = () => {\r\n    setFormTouched(true);\r\n    \r\n    if (!username.trim()) {\r\n      setError('Username or email is required');\r\n      return false;\r\n    }\r\n    \r\n    if (!password) {\r\n      setError('Password is required');\r\n      return false;\r\n    }\r\n    \r\n    if (password.length < 6) {\r\n      setError('Password must be at least 6 characters');\r\n      return false;\r\n    }\r\n    \r\n    return true;\r\n  };\r\n\r\n\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Validate inputs\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      console.log('Login Component - Attempting login with:', { username });\r\n      \r\n\r\n      \r\n      // Call the auth service (it will handle offline mode automatically)\r\n      const data = await authService.login(username, password);\r\n      console.log('Login Component - Login response:', data);\r\n      \r\n      // Validation with detailed error messages\r\n      if (!data) {\r\n        console.error('Login Component - Empty response received');\r\n        throw new Error('No response from server');\r\n      }\r\n\r\n      // Check if 2FA is required\r\n      if (data.requiresTwoFactor) {\r\n        console.log('Login Component - 2FA required for user:', data.userId);\r\n        setTwoFactorUserId(data.userId);\r\n        setTwoFactorUsername(username);\r\n        setShowTwoFactor(true);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      if (!data.user) {\r\n        console.error('Login Component - Missing user data in response');\r\n        throw new Error('User data missing from response');\r\n      }\r\n      \r\n      if (!data.token) {\r\n        console.error('Login Component - Missing token in response');\r\n        throw new Error('Authentication token missing from response');\r\n      }\r\n      \r\n      // Save user session and notify parent component\r\n      console.log('Login Component - Login successful, saving session');\r\n      login(data.user, data.token, rememberMe); // Use AuthContext login\r\n      onLogin(data.user, data.token);\r\n      \r\n      console.log('Login Component - Session saved and parent notified');\r\n    } catch (err) {\r\n      console.error('Login Component - Login error:', err);\r\n      \r\n      // Handle different types of errors with specific messages\r\n      if (err.response) {\r\n        // Server responded with an error status\r\n        const responseData = err.response.data;\r\n        console.error('Login Component - Server error response:', responseData);\r\n        \r\n        if (responseData.error) {\r\n          setError(responseData.error);\r\n        } else if (responseData.message) {\r\n          setError(responseData.message);\r\n        } else if (err.response.status === 401) {\r\n          setError('Invalid username or password. Please try again.');\r\n        } else if (err.response.status === 404) {\r\n          setError('Server endpoint not found. Is the server running?');\r\n        } else {\r\n          setError(`Server error (${err.response.status}). Please try again later.`);\r\n        }\r\n      } else if (err.request) {\r\n        // Request made but no response received (network error)\r\n        console.error('Login Component - Network error, no response received');\r\n        setError('Unable to connect to server. Please check your internet connection and try again.');\r\n        \r\n        // Let's check API connection and provide more helpful message\r\n        checkApiConnection().then(isConnected => {\r\n          if (!isConnected) {\r\n            setError('Server appears to be offline. Please try again later.');\r\n          }\r\n        });\r\n      } else {\r\n        // Something else went wrong (likely a client-side error)\r\n        console.error('Login Component - Other error:', err.message);\r\n        setError(err.message || 'Login failed. Please try again.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle 2FA verification\r\n  const handleTwoFactorVerify = async (verificationCode, isBackupCode) => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Verify the 2FA code\r\n      const verifyResponse = await userDataService.api.verifyTwoFactor(\r\n        twoFactorUserId, \r\n        verificationCode, \r\n        isBackupCode\r\n      );\r\n      \r\n      if (!verifyResponse.success) {\r\n        throw new Error(verifyResponse.error || '2FA verification failed');\r\n      }\r\n      \r\n      // Complete the login process\r\n      const loginResponse = await userDataService.api.completeTwoFactorLogin(twoFactorUserId);\r\n      \r\n      if (!loginResponse.success || !loginResponse.user || !loginResponse.token) {\r\n        throw new Error('Failed to complete login after 2FA verification');\r\n      }\r\n      \r\n      // Save user session and notify parent component\r\n      console.log('Login Component - 2FA successful, completing login');\r\n      login(loginResponse.user, loginResponse.token, rememberMe); // Use AuthContext login\r\n      onLogin(loginResponse.user, loginResponse.token);\r\n      \r\n    } catch (error) {\r\n      console.error('2FA verification error:', error);\r\n      throw error; // Let TwoFactorVerify component handle the error display\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle 2FA cancellation\r\n  const handleTwoFactorCancel = () => {\r\n    setShowTwoFactor(false);\r\n    setTwoFactorUserId(null);\r\n    setTwoFactorUsername('');\r\n    setError(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container modern-layout safe-area-container\">\r\n      <div className=\"auth-form modern-form modern-fade-in\">\r\n        <div className=\"elegant-header\">\r\n          <div className=\"brand-section\">\r\n            <div className=\"brand-icon\">\r\n              <span className=\"brand-emoji\">💬</span>\r\n            </div>\r\n            <div className=\"brand-content\">\r\n              <h2 className=\"brand-title\">Welcome Back</h2>\r\n              <p className=\"brand-subtitle\">Sign in to continue your conversation</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"decorative-line\"></div>\r\n        </div>\r\n        \r\n        {serverStatus !== 'checking' && (\r\n          <div className={`server-status ${serverStatus}`}>\r\n            <div className=\"status-indicator\"></div>\r\n            <div className=\"status-text\">\r\n              {serverStatus === 'online' ? 'Server Online' : 'Server Offline'}\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">Username or Email</label>\r\n            <div className=\"input-wrapper\">\r\n              <input\r\n                id=\"username\"\r\n                type=\"text\"\r\n                value={username}\r\n                onChange={e => setUsername(e.target.value)}\r\n                onBlur={() => setFormTouched(true)}\r\n                ref={usernameRef}\r\n                required\r\n                autoComplete=\"username email\"\r\n                placeholder=\"Enter your username or email\"\r\n                className={formTouched && !username.trim() ? 'error-input' : ''}\r\n              />\r\n              {username && (\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"clear-input\" \r\n                  onClick={() => setUsername('')}\r\n                  aria-label=\"Clear username\"\r\n                >\r\n                  ✕\r\n                </button>\r\n              )}\r\n            </div>\r\n            {formTouched && !username.trim() && (\r\n              <div className=\"field-error\">Username or email is required</div>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <div className=\"input-wrapper\">\r\n              <input\r\n                id=\"password\"\r\n                type={showPassword ? 'text' : 'password'}\r\n                value={password}\r\n                onChange={e => setPassword(e.target.value)}\r\n                onBlur={() => setFormTouched(true)}\r\n                required\r\n                autoComplete=\"current-password\"\r\n                placeholder=\"Enter your password\"\r\n                className={formTouched && !password ? 'error-input' : ''}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"toggle-password\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                aria-label={showPassword ? 'Hide password' : 'Show password'}\r\n              >\r\n                {showPassword ? '👁️' : '👁️‍🗨️'}\r\n              </button>\r\n            </div>\r\n            {formTouched && !password && (\r\n              <div className=\"field-error\">Password is required</div>\r\n            )}\r\n            {formTouched && password && password.length < 6 && (\r\n              <div className=\"field-error\">Password must be at least 6 characters</div>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"form-options\">\r\n            <label className=\"checkbox-container\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={rememberMe}\r\n                onChange={e => setRememberMe(e.target.checked)}\r\n              />\r\n              <span className=\"checkmark\"></span>\r\n              Remember me\r\n            </label>\r\n            <button type=\"button\" className=\"forgot-password\" onClick={() => console.log('Forgot password clicked')}>Forgot password?</button>\r\n          </div>\r\n          \r\n          <button type=\"submit\" className=\"auth-button\" disabled={loading}>\r\n            {loading ? (\r\n              <span className=\"button-with-loader\">\r\n                <span className=\"loader\"></span>\r\n                <span>Signing in...</span>\r\n              </span>\r\n            ) : (\r\n              <span>Sign In</span>\r\n            )}\r\n          </button>\r\n          \r\n          {error && (\r\n            <div className=\"auth-error\">\r\n              <div className=\"error-icon\">❗</div>\r\n              <div className=\"error-message\">{error}</div>\r\n            </div>\r\n          )}\r\n        </form>\r\n        \r\n        <div className=\"auth-switch\">\r\n          Don't have an account?{' '}\r\n          <button className=\"text-button\" onClick={switchToRegister}>\r\n            Sign Up\r\n          </button>\r\n        </div>\r\n        \r\n\r\n        \r\n\r\n      </div>\r\n      \r\n      {/* Two-Factor Authentication Modal */}\r\n      {showTwoFactor && (\r\n        <TwoFactorVerify\r\n          userId={twoFactorUserId}\r\n          username={twoFactorUsername}\r\n          onVerify={handleTwoFactorVerify}\r\n          onCancel={handleTwoFactorCancel}\r\n          loading={loading}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","/**\r\n * Email Validation Service\r\n * Handles email verification for user registration\r\n */\r\n\r\nclass EmailValidationService {\r\n  constructor() {\r\n    this.pendingVerifications = new Map();\r\n    this.verifiedEmails = new Set();\r\n  }\r\n\r\n  /**\r\n   * Send verification email to user\r\n   */\r\n  async sendVerificationEmail(email, username, password) {\r\n    try {\r\n      // Generate a 6-digit verification code\r\n      const verificationCode = this.generateVerificationCode();\r\n      const verificationId = this.generateVerificationId();\r\n      const expiresAt = new Date(Date.now() + 15 * 60 * 1000); // 15 minutes\r\n\r\n      // Store pending verification\r\n      this.pendingVerifications.set(verificationId, {\r\n        email,\r\n        username,\r\n        password,\r\n        verificationCode,\r\n        expiresAt,\r\n        attempts: 0,\r\n        maxAttempts: 3\r\n      });\r\n\r\n      // In a real app, this would send an actual email\r\n      console.log(`📧 Verification email sent to ${email}`);\r\n      console.log(`🔐 Verification code: ${verificationCode}`);\r\n      \r\n      // Show in development\r\n      if (typeof window !== 'undefined' && window.location.hostname === 'localhost') {\r\n        this.showDevelopmentNotification(email, verificationCode);\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        verificationId,\r\n        message: 'Verification email sent successfully',\r\n        expiresAt\r\n      };\r\n    } catch (error) {\r\n      console.error('Error sending verification email:', error);\r\n      throw new Error('Failed to send verification email');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Verify email with code\r\n   */\r\n  async verifyEmailCode(verificationId, code) {\r\n    try {\r\n      const verification = this.pendingVerifications.get(verificationId);\r\n      \r\n      if (!verification) {\r\n        throw new Error('Invalid verification ID');\r\n      }\r\n\r\n      if (new Date() > verification.expiresAt) {\r\n        this.pendingVerifications.delete(verificationId);\r\n        throw new Error('Verification code has expired');\r\n      }\r\n\r\n      if (verification.attempts >= verification.maxAttempts) {\r\n        this.pendingVerifications.delete(verificationId);\r\n        throw new Error('Maximum verification attempts exceeded');\r\n      }\r\n\r\n      verification.attempts++;\r\n\r\n      if (verification.verificationCode !== code) {\r\n        throw new Error(`Invalid verification code. ${verification.maxAttempts - verification.attempts} attempts remaining.`);\r\n      }\r\n\r\n      // Verification successful\r\n      this.verifiedEmails.add(verification.email);\r\n      const userData = {\r\n        email: verification.email,\r\n        username: verification.username,\r\n        password: verification.password\r\n      };\r\n\r\n      this.pendingVerifications.delete(verificationId);\r\n\r\n      return {\r\n        success: true,\r\n        message: 'Email verified successfully',\r\n        userData\r\n      };\r\n    } catch (error) {\r\n      console.error('Email verification error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Resend verification email\r\n   */\r\n  async resendVerificationEmail(verificationId) {\r\n    try {\r\n      const verification = this.pendingVerifications.get(verificationId);\r\n      \r\n      if (!verification) {\r\n        throw new Error('Invalid verification ID');\r\n      }\r\n\r\n      // Generate new code and extend expiration\r\n      verification.verificationCode = this.generateVerificationCode();\r\n      verification.expiresAt = new Date(Date.now() + 15 * 60 * 1000);\r\n      verification.attempts = 0; // Reset attempts\r\n\r\n      console.log(`📧 Verification email resent to ${verification.email}`);\r\n      console.log(`🔐 New verification code: ${verification.verificationCode}`);\r\n\r\n      // Show in development\r\n      if (typeof window !== 'undefined' && window.location.hostname === 'localhost') {\r\n        this.showDevelopmentNotification(verification.email, verification.verificationCode);\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        message: 'Verification email resent successfully',\r\n        expiresAt: verification.expiresAt\r\n      };\r\n    } catch (error) {\r\n      console.error('Error resending verification email:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if email is verified\r\n   */\r\n  isEmailVerified(email) {\r\n    return this.verifiedEmails.has(email);\r\n  }\r\n\r\n  /**\r\n   * Clean up expired verifications\r\n   */\r\n  cleanup() {\r\n    const now = new Date();\r\n    for (const [id, verification] of this.pendingVerifications.entries()) {\r\n      if (now > verification.expiresAt) {\r\n        this.pendingVerifications.delete(id);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Helper methods\r\n  generateVerificationCode() {\r\n    return Math.floor(100000 + Math.random() * 900000).toString();\r\n  }\r\n\r\n  generateVerificationId() {\r\n    return 'verify_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\r\n  }\r\n\r\n  showDevelopmentNotification(email, code) {\r\n    // Show verification code in development\r\n    if (typeof window !== 'undefined') {\r\n      const notification = document.createElement('div');\r\n      notification.style.cssText = `\r\n        position: fixed;\r\n        top: 20px;\r\n        right: 20px;\r\n        background: #4ade80;\r\n        color: white;\r\n        padding: 16px;\r\n        border-radius: 8px;\r\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n        z-index: 10000;\r\n        max-width: 300px;\r\n        font-family: system-ui;\r\n      `;\r\n      notification.innerHTML = `\r\n        <div style=\"font-weight: 600; margin-bottom: 8px;\">📧 Verification Email Sent</div>\r\n        <div style=\"font-size: 14px; margin-bottom: 8px;\">To: ${email}</div>\r\n        <div style=\"font-size: 14px; margin-bottom: 8px;\">Code: <strong>${code}</strong></div>\r\n        <div style=\"font-size: 12px; opacity: 0.9;\">This notification only appears in development</div>\r\n      `;\r\n      \r\n      document.body.appendChild(notification);\r\n      \r\n      setTimeout(() => {\r\n        if (notification.parentNode) {\r\n          notification.parentNode.removeChild(notification);\r\n        }\r\n      }, 10000);\r\n    }\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst emailValidationService = new EmailValidationService();\r\n\r\n// Cleanup expired verifications every 5 minutes\r\nsetInterval(() => {\r\n  emailValidationService.cleanup();\r\n}, 5 * 60 * 1000);\r\n\r\nexport default emailValidationService;","import React, { useState, useEffect } from 'react';\r\nimport './EmailVerificationModal.css';\r\nimport emailValidationService from '../../services/emailValidationService';\r\n\r\nconst EmailVerificationModal = ({ \r\n  isOpen, \r\n  onClose, \r\n  verificationId, \r\n  email, \r\n  onVerificationSuccess \r\n}) => {\r\n  const [verificationCode, setVerificationCode] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [timeLeft, setTimeLeft] = useState(900); // 15 minutes in seconds\r\n  const [resendCooldown, setResendCooldown] = useState(0);\r\n\r\n  // Countdown timer\r\n  useEffect(() => {\r\n    if (!isOpen || timeLeft <= 0) return;\r\n\r\n    const timer = setInterval(() => {\r\n      setTimeLeft(prev => {\r\n        if (prev <= 1) {\r\n          clearInterval(timer);\r\n          return 0;\r\n        }\r\n        return prev - 1;\r\n      });\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  }, [isOpen, timeLeft]);\r\n\r\n  // Resend cooldown timer\r\n  useEffect(() => {\r\n    if (resendCooldown <= 0) return;\r\n\r\n    const timer = setInterval(() => {\r\n      setResendCooldown(prev => {\r\n        if (prev <= 1) {\r\n          clearInterval(timer);\r\n          return 0;\r\n        }\r\n        return prev - 1;\r\n      });\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  }, [resendCooldown]);\r\n\r\n  const formatTime = (seconds) => {\r\n    const minutes = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${minutes}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const handleVerificationSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!verificationCode.trim()) {\r\n      setError('Please enter the verification code');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const result = await emailValidationService.verifyEmailCode(verificationId, verificationCode.trim());\r\n      \r\n      if (result.success) {\r\n        onVerificationSuccess(result.userData);\r\n        onClose();\r\n      }\r\n    } catch (error) {\r\n      console.error('Verification error:', error);\r\n      setError(error.message || 'Invalid verification code');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleResendEmail = async () => {\r\n    if (resendCooldown > 0) return;\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      await emailValidationService.resendVerificationEmail(verificationId);\r\n      setResendCooldown(60); // 1 minute cooldown\r\n      setTimeLeft(900); // Reset timer to 15 minutes\r\n      setVerificationCode(''); // Clear the input\r\n    } catch (error) {\r\n      console.error('Resend error:', error);\r\n      setError(error.message || 'Failed to resend verification email');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCodeChange = (e) => {\r\n    const value = e.target.value.replace(/\\D/g, ''); // Only digits\r\n    if (value.length <= 6) {\r\n      setVerificationCode(value);\r\n      setError(''); // Clear error when user types\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"email-verification-overlay\">\r\n      <div className=\"email-verification-modal\">\r\n        <div className=\"email-verification-header\">\r\n          <h3>📧 Verify Your Email</h3>\r\n          <button \r\n            type=\"button\" \r\n            className=\"email-verification-close\"\r\n            onClick={onClose}\r\n            disabled={loading}\r\n          >\r\n            ×\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"email-verification-content\">\r\n          <p className=\"email-verification-message\">\r\n            We've sent a 6-digit verification code to:\r\n          </p>\r\n          <p className=\"email-verification-email\">{email}</p>\r\n          \r\n          {timeLeft > 0 ? (\r\n            <p className=\"email-verification-timer\">\r\n              Code expires in: <span className=\"timer-highlight\">{formatTime(timeLeft)}</span>\r\n            </p>\r\n          ) : (\r\n            <p className=\"email-verification-expired\">\r\n              ⚠️ Verification code has expired. Please resend to get a new code.\r\n            </p>\r\n          )}\r\n\r\n          <form onSubmit={handleVerificationSubmit} className=\"email-verification-form\">\r\n            <div className=\"verification-code-input-container\">\r\n              <label htmlFor=\"verificationCode\" className=\"verification-code-label\">\r\n                Enter Verification Code\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"verificationCode\"\r\n                value={verificationCode}\r\n                onChange={handleCodeChange}\r\n                placeholder=\"000000\"\r\n                className=\"verification-code-input\"\r\n                maxLength=\"6\"\r\n                disabled={loading || timeLeft <= 0}\r\n                autoFocus\r\n                autoComplete=\"off\"\r\n              />\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"email-verification-error\">\r\n                ⚠️ {error}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"email-verification-actions\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"verify-button\"\r\n                disabled={loading || !verificationCode || verificationCode.length !== 6 || timeLeft <= 0}\r\n              >\r\n                {loading ? 'Verifying...' : 'Verify Email'}\r\n              </button>\r\n\r\n              <button\r\n                type=\"button\"\r\n                className=\"resend-button\"\r\n                onClick={handleResendEmail}\r\n                disabled={loading || resendCooldown > 0}\r\n              >\r\n                {resendCooldown > 0 \r\n                  ? `Resend in ${resendCooldown}s` \r\n                  : 'Resend Code'\r\n                }\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n          <div className=\"email-verification-help\">\r\n            <p>📱 Check your email inbox and spam folder</p>\r\n            <p>🔄 The verification code is valid for 15 minutes</p>\r\n            <p>💡 Didn't receive the email? Try resending or check your email address</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmailVerificationModal;","import React, { useState, useRef, useEffect } from 'react';\r\nimport './Login.css';\r\nimport './AuthStyles.css';\r\nimport { authService, checkApiConnection } from '../services/apiClient';\r\nimport emailValidationService from '../services/emailValidationService';\r\nimport EmailVerificationModal from './EmailVerification/EmailVerificationModal';\r\nimport { initializeIPhoneProAuth, iPhoneProUtils } from '../utils/iPhoneProAuthUtils';\r\n\r\nconst Register = ({ onRegisterSuccess, switchToLogin }) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [formTouched, setFormTouched] = useState(false);\r\n  const [fieldErrors, setFieldErrors] = useState({});\r\n  const [serverStatus, setServerStatus] = useState('checking');\r\n  const [demoMode, setDemoMode] = useState(false);\r\n  \r\n  // Email verification states\r\n  const [verificationData, setVerificationData] = useState(null);\r\n  const [showVerificationModal, setShowVerificationModal] = useState(false);\r\n  const [passwordStrength, setPasswordStrength] = useState({ score: 0, feedback: [] });\r\n  \r\n  const usernameRef = useRef(null);\r\n  \r\n  // Focus username field on component mount and check server connection\r\n  useEffect(() => {\r\n    if (usernameRef.current) {\r\n      usernameRef.current.focus();\r\n    }\r\n    \r\n    // Initialize iPhone Pro enhancements\r\n    initializeIPhoneProAuth();\r\n    iPhoneProUtils.addIPhoneProClass();\r\n    \r\n    // Check server connection on load\r\n    checkApiConnection().then(isConnected => {\r\n      if (!isConnected) {\r\n        console.log('API server appears to be offline');\r\n        setError('Server connection failed. Please try again later.');\r\n        setServerStatus('offline');\r\n      } else {\r\n        console.log('API server is online');\r\n        setServerStatus('online');\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  // Password strength checker\r\n  useEffect(() => {\r\n    if (password) {\r\n      const strength = calculatePasswordStrength(password);\r\n      setPasswordStrength(strength);\r\n    } else {\r\n      setPasswordStrength({ score: 0, feedback: [] });\r\n    }\r\n  }, [password]);\r\n\r\n  // Calculate password strength\r\n  const calculatePasswordStrength = (password) => {\r\n    let score = 0;\r\n    const feedback = [];\r\n    \r\n    if (password.length >= 8) {\r\n      score += 1;\r\n    } else {\r\n      feedback.push('Use at least 8 characters');\r\n    }\r\n    \r\n    if (/[a-z]/.test(password)) {\r\n      score += 1;\r\n    } else {\r\n      feedback.push('Include lowercase letters');\r\n    }\r\n    \r\n    if (/[A-Z]/.test(password)) {\r\n      score += 1;\r\n    } else {\r\n      feedback.push('Include uppercase letters');\r\n    }\r\n    \r\n    if (/\\d/.test(password)) {\r\n      score += 1;\r\n    } else {\r\n      feedback.push('Include numbers');\r\n    }\r\n    \r\n    if (/[^\\w\\s]/.test(password)) {\r\n      score += 1;\r\n    } else {\r\n      feedback.push('Include special characters');\r\n    }\r\n    \r\n    return { score, feedback };\r\n  };\r\n\r\n  // Enhanced validation with specific field errors\r\n  const validateForm = () => {\r\n    setFormTouched(true);\r\n    const errors = {};\r\n    \r\n    // Username validation\r\n    if (!username.trim()) {\r\n      errors.username = 'Username is required';\r\n    } else if (username.length < 3) {\r\n      errors.username = 'Username must be at least 3 characters';\r\n    } else if (username.length > 20) {\r\n      errors.username = 'Username must be less than 20 characters';\r\n    } else if (!/^[a-zA-Z0-9_]+$/.test(username)) {\r\n      errors.username = 'Username can only contain letters, numbers and underscore';\r\n    } else if (/^\\d/.test(username)) {\r\n      errors.username = 'Username cannot start with a number';\r\n    }\r\n    \r\n    // Email validation\r\n    if (!email.trim()) {\r\n      errors.email = 'Email is required';\r\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\r\n      errors.email = 'Please enter a valid email address';\r\n    } else if (email.length > 254) {\r\n      errors.email = 'Email address is too long';\r\n    }\r\n    \r\n    // Password validation\r\n    if (!password) {\r\n      errors.password = 'Password is required';\r\n    } else if (password.length < 8) {\r\n      errors.password = 'Password must be at least 8 characters';\r\n    } else if (passwordStrength.score < 3) {\r\n      errors.password = 'Password is too weak. Please strengthen it.';\r\n    }\r\n    \r\n    // Confirm password validation\r\n    if (!confirmPassword) {\r\n      errors.confirmPassword = 'Please confirm your password';\r\n    } else if (password !== confirmPassword) {\r\n      errors.confirmPassword = 'Passwords do not match';\r\n    }\r\n    \r\n    setFieldErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Enhanced validation\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    // Handle demo mode\r\n    if (demoMode) {\r\n      setTimeout(() => {\r\n        console.log('Using demo mode registration');\r\n        \r\n        const userData = {\r\n          id: Date.now(),\r\n          username: username,\r\n          email: email\r\n        };\r\n        \r\n        const token = 'offline-token-' + Date.now().toString().slice(-6);\r\n        authService.saveUserSession(userData, token, true);\r\n        onRegisterSuccess(userData, token);\r\n        setLoading(false);\r\n      }, 1000);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      console.log('Register Component - Starting email verification for:', { username, email });\r\n      \r\n      // Send verification email\r\n      const verificationResult = await emailValidationService.sendVerificationEmail(\r\n        email,\r\n        username,\r\n        password // This will be encrypted in production\r\n      );\r\n      \r\n      if (verificationResult.success) {\r\n        setVerificationData({\r\n          verificationId: verificationResult.verificationId,\r\n          email: email,\r\n          expiresAt: verificationResult.expiresAt\r\n        });\r\n        setShowVerificationModal(true);\r\n      }\r\n    } catch (err) {\r\n      console.error('Register Component - Email verification error:', err);\r\n      setError(err.message || 'Failed to send verification email. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle successful email verification\r\n  const handleVerificationSuccess = async (userData) => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Now complete the registration with the backend\r\n      const data = await authService.register(userData.username, userData.email, userData.password);\r\n      \r\n      if (data && data.user && data.token) {\r\n        setShowVerificationModal(false);\r\n        onRegisterSuccess(data.user, data.token);\r\n      } else {\r\n        throw new Error('Registration failed after email verification');\r\n      }\r\n    } catch (err) {\r\n      console.error('Register Component - Registration completion error:', err);\r\n      setError(err.message || 'Failed to complete registration. Please try again.');\r\n      setShowVerificationModal(false);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container modern-layout safe-area-container\">\r\n      <div className=\"auth-form modern-form modern-fade-in tall-form\">\r\n        <div className=\"elegant-header\">\r\n          <div className=\"brand-section\">\r\n            <div className=\"brand-icon\">\r\n              <span className=\"brand-emoji\">✨</span>\r\n            </div>\r\n            <div className=\"brand-content\">\r\n              <h2 className=\"brand-title\">Create Account</h2>\r\n              <p className=\"brand-subtitle\">Join the conversation and get started</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"decorative-line\"></div>\r\n        </div>\r\n        \r\n        {serverStatus !== 'checking' && (\r\n          <div className={`server-status ${serverStatus}`}>\r\n            <div className=\"status-indicator\"></div>\r\n            <div className=\"status-text\">\r\n              {serverStatus === 'online' ? 'Server Online' : 'Server Offline - Demo Mode'}\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">Username</label>\r\n            <div className=\"input-wrapper\">\r\n              <input\r\n                id=\"username\"\r\n                type=\"text\"\r\n                value={username}\r\n                onChange={e => setUsername(e.target.value)}\r\n                onBlur={() => setFormTouched(true)}\r\n                ref={usernameRef}\r\n                required\r\n                placeholder=\"Choose a username\"\r\n                className={formTouched && fieldErrors.username ? 'error-input' : ''}\r\n              />\r\n              {username && (\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"clear-input\" \r\n                  onClick={() => setUsername('')}\r\n                  aria-label=\"Clear username\"\r\n                >\r\n                  ✕\r\n                </button>\r\n              )}\r\n            </div>\r\n            {formTouched && fieldErrors.username && (\r\n              <div className=\"field-error\">{fieldErrors.username}</div>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <div className=\"input-wrapper\">\r\n              <input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                value={email}\r\n                onChange={e => setEmail(e.target.value)}\r\n                onBlur={() => setFormTouched(true)}\r\n                required\r\n                placeholder=\"Your email address\"\r\n                className={formTouched && fieldErrors.email ? 'error-input' : ''}\r\n              />\r\n              {email && (\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"clear-input\" \r\n                  onClick={() => setEmail('')}\r\n                  aria-label=\"Clear email\"\r\n                >\r\n                  ✕\r\n                </button>\r\n              )}\r\n            </div>\r\n            {formTouched && fieldErrors.email && (\r\n              <div className=\"field-error\">{fieldErrors.email}</div>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <div className=\"input-wrapper\">\r\n              <input\r\n                id=\"password\"\r\n                type={showPassword ? 'text' : 'password'}\r\n                value={password}\r\n                onChange={e => setPassword(e.target.value)}\r\n                onBlur={() => setFormTouched(true)}\r\n                required\r\n                placeholder=\"Choose a password\"\r\n                className={formTouched && fieldErrors.password ? 'error-input' : ''}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"toggle-password\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                aria-label={showPassword ? 'Hide password' : 'Show password'}\r\n              >\r\n                {showPassword ? '👁️' : '👁️‍🗨️'}\r\n              </button>\r\n            </div>\r\n            {formTouched && fieldErrors.password && (\r\n              <div className=\"field-error\">{fieldErrors.password}</div>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n            <div className=\"input-wrapper\">\r\n              <input\r\n                id=\"confirmPassword\"\r\n                type={showConfirmPassword ? 'text' : 'password'}\r\n                value={confirmPassword}\r\n                onChange={e => setConfirmPassword(e.target.value)}\r\n                onBlur={() => setFormTouched(true)}\r\n                required\r\n                placeholder=\"Confirm your password\"\r\n                className={formTouched && fieldErrors.confirmPassword ? 'error-input' : ''}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"toggle-password\"\r\n                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                aria-label={showConfirmPassword ? 'Hide password' : 'Show password'}\r\n              >\r\n                {showConfirmPassword ? '👁️' : '👁️‍🗨️'}\r\n              </button>\r\n            </div>\r\n            {formTouched && fieldErrors.confirmPassword && (\r\n              <div className=\"field-error\">{fieldErrors.confirmPassword}</div>\r\n            )}\r\n          </div>\r\n          \r\n          <button type=\"submit\" className=\"auth-button\" disabled={loading}>\r\n            {loading ? (\r\n              <span className=\"button-with-loader\">\r\n                <span className=\"loader\"></span>\r\n                <span>Creating account...</span>\r\n              </span>\r\n            ) : (\r\n              <span>Sign Up</span>\r\n            )}\r\n          </button>\r\n          \r\n          {error && (\r\n            <div className=\"auth-error\">\r\n              <div className=\"error-icon\">❗</div>\r\n              <div className=\"error-message\">{error}</div>\r\n            </div>\r\n          )}\r\n        </form>\r\n        \r\n        <div className=\"auth-switch\">\r\n          Already have an account?{' '}\r\n          <button className=\"text-button\" onClick={switchToLogin}>\r\n            Log In\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"demo-mode-switch\">\r\n          <label className=\"checkbox-container\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={demoMode}\r\n              onChange={e => setDemoMode(e.target.checked)}\r\n            />\r\n            <span className=\"checkmark\"></span>\r\n            Use Demo Mode {demoMode && \"(Account will be stored locally)\"}\r\n          </label>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Email Verification Modal */}\r\n      {verificationData && (\r\n        <EmailVerificationModal\r\n          isOpen={showVerificationModal}\r\n          onClose={() => {\r\n            setShowVerificationModal(false);\r\n            setVerificationData(null);\r\n          }}\r\n          verificationId={verificationData.verificationId}\r\n          email={verificationData.email}\r\n          onVerificationSuccess={handleVerificationSuccess}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport './LoadingSpinner.css';\r\n\r\n/**\r\n * Loading spinner component with different sizes and themes\r\n * \r\n * @component LoadingSpinner\r\n * @param {Object} props - Component props\r\n * @param {string} props.size - Size of spinner: 'small', 'medium', or 'large'\r\n * @param {boolean} props.dark - Whether to use dark theme styling\r\n * @param {string} props.message - Optional loading message to display\r\n * @returns {JSX.Element} Rendered loading spinner\r\n */\r\nconst LoadingSpinner = ({ size = 'medium', dark = false, message }) => {\r\n  const spinnerClasses = `loading-spinner ${size} ${dark ? 'dark' : 'light'}`;\r\n  \r\n  return (\r\n    <div className=\"loading-container\">\r\n      <div className={spinnerClasses}>\r\n        <div className=\"spinner-ring\"></div>\r\n        <div className=\"spinner-ring\"></div>\r\n        <div className=\"spinner-ring\"></div>\r\n        <div className=\"spinner-ring\"></div>\r\n      </div>\r\n      {message && <p className=\"loading-message\">{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingSpinner;\r\n","import React, { useState, useEffect, useRef, useMemo } from 'react';\r\nimport './DynamicSplashScreen.css';\r\n\r\n/**\r\n * Dynamic application splash screen with advanced animations and particles\r\n * \r\n * @component DynamicSplashScreen\r\n * @param {Object} props - Component props\r\n * @param {boolean} props.darkMode - Whether dark mode is enabled\r\n * @param {string} props.appVersion - Current application version\r\n * @param {Function} props.onComplete - Callback when splash screen completes\r\n * @returns {JSX.Element} Rendered splash screen\r\n */\r\nconst DynamicSplashScreen = ({ darkMode = false, appVersion = '1.0.0', onComplete }) => {\r\n  const [loadingProgress, setLoadingProgress] = useState(0);\r\n  const [loadingText, setLoadingText] = useState('Initializing...');\r\n  const [showLogo, setShowLogo] = useState(false);\r\n  const [showTitle, setShowTitle] = useState(false);\r\n  const [showTagline, setShowTagline] = useState(false);\r\n  const [particles, setParticles] = useState([]);\r\n  // eslint-disable-next-line no-unused-vars\r\n  const canvasRef = useRef(null);\r\n  const animationRef = useRef(null);\r\n\r\n  // Loading states and messages\r\n  const loadingStates = useMemo(() => [\r\n    { progress: 10, text: 'Initializing QuibiChat...' },\r\n    { progress: 25, text: 'Loading components...' },\r\n    { progress: 40, text: 'Setting up connection...' },\r\n    { progress: 60, text: 'Preparing interface...' },\r\n    { progress: 80, text: 'Almost ready...' },\r\n    { progress: 95, text: 'Finalizing setup...' },\r\n    { progress: 100, text: 'Welcome to QuibiChat!' }\r\n  ], []);\r\n\r\n  // Initialize particles\r\n  useEffect(() => {\r\n    const initParticles = () => {\r\n      const newParticles = [];\r\n      for (let i = 0; i < 50; i++) {\r\n        newParticles.push({\r\n          id: i,\r\n          x: Math.random() * window.innerWidth,\r\n          y: Math.random() * window.innerHeight,\r\n          vx: (Math.random() - 0.5) * 2,\r\n          vy: (Math.random() - 0.5) * 2,\r\n          size: Math.random() * 3 + 1,\r\n          opacity: Math.random() * 0.5 + 0.2,\r\n          hue: Math.random() * 60 + 200 // Blue-ish colors\r\n        });\r\n      }\r\n      setParticles(newParticles);\r\n    };\r\n\r\n    initParticles();\r\n  }, []);\r\n\r\n  // Animate particles\r\n  useEffect(() => {\r\n    const animateParticles = () => {\r\n      setParticles(prevParticles => \r\n        prevParticles.map(particle => {\r\n          let newX = particle.x + particle.vx;\r\n          let newY = particle.y + particle.vy;\r\n          \r\n          // Wrap around screen edges\r\n          if (newX < 0) newX = window.innerWidth;\r\n          if (newX > window.innerWidth) newX = 0;\r\n          if (newY < 0) newY = window.innerHeight;\r\n          if (newY > window.innerHeight) newY = 0;\r\n          \r\n          return {\r\n            ...particle,\r\n            x: newX,\r\n            y: newY,\r\n            opacity: Math.max(0.1, Math.min(0.8, particle.opacity + (Math.random() - 0.5) * 0.02))\r\n          };\r\n        })\r\n      );\r\n      \r\n      animationRef.current = requestAnimationFrame(animateParticles);\r\n    };\r\n\r\n    animationRef.current = requestAnimationFrame(animateParticles);\r\n\r\n    return () => {\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Loading progress simulation\r\n  useEffect(() => {\r\n    let currentStateIndex = 0;\r\n    \r\n    const progressInterval = setInterval(() => {\r\n      if (currentStateIndex < loadingStates.length) {\r\n        const currentState = loadingStates[currentStateIndex];\r\n        setLoadingProgress(currentState.progress);\r\n        setLoadingText(currentState.text);\r\n        currentStateIndex++;\r\n      } else {\r\n        clearInterval(progressInterval);\r\n        if (onComplete) {\r\n          setTimeout(onComplete, 1000); // Delay before calling onComplete\r\n        }\r\n      }\r\n    }, 600);\r\n\r\n    return () => clearInterval(progressInterval);\r\n  }, [onComplete, loadingStates]);\r\n\r\n  // Staggered element animations\r\n  useEffect(() => {\r\n    const timeouts = [\r\n      setTimeout(() => setShowLogo(true), 300),\r\n      setTimeout(() => setShowTitle(true), 900),\r\n      setTimeout(() => setShowTagline(true), 1500)\r\n    ];\r\n\r\n    return () => timeouts.forEach(clearTimeout);\r\n  }, []);\r\n\r\n  // Geometric shapes for background\r\n  const renderBackgroundShapes = () => {\r\n    const shapes = [];\r\n    for (let i = 0; i < 8; i++) {\r\n      shapes.push(\r\n        <div\r\n          key={i}\r\n          className={`floating-shape shape-${i + 1}`}\r\n          style={{\r\n            '--delay': `${i * 0.5}s`,\r\n            '--duration': `${8 + i * 2}s`\r\n          }}\r\n        />\r\n      );\r\n    }\r\n    return shapes;\r\n  };\r\n\r\n  return (\r\n    <div className={`dynamic-splash-screen ${darkMode ? 'dark' : 'light'}`}>\r\n      {/* Animated background gradient */}\r\n      <div className=\"animated-background\"></div>\r\n\r\n      {/* Animated background shapes */}\r\n      <div className=\"background-shapes\">\r\n        {renderBackgroundShapes()}\r\n      </div>\r\n\r\n      {/* Particle system */}\r\n      <div className=\"particles-container\">\r\n        {particles.map(particle => (\r\n          <div\r\n            key={particle.id}\r\n            className=\"particle\"\r\n            style={{\r\n              left: `${particle.x}px`,\r\n              top: `${particle.y}px`,\r\n              width: `${particle.size}px`,\r\n              height: `${particle.size}px`,\r\n              opacity: particle.opacity,\r\n              background: `hsl(${particle.hue}, 70%, 60%)`\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Main content */}\r\n      <div className=\"splash-content\">\r\n        {/* Animated logo */}\r\n        <div className={`splash-logo ${showLogo ? 'show' : ''}`}>\r\n          <div className=\"logo-container\">\r\n            <svg \r\n              width=\"120\" \r\n              height=\"120\" \r\n              viewBox=\"0 0 24 24\" \r\n              fill=\"none\" \r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"splash-logo-svg\"\r\n            >\r\n              <defs>\r\n                <linearGradient id=\"logoGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n                  <stop offset=\"0%\" stopColor=\"#4f46e5\" />\r\n                  <stop offset=\"50%\" stopColor=\"#7c3aed\" />\r\n                  <stop offset=\"100%\" stopColor=\"#0ea5e9\" />\r\n                </linearGradient>\r\n                <filter id=\"glow\">\r\n                  <feGaussianBlur stdDeviation=\"3\" result=\"coloredBlur\"/>\r\n                  <feMerge> \r\n                    <feMergeNode in=\"coloredBlur\"/>\r\n                    <feMergeNode in=\"SourceGraphic\"/>\r\n                  </feMerge>\r\n                </filter>\r\n              </defs>\r\n              <path \r\n                d=\"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H5.17L4.58 16.59L4 17.17V4H20V16Z\" \r\n                fill=\"url(#logoGradient)\"\r\n                filter=\"url(#glow)\"\r\n                className=\"logo-path-1\"\r\n              />\r\n              <path \r\n                d=\"M12 15L16 11L12 7L10.59 8.41L13.17 11L10.59 13.59L12 15Z\" \r\n                fill=\"url(#logoGradient)\"\r\n                filter=\"url(#glow)\"\r\n                className=\"logo-path-2\"\r\n              />\r\n              <path \r\n                d=\"M6 11H9V13H6V11Z\" \r\n                fill=\"url(#logoGradient)\"\r\n                filter=\"url(#glow)\"\r\n                className=\"logo-path-3\"\r\n              />\r\n            </svg>\r\n            \r\n            {/* Rotating rings around logo */}\r\n            <div className=\"logo-ring ring-1\"></div>\r\n            <div className=\"logo-ring ring-2\"></div>\r\n            <div className=\"logo-ring ring-3\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Animated title */}\r\n        <h1 className={`splash-title ${showTitle ? 'show' : ''}`}>\r\n          <span className=\"title-letter\" style={{'--delay': '0.1s'}}>Q</span>\r\n          <span className=\"title-letter\" style={{'--delay': '0.2s'}}>u</span>\r\n          <span className=\"title-letter\" style={{'--delay': '0.3s'}}>i</span>\r\n          <span className=\"title-letter\" style={{'--delay': '0.4s'}}>b</span>\r\n          <span className=\"title-letter\" style={{'--delay': '0.5s'}}>i</span>\r\n          <span className=\"title-letter\" style={{'--delay': '0.6s'}}>C</span>\r\n          <span className=\"title-letter\" style={{'--delay': '0.7s'}}>h</span>\r\n          <span className=\"title-letter\" style={{'--delay': '0.8s'}}>a</span>\r\n          <span className=\"title-letter\" style={{'--delay': '0.9s'}}>t</span>\r\n        </h1>\r\n\r\n        {/* Animated tagline */}\r\n        <div className={`splash-tagline ${showTagline ? 'show' : ''}`}>\r\n          <span className=\"tagline-word\" style={{'--delay': '0.1s'}}>Professional</span>\r\n          <span className=\"tagline-word\" style={{'--delay': '0.3s'}}>Communication</span>\r\n          <span className=\"tagline-word\" style={{'--delay': '0.5s'}}>Platform</span>\r\n        </div>\r\n        \r\n        {/* Dynamic loading indicator */}\r\n        <div className=\"loading-section\">\r\n          {/* Progress bar */}\r\n          <div className=\"progress-container\">\r\n            <div className=\"progress-bar\">\r\n              <div \r\n                className=\"progress-fill\"\r\n                style={{ width: `${loadingProgress}%` }}\r\n              />\r\n              <div className=\"progress-glow\" style={{ left: `${loadingProgress}%` }} />\r\n            </div>\r\n            <div className=\"progress-text\">{loadingProgress}%</div>\r\n          </div>\r\n\r\n          {/* Loading text */}\r\n          <div className=\"loading-text\">{loadingText}</div>\r\n\r\n          {/* Pulse indicator */}\r\n          <div className=\"pulse-indicator\">\r\n            <div className=\"pulse-dot\">\r\n              <div className=\"pulse-ring\"></div>\r\n              <div className=\"pulse-ring\"></div>\r\n              <div className=\"pulse-ring\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Version with enhanced styling */}\r\n        <div className=\"splash-version\">\r\n          <span className=\"version-label\">Version</span>\r\n          <span className=\"version-number\">v{appVersion}</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Corner decorations */}\r\n      <div className=\"corner-decoration top-left\"></div>\r\n      <div className=\"corner-decoration top-right\"></div>\r\n      <div className=\"corner-decoration bottom-left\"></div>\r\n      <div className=\"corner-decoration bottom-right\"></div>\r\n\r\n      {/* Loading dots animation */}\r\n      <div className=\"loading-dots-corner\">\r\n        <div className=\"dot\"></div>\r\n        <div className=\"dot\"></div>\r\n        <div className=\"dot\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DynamicSplashScreen;\r\n","import React, { Component } from 'react';\r\nimport './ErrorBoundary.css';\r\n\r\n/**\r\n * Error boundary component that catches JavaScript errors in child components\r\n * and displays a fallback UI instead of crashing the entire application\r\n * \r\n * @component ErrorBoundary\r\n */\r\nclass ErrorBoundary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Update state when an error occurs\r\n   * \r\n   * @param {Error} error - The error that was thrown\r\n   * @returns {Object} Updated state\r\n   */\r\n  static getDerivedStateFromError(error) {\r\n    // Update state so the next render will show the fallback UI\r\n    return { hasError: true };\r\n  }\r\n\r\n  /**\r\n   * Catch errors in any components below and log them\r\n   * \r\n   * @param {Error} error - The error that was thrown\r\n   * @param {Object} errorInfo - Component stack information\r\n   */\r\n  componentDidCatch(error, errorInfo) {\r\n    // Log the error to an error reporting service\r\n    console.error('Error caught by ErrorBoundary:', error, errorInfo);\r\n    this.setState({\r\n      error: error,\r\n      errorInfo: errorInfo\r\n    });\r\n    \r\n    // Could also send to a logging service:\r\n    // logErrorToService(error, errorInfo);\r\n  }\r\n\r\n  /**\r\n   * Handle retry button click to reset the error state\r\n   */\r\n  handleRetry = () => {\r\n    this.setState({ \r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // Render fallback UI\r\n      return (\r\n        <div className=\"error-boundary\">\r\n          <div className=\"error-container\">\r\n            <div className=\"error-icon\">\r\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-7v2h2v-2h-2zm0-8v6h2V7h-2z\" fill=\"currentColor\"/>\r\n              </svg>\r\n            </div>\r\n            <h2 className=\"error-title\">Something went wrong</h2>\r\n            <p className=\"error-message\">\r\n              We're sorry, but there was a problem loading this part of the application.\r\n            </p>\r\n            \r\n            {this.props.showDetails && this.state.error && (\r\n              <details className=\"error-details\">\r\n                <summary>Error details</summary>\r\n                <pre>{this.state.error.toString()}</pre>\r\n                <pre>{this.state.errorInfo?.componentStack}</pre>\r\n              </details>\r\n            )}\r\n            \r\n            <div className=\"error-actions\">\r\n              <button \r\n                className=\"retry-button\" \r\n                onClick={this.handleRetry}\r\n              >\r\n                Try Again\r\n              </button>\r\n              \r\n              <button \r\n                className=\"report-button\"\r\n                onClick={() => window.location.reload()}\r\n              >\r\n                Reload Page\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // If there's no error, render children normally\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","/**\r\n * Service Worker Manager\r\n * Manages service worker registration, updates, and communication\r\n */\r\n\r\nclass ServiceWorkerManager {\r\n  constructor() {\r\n    this.registration = null;\r\n    this.isUpdateAvailable = false;\r\n    this.callbacks = {\r\n      onUpdate: [],\r\n      onInstall: [],\r\n      onActivate: [],\r\n      onOffline: [],\r\n      onOnline: [],\r\n      onCacheUpdate: []\r\n    };\r\n    \r\n    this.init();\r\n  }\r\n\r\n  async init() {\r\n    if (!('serviceWorker' in navigator)) {\r\n      console.log('📱 Service Worker not supported');\r\n      return;\r\n    }\r\n\r\n    // In development, skip service worker registration to avoid MIME type issues\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.log('🔧 Skipping Service Worker in development mode');\r\n      return;\r\n    }\r\n\r\n    return this.register('/sw.js');\r\n  }\r\n\r\n  // Register service worker\r\n  async register(swPath = '/sw.js') {\r\n    if (!('serviceWorker' in navigator)) {\r\n      console.log('📱 Service Worker not supported');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Register service worker\r\n      this.registration = await navigator.serviceWorker.register(swPath);\r\n      console.log('✅ Service Worker registered:', this.registration);\r\n\r\n      // Listen for updates\r\n      this.registration.addEventListener('updatefound', () => {\r\n        this.handleUpdate();\r\n      });\r\n\r\n      // Listen for controller change\r\n      navigator.serviceWorker.addEventListener('controllerchange', () => {\r\n        window.location.reload();\r\n      });\r\n\r\n      // Check for existing service worker\r\n      if (navigator.serviceWorker.controller) {\r\n        console.log('📱 Service Worker already controlling the page');\r\n        this.triggerCallbacks('onActivate', this.registration);\r\n      }\r\n\r\n      // Listen for messages from service worker\r\n      navigator.serviceWorker.addEventListener('message', (event) => {\r\n        this.handleMessage(event.data);\r\n      });\r\n\r\n      // Monitor online/offline status\r\n      this.setupOnlineOfflineListeners();\r\n\r\n      // Trigger install callback\r\n      this.triggerCallbacks('onInstall', this.registration);\r\n\r\n      return this.registration;\r\n    } catch (error) {\r\n      console.error('❌ Service Worker registration failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  setupOnlineOfflineListeners() {\r\n    window.addEventListener('online', () => {\r\n      console.log('🌐 Back online');\r\n      this.triggerCallbacks('onOnline');\r\n      this.syncWhenOnline();\r\n    });\r\n\r\n    window.addEventListener('offline', () => {\r\n      console.log('📱 Gone offline');\r\n      this.triggerCallbacks('onOffline');\r\n    });\r\n  }\r\n\r\n  handleUpdate() {\r\n    const newWorker = this.registration.installing;\r\n    \r\n    if (newWorker) {\r\n      this.isUpdateAvailable = true;\r\n      \r\n      newWorker.addEventListener('statechange', () => {\r\n        if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\r\n          console.log('🔄 New version available');\r\n          this.triggerCallbacks('onUpdate', newWorker);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleMessage(message) {\r\n    console.log('📨 Message from SW:', message);\r\n    \r\n    switch (message.type) {\r\n      case 'CACHE_UPDATED':\r\n        this.triggerCallbacks('onCacheUpdate', message.data);\r\n        break;\r\n      case 'BACKGROUND_SYNC':\r\n        console.log('🔄 Background sync completed:', message.data);\r\n        break;\r\n      default:\r\n        console.log('📨 Unknown message type:', message.type);\r\n    }\r\n  }\r\n\r\n  // Register background sync\r\n  async registerBackgroundSync(tag) {\r\n    if (!this.registration || !this.registration.sync) {\r\n      console.log('📱 Background Sync not supported');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await this.registration.sync.register(tag);\r\n      console.log(`✅ Background sync registered: ${tag}`);\r\n    } catch (error) {\r\n      console.error('❌ Background sync registration failed:', error);\r\n    }\r\n  }\r\n\r\n  // Sync data when coming back online\r\n  async syncWhenOnline() {\r\n    if (navigator.onLine && this.registration) {\r\n      await this.registerBackgroundSync('profile-sync');\r\n      await this.registerBackgroundSync('message-sync');\r\n    }\r\n  }\r\n\r\n  // Update service worker\r\n  async updateServiceWorker() {\r\n    if (!this.registration || !this.registration.waiting) {\r\n      return;\r\n    }\r\n\r\n    this.registration.waiting.postMessage({ type: 'SKIP_WAITING' });\r\n  }\r\n\r\n  // Clear all caches\r\n  async clearCache() {\r\n    if (!('caches' in window)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const cacheNames = await caches.keys();\r\n      await Promise.all(\r\n        cacheNames.map(cacheName => caches.delete(cacheName))\r\n      );\r\n      console.log('🗑️ All caches cleared');\r\n    } catch (error) {\r\n      console.error('❌ Failed to clear caches:', error);\r\n    }\r\n  }\r\n\r\n  // Send message to service worker\r\n  async sendMessage(message) {\r\n    if (!navigator.serviceWorker.controller) {\r\n      console.log('📱 No service worker controller');\r\n      return;\r\n    }\r\n\r\n    navigator.serviceWorker.controller.postMessage(message);\r\n  }\r\n\r\n  // Event system\r\n  on(event, callback) {\r\n    if (!this.callbacks[event]) {\r\n      this.callbacks[event] = [];\r\n    }\r\n    this.callbacks[event].push(callback);\r\n  }\r\n\r\n  off(event, callback) {\r\n    if (this.callbacks[event]) {\r\n      const index = this.callbacks[event].indexOf(callback);\r\n      if (index > -1) {\r\n        this.callbacks[event].splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  triggerCallbacks(event, data) {\r\n    if (this.callbacks[event]) {\r\n      this.callbacks[event].forEach(callback => callback(data));\r\n    }\r\n  }\r\n\r\n  // Get service worker status\r\n  getStatus() {\r\n    return {\r\n      supported: 'serviceWorker' in navigator,\r\n      registered: !!this.registration,\r\n      updateAvailable: this.isUpdateAvailable,\r\n      online: navigator.onLine,\r\n      controller: !!navigator.serviceWorker.controller\r\n    };\r\n  }\r\n}\r\n\r\n// Create global instance\r\nconst swManager = new ServiceWorkerManager();\r\n\r\n// Utility functions for offline handling\r\nexport const offlineUtils = {\r\n  // Store data for offline sync\r\n  storeForSync: (key, data) => {\r\n    try {\r\n      const existing = JSON.parse(localStorage.getItem('pendingSync') || '{}');\r\n      existing[key] = {\r\n        data,\r\n        timestamp: Date.now(),\r\n        retries: 0\r\n      };\r\n      localStorage.setItem('pendingSync', JSON.stringify(existing));\r\n    } catch (error) {\r\n      console.error('❌ Failed to store for sync:', error);\r\n    }\r\n  },\r\n\r\n  // Get pending sync data\r\n  getPendingSync: () => {\r\n    try {\r\n      return JSON.parse(localStorage.getItem('pendingSync') || '{}');\r\n    } catch (error) {\r\n      console.error('❌ Failed to get pending sync:', error);\r\n      return {};\r\n    }\r\n  },\r\n\r\n  // Clear pending sync data\r\n  clearPendingSync: (key) => {\r\n    try {\r\n      const existing = JSON.parse(localStorage.getItem('pendingSync') || '{}');\r\n      delete existing[key];\r\n      localStorage.setItem('pendingSync', JSON.stringify(existing));\r\n    } catch (error) {\r\n      console.error('❌ Failed to clear pending sync:', error);\r\n    }\r\n  },\r\n\r\n  // Check if offline\r\n  isOffline: () => !navigator.onLine\r\n};\r\n\r\nexport default swManager;","import React, { useState, useEffect } from 'react';\r\nimport swManager from '../../utils/serviceWorkerManager';\r\nimport './PWAStatus.css';\r\n\r\nconst PWAStatus = () => {\r\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\r\n  const [swStatus, setSwStatus] = useState('checking');\r\n  const [cacheStatus, setCacheStatus] = useState({});\r\n  const [updateAvailable, setUpdateAvailable] = useState(false);\r\n  const [isMinimized, setIsMinimized] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Monitor online/offline status\r\n    const handleOnline = () => setIsOnline(true);\r\n    const handleOffline = () => setIsOnline(false);\r\n\r\n    window.addEventListener('online', handleOnline);\r\n    window.addEventListener('offline', handleOffline);\r\n\r\n    // Service Worker event listeners\r\n    swManager.on('onInstall', () => {\r\n      setSwStatus('installed');\r\n      console.log('✅ PWA: Service Worker installed');\r\n    });\r\n\r\n    swManager.on('onActivate', () => {\r\n      setSwStatus('active');\r\n      console.log('✅ PWA: Service Worker activated');\r\n    });\r\n\r\n    swManager.on('onUpdate', () => {\r\n      setUpdateAvailable(true);\r\n      console.log('🔄 PWA: Update available');\r\n    });\r\n\r\n    swManager.on('onCacheUpdate', (cacheInfo) => {\r\n      setCacheStatus(cacheInfo);\r\n      console.log('💾 PWA: Cache updated', cacheInfo);\r\n    });\r\n\r\n    // Check initial service worker status\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready.then(() => {\r\n        setSwStatus('ready');\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener('online', handleOnline);\r\n      window.removeEventListener('offline', handleOffline);\r\n    };\r\n  }, []);\r\n\r\n  const handleUpdate = () => {\r\n    swManager.updateServiceWorker();\r\n    setUpdateAvailable(false);\r\n  };\r\n\r\n  const handleClearCache = async () => {\r\n    try {\r\n      await swManager.clearCache();\r\n      setCacheStatus({});\r\n      console.log('🗑️ PWA: Cache cleared');\r\n    } catch (error) {\r\n      console.error('❌ PWA: Failed to clear cache', error);\r\n    }\r\n  };\r\n\r\n  // Only show in development or when user explicitly requests PWA info\r\n  if (process.env.NODE_ENV !== 'development') {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className={`pwa-status-indicator ${isMinimized ? 'minimized' : ''}`}\r\n      onClick={() => setIsMinimized(!isMinimized)}\r\n      title={isMinimized ? 'Click to expand PWA status' : 'Click to minimize PWA status'}\r\n    >\r\n      {isMinimized ? (\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '2px' }}>\r\n          <span style={{ fontSize: '8px' }}>📱</span>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div style={{ \r\n            display: 'flex', \r\n            alignItems: 'center', \r\n            gap: '4px',\r\n            lineHeight: '1.2'\r\n          }}>\r\n            <span style={{ fontSize: '8px' }}>🌐</span>\r\n            <span>{isOnline ? 'On' : 'Off'}</span>\r\n          </div>\r\n          <div style={{ \r\n            display: 'flex', \r\n            alignItems: 'center', \r\n            gap: '4px',\r\n            lineHeight: '1.2'\r\n          }}>\r\n            <span style={{ fontSize: '8px' }}>⚙️</span>\r\n            <span>SW: {swStatus === 'checking' ? 'chk' : swStatus.slice(0, 3)}</span>\r\n          </div>\r\n        </>\r\n      )}\r\n      \r\n      {!isMinimized && Object.keys(cacheStatus).length > 0 && (\r\n        <div style={{ \r\n          display: 'flex', \r\n          alignItems: 'center', \r\n          gap: '4px',\r\n          lineHeight: '1.2'\r\n        }}>\r\n          <span style={{ fontSize: '8px' }}>💾</span>\r\n          <span>{Object.keys(cacheStatus).length}</span>\r\n        </div>\r\n      )}\r\n      \r\n      {!isMinimized && updateAvailable && (\r\n        <button \r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            handleUpdate();\r\n          }}\r\n          style={{\r\n            background: '#4f46e5',\r\n            color: 'white',\r\n            border: 'none',\r\n            padding: '2px 4px',\r\n            borderRadius: '3px',\r\n            fontSize: '9px',\r\n            cursor: 'pointer',\r\n            marginTop: '3px',\r\n            width: '100%'\r\n          }}\r\n        >\r\n          Update\r\n        </button>\r\n      )}\r\n      \r\n      {!isMinimized && (\r\n        <button \r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            handleClearCache();\r\n          }}\r\n          style={{\r\n            background: '#dc2626',\r\n            color: 'white',\r\n            border: 'none',\r\n            padding: '1px 4px',\r\n            borderRadius: '3px',\r\n            fontSize: '8px',\r\n            cursor: 'pointer',\r\n            marginTop: '2px',\r\n            width: '100%'\r\n          }}\r\n        >\r\n          Clear\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PWAStatus;","/**\r\n * Testing Dashboard Component\r\n * Interactive dashboard for running and viewing test results\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport './TestingDashboard.css';\r\n\r\nconst TestingDashboard = () => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('device');\r\n  const [testResults, setTestResults] = useState({});\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  // Initialize testing suite on mount\r\n  useEffect(() => {\r\n    const initTestingTools = async () => {\r\n      try {\r\n        // Import testing modules dynamically\r\n        const testingSuiteModule = await import('../../utils/testingSuite');\r\n        const compatibilityModule = await import('../../utils/compatibilityValidator');\r\n        \r\n        // Initialize testing tools\r\n        testingSuiteModule.initTestingSuite();\r\n        compatibilityModule.initValidationSuite();\r\n        \r\n        console.log('🧪 Testing dashboard ready');\r\n      } catch (error) {\r\n        console.error('Failed to initialize testing tools:', error);\r\n      }\r\n    };\r\n\r\n    initTestingTools();\r\n  }, []);\r\n\r\n  // Run all tests\r\n  const runAllTests = async () => {\r\n    setIsRunning(true);\r\n    setProgress(0);\r\n    \r\n    try {\r\n      const results = {};\r\n      \r\n      // Device testing (25% progress)\r\n      setProgress(25);\r\n      if (window.testingSuite) {\r\n        results.devices = await window.testingSuite.deviceTesting.startDeviceTesting();\r\n      }\r\n      \r\n      // Performance audit (50% progress)\r\n      setProgress(50);\r\n      if (window.testingSuite) {\r\n        results.performance = await window.testingSuite.performanceAudit.runPerformanceAudit();\r\n      }\r\n      \r\n      // Compatibility validation (75% progress)\r\n      setProgress(75);\r\n      if (window.validationSuite) {\r\n        results.compatibility = await window.validationSuite.runAllValidations();\r\n      }\r\n      \r\n      // Complete (100% progress)\r\n      setProgress(100);\r\n      setTestResults(results);\r\n      \r\n      console.log('🎉 All tests completed successfully');\r\n      \r\n    } catch (error) {\r\n      console.error('Testing failed:', error);\r\n    } finally {\r\n      setIsRunning(false);\r\n      setTimeout(() => setProgress(0), 2000);\r\n    }\r\n  };\r\n\r\n  // Run device-specific tests\r\n  const runDeviceTests = async () => {\r\n    setIsRunning(true);\r\n    \r\n    try {\r\n      if (window.testingSuite) {\r\n        const results = await window.testingSuite.testCurrentDevice();\r\n        setTestResults(prev => ({ ...prev, currentDevice: results }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Device testing failed:', error);\r\n    } finally {\r\n      setIsRunning(false);\r\n    }\r\n  };\r\n\r\n  // Run performance audit\r\n  const runPerformanceAudit = async () => {\r\n    setIsRunning(true);\r\n    \r\n    try {\r\n      if (window.testingSuite) {\r\n        const results = await window.testingSuite.performanceAudit.runPerformanceAudit();\r\n        setTestResults(prev => ({ ...prev, performance: results }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Performance audit failed:', error);\r\n    } finally {\r\n      setIsRunning(false);\r\n    }\r\n  };\r\n\r\n  // Run compatibility validation\r\n  const runCompatibilityValidation = async () => {\r\n    setIsRunning(true);\r\n    \r\n    try {\r\n      if (window.validationSuite) {\r\n        const results = await window.validationSuite.runAllValidations();\r\n        setTestResults(prev => ({ ...prev, compatibility: results }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Compatibility validation failed:', error);\r\n    } finally {\r\n      setIsRunning(false);\r\n    }\r\n  };\r\n\r\n  // Toggle dashboard visibility\r\n  const toggleDashboard = () => {\r\n    setIsVisible(!isVisible);\r\n  };\r\n\r\n  // Render test status\r\n  const renderTestStatus = (status) => {\r\n    const icons = {\r\n      'PASS': '✅',\r\n      'PARTIAL': '⚠️',\r\n      'FAIL': '❌',\r\n      'SKIP': '⏭️'\r\n    };\r\n    \r\n    return (\r\n      <span className={`test-status test-status-${status?.toLowerCase()}`}>\r\n        {icons[status] || '❓'} {status || 'UNKNOWN'}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  // Render device test results\r\n  const renderDeviceResults = () => {\r\n    if (!testResults.devices && !testResults.currentDevice) {\r\n      return <div className=\"no-results\">No device test results available</div>;\r\n    }\r\n\r\n    const deviceData = testResults.currentDevice || testResults.devices;\r\n    \r\n    return (\r\n      <div className=\"test-section\">\r\n        <h3>📱 Device Testing Results</h3>\r\n        \r\n        {testResults.currentDevice && (\r\n          <div className=\"device-result\">\r\n            <h4>{testResults.currentDevice.device}</h4>\r\n            <div className=\"test-grid\">\r\n              {Object.entries(testResults.currentDevice.tests || {}).map(([testName, result]) => (\r\n                <div key={testName} className=\"test-item\">\r\n                  <span className=\"test-name\">{testName}</span>\r\n                  {renderTestStatus(result.status)}\r\n                  {result.score && <span className=\"test-score\">{result.score}</span>}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {testResults.devices && Object.entries(testResults.devices).map(([deviceId, result]) => (\r\n          <div key={deviceId} className=\"device-result\">\r\n            <h4>{result.device}</h4>\r\n            <div className=\"test-grid\">\r\n              {Object.entries(result.tests || {}).map(([testName, testResult]) => (\r\n                <div key={testName} className=\"test-item\">\r\n                  <span className=\"test-name\">{testName}</span>\r\n                  {renderTestStatus(testResult.status)}\r\n                  {testResult.score && <span className=\"test-score\">{testResult.score}</span>}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Render performance results\r\n  const renderPerformanceResults = () => {\r\n    if (!testResults.performance) {\r\n      return <div className=\"no-results\">No performance test results available</div>;\r\n    }\r\n\r\n    const { metrics, recommendations } = testResults.performance;\r\n    \r\n    return (\r\n      <div className=\"test-section\">\r\n        <h3>⚡ Performance Audit Results</h3>\r\n        \r\n        {metrics.coreWebVitals && (\r\n          <div className=\"metrics-group\">\r\n            <h4>Core Web Vitals</h4>\r\n            <div className=\"vitals-grid\">\r\n              {metrics.coreWebVitals.lcp && (\r\n                <div className=\"vital-item\">\r\n                  <span className=\"vital-name\">LCP</span>\r\n                  <span className=\"vital-value\">{metrics.coreWebVitals.lcp}ms</span>\r\n                  <span className={`vital-status ${metrics.coreWebVitals.lcp < 2500 ? 'good' : 'needs-improvement'}`}>\r\n                    {metrics.coreWebVitals.lcp < 2500 ? 'Good' : 'Needs Improvement'}\r\n                  </span>\r\n                </div>\r\n              )}\r\n              \r\n              {metrics.coreWebVitals.fid && (\r\n                <div className=\"vital-item\">\r\n                  <span className=\"vital-name\">FID</span>\r\n                  <span className=\"vital-value\">{metrics.coreWebVitals.fid}ms</span>\r\n                  <span className={`vital-status ${metrics.coreWebVitals.fid < 100 ? 'good' : 'needs-improvement'}`}>\r\n                    {metrics.coreWebVitals.fid < 100 ? 'Good' : 'Needs Improvement'}\r\n                  </span>\r\n                </div>\r\n              )}\r\n              \r\n              {metrics.coreWebVitals.cls && (\r\n                <div className=\"vital-item\">\r\n                  <span className=\"vital-name\">CLS</span>\r\n                  <span className=\"vital-value\">{metrics.coreWebVitals.cls}</span>\r\n                  <span className={`vital-status ${metrics.coreWebVitals.cls < 0.1 ? 'good' : 'needs-improvement'}`}>\r\n                    {metrics.coreWebVitals.cls < 0.1 ? 'Good' : 'Needs Improvement'}\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {metrics.memory && (\r\n          <div className=\"metrics-group\">\r\n            <h4>Memory Usage</h4>\r\n            <div className=\"memory-info\">\r\n              <div className=\"memory-bar\">\r\n                <div \r\n                  className=\"memory-used\" \r\n                  style={{ width: `${Math.min(metrics.memory.percentage, 100)}%` }}\r\n                ></div>\r\n              </div>\r\n              <span className=\"memory-text\">\r\n                {metrics.memory.percentage?.toFixed(1)}% used\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {recommendations && recommendations.length > 0 && (\r\n          <div className=\"recommendations\">\r\n            <h4>💡 Recommendations</h4>\r\n            <ul>\r\n              {recommendations.map((rec, index) => (\r\n                <li key={index}>{rec}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Render compatibility results\r\n  const renderCompatibilityResults = () => {\r\n    if (!testResults.compatibility) {\r\n      return <div className=\"no-results\">No compatibility test results available</div>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"test-section\">\r\n        <h3>🔍 Compatibility Validation Results</h3>\r\n        \r\n        {Object.entries(testResults.compatibility).map(([platform, result]) => (\r\n          <div key={platform} className=\"platform-result\">\r\n            <h4>{platform.toUpperCase()} Compatibility</h4>\r\n            \r\n            {result.isCompatible !== undefined && (\r\n              <div className=\"compatibility-status\">\r\n                {result.isCompatible ? '✅ Compatible' : '❌ Incompatible'}\r\n              </div>\r\n            )}\r\n            \r\n            {result.features && (\r\n              <div className=\"feature-matrix\">\r\n                {Object.entries(result.features).map(([category, features]) => (\r\n                  <div key={category} className=\"feature-category\">\r\n                    <h5>{category}</h5>\r\n                    <div className=\"feature-list\">\r\n                      {Object.entries(features).map(([feature, supported]) => (\r\n                        <div key={feature} className=\"feature-item\">\r\n                          <span className=\"feature-name\">{feature}</span>\r\n                          {typeof supported === 'boolean' ? (\r\n                            renderTestStatus(supported ? 'PASS' : 'FAIL')\r\n                          ) : (\r\n                            <span className=\"feature-complex\">{JSON.stringify(supported)}</span>\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n            \r\n            {result.warnings && result.warnings.length > 0 && (\r\n              <div className=\"warnings\">\r\n                <h5>⚠️ Warnings</h5>\r\n                <ul>\r\n                  {result.warnings.map((warning, index) => (\r\n                    <li key={index}>{warning}</li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n            \r\n            {result.score !== undefined && (\r\n              <div className=\"accessibility-score\">\r\n                <span>Accessibility Score: {result.score}/100</span>\r\n                <div className=\"score-bar\">\r\n                  <div \r\n                    className=\"score-fill\" \r\n                    style={{ width: `${result.score}%` }}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (!isVisible) {\r\n    return (\r\n      <button \r\n        className=\"testing-dashboard-trigger\"\r\n        onClick={toggleDashboard}\r\n        title=\"Open Testing Dashboard\"\r\n      >\r\n        🧪\r\n      </button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"testing-dashboard\">\r\n      <div className=\"dashboard-header\">\r\n        <h2>🧪 Testing Dashboard</h2>\r\n        <button \r\n          className=\"close-button\"\r\n          onClick={toggleDashboard}\r\n        >\r\n          ✕\r\n        </button>\r\n      </div>\r\n      \r\n      {isRunning && (\r\n        <div className=\"progress-section\">\r\n          <div className=\"progress-bar\">\r\n            <div \r\n              className=\"progress-fill\" \r\n              style={{ width: `${progress}%` }}\r\n            ></div>\r\n          </div>\r\n          <span className=\"progress-text\">Running tests... {progress}%</span>\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"dashboard-controls\">\r\n        <button \r\n          className=\"test-button primary\"\r\n          onClick={runAllTests}\r\n          disabled={isRunning}\r\n        >\r\n          🚀 Run All Tests\r\n        </button>\r\n        \r\n        <div className=\"individual-tests\">\r\n          <button \r\n            className=\"test-button\"\r\n            onClick={runDeviceTests}\r\n            disabled={isRunning}\r\n          >\r\n            📱 Device Tests\r\n          </button>\r\n          \r\n          <button \r\n            className=\"test-button\"\r\n            onClick={runPerformanceAudit}\r\n            disabled={isRunning}\r\n          >\r\n            ⚡ Performance Audit\r\n          </button>\r\n          \r\n          <button \r\n            className=\"test-button\"\r\n            onClick={runCompatibilityValidation}\r\n            disabled={isRunning}\r\n          >\r\n            🔍 Compatibility Check\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"dashboard-tabs\">\r\n        <button \r\n          className={`tab-button ${activeTab === 'device' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('device')}\r\n        >\r\n          📱 Device Tests\r\n        </button>\r\n        \r\n        <button \r\n          className={`tab-button ${activeTab === 'performance' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('performance')}\r\n        >\r\n          ⚡ Performance\r\n        </button>\r\n        \r\n        <button \r\n          className={`tab-button ${activeTab === 'compatibility' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('compatibility')}\r\n        >\r\n          🔍 Compatibility\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"dashboard-content\">\r\n        {activeTab === 'device' && renderDeviceResults()}\r\n        {activeTab === 'performance' && renderPerformanceResults()}\r\n        {activeTab === 'compatibility' && renderCompatibilityResults()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TestingDashboard;","// Enhanced Connection Manager with Auto-Recovery\r\nimport { useState, useEffect, useCallback } from 'react';\r\n\r\nclass EnhancedConnectionManager {\r\n  constructor() {\r\n    this.isOnline = navigator.onLine;\r\n    this.backendConnected = false;\r\n    this.lastHealthCheck = null;\r\n    this.healthCheckInterval = null;\r\n    this.reconnectAttempts = 0;\r\n    this.maxReconnectAttempts = 10;\r\n    this.reconnectDelay = 1000; // Start with 1 second\r\n    this.listeners = [];\r\n    this.healthChecksEnabled = false; // Temporarily disabled to fix rate limiting\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    // Listen for online/offline events\r\n    window.addEventListener('online', this.handleOnline.bind(this));\r\n    window.addEventListener('offline', this.handleOffline.bind(this));\r\n    \r\n    // Temporarily disable health checking to avoid rate limiting issues\r\n    console.log('⚠️ Health checks temporarily disabled to fix rate limiting');\r\n    this.backendConnected = true; // Assume connected for now\r\n    this.notifyListeners();\r\n    \r\n    // TODO: Re-enable after fixing backend rate limiting\r\n    // this.startHealthCheck();\r\n  }\r\n\r\n  addListener(callback) {\r\n    this.listeners.push(callback);\r\n    return () => {\r\n      this.listeners = this.listeners.filter(listener => listener !== callback);\r\n    };\r\n  }\r\n\r\n  notifyListeners() {\r\n    this.listeners.forEach(callback => {\r\n      try {\r\n        callback({\r\n          isOnline: this.isOnline,\r\n          backendConnected: this.backendConnected,\r\n          reconnectAttempts: this.reconnectAttempts,\r\n          lastHealthCheck: this.lastHealthCheck\r\n        });\r\n      } catch (error) {\r\n        console.error('Error notifying connection listener:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleOnline() {\r\n    console.log('🌐 Network connection restored');\r\n    this.isOnline = true;\r\n    // Temporarily disabled: this.startHealthCheck();\r\n    this.backendConnected = true; // Assume connected for now\r\n    this.notifyListeners();\r\n  }\r\n\r\n  handleOffline() {\r\n    console.log('🔌 Network connection lost');\r\n    this.isOnline = false;\r\n    this.backendConnected = false;\r\n    this.stopHealthCheck();\r\n    this.notifyListeners();\r\n  }\r\n\r\n  async checkBackendHealth() {\r\n    if (!this.healthChecksEnabled) {\r\n      console.log('⚠️ Health checks are temporarily disabled');\r\n      this.backendConnected = true; // Assume connected for now\r\n      return true;\r\n    }\r\n    \r\n    if (!this.isOnline) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), 5000);\r\n\r\n      const response = await fetch('http://localhost:5001/api/ping', {\r\n        method: 'GET',\r\n        signal: controller.signal,\r\n        headers: {\r\n          'Cache-Control': 'no-cache'\r\n        }\r\n      });\r\n\r\n      clearTimeout(timeoutId);\r\n\r\n      if (response.ok) {\r\n        await response.json(); // Parse response but don't store unused data\r\n        this.lastHealthCheck = new Date();\r\n        \r\n        if (!this.backendConnected) {\r\n          console.log('✅ Backend connection restored');\r\n          this.backendConnected = true;\r\n          this.reconnectAttempts = 0;\r\n          this.reconnectDelay = 1000; // Reset delay\r\n        }\r\n        \r\n        return true;\r\n      } else {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n    } catch (error) {\r\n      if (this.backendConnected || this.reconnectAttempts === 0) {\r\n        console.log('❌ Backend connection lost:', error.message);\r\n      }\r\n      \r\n      this.backendConnected = false;\r\n      this.scheduleReconnect();\r\n      return false;\r\n    }\r\n  }\r\n\r\n  scheduleReconnect() {\r\n    if (this.reconnectAttempts >= this.maxReconnectAttempts) {\r\n      console.log(`🔄 Max reconnection attempts reached (${this.maxReconnectAttempts}). Will retry when network status changes.`);\r\n      return;\r\n    }\r\n\r\n    this.reconnectAttempts++;\r\n    \r\n    // Exponential backoff with jitter\r\n    const jitter = Math.random() * 1000;\r\n    const delay = Math.min(this.reconnectDelay * Math.pow(2, this.reconnectAttempts - 1) + jitter, 30000);\r\n    \r\n    console.log(`🔄 Scheduling reconnection attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts} in ${Math.round(delay)}ms`);\r\n    \r\n    setTimeout(() => {\r\n      if (this.isOnline) {\r\n        this.checkBackendHealth().then(() => this.notifyListeners());\r\n      }\r\n    }, delay);\r\n  }\r\n\r\n  startHealthCheck() {\r\n    if (this.healthCheckInterval) {\r\n      clearInterval(this.healthCheckInterval);\r\n    }\r\n\r\n    // Initial check\r\n    this.checkBackendHealth().then(() => this.notifyListeners());\r\n\r\n    // Regular health checks every 2 minutes to avoid rate limiting\r\n    this.healthCheckInterval = setInterval(async () => {\r\n      await this.checkBackendHealth();\r\n      this.notifyListeners();\r\n    }, 120000); // 2 minutes\r\n  }\r\n\r\n  stopHealthCheck() {\r\n    if (this.healthCheckInterval) {\r\n      clearInterval(this.healthCheckInterval);\r\n      this.healthCheckInterval = null;\r\n    }\r\n  }\r\n\r\n  getStatus() {\r\n    return {\r\n      isOnline: this.isOnline,\r\n      backendConnected: this.backendConnected,\r\n      reconnectAttempts: this.reconnectAttempts,\r\n      maxReconnectAttempts: this.maxReconnectAttempts,\r\n      lastHealthCheck: this.lastHealthCheck,\r\n      isReconnecting: this.reconnectAttempts > 0 && this.reconnectAttempts < this.maxReconnectAttempts\r\n    };\r\n  }\r\n\r\n  // Force a connection check\r\n  async forceCheck() {\r\n    console.log('🔍 Forcing connection check...');\r\n    await this.checkBackendHealth();\r\n    this.notifyListeners();\r\n  }\r\n\r\n  // Reset reconnection attempts (useful when user manually triggers reconnect)\r\n  resetReconnectAttempts() {\r\n    console.log('🔄 Resetting reconnection attempts');\r\n    this.reconnectAttempts = 0;\r\n    this.reconnectDelay = 1000;\r\n  }\r\n\r\n  destroy() {\r\n    window.removeEventListener('online', this.handleOnline.bind(this));\r\n    window.removeEventListener('offline', this.handleOffline.bind(this));\r\n    this.stopHealthCheck();\r\n    this.listeners = [];\r\n  }\r\n}\r\n\r\n// Singleton instance\r\nlet connectionManagerInstance = null;\r\n\r\nexport const getConnectionManager = () => {\r\n  if (!connectionManagerInstance) {\r\n    connectionManagerInstance = new EnhancedConnectionManager();\r\n  }\r\n  return connectionManagerInstance;\r\n};\r\n\r\n// React hook for connection status\r\nexport const useConnectionStatus = () => {\r\n  const [status, setStatus] = useState(() => getConnectionManager().getStatus());\r\n\r\n  useEffect(() => {\r\n    const manager = getConnectionManager();\r\n    const unsubscribe = manager.addListener(setStatus);\r\n    \r\n    // Get initial status\r\n    setStatus(manager.getStatus());\r\n    \r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const forceCheck = useCallback(() => {\r\n    getConnectionManager().forceCheck();\r\n  }, []);\r\n\r\n  const resetReconnect = useCallback(() => {\r\n    getConnectionManager().resetReconnectAttempts();\r\n    getConnectionManager().forceCheck();\r\n  }, []);\r\n\r\n  return {\r\n    ...status,\r\n    forceCheck,\r\n    resetReconnect\r\n  };\r\n};\r\n\r\nexport default EnhancedConnectionManager;","// Connection Status Component\r\nimport React from 'react';\r\nimport { useConnectionStatus } from '../../services/EnhancedConnectionManager';\r\nimport './ConnectionStatus.css';\r\n\r\nconst ConnectionStatus = ({ compact = false }) => {\r\n  const { \r\n    isOnline, \r\n    backendConnected, \r\n    reconnectAttempts, \r\n    maxReconnectAttempts,\r\n    isReconnecting,\r\n    lastHealthCheck,\r\n    forceCheck,\r\n    resetReconnect \r\n  } = useConnectionStatus();\r\n\r\n  const getStatusColor = () => {\r\n    if (!isOnline) return '#ef4444'; // Red - no internet\r\n    if (!backendConnected && isReconnecting) return '#f59e0b'; // Orange - reconnecting\r\n    if (!backendConnected) return '#ef4444'; // Red - backend down\r\n    return '#10b981'; // Green - all good\r\n  };\r\n\r\n  const getStatusText = () => {\r\n    if (!isOnline) return 'No Internet';\r\n    if (!backendConnected && isReconnecting) return `Reconnecting... (${reconnectAttempts}/${maxReconnectAttempts})`;\r\n    if (!backendConnected) return 'Server Offline';\r\n    return 'Connected';\r\n  };\r\n\r\n  const getStatusIcon = () => {\r\n    if (!isOnline) return '🔌';\r\n    if (!backendConnected && isReconnecting) return '🔄';\r\n    if (!backendConnected) return '❌';\r\n    return '✅';\r\n  };\r\n\r\n  if (compact) {\r\n    return (\r\n      <div className=\"connection-status-compact\" style={{ color: getStatusColor() }}>\r\n        <span className=\"status-icon\">{getStatusIcon()}</span>\r\n        <span className=\"status-text\">{getStatusText()}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"connection-status-card\">\r\n      <div className=\"status-header\">\r\n        <span className=\"status-icon\" style={{ color: getStatusColor() }}>\r\n          {getStatusIcon()}\r\n        </span>\r\n        <span className=\"status-title\">Connection Status</span>\r\n      </div>\r\n      \r\n      <div className=\"status-details\">\r\n        <div className=\"status-item\">\r\n          <span className=\"status-label\">Internet:</span>\r\n          <span className={`status-value ${isOnline ? 'online' : 'offline'}`}>\r\n            {isOnline ? 'Connected' : 'Disconnected'}\r\n          </span>\r\n        </div>\r\n        \r\n        <div className=\"status-item\">\r\n          <span className=\"status-label\">Backend:</span>\r\n          <span className={`status-value ${backendConnected ? 'connected' : 'disconnected'}`}>\r\n            {backendConnected ? 'Connected' : 'Disconnected'}\r\n          </span>\r\n        </div>\r\n        \r\n        {isReconnecting && (\r\n          <div className=\"status-item\">\r\n            <span className=\"status-label\">Reconnecting:</span>\r\n            <span className=\"status-value reconnecting\">\r\n              Attempt {reconnectAttempts}/{maxReconnectAttempts}\r\n            </span>\r\n          </div>\r\n        )}\r\n        \r\n        {lastHealthCheck && (\r\n          <div className=\"status-item\">\r\n            <span className=\"status-label\">Last Check:</span>\r\n            <span className=\"status-value\">\r\n              {lastHealthCheck.toLocaleTimeString()}\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      <div className=\"status-actions\">\r\n        <button \r\n          className=\"status-button primary\"\r\n          onClick={forceCheck}\r\n          disabled={isReconnecting}\r\n        >\r\n          Check Now\r\n        </button>\r\n        \r\n        {reconnectAttempts > 0 && (\r\n          <button \r\n            className=\"status-button secondary\"\r\n            onClick={resetReconnect}\r\n          >\r\n            Reset & Retry\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConnectionStatus;","/**\r\n * Frontend Health Check Service\r\n * Validates frontend dependencies, API connectivity, and system readiness\r\n */\r\n\r\nclass FrontendHealthService {\r\n  constructor() {\r\n    this.checks = new Map();\r\n    this.initialized = false;\r\n    this.startupTime = null;\r\n    this.initializationSteps = [];\r\n  }\r\n\r\n  /**\r\n   * Initialize the frontend with comprehensive checks\r\n   */\r\n  async initialize() {\r\n    this.startupTime = Date.now();\r\n    console.log('🚀 Starting frontend initialization...');\r\n\r\n    try {\r\n      // Step 1: Environment validation\r\n      await this.validateEnvironment();\r\n      \r\n      // Step 2: Dependencies check\r\n      await this.validateDependencies();\r\n      \r\n      // Step 3: Local storage check\r\n      await this.validateLocalStorage();\r\n      \r\n      // Step 4: API connectivity\r\n      await this.validateAPIConnectivity();\r\n      \r\n      // Step 5: Authentication system\r\n      await this.validateAuthentication();\r\n      \r\n      // Step 6: Essential services\r\n      await this.validateEssentialServices();\r\n\r\n      this.initialized = true;\r\n      const initTime = Date.now() - this.startupTime;\r\n      \r\n      console.log(`✅ Frontend initialization completed in ${initTime}ms`);\r\n      console.log('🎯 Application is ready to launch');\r\n      \r\n      return {\r\n        success: true,\r\n        initializationTime: initTime,\r\n        steps: this.initializationSteps\r\n      };\r\n\r\n    } catch (error) {\r\n      console.error('❌ Frontend initialization failed:', error.message);\r\n      console.error('📋 Completed steps:', this.initializationSteps.map(s => s.name).join(', '));\r\n      \r\n      return {\r\n        success: false,\r\n        error: error.message,\r\n        initializationTime: Date.now() - this.startupTime,\r\n        steps: this.initializationSteps\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate browser environment and capabilities\r\n   */\r\n  async validateEnvironment() {\r\n    const stepName = 'Environment Validation';\r\n    console.log(`🌐 ${stepName}...`);\r\n    \r\n    try {\r\n      // Check browser capabilities\r\n      const capabilities = {\r\n        localStorage: typeof Storage !== 'undefined',\r\n        sessionStorage: typeof sessionStorage !== 'undefined',\r\n        fetch: typeof fetch !== 'undefined',\r\n        webRTC: !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia),\r\n        notifications: 'Notification' in window,\r\n        serviceWorker: 'serviceWorker' in navigator,\r\n        webSocket: typeof WebSocket !== 'undefined'\r\n      };\r\n\r\n      const missingCapabilities = Object.entries(capabilities)\r\n        .filter(([, supported]) => !supported)\r\n        .map(([name]) => name);\r\n\r\n      if (missingCapabilities.length > 0) {\r\n        console.warn('⚠️ Some browser capabilities are missing:', missingCapabilities.join(', '));\r\n      }\r\n\r\n      // Check viewport and screen information\r\n      const viewport = {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n        pixelRatio: window.devicePixelRatio || 1,\r\n        isMobile: window.innerWidth <= 768\r\n      };\r\n\r\n      this.addStep(stepName, 'success', \r\n        `Browser ready, viewport: ${viewport.width}x${viewport.height}, mobile: ${viewport.isMobile}`);\r\n    } catch (error) {\r\n      this.addStep(stepName, 'failed', error.message);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate React and essential dependencies\r\n   */\r\n  async validateDependencies() {\r\n    const stepName = 'Dependencies Check';\r\n    console.log(`📦 ${stepName}...`);\r\n    \r\n    try {\r\n      // Check React\r\n      if (typeof window.React === 'undefined' && typeof require === 'undefined') {\r\n        console.warn('⚠️ React not detected in global scope, but this is normal in production builds');\r\n      }\r\n\r\n      // Check essential globals and APIs\r\n      const essentials = {\r\n        'JSON': typeof JSON !== 'undefined',\r\n        'Promise': typeof Promise !== 'undefined',\r\n        'Map': typeof Map !== 'undefined',\r\n        'Set': typeof Set !== 'undefined',\r\n        'Array.from': typeof Array.from === 'function',\r\n        'Object.assign': typeof Object.assign === 'function'\r\n      };\r\n\r\n      const missing = Object.entries(essentials)\r\n        .filter(([, available]) => !available)\r\n        .map(([name]) => name);\r\n\r\n      if (missing.length > 0) {\r\n        throw new Error(`Missing essential JavaScript features: ${missing.join(', ')}`);\r\n      }\r\n\r\n      this.addStep(stepName, 'success', 'All essential dependencies validated');\r\n    } catch (error) {\r\n      this.addStep(stepName, 'failed', error.message);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate local storage and session management\r\n   */\r\n  async validateLocalStorage() {\r\n    const stepName = 'Local Storage Check';\r\n    console.log(`💾 ${stepName}...`);\r\n    \r\n    try {\r\n      // Test localStorage\r\n      const testKey = 'healthcheck_test';\r\n      const testValue = 'test_value_' + Date.now();\r\n      \r\n      localStorage.setItem(testKey, testValue);\r\n      const retrieved = localStorage.getItem(testKey);\r\n      localStorage.removeItem(testKey);\r\n      \r\n      if (retrieved !== testValue) {\r\n        throw new Error('localStorage read/write test failed');\r\n      }\r\n\r\n      // Test sessionStorage\r\n      sessionStorage.setItem(testKey, testValue);\r\n      const sessionRetrieved = sessionStorage.getItem(testKey);\r\n      sessionStorage.removeItem(testKey);\r\n      \r\n      if (sessionRetrieved !== testValue) {\r\n        throw new Error('sessionStorage read/write test failed');\r\n      }\r\n\r\n      // Check for existing user session\r\n      const existingSession = localStorage.getItem('currentUser');\r\n      const hasSession = existingSession !== null;\r\n\r\n      this.addStep(stepName, 'success', \r\n        `Storage validated, existing session: ${hasSession ? 'found' : 'none'}`);\r\n    } catch (error) {\r\n      this.addStep(stepName, 'failed', error.message);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate API connectivity and backend health\r\n   */\r\n  async validateAPIConnectivity() {\r\n    const stepName = 'API Connectivity';\r\n    console.log(`🔗 ${stepName}...`);\r\n    \r\n    try {\r\n      const backendUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:5001';\r\n      \r\n      // Test basic connectivity with timeout\r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), 3000); // 3 second timeout\r\n      \r\n      const response = await fetch(`${backendUrl}/api/health`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        signal: controller.signal\r\n      });\r\n      \r\n      clearTimeout(timeoutId);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`API health check failed with status: ${response.status}`);\r\n      }\r\n\r\n      const healthData = await response.json();\r\n      \r\n      // Check startup status\r\n      try {\r\n        const startupResponse = await fetch(`${backendUrl}/api/startup`);\r\n        if (startupResponse.ok) {\r\n          const startupData = await startupResponse.json();\r\n          if (!startupData.initialized) {\r\n            console.warn('⚠️ Backend is still initializing, some features may be limited');\r\n          }\r\n        }\r\n      } catch (startupError) {\r\n        console.warn('⚠️ Could not check backend startup status:', startupError.message);\r\n      }\r\n\r\n      this.addStep(stepName, 'success', \r\n        `API connected to ${backendUrl}, health: ${healthData.status || 'ok'}`);\r\n    } catch (error) {\r\n      // Don't fail completely on API connectivity issues\r\n      // Only log non-connection errors to reduce console noise\r\n      if (error.name !== 'AbortError' && !error.message.includes('Failed to fetch')) {\r\n        console.warn('⚠️ API connectivity issues detected:', error.message);\r\n      }\r\n      this.addStep(stepName, 'warning', \r\n        `Backend offline - running in standalone mode`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate authentication system\r\n   */\r\n  async validateAuthentication() {\r\n    const stepName = 'Authentication System';\r\n    console.log(`🔐 ${stepName}...`);\r\n    \r\n    try {\r\n      // Check for stored authentication token\r\n      const token = localStorage.getItem('authToken');\r\n      const currentUser = localStorage.getItem('currentUser');\r\n      \r\n      if (token && currentUser) {\r\n        try {\r\n          // Validate token with backend\r\n          const backendUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:5001';\r\n          const response = await fetch(`${backendUrl}/api/auth/verify`, {\r\n            method: 'GET',\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            },\r\n            signal: AbortSignal.timeout ? AbortSignal.timeout(3000) : undefined\r\n          });\r\n\r\n          if (response.ok) {\r\n            this.addStep(stepName, 'success', 'User authenticated with valid token');\r\n          } else {\r\n            // Token invalid, clear it\r\n            localStorage.removeItem('authToken');\r\n            localStorage.removeItem('currentUser');\r\n            this.addStep(stepName, 'warning', 'Invalid token cleared, user needs to login');\r\n          }\r\n        } catch (authError) {\r\n          // Network error, keep token for offline use\r\n          this.addStep(stepName, 'warning', 'Cannot verify token (offline), keeping for offline use');\r\n        }\r\n      } else {\r\n        this.addStep(stepName, 'success', 'No existing session, ready for login');\r\n      }\r\n    } catch (error) {\r\n      this.addStep(stepName, 'failed', error.message);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate essential services (WebRTC for voice calls, etc.)\r\n   */\r\n  async validateEssentialServices() {\r\n    const stepName = 'Essential Services';\r\n    console.log(`🛠️ ${stepName}...`);\r\n    \r\n    try {\r\n      const services = {\r\n        voiceCalls: false,\r\n        fileUploads: false,\r\n        notifications: false\r\n      };\r\n\r\n      // Check WebRTC for voice calls\r\n      if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n        try {\r\n          // Don't actually request permission, just check if the API is available\r\n          services.voiceCalls = true;\r\n        } catch (error) {\r\n          console.warn('⚠️ Voice call capabilities limited:', error.message);\r\n        }\r\n      }\r\n\r\n      // Check File API for uploads\r\n      if (window.File && window.FileReader && window.FileList && window.Blob) {\r\n        services.fileUploads = true;\r\n      }\r\n\r\n      // Check Notification API\r\n      if ('Notification' in window) {\r\n        services.notifications = true;\r\n      }\r\n\r\n      const enabledServices = Object.entries(services)\r\n        .filter(([, enabled]) => enabled)\r\n        .map(([name]) => name);\r\n\r\n      this.addStep(stepName, 'success', \r\n        `Services ready: ${enabledServices.join(', ') || 'basic functionality only'}`);\r\n    } catch (error) {\r\n      this.addStep(stepName, 'failed', error.message);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add a step to the initialization log\r\n   */\r\n  addStep(name, status, message) {\r\n    const step = {\r\n      name,\r\n      status,\r\n      message,\r\n      timestamp: new Date().toISOString(),\r\n      duration: this.startupTime ? Date.now() - this.startupTime : 0\r\n    };\r\n    \r\n    this.initializationSteps.push(step);\r\n    \r\n    const emoji = status === 'success' ? '✅' : status === 'warning' ? '⚠️' : '❌';\r\n    console.log(`  ${emoji} ${name}: ${message}`);\r\n  }\r\n\r\n  /**\r\n   * Check if the service is initialized\r\n   */\r\n  isInitialized() {\r\n    return this.initialized;\r\n  }\r\n\r\n  /**\r\n   * Get initialization status\r\n   */\r\n  getInitializationStatus() {\r\n    return {\r\n      initialized: this.initialized,\r\n      steps: this.initializationSteps,\r\n      startupTime: this.startupTime,\r\n      totalDuration: this.startupTime ? Date.now() - this.startupTime : 0\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Run a quick health check (after initialization)\r\n   */\r\n  async runHealthCheck() {\r\n    if (!this.initialized) {\r\n      throw new Error('Service not initialized. Call initialize() first.');\r\n    }\r\n\r\n    const checks = {\r\n      localStorage: false,\r\n      apiConnectivity: false,\r\n      authentication: false\r\n    };\r\n\r\n    try {\r\n      // Quick localStorage test\r\n      localStorage.setItem('healthcheck', Date.now().toString());\r\n      localStorage.removeItem('healthcheck');\r\n      checks.localStorage = true;\r\n    } catch (error) {\r\n      console.warn('localStorage health check failed:', error.message);\r\n    }\r\n\r\n    try {\r\n      // Quick API ping\r\n      const backendUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:5001';\r\n      const response = await fetch(`${backendUrl}/api/health`, {\r\n        method: 'GET',\r\n        signal: AbortSignal.timeout ? AbortSignal.timeout(2000) : undefined\r\n      });\r\n      checks.apiConnectivity = response.ok;\r\n    } catch (error) {\r\n      console.warn('API health check failed:', error.message);\r\n    }\r\n\r\n    try {\r\n      // Check authentication state\r\n      const token = localStorage.getItem('authToken');\r\n      checks.authentication = !!token;\r\n    } catch (error) {\r\n      console.warn('Authentication health check failed:', error.message);\r\n    }\r\n\r\n    return {\r\n      timestamp: new Date().toISOString(),\r\n      overall: Object.values(checks).every(check => check) ? 'healthy' : 'degraded',\r\n      checks\r\n    };\r\n  }\r\n}\r\n\r\nconst frontendHealthService = new FrontendHealthService();\r\nexport default frontendHealthService;","/**\r\n * PWA Shortcuts and Deep Linking Service\r\n * Handles app shortcuts, share targets, and deep linking for enhanced smartphone integration\r\n */\r\n\r\nclass PWAShortcutService {\r\n  constructor() {\r\n    this.shortcuts = {\r\n      'new-chat': this.handleNewChat.bind(this),\r\n      'voice-call': this.handleVoiceCall.bind(this),\r\n      'video-call': this.handleVideoCall.bind(this),\r\n      'share-file': this.handleShareFile.bind(this),\r\n      'share': this.handleShareTarget.bind(this)\r\n    };\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    // Handle URL parameters for shortcuts and deep links\r\n    this.handleUrlParameters();\r\n    \r\n    // Listen for navigation events\r\n    window.addEventListener('popstate', () => {\r\n      this.handleUrlParameters();\r\n    });\r\n    \r\n    // Handle file sharing from other apps\r\n    this.setupFileHandling();\r\n    \r\n    // Handle share target\r\n    this.setupShareTarget();\r\n    \r\n    console.log('✅ PWA Shortcut Service initialized');\r\n  }\r\n\r\n  handleUrlParameters() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const action = urlParams.get('action');\r\n    \r\n    if (action && this.shortcuts[action]) {\r\n      console.log(`🚀 Handling PWA shortcut: ${action}`);\r\n      this.shortcuts[action](urlParams);\r\n    }\r\n  }\r\n\r\n  // Handle \"New Chat\" shortcut\r\n  handleNewChat(urlParams) {\r\n    // Trigger new chat creation\r\n    this.dispatchCustomEvent('pwa-new-chat', {\r\n      source: 'shortcut',\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  // Handle \"Voice Call\" shortcut\r\n  handleVoiceCall(urlParams) {\r\n    const contact = urlParams.get('contact');\r\n    \r\n    this.dispatchCustomEvent('pwa-voice-call', {\r\n      source: 'shortcut',\r\n      contact: contact,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  // Handle \"Video Call\" shortcut\r\n  handleVideoCall(urlParams) {\r\n    const contact = urlParams.get('contact');\r\n    \r\n    this.dispatchCustomEvent('pwa-video-call', {\r\n      source: 'shortcut',\r\n      contact: contact,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  // Handle \"Share File\" shortcut\r\n  handleShareFile(urlParams) {\r\n    this.dispatchCustomEvent('pwa-share-file', {\r\n      source: 'shortcut',\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  // Handle share target from other apps\r\n  async handleShareTarget(urlParams) {\r\n    try {\r\n      // Extract shared data\r\n      const title = urlParams.get('title') || '';\r\n      const text = urlParams.get('text') || '';\r\n      const url = urlParams.get('url') || '';\r\n      \r\n      // Handle file sharing\r\n      if (urlParams.get('file')) {\r\n        const fileData = urlParams.get('file');\r\n        this.handleSharedFiles([fileData]);\r\n        return;\r\n      }\r\n      \r\n      // Handle text/URL sharing\r\n      const sharedData = {\r\n        title,\r\n        text,\r\n        url,\r\n        source: 'share-target',\r\n        timestamp: Date.now()\r\n      };\r\n      \r\n      this.dispatchCustomEvent('pwa-share-received', sharedData);\r\n      \r\n      console.log('📤 Received shared content:', sharedData);\r\n    } catch (error) {\r\n      console.error('❌ Failed to handle share target:', error);\r\n    }\r\n  }\r\n\r\n  // Setup file handling for PWA file handlers\r\n  setupFileHandling() {\r\n    // Listen for file drops and opens\r\n    window.addEventListener('DOMContentLoaded', () => {\r\n      if ('launchQueue' in window) {\r\n        window.launchQueue.setConsumer((launchParams) => {\r\n          if (launchParams.files && launchParams.files.length) {\r\n            this.handleSharedFiles(launchParams.files);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  // Setup share target handling\r\n  setupShareTarget() {\r\n    // Handle POST requests from share target\r\n    if (window.location.pathname === '/' && window.location.search.includes('action=share')) {\r\n      // Parse form data if this was a POST request\r\n      this.handleShareTarget(new URLSearchParams(window.location.search));\r\n    }\r\n  }\r\n\r\n  // Handle shared files\r\n  async handleSharedFiles(files) {\r\n    try {\r\n      const processedFiles = [];\r\n      \r\n      for (const file of files) {\r\n        if (file instanceof File) {\r\n          processedFiles.push({\r\n            name: file.name,\r\n            size: file.size,\r\n            type: file.type,\r\n            lastModified: file.lastModified,\r\n            file: file\r\n          });\r\n        } else if (window.FileSystemFileHandle && file instanceof window.FileSystemFileHandle) {\r\n          const fileData = await file.getFile();\r\n          processedFiles.push({\r\n            name: fileData.name,\r\n            size: fileData.size,\r\n            type: fileData.type,\r\n            lastModified: fileData.lastModified,\r\n            file: fileData,\r\n            handle: file\r\n          });\r\n        }\r\n      }\r\n      \r\n      this.dispatchCustomEvent('pwa-files-shared', {\r\n        files: processedFiles,\r\n        source: 'file-handler',\r\n        timestamp: Date.now()\r\n      });\r\n      \r\n      console.log('📁 Received shared files:', processedFiles);\r\n    } catch (error) {\r\n      console.error('❌ Failed to handle shared files:', error);\r\n    }\r\n  }\r\n\r\n  // Dispatch custom events for the app to handle\r\n  dispatchCustomEvent(eventName, data) {\r\n    const event = new CustomEvent(eventName, {\r\n      detail: data,\r\n      bubbles: true,\r\n      cancelable: true\r\n    });\r\n    \r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  // Add dynamic shortcut (for frequent contacts)\r\n  addDynamicShortcut(id, name, url, iconUrl) {\r\n    if ('shortcuts' in navigator) {\r\n      navigator.shortcuts.add({\r\n        id: id,\r\n        name: name,\r\n        shortName: name.substring(0, 10),\r\n        description: `Quick access to ${name}`,\r\n        url: url,\r\n        icons: [\r\n          {\r\n            src: iconUrl || '/logo192.png',\r\n            sizes: '192x192',\r\n            type: 'image/png'\r\n          }\r\n        ]\r\n      }).then(() => {\r\n        console.log(`✅ Added dynamic shortcut: ${name}`);\r\n      }).catch((error) => {\r\n        console.error('❌ Failed to add dynamic shortcut:', error);\r\n      });\r\n    }\r\n  }\r\n\r\n  // Update app shortcuts based on user behavior\r\n  updateShortcuts(frequentContacts) {\r\n    if (!Array.isArray(frequentContacts) || !('shortcuts' in navigator)) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      // Clear existing dynamic shortcuts\r\n      navigator.shortcuts.clear();\r\n      \r\n      // Add shortcuts for frequent contacts\r\n      frequentContacts.slice(0, 4).forEach((contact, index) => {\r\n        this.addDynamicShortcut(\r\n          `contact-${contact.id}`,\r\n          `Chat with ${contact.name}`,\r\n          `/?action=new-chat&contact=${contact.id}`,\r\n          contact.avatar\r\n        );\r\n      });\r\n    } catch (error) {\r\n      console.error('❌ Failed to update shortcuts:', error);\r\n    }\r\n  }\r\n\r\n  // Handle protocol URLs (web+quibish://)\r\n  handleProtocolUrl(url) {\r\n    try {\r\n      const protocolUrl = new URL(url);\r\n      const action = protocolUrl.searchParams.get('action');\r\n      const data = Object.fromEntries(protocolUrl.searchParams);\r\n      \r\n      this.dispatchCustomEvent('pwa-protocol-handled', {\r\n        action,\r\n        data,\r\n        source: 'protocol',\r\n        timestamp: Date.now()\r\n      });\r\n      \r\n      console.log('🔗 Handled protocol URL:', { action, data });\r\n    } catch (error) {\r\n      console.error('❌ Failed to handle protocol URL:', error);\r\n    }\r\n  }\r\n\r\n  // Install app prompt handling\r\n  async promptInstall() {\r\n    if (window.deferredPrompt) {\r\n      try {\r\n        window.deferredPrompt.prompt();\r\n        const { outcome } = await window.deferredPrompt.userChoice;\r\n        \r\n        console.log(`📱 PWA install prompt outcome: ${outcome}`);\r\n        \r\n        if (outcome === 'accepted') {\r\n          this.dispatchCustomEvent('pwa-installed', {\r\n            source: 'prompt',\r\n            timestamp: Date.now()\r\n          });\r\n        }\r\n        \r\n        window.deferredPrompt = null;\r\n        return outcome === 'accepted';\r\n      } catch (error) {\r\n        console.error('❌ Failed to prompt install:', error);\r\n        return false;\r\n      }\r\n    }\r\n    \r\n    return false;\r\n  }\r\n\r\n  // Check if app is installable\r\n  isInstallable() {\r\n    return !!window.deferredPrompt;\r\n  }\r\n\r\n  // Check if app is installed\r\n  isInstalled() {\r\n    return window.matchMedia('(display-mode: standalone)').matches ||\r\n           window.navigator.standalone === true;\r\n  }\r\n\r\n  // Get app capabilities\r\n  getCapabilities() {\r\n    return {\r\n      serviceWorker: 'serviceWorker' in navigator,\r\n      pushNotifications: 'PushManager' in window,\r\n      fileSystemAccess: 'showOpenFilePicker' in window,\r\n      shareTarget: 'share' in navigator,\r\n      shortcuts: 'shortcuts' in navigator,\r\n      protocolHandlers: 'registerProtocolHandler' in navigator,\r\n      badging: 'setAppBadge' in navigator,\r\n      webShare: 'share' in navigator,\r\n      contactPicker: 'contacts' in navigator,\r\n      installed: this.isInstalled(),\r\n      installable: this.isInstallable()\r\n    };\r\n  }\r\n}\r\n\r\n// Create global instance\r\nconst pwaShortcutService = new PWAShortcutService();\r\n\r\n// Export utility functions\r\nexport const pwaUtils = {\r\n  // Handle app shortcuts programmatically\r\n  triggerShortcut: (action, params = {}) => {\r\n    const url = new URL(window.location.origin);\r\n    url.searchParams.set('action', action);\r\n    \r\n    Object.entries(params).forEach(([key, value]) => {\r\n      url.searchParams.set(key, value);\r\n    });\r\n    \r\n    window.history.pushState({}, '', url.toString());\r\n    pwaShortcutService.handleUrlParameters();\r\n  },\r\n  \r\n  // Share content using Web Share API\r\n  shareContent: async (data) => {\r\n    if ('share' in navigator) {\r\n      try {\r\n        await navigator.share(data);\r\n        return true;\r\n      } catch (error) {\r\n        console.error('❌ Failed to share:', error);\r\n        return false;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  \r\n  // Add app badge\r\n  setBadge: (count) => {\r\n    if ('setAppBadge' in navigator) {\r\n      navigator.setAppBadge(count).catch(console.error);\r\n    }\r\n  },\r\n  \r\n  // Clear app badge\r\n  clearBadge: () => {\r\n    if ('clearAppBadge' in navigator) {\r\n      navigator.clearAppBadge().catch(console.error);\r\n    }\r\n  }\r\n};\r\n\r\nexport default pwaShortcutService;","/**\r\n * Memory Management Service for Mobile Performance\r\n * Handles memory optimization, garbage collection hints, and low-memory scenarios\r\n */\r\n\r\nclass MemoryManagementService {\r\n  constructor() {\r\n    this.memoryThresholds = {\r\n      critical: 50 * 1024 * 1024,    // 50MB\r\n      warning: 100 * 1024 * 1024,   // 100MB\r\n      optimal: 200 * 1024 * 1024    // 200MB\r\n    };\r\n    \r\n    this.memoryUsage = {\r\n      jsHeapSizeLimit: 0,\r\n      totalJSHeapSize: 0,\r\n      usedJSHeapSize: 0\r\n    };\r\n    \r\n    this.memoryObserver = null;\r\n    this.monitoringInterval = null;\r\n    this.lastCleanup = Date.now();\r\n    this.cleanupInterval = 5 * 60 * 1000; // 5 minutes\r\n    \r\n    this.cacheManagers = new Map();\r\n    this.eventListeners = new Map();\r\n    \r\n    this.init();\r\n  }\r\n\r\n  /**\r\n   * Initialize memory management service\r\n   */\r\n  init() {\r\n    this.setupMemoryMonitoring();\r\n    this.setupMemoryObserver();\r\n    this.setupLowMemoryHandling();\r\n    this.setupPeriodicCleanup();\r\n    \r\n    console.log('🧠 Memory Management Service initialized');\r\n    this.logMemoryStatus();\r\n  }\r\n\r\n  /**\r\n   * Setup memory monitoring\r\n   */\r\n  setupMemoryMonitoring() {\r\n    if (!this.isPerformanceMemorySupported()) {\r\n      console.warn('Performance memory API not supported');\r\n      return;\r\n    }\r\n\r\n    // Monitor memory usage every 30 seconds\r\n    this.monitoringInterval = setInterval(() => {\r\n      this.updateMemoryUsage();\r\n      this.checkMemoryThresholds();\r\n    }, 30000);\r\n\r\n    // Initial update\r\n    this.updateMemoryUsage();\r\n  }\r\n\r\n  /**\r\n   * Setup memory pressure observer\r\n   */\r\n  setupMemoryObserver() {\r\n    if ('memory' in performance && 'addEventListener' in performance.memory) {\r\n      try {\r\n        this.memoryObserver = new PerformanceObserver((list) => {\r\n          const entries = list.getEntries();\r\n          entries.forEach(entry => {\r\n            if (entry.entryType === 'memory') {\r\n              this.handleMemoryPressure(entry);\r\n            }\r\n          });\r\n        });\r\n        \r\n        this.memoryObserver.observe({ entryTypes: ['memory'] });\r\n      } catch (error) {\r\n        console.warn('Memory observer not supported:', error);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Setup low memory event handling\r\n   */\r\n  setupLowMemoryHandling() {\r\n    // Listen for memory pressure events (where available)\r\n    if ('onmemorywarning' in window) {\r\n      window.addEventListener('memorywarning', () => {\r\n        this.handleLowMemory();\r\n      });\r\n    }\r\n\r\n    // Listen for page visibility changes to trigger cleanup\r\n    document.addEventListener('visibilitychange', () => {\r\n      if (document.hidden) {\r\n        this.performBackgroundCleanup();\r\n      }\r\n    });\r\n\r\n    // Listen for beforeunload to cleanup\r\n    window.addEventListener('beforeunload', () => {\r\n      this.performFinalCleanup();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Setup periodic cleanup\r\n   */\r\n  setupPeriodicCleanup() {\r\n    setInterval(() => {\r\n      const now = Date.now();\r\n      if (now - this.lastCleanup > this.cleanupInterval) {\r\n        this.performPeriodicCleanup();\r\n        this.lastCleanup = now;\r\n      }\r\n    }, 60000); // Check every minute\r\n  }\r\n\r\n  /**\r\n   * Update memory usage information\r\n   */\r\n  updateMemoryUsage() {\r\n    if (!this.isPerformanceMemorySupported()) return;\r\n\r\n    try {\r\n      const memory = performance.memory;\r\n      this.memoryUsage = {\r\n        jsHeapSizeLimit: memory.jsHeapSizeLimit,\r\n        totalJSHeapSize: memory.totalJSHeapSize,\r\n        usedJSHeapSize: memory.usedJSHeapSize\r\n      };\r\n    } catch (error) {\r\n      console.warn('Failed to update memory usage:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check memory thresholds and take action\r\n   */\r\n  checkMemoryThresholds() {\r\n    const usedMemory = this.memoryUsage.usedJSHeapSize;\r\n    \r\n    if (usedMemory > this.memoryThresholds.critical) {\r\n      this.handleCriticalMemory();\r\n    } else if (usedMemory > this.memoryThresholds.warning) {\r\n      this.handleMemoryWarning();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle memory pressure events\r\n   */\r\n  handleMemoryPressure(entry) {\r\n    console.log('🚨 Memory pressure detected:', entry);\r\n    \r\n    // Perform aggressive cleanup\r\n    this.performAggressiveCleanup();\r\n    \r\n    // Notify components\r\n    this.notifyMemoryPressure(entry.level || 'high');\r\n  }\r\n\r\n  /**\r\n   * Handle low memory situations\r\n   */\r\n  handleLowMemory() {\r\n    console.log('🚨 Low memory warning');\r\n    \r\n    // Clear caches\r\n    this.clearAllCaches();\r\n    \r\n    // Remove event listeners for non-critical features\r\n    this.removeNonCriticalListeners();\r\n    \r\n    // Force garbage collection if available\r\n    this.forceGarbageCollection();\r\n    \r\n    // Notify components to reduce memory usage\r\n    this.notifyLowMemory();\r\n  }\r\n\r\n  /**\r\n   * Handle critical memory situations\r\n   */\r\n  handleCriticalMemory() {\r\n    console.log('🔴 Critical memory usage detected');\r\n    \r\n    this.handleLowMemory();\r\n    \r\n    // Additional critical measures\r\n    this.reduceFunctionality();\r\n    this.clearLargeAssets();\r\n  }\r\n\r\n  /**\r\n   * Handle memory warning situations\r\n   */\r\n  handleMemoryWarning() {\r\n    console.log('🟡 Memory warning detected');\r\n    \r\n    // Gentle cleanup\r\n    this.performGentleCleanup();\r\n    \r\n    // Optimize ongoing operations\r\n    this.optimizeOperations();\r\n  }\r\n\r\n  /**\r\n   * Perform periodic cleanup\r\n   */\r\n  performPeriodicCleanup() {\r\n    console.log('🧹 Performing periodic memory cleanup');\r\n    \r\n    // Clean up expired cache entries\r\n    this.cleanupExpiredCaches();\r\n    \r\n    // Remove unused event listeners\r\n    this.cleanupEventListeners();\r\n    \r\n    // Clear old performance entries\r\n    this.clearPerformanceEntries();\r\n    \r\n    // Cleanup component references\r\n    this.cleanupComponentReferences();\r\n  }\r\n\r\n  /**\r\n   * Perform background cleanup when page is hidden\r\n   */\r\n  performBackgroundCleanup() {\r\n    console.log('🌙 Performing background cleanup');\r\n    \r\n    // More aggressive cleanup when page is not visible\r\n    this.clearNonEssentialCaches();\r\n    this.pauseNonCriticalOperations();\r\n    this.cleanupDOMReferences();\r\n  }\r\n\r\n  /**\r\n   * Perform final cleanup before page unload\r\n   */\r\n  performFinalCleanup() {\r\n    console.log('👋 Performing final cleanup');\r\n    \r\n    // Clear all intervals and timeouts\r\n    this.clearAllTimers();\r\n    \r\n    // Remove all event listeners\r\n    this.removeAllEventListeners();\r\n    \r\n    // Clear all caches\r\n    this.clearAllCaches();\r\n    \r\n    // Disconnect observers\r\n    this.disconnectObservers();\r\n  }\r\n\r\n  /**\r\n   * Perform gentle cleanup\r\n   */\r\n  performGentleCleanup() {\r\n    // Clean up LRU caches\r\n    this.cleanupLRUCaches();\r\n    \r\n    // Remove old temporary data\r\n    this.clearTemporaryData();\r\n    \r\n    // Optimize image caches\r\n    this.optimizeImageCaches();\r\n  }\r\n\r\n  /**\r\n   * Perform aggressive cleanup\r\n   */\r\n  performAggressiveCleanup() {\r\n    this.performGentleCleanup();\r\n    \r\n    // Clear component caches\r\n    this.clearComponentCaches();\r\n    \r\n    // Remove cached DOM references\r\n    this.clearDOMReferences();\r\n    \r\n    // Clear service worker caches if needed\r\n    this.clearServiceWorkerCaches();\r\n  }\r\n\r\n  /**\r\n   * Register cache manager\r\n   */\r\n  registerCacheManager(name, manager) {\r\n    this.cacheManagers.set(name, manager);\r\n  }\r\n\r\n  /**\r\n   * Clean up expired caches\r\n   */\r\n  cleanupExpiredCaches() {\r\n    this.cacheManagers.forEach((manager, name) => {\r\n      try {\r\n        if (manager.cleanup) {\r\n          manager.cleanup();\r\n        }\r\n      } catch (error) {\r\n        console.warn(`Failed to cleanup cache ${name}:`, error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Clear all caches\r\n   */\r\n  clearAllCaches() {\r\n    this.cacheManagers.forEach((manager, name) => {\r\n      try {\r\n        if (manager.clear) {\r\n          manager.clear();\r\n        }\r\n      } catch (error) {\r\n        console.warn(`Failed to clear cache ${name}:`, error);\r\n      }\r\n    });\r\n\r\n    // Clear browser caches\r\n    if ('caches' in window) {\r\n      caches.keys().then(cacheNames => {\r\n        cacheNames.forEach(cacheName => {\r\n          if (cacheName.includes('temp') || cacheName.includes('dynamic')) {\r\n            caches.delete(cacheName);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear large assets\r\n   */\r\n  clearLargeAssets() {\r\n    // Remove large images from DOM\r\n    const images = document.querySelectorAll('img');\r\n    images.forEach(img => {\r\n      if (img.naturalWidth > 1920 || img.naturalHeight > 1080) {\r\n        img.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMSIgaGVpZ2h0PSIxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjwvc3ZnPg==';\r\n      }\r\n    });\r\n\r\n    // Clear video elements\r\n    const videos = document.querySelectorAll('video');\r\n    videos.forEach(video => {\r\n      if (!video.paused) {\r\n        video.pause();\r\n      }\r\n      video.removeAttribute('src');\r\n      video.load();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Reduce functionality in critical memory situations\r\n   */\r\n  reduceFunctionality() {\r\n    // Disable animations\r\n    document.documentElement.style.setProperty('--animation-duration', '0s');\r\n    \r\n    // Disable auto-refresh\r\n    this.notifyComponents('disable-auto-refresh');\r\n    \r\n    // Reduce update frequency\r\n    this.notifyComponents('reduce-update-frequency');\r\n  }\r\n\r\n  /**\r\n   * Force garbage collection if available\r\n   */\r\n  forceGarbageCollection() {\r\n    if (window.gc) {\r\n      try {\r\n        window.gc();\r\n        console.log('♻️ Forced garbage collection');\r\n      } catch (error) {\r\n        console.warn('Failed to force garbage collection:', error);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clean up event listeners\r\n   */\r\n  cleanupEventListeners() {\r\n    this.eventListeners.forEach((listeners, element) => {\r\n      listeners.forEach(({ event, handler, options }) => {\r\n        try {\r\n          element.removeEventListener(event, handler, options);\r\n        } catch (error) {\r\n          console.warn('Failed to remove event listener:', error);\r\n        }\r\n      });\r\n    });\r\n    \r\n    this.eventListeners.clear();\r\n  }\r\n\r\n  /**\r\n   * Remove non-critical event listeners\r\n   */\r\n  removeNonCriticalListeners() {\r\n    // Remove hover effects\r\n    const elements = document.querySelectorAll('[data-hover]');\r\n    elements.forEach(element => {\r\n      element.removeAttribute('data-hover');\r\n    });\r\n\r\n    // Remove tooltip listeners\r\n    this.notifyComponents('disable-tooltips');\r\n  }\r\n\r\n  /**\r\n   * Clear performance entries\r\n   */\r\n  clearPerformanceEntries() {\r\n    if ('performance' in window && 'clearMarks' in performance) {\r\n      performance.clearMarks();\r\n      performance.clearMeasures();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Optimize ongoing operations\r\n   */\r\n  optimizeOperations() {\r\n    // Reduce animation frame rate\r\n    this.notifyComponents('reduce-animation-rate');\r\n    \r\n    // Increase debounce delays\r\n    this.notifyComponents('increase-debounce');\r\n    \r\n    // Reduce polling frequency\r\n    this.notifyComponents('reduce-polling');\r\n  }\r\n\r\n  /**\r\n   * Notify components of memory events\r\n   */\r\n  notifyComponents(event, data = {}) {\r\n    const customEvent = new CustomEvent(`memory-${event}`, {\r\n      detail: { ...data, memoryUsage: this.memoryUsage }\r\n    });\r\n    document.dispatchEvent(customEvent);\r\n  }\r\n\r\n  /**\r\n   * Notify memory pressure\r\n   */\r\n  notifyMemoryPressure(level) {\r\n    this.notifyComponents('pressure', { level });\r\n  }\r\n\r\n  /**\r\n   * Notify low memory\r\n   */\r\n  notifyLowMemory() {\r\n    this.notifyComponents('low', {\r\n      usedMemory: this.memoryUsage.usedJSHeapSize,\r\n      threshold: this.memoryThresholds.warning\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get memory usage percentage\r\n   */\r\n  getMemoryUsagePercentage() {\r\n    const { usedJSHeapSize, jsHeapSizeLimit } = this.memoryUsage;\r\n    return jsHeapSizeLimit > 0 ? (usedJSHeapSize / jsHeapSizeLimit) * 100 : 0;\r\n  }\r\n\r\n  /**\r\n   * Get memory status\r\n   */\r\n  getMemoryStatus() {\r\n    const usedMemory = this.memoryUsage.usedJSHeapSize;\r\n    \r\n    if (usedMemory > this.memoryThresholds.critical) {\r\n      return 'critical';\r\n    } else if (usedMemory > this.memoryThresholds.warning) {\r\n      return 'warning';\r\n    } else {\r\n      return 'optimal';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Log memory status\r\n   */\r\n  logMemoryStatus() {\r\n    if (!this.isPerformanceMemorySupported()) return;\r\n\r\n    const { usedJSHeapSize, jsHeapSizeLimit } = this.memoryUsage;\r\n    const usedMB = (usedJSHeapSize / 1024 / 1024).toFixed(2);\r\n    const limitMB = (jsHeapSizeLimit / 1024 / 1024).toFixed(2);\r\n    const percentage = this.getMemoryUsagePercentage().toFixed(1);\r\n    \r\n    console.log(`💾 Memory: ${usedMB}MB / ${limitMB}MB (${percentage}%)`);\r\n  }\r\n\r\n  /**\r\n   * Check if performance.memory is supported\r\n   */\r\n  isPerformanceMemorySupported() {\r\n    return 'performance' in window && 'memory' in performance;\r\n  }\r\n\r\n  /**\r\n   * Get memory metrics for monitoring\r\n   */\r\n  getMemoryMetrics() {\r\n    return {\r\n      ...this.memoryUsage,\r\n      usagePercentage: this.getMemoryUsagePercentage(),\r\n      status: this.getMemoryStatus(),\r\n      thresholds: this.memoryThresholds,\r\n      isSupported: this.isPerformanceMemorySupported()\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Set memory thresholds\r\n   */\r\n  setMemoryThresholds(thresholds) {\r\n    this.memoryThresholds = { ...this.memoryThresholds, ...thresholds };\r\n  }\r\n\r\n  /**\r\n   * Add memory pressure listener\r\n   */\r\n  addMemoryPressureListener(callback) {\r\n    document.addEventListener('memory-pressure', callback);\r\n    return () => document.removeEventListener('memory-pressure', callback);\r\n  }\r\n\r\n  /**\r\n   * Add low memory listener\r\n   */\r\n  addLowMemoryListener(callback) {\r\n    document.addEventListener('memory-low', callback);\r\n    return () => document.removeEventListener('memory-low', callback);\r\n  }\r\n\r\n  /**\r\n   * Clean up service\r\n   */\r\n  destroy() {\r\n    if (this.monitoringInterval) {\r\n      clearInterval(this.monitoringInterval);\r\n      this.monitoringInterval = null;\r\n    }\r\n\r\n    if (this.memoryObserver) {\r\n      this.memoryObserver.disconnect();\r\n      this.memoryObserver = null;\r\n    }\r\n\r\n    this.performFinalCleanup();\r\n  }\r\n\r\n  // Placeholder methods for specific cleanup operations\r\n  cleanupLRUCaches() { /* Implementation specific to LRU caches */ }\r\n  clearTemporaryData() { /* Clear temporary application data */ }\r\n  optimizeImageCaches() { /* Optimize image cache sizes */ }\r\n  clearComponentCaches() { /* Clear React component caches */ }\r\n  clearDOMReferences() { /* Clear DOM element references */ }\r\n  clearServiceWorkerCaches() { /* Clear service worker caches */ }\r\n  clearNonEssentialCaches() { /* Clear non-essential caches */ }\r\n  pauseNonCriticalOperations() { /* Pause background operations */ }\r\n  cleanupDOMReferences() { /* Clean up DOM references */ }\r\n  clearAllTimers() { /* Clear all timers and intervals */ }\r\n  removeAllEventListeners() { /* Remove all event listeners */ }\r\n  disconnectObservers() { /* Disconnect all observers */ }\r\n  cleanupComponentReferences() { /* Clean up component references */ }\r\n}\r\n\r\n// Create singleton instance\r\nconst memoryManager = new MemoryManagementService();\r\n\r\n// Export for use in components\r\nexport default memoryManager;\r\nexport { MemoryManagementService };","/**\r\n * Lazy Loading Service for Mobile Performance\r\n * Handles component lazy loading, code splitting, and resource optimization\r\n */\r\n\r\nimport React, { lazy, Suspense } from 'react';\r\n\r\nclass LazyLoadingService {\r\n  constructor() {\r\n    this.loadedComponents = new Map();\r\n    this.loadingPromises = new Map();\r\n    this.intersectionObserver = null;\r\n    this.componentCache = new Map();\r\n    this.preloadQueue = [];\r\n    \r\n    this.init();\r\n  }\r\n\r\n  /**\r\n   * Initialize the lazy loading service\r\n   */\r\n  init() {\r\n    this.setupComponentObserver();\r\n    this.preloadCriticalComponents();\r\n    console.log('⚡ Lazy Loading Service initialized');\r\n  }\r\n\r\n  /**\r\n   * Setup intersection observer for component lazy loading\r\n   */\r\n  setupComponentObserver() {\r\n    if (!('IntersectionObserver' in window)) {\r\n      console.warn('IntersectionObserver not supported, falling back to immediate loading');\r\n      return;\r\n    }\r\n\r\n    const options = {\r\n      root: null,\r\n      rootMargin: '100px', // Load components 100px before they come into view\r\n      threshold: 0.1\r\n    };\r\n\r\n    this.intersectionObserver = new IntersectionObserver((entries) => {\r\n      entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n          const componentName = entry.target.dataset.lazyComponent;\r\n          if (componentName) {\r\n            this.loadComponent(componentName);\r\n            this.intersectionObserver.unobserve(entry.target);\r\n          }\r\n        }\r\n      });\r\n    }, options);\r\n  }\r\n\r\n  /**\r\n   * Create lazy component with error boundary and loading state\r\n   */\r\n  createLazyComponent(componentName, importFunction, options = {}) {\r\n    const {\r\n      fallback = this.createLoadingComponent(componentName),\r\n      errorFallback = this.createErrorComponent(componentName),\r\n      preload = false,\r\n      retryable = true\r\n    } = options;\r\n\r\n    // Cache the component if not already cached\r\n    if (!this.componentCache.has(componentName)) {\r\n      const LazyComponent = lazy(() => this.withRetry(importFunction, retryable));\r\n      this.componentCache.set(componentName, LazyComponent);\r\n    }\r\n\r\n    const LazyComponent = this.componentCache.get(componentName);\r\n\r\n    // Create wrapper component with error boundary\r\n    const LazyWrapper = (props) => (\r\n      <Suspense fallback={fallback}>\r\n        <ErrorBoundary fallback={errorFallback} componentName={componentName}>\r\n          <LazyComponent {...props} />\r\n        </ErrorBoundary>\r\n      </Suspense>\r\n    );\r\n\r\n    // Preload if requested\r\n    if (preload) {\r\n      this.preloadComponent(componentName, importFunction);\r\n    }\r\n\r\n    return LazyWrapper;\r\n  }\r\n\r\n  /**\r\n   * Import function with retry logic\r\n   */\r\n  withRetry(importFunction, retryable = true, maxRetries = 3) {\r\n    return async () => {\r\n      let lastError;\r\n      \r\n      for (let i = 0; i <= maxRetries; i++) {\r\n        try {\r\n          return await importFunction();\r\n        } catch (error) {\r\n          lastError = error;\r\n          \r\n          if (!retryable || i === maxRetries) {\r\n            throw error;\r\n          }\r\n          \r\n          // Exponential backoff\r\n          const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;\r\n          await new Promise(resolve => setTimeout(resolve, delay));\r\n          \r\n          console.warn(`Component load failed, retrying (${i + 1}/${maxRetries + 1})...`);\r\n        }\r\n      }\r\n      \r\n      throw lastError;\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Preload component without rendering\r\n   */\r\n  async preloadComponent(componentName, importFunction) {\r\n    if (this.loadedComponents.has(componentName)) {\r\n      return this.loadedComponents.get(componentName);\r\n    }\r\n\r\n    if (this.loadingPromises.has(componentName)) {\r\n      return this.loadingPromises.get(componentName);\r\n    }\r\n\r\n    const loadPromise = this.withRetry(importFunction)()\r\n      .then(module => {\r\n        this.loadedComponents.set(componentName, module);\r\n        this.loadingPromises.delete(componentName);\r\n        return module;\r\n      })\r\n      .catch(error => {\r\n        this.loadingPromises.delete(componentName);\r\n        console.error(`Failed to preload component ${componentName}:`, error);\r\n        throw error;\r\n      });\r\n\r\n    this.loadingPromises.set(componentName, loadPromise);\r\n    return loadPromise;\r\n  }\r\n\r\n  /**\r\n   * Load component immediately\r\n   */\r\n  async loadComponent(componentName) {\r\n    const importFunction = this.getComponentImportFunction(componentName);\r\n    if (importFunction) {\r\n      return this.preloadComponent(componentName, importFunction);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get import function for component\r\n   */\r\n  getComponentImportFunction(componentName) {\r\n    const componentMap = {\r\n      // Chat components\r\n      'VideoCall': () => import('../components/Home/VideoCall'),\r\n      'GifPicker': () => import('../components/GifPicker/GifPicker'),\r\n      \r\n      // Modals\r\n      'UserProfileModal': () => import('../components/UserProfile/UserProfileModal'),\r\n      'EditProfileModal': () => import('../components/UserProfile/EditProfileModal'),\r\n      'SettingsModal': () => import('../components/Home/SettingsModal'),\r\n      'FeedbackModal': () => import('../components/Home/FeedbackModal'),\r\n      'HelpModal': () => import('../components/Home/HelpModal'),\r\n      'NewChatModal': () => import('../components/NewChat/NewChatModal'),\r\n      \r\n      // Native features\r\n      'NativeCamera': () => import('../components/NativeFeatures/NativeCamera'),\r\n      'NativeContactPicker': () => import('../components/NativeFeatures/NativeContactPicker'),\r\n      \r\n      // PWA components\r\n      'InstallPrompt': () => import('../components/PWA/InstallPrompt'),\r\n      \r\n      // Enhanced media features\r\n      'EnhancedMediaViewer': () => import('../components/Media/EnhancedMediaViewer')\r\n    };\r\n\r\n    return componentMap[componentName];\r\n  }\r\n\r\n  /**\r\n   * Preload critical components\r\n   */\r\n  preloadCriticalComponents() {\r\n    const criticalComponents = [\r\n      'MessageActions',\r\n      'UserProfileModal',\r\n      'SettingsModal'\r\n    ];\r\n\r\n    // Preload critical components after a short delay\r\n    setTimeout(() => {\r\n      criticalComponents.forEach(componentName => {\r\n        const importFunction = this.getComponentImportFunction(componentName);\r\n        if (importFunction) {\r\n          this.preloadComponent(componentName, importFunction);\r\n        }\r\n      });\r\n    }, 2000);\r\n  }\r\n\r\n  /**\r\n   * Create loading component\r\n   */\r\n  createLoadingComponent(componentName) {\r\n    return (\r\n      <div className=\"lazy-loading-container\">\r\n        <div className=\"lazy-loading-spinner\">\r\n          <div className=\"spinner\"></div>\r\n        </div>\r\n        <div className=\"lazy-loading-text\">\r\n          Loading {componentName.replace(/([A-Z])/g, ' $1').trim()}...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Create error component\r\n   */\r\n  createErrorComponent(componentName) {\r\n    return (\r\n      <div className=\"lazy-error-container\">\r\n        <div className=\"lazy-error-icon\">⚠️</div>\r\n        <div className=\"lazy-error-text\">\r\n          Failed to load {componentName.replace(/([A-Z])/g, ' $1').trim()}\r\n        </div>\r\n        <button \r\n          className=\"lazy-retry-button\"\r\n          onClick={() => window.location.reload()}\r\n        >\r\n          Retry\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Create intersection observer target\r\n   */\r\n  createLazyTarget(componentName, placeholder = null) {\r\n    const target = document.createElement('div');\r\n    target.className = 'lazy-component-target';\r\n    target.dataset.lazyComponent = componentName;\r\n    \r\n    if (placeholder) {\r\n      target.appendChild(placeholder);\r\n    }\r\n\r\n    if (this.intersectionObserver) {\r\n      this.intersectionObserver.observe(target);\r\n    }\r\n\r\n    return target;\r\n  }\r\n\r\n  /**\r\n   * Get performance metrics\r\n   */\r\n  getPerformanceMetrics() {\r\n    return {\r\n      loadedComponents: Array.from(this.loadedComponents.keys()),\r\n      loadingComponents: Array.from(this.loadingPromises.keys()),\r\n      cachedComponents: Array.from(this.componentCache.keys()),\r\n      preloadQueueSize: this.preloadQueue.length\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Prefetch resources based on user behavior\r\n   */\r\n  smartPrefetch(userInteractions) {\r\n    const predictions = this.predictNextComponents(userInteractions);\r\n    \r\n    predictions.forEach(componentName => {\r\n      if (!this.loadedComponents.has(componentName) && \r\n          !this.loadingPromises.has(componentName)) {\r\n        const importFunction = this.getComponentImportFunction(componentName);\r\n        if (importFunction) {\r\n          this.preloadComponent(componentName, importFunction);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Predict next components based on user behavior\r\n   */\r\n  predictNextComponents(interactions) {\r\n    const predictions = [];\r\n    const lastInteraction = interactions[interactions.length - 1];\r\n\r\n    if (!lastInteraction) return predictions;\r\n\r\n    // Prediction rules based on user behavior\r\n    switch (lastInteraction.type) {\r\n      case 'message_hover':\r\n        predictions.push('MessageActions');\r\n        break;\r\n      case 'profile_click':\r\n        predictions.push('UserProfileModal', 'EditProfileModal');\r\n        break;\r\n      case 'attachment_hover':\r\n        predictions.push('NativeCamera', 'FileManager');\r\n        break;\r\n      case 'video_call_button_hover':\r\n        predictions.push('VideoCall');\r\n        break;\r\n      case 'settings_hover':\r\n        predictions.push('SettingsModal');\r\n        break;\r\n      case 'search_focus':\r\n        predictions.push('AdvancedSearch');\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return predictions;\r\n  }\r\n\r\n  /**\r\n   * Memory management - clean up unused components\r\n   */\r\n  cleanupUnusedComponents() {\r\n    const componentUsage = this.getComponentUsage();\r\n    const threshold = Date.now() - (30 * 60 * 1000); // 30 minutes ago\r\n\r\n    Object.entries(componentUsage).forEach(([componentName, lastUsed]) => {\r\n      if (lastUsed < threshold) {\r\n        this.componentCache.delete(componentName);\r\n        this.loadedComponents.delete(componentName);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get component usage statistics\r\n   */\r\n  getComponentUsage() {\r\n    const usage = JSON.parse(localStorage.getItem('componentUsage') || '{}');\r\n    return usage;\r\n  }\r\n\r\n  /**\r\n   * Update component usage\r\n   */\r\n  updateComponentUsage(componentName) {\r\n    const usage = this.getComponentUsage();\r\n    usage[componentName] = Date.now();\r\n    localStorage.setItem('componentUsage', JSON.stringify(usage));\r\n  }\r\n\r\n  /**\r\n   * Clean up resources\r\n   */\r\n  destroy() {\r\n    if (this.intersectionObserver) {\r\n      this.intersectionObserver.disconnect();\r\n      this.intersectionObserver = null;\r\n    }\r\n    \r\n    this.loadedComponents.clear();\r\n    this.loadingPromises.clear();\r\n    this.componentCache.clear();\r\n    this.preloadQueue = [];\r\n  }\r\n}\r\n\r\n/**\r\n * Error Boundary Component\r\n */\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false, error: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    console.error(`Error in lazy component ${this.props.componentName}:`, error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return this.props.fallback || (\r\n        <div className=\"lazy-error-container\">\r\n          <div className=\"lazy-error-icon\">⚠️</div>\r\n          <div className=\"lazy-error-text\">\r\n            Component failed to load\r\n          </div>\r\n          <button \r\n            className=\"lazy-retry-button\"\r\n            onClick={() => this.setState({ hasError: false, error: null })}\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n// CSS for lazy loading components\r\nconst lazyLoadingCSS = `\r\n/* Lazy Loading Styles */\r\n.lazy-loading-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px 20px;\r\n  min-height: 200px;\r\n}\r\n\r\n.lazy-loading-spinner {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.spinner {\r\n  width: 32px;\r\n  height: 32px;\r\n  border: 3px solid #f3f4f6;\r\n  border-top-color: #3b82f6;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n.lazy-loading-text {\r\n  color: #6b7280;\r\n  font-size: 14px;\r\n  text-align: center;\r\n}\r\n\r\n.lazy-error-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px 20px;\r\n  min-height: 200px;\r\n  text-align: center;\r\n}\r\n\r\n.lazy-error-icon {\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.lazy-error-text {\r\n  color: #dc2626;\r\n  font-size: 16px;\r\n  margin-bottom: 20px;\r\n  max-width: 300px;\r\n}\r\n\r\n.lazy-retry-button {\r\n  background: #3b82f6;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 24px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\n.lazy-retry-button:hover {\r\n  background: #2563eb;\r\n}\r\n\r\n.lazy-component-target {\r\n  min-height: 1px;\r\n  display: block;\r\n}\r\n\r\n@keyframes spin {\r\n  from { transform: rotate(0deg); }\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n/* Mobile optimizations */\r\n@media (max-width: 768px) {\r\n  .lazy-loading-container,\r\n  .lazy-error-container {\r\n    min-height: 150px;\r\n    padding: 30px 15px;\r\n  }\r\n  \r\n  .lazy-error-icon {\r\n    font-size: 36px;\r\n  }\r\n  \r\n  .lazy-error-text {\r\n    font-size: 14px;\r\n  }\r\n  \r\n  .lazy-retry-button {\r\n    padding: 10px 20px;\r\n    font-size: 13px;\r\n  }\r\n}\r\n\r\n/* Reduced motion */\r\n@media (prefers-reduced-motion: reduce) {\r\n  .spinner {\r\n    animation: none;\r\n    border-top-color: #6b7280;\r\n  }\r\n}\r\n\r\n/* Dark mode support */\r\n@media (prefers-color-scheme: dark) {\r\n  .lazy-loading-text {\r\n    color: #9ca3af;\r\n  }\r\n  \r\n  .spinner {\r\n    border-color: #374151;\r\n    border-top-color: #60a5fa;\r\n  }\r\n}\r\n`;\r\n\r\n// Inject CSS\r\nfunction injectLazyLoadingStyles() {\r\n  const styleElement = document.createElement('style');\r\n  styleElement.textContent = lazyLoadingCSS;\r\n  document.head.appendChild(styleElement);\r\n}\r\n\r\n// Auto-initialize\r\nif (typeof document !== 'undefined') {\r\n  injectLazyLoadingStyles();\r\n}\r\n\r\n// Create singleton instance\r\nconst lazyLoadingService = new LazyLoadingService();\r\n\r\nexport default lazyLoadingService;\r\nexport { LazyLoadingService };","/**\r\n * Modern Viewport and Display Utilities\r\n * Enhanced support for latest smartphones and display technologies\r\n * Supports: iPhone 15 Pro, Samsung Galaxy S24, foldable devices, high refresh rates\r\n */\r\n\r\n// Modern viewport unit detection and fallbacks\r\nconst ViewportUnits = {\r\n  // Check support for new viewport units\r\n  supports: {\r\n    dvh: CSS.supports('height', '100dvh'),\r\n    svh: CSS.supports('height', '100svh'),\r\n    lvh: CSS.supports('height', '100lvh'),\r\n    dvw: CSS.supports('width', '100dvw'),\r\n    svw: CSS.supports('width', '100svw'),\r\n    lvw: CSS.supports('width', '100lvw'),\r\n    container: CSS.supports('container-type', 'inline-size'),\r\n    safeArea: CSS.supports('padding', 'env(safe-area-inset-top)')\r\n  },\r\n\r\n  // Set modern viewport CSS custom properties\r\n  setModernViewport: () => {\r\n    const root = document.documentElement;\r\n    \r\n    // Get all viewport dimensions\r\n    const vh = window.innerHeight * 0.01;\r\n    const vw = window.innerWidth * 0.01;\r\n    const vmin = Math.min(window.innerHeight, window.innerWidth) * 0.01;\r\n    const vmax = Math.max(window.innerHeight, window.innerWidth) * 0.01;\r\n    \r\n    // Set custom properties with fallbacks\r\n    root.style.setProperty('--vh-modern', `${vh}px`);\r\n    root.style.setProperty('--vw-modern', `${vw}px`);\r\n    root.style.setProperty('--vmin-modern', `${vmin}px`);\r\n    root.style.setProperty('--vmax-modern', `${vmax}px`);\r\n    \r\n    // Calculate safe viewport (excluding UI chrome)\r\n    const safeVh = (window.innerHeight - (window.outerHeight - window.innerHeight)) * 0.01;\r\n    root.style.setProperty('--svh-fallback', `${Math.max(vh, safeVh)}px`);\r\n    \r\n    // Large viewport (maximum possible)\r\n    const largeVh = window.screen.height * 0.01;\r\n    root.style.setProperty('--lvh-fallback', `${largeVh}px`);\r\n  },\r\n\r\n  // Initialize viewport tracking\r\n  init: () => {\r\n    ViewportUnits.setModernViewport();\r\n    \r\n    // Update on resize with debouncing\r\n    let resizeTimeout;\r\n    const handleResize = () => {\r\n      clearTimeout(resizeTimeout);\r\n      resizeTimeout = setTimeout(ViewportUnits.setModernViewport, 100);\r\n    };\r\n    \r\n    window.addEventListener('resize', handleResize);\r\n    window.addEventListener('orientationchange', () => {\r\n      setTimeout(ViewportUnits.setModernViewport, 200);\r\n    });\r\n    \r\n    // Visual viewport API support\r\n    if (window.visualViewport) {\r\n      window.visualViewport.addEventListener('resize', handleResize);\r\n      window.visualViewport.addEventListener('scroll', () => {\r\n        const scrollOffset = window.visualViewport.offsetTop;\r\n        document.documentElement.style.setProperty('--visual-viewport-offset', `${scrollOffset}px`);\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\n// High refresh rate display support\r\nconst HighRefreshDisplay = {\r\n  refreshRate: 60, // Default fallback\r\n  \r\n  // Detect display refresh rate\r\n  detectRefreshRate: () => {\r\n    return new Promise((resolve) => {\r\n      let start = null;\r\n      let frames = 0;\r\n      \r\n      const measure = (timestamp) => {\r\n        if (!start) start = timestamp;\r\n        frames++;\r\n        \r\n        if (timestamp - start >= 1000) {\r\n          HighRefreshDisplay.refreshRate = Math.round(frames);\r\n          resolve(HighRefreshDisplay.refreshRate);\r\n        } else {\r\n          requestAnimationFrame(measure);\r\n        }\r\n      };\r\n      \r\n      requestAnimationFrame(measure);\r\n    });\r\n  },\r\n\r\n  // Optimize animations for high refresh rates\r\n  optimizeAnimations: () => {\r\n    const root = document.documentElement;\r\n    \r\n    if (HighRefreshDisplay.refreshRate >= 120) {\r\n      root.classList.add('high-refresh-display');\r\n      root.style.setProperty('--animation-duration-multiplier', '0.83'); // Faster for 120Hz\r\n      root.style.setProperty('--scroll-behavior', 'smooth');\r\n    } else if (HighRefreshDisplay.refreshRate >= 90) {\r\n      root.classList.add('medium-refresh-display');\r\n      root.style.setProperty('--animation-duration-multiplier', '0.9');\r\n    } else {\r\n      root.classList.add('standard-refresh-display');\r\n      root.style.setProperty('--animation-duration-multiplier', '1');\r\n    }\r\n    \r\n    console.log(`Display refresh rate: ${HighRefreshDisplay.refreshRate}Hz`);\r\n  },\r\n\r\n  init: async () => {\r\n    await HighRefreshDisplay.detectRefreshRate();\r\n    HighRefreshDisplay.optimizeAnimations();\r\n  }\r\n};\r\n\r\n// Enhanced device detection for latest smartphones\r\nconst ModernDeviceDetection = {\r\n  // Device database with latest models\r\n  devices: {\r\n    // iPhone models\r\n    'iPhone15,2': { name: 'iPhone 14 Pro', safeAreas: { top: 59, bottom: 34 }, hasDynamicIsland: true },\r\n    'iPhone15,3': { name: 'iPhone 14 Pro Max', safeAreas: { top: 59, bottom: 34 }, hasDynamicIsland: true },\r\n    'iPhone16,1': { name: 'iPhone 15', safeAreas: { top: 59, bottom: 34 }, hasDynamicIsland: true },\r\n    'iPhone16,2': { name: 'iPhone 15 Plus', safeAreas: { top: 59, bottom: 34 }, hasDynamicIsland: true },\r\n    'iPhone16,3': { name: 'iPhone 15 Pro', safeAreas: { top: 59, bottom: 34 }, hasDynamicIsland: true },\r\n    'iPhone16,4': { name: 'iPhone 15 Pro Max', safeAreas: { top: 59, bottom: 34 }, hasDynamicIsland: true },\r\n    \r\n    // Samsung Galaxy models\r\n    'SM-S918': { name: 'Galaxy S23 Ultra', safeAreas: { top: 32, bottom: 20 }, hasEdgeDisplay: true },\r\n    'SM-S926': { name: 'Galaxy S24', safeAreas: { top: 32, bottom: 20 }, hasEdgeDisplay: true },\r\n    'SM-S928': { name: 'Galaxy S24 Ultra', safeAreas: { top: 32, bottom: 20 }, hasEdgeDisplay: true },\r\n    \r\n    // Foldable devices\r\n    'SM-F946': { name: 'Galaxy Z Fold5', safeAreas: { top: 32, bottom: 20 }, isFoldable: true },\r\n    'SM-F731': { name: 'Galaxy Z Flip5', safeAreas: { top: 32, bottom: 20 }, isFoldable: true }\r\n  },\r\n\r\n  // Detect current device\r\n  detectDevice: () => {\r\n    const userAgent = navigator.userAgent;\r\n    const platform = navigator.platform;\r\n    \r\n    // iPhone detection\r\n    if (platform.includes('iPhone')) {\r\n      const screenHeight = Math.max(window.screen.height, window.screen.width);\r\n      const screenWidth = Math.min(window.screen.height, window.screen.width);\r\n      const pixelRatio = window.devicePixelRatio;\r\n      \r\n      // iPhone 15 Pro (393x852)\r\n      if (screenWidth === 393 && screenHeight === 852 && pixelRatio === 3) {\r\n        return { ...ModernDeviceDetection.devices['iPhone16,3'], detected: true };\r\n      }\r\n      // iPhone 14 Pro (390x844)\r\n      else if (screenWidth === 390 && screenHeight === 844 && pixelRatio === 3) {\r\n        return { ...ModernDeviceDetection.devices['iPhone15,2'], detected: true };\r\n      }\r\n    }\r\n    \r\n    // Android detection\r\n    if (userAgent.includes('Android')) {\r\n      for (const [model, info] of Object.entries(ModernDeviceDetection.devices)) {\r\n        if (userAgent.includes(model)) {\r\n          return { ...info, detected: true };\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Foldable detection\r\n    if (window.screen?.isExtended || CSS.supports('(orientation: fold)')) {\r\n      return { name: 'Foldable Device', isFoldable: true, detected: true };\r\n    }\r\n    \r\n    return { name: 'Unknown Device', detected: false };\r\n  },\r\n\r\n  // Apply device-specific optimizations\r\n  applyDeviceOptimizations: (device) => {\r\n    const root = document.documentElement;\r\n    \r\n    if (device.detected) {\r\n      root.classList.add('modern-device');\r\n      \r\n      if (device.hasDynamicIsland) {\r\n        root.classList.add('has-dynamic-island');\r\n        root.style.setProperty('--dynamic-island-height', '37px');\r\n      }\r\n      \r\n      if (device.hasEdgeDisplay) {\r\n        root.classList.add('has-edge-display');\r\n      }\r\n      \r\n      if (device.isFoldable) {\r\n        root.classList.add('foldable-device');\r\n        ModernDeviceDetection.setupFoldableSupport();\r\n      }\r\n      \r\n      // Set device-specific safe areas\r\n      if (device.safeAreas) {\r\n        root.style.setProperty('--device-safe-top', `${device.safeAreas.top}px`);\r\n        root.style.setProperty('--device-safe-bottom', `${device.safeAreas.bottom}px`);\r\n      }\r\n      \r\n      console.log(`Detected device: ${device.name}`);\r\n    }\r\n  },\r\n\r\n  // Foldable device support\r\n  setupFoldableSupport: () => {\r\n    // Screen spanning API\r\n    if (window.screen.isExtended) {\r\n      document.documentElement.classList.add('dual-screen');\r\n    }\r\n    \r\n    // Fold detection\r\n    if (CSS.supports('(orientation: fold)')) {\r\n      const mediaQuery = window.matchMedia('(orientation: fold)');\r\n      const handleFoldChange = (e) => {\r\n        document.documentElement.classList.toggle('folded', e.matches);\r\n      };\r\n      \r\n      mediaQuery.addListener(handleFoldChange);\r\n      handleFoldChange(mediaQuery);\r\n    }\r\n    \r\n    // Visual viewport changes for foldables\r\n    if (window.visualViewport) {\r\n      window.visualViewport.addEventListener('resize', () => {\r\n        const aspectRatio = window.visualViewport.width / window.visualViewport.height;\r\n        document.documentElement.style.setProperty('--viewport-aspect-ratio', aspectRatio);\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\n// Enhanced safe area support\r\nconst SafeAreaEnhanced = {\r\n  // Get computed safe area values\r\n  getSafeAreaValues: () => {\r\n    const computedStyle = getComputedStyle(document.documentElement);\r\n    \r\n    return {\r\n      top: parseInt(computedStyle.getPropertyValue('--safe-area-inset-top') || '0'),\r\n      right: parseInt(computedStyle.getPropertyValue('--safe-area-inset-right') || '0'),\r\n      bottom: parseInt(computedStyle.getPropertyValue('--safe-area-inset-bottom') || '0'),\r\n      left: parseInt(computedStyle.getPropertyValue('--safe-area-inset-left') || '0')\r\n    };\r\n  },\r\n\r\n  // Apply enhanced safe area handling\r\n  applySafeAreas: () => {\r\n    const root = document.documentElement;\r\n    \r\n    // Set CSS custom properties for safe areas with fallbacks\r\n    const safeAreaCSS = `\r\n      --safe-area-top: max(env(safe-area-inset-top, 0px), var(--device-safe-top, 0px));\r\n      --safe-area-right: max(env(safe-area-inset-right, 0px), 0px);\r\n      --safe-area-bottom: max(env(safe-area-inset-bottom, 0px), var(--device-safe-bottom, 0px));\r\n      --safe-area-left: max(env(safe-area-inset-left, 0px), 0px);\r\n      \r\n      /* Combined safe viewport */\r\n      --safe-vh: calc(100vh - var(--safe-area-top) - var(--safe-area-bottom));\r\n      --safe-vw: calc(100vw - var(--safe-area-left) - var(--safe-area-right));\r\n    `;\r\n    \r\n    // Apply styles\r\n    const style = document.createElement('style');\r\n    style.textContent = `:root { ${safeAreaCSS} }`;\r\n    document.head.appendChild(style);\r\n    \r\n    // Monitor safe area changes\r\n    const observer = new ResizeObserver(() => {\r\n      SafeAreaEnhanced.updateSafeAreaClasses();\r\n    });\r\n    observer.observe(document.documentElement);\r\n  },\r\n\r\n  // Update classes based on safe area presence\r\n  updateSafeAreaClasses: () => {\r\n    const safeAreas = SafeAreaEnhanced.getSafeAreaValues();\r\n    const root = document.documentElement;\r\n    \r\n    root.classList.toggle('has-safe-area-top', safeAreas.top > 0);\r\n    root.classList.toggle('has-safe-area-bottom', safeAreas.bottom > 0);\r\n    root.classList.toggle('has-safe-area-sides', safeAreas.left > 0 || safeAreas.right > 0);\r\n  }\r\n};\r\n\r\n// Main initialization function\r\nexport const initModernViewport = async () => {\r\n  console.log('🔧 Initializing modern viewport support...');\r\n  \r\n  // Initialize viewport units\r\n  ViewportUnits.init();\r\n  \r\n  // Detect and optimize for refresh rate\r\n  await HighRefreshDisplay.init();\r\n  \r\n  // Device detection and optimization\r\n  const device = ModernDeviceDetection.detectDevice();\r\n  ModernDeviceDetection.applyDeviceOptimizations(device);\r\n  \r\n  // Enhanced safe area support\r\n  SafeAreaEnhanced.applySafeAreas();\r\n  \r\n  console.log('✅ Modern viewport support initialized');\r\n  \r\n  return {\r\n    device,\r\n    refreshRate: HighRefreshDisplay.refreshRate,\r\n    viewportSupport: ViewportUnits.supports\r\n  };\r\n};\r\n\r\n// Export utilities\r\nexport {\r\n  ViewportUnits,\r\n  HighRefreshDisplay,\r\n  ModernDeviceDetection,\r\n  SafeAreaEnhanced\r\n};\r\n\r\nexport default {\r\n  initModernViewport,\r\n  ViewportUnits,\r\n  HighRefreshDisplay,\r\n  ModernDeviceDetection,\r\n  SafeAreaEnhanced\r\n};","/**\r\n * Advanced Touch and Haptic Feedback System\r\n * Modern touch interactions for latest smartphones\r\n * Supports: Haptic Feedback API, precision touchpads, pull-to-refresh, momentum scrolling\r\n */\r\n\r\n// Haptic feedback patterns for different interactions\r\nconst HapticPatterns = {\r\n  // Light feedback for subtle interactions\r\n  light: [10],\r\n  \r\n  // Medium feedback for button presses\r\n  medium: [20, 10, 20],\r\n  \r\n  // Heavy feedback for important actions\r\n  heavy: [50, 25, 50],\r\n  \r\n  // Success pattern\r\n  success: [20, 10, 20, 10, 30],\r\n  \r\n  // Error pattern\r\n  error: [100, 50, 100, 50, 100],\r\n  \r\n  // Notification pattern\r\n  notification: [30, 20, 30],\r\n  \r\n  // Selection pattern\r\n  selection: [15],\r\n  \r\n  // Long press pattern\r\n  longPress: [40, 20, 40],\r\n  \r\n  // Swipe pattern\r\n  swipe: [25, 15, 25],\r\n  \r\n  // Pull refresh pattern\r\n  pullRefresh: [30, 20, 30, 20, 50]\r\n};\r\n\r\n// Modern Haptic Feedback Manager\r\nclass HapticFeedbackManager {\r\n  constructor() {\r\n    this.isSupported = this.checkSupport();\r\n    this.isEnabled = true;\r\n    this.intensity = 1.0; // 0.0 to 1.0\r\n    this.lastFeedbackTime = 0;\r\n    this.throttleDelay = 50; // Minimum time between feedback in ms\r\n  }\r\n\r\n  // Check haptic feedback support\r\n  checkSupport() {\r\n    return 'vibrate' in navigator || \r\n           'hapticFeedback' in navigator ||\r\n           (window.DeviceMotionEvent && window.DeviceMotionEvent.requestPermission);\r\n  }\r\n\r\n  // Enable/disable haptic feedback\r\n  setEnabled(enabled) {\r\n    this.isEnabled = enabled;\r\n    localStorage.setItem('haptic-feedback-enabled', JSON.stringify(enabled));\r\n  }\r\n\r\n  // Set feedback intensity\r\n  setIntensity(intensity) {\r\n    this.intensity = Math.max(0, Math.min(1, intensity));\r\n    localStorage.setItem('haptic-feedback-intensity', intensity.toString());\r\n  }\r\n\r\n  // Throttle feedback to prevent overwhelming\r\n  shouldTriggerFeedback() {\r\n    const now = performance.now();\r\n    if (now - this.lastFeedbackTime < this.throttleDelay) {\r\n      return false;\r\n    }\r\n    this.lastFeedbackTime = now;\r\n    return true;\r\n  }\r\n\r\n  // Trigger haptic feedback\r\n  trigger(pattern = 'light', options = {}) {\r\n    if (!this.isEnabled || !this.isSupported || !this.shouldTriggerFeedback()) {\r\n      return false;\r\n    }\r\n\r\n    const feedbackPattern = typeof pattern === 'string' \r\n      ? HapticPatterns[pattern] || HapticPatterns.light\r\n      : pattern;\r\n\r\n    // Apply intensity scaling\r\n    const scaledPattern = feedbackPattern.map(duration => \r\n      Math.round(duration * this.intensity)\r\n    );\r\n\r\n    try {\r\n      // Try modern Haptic Feedback API first\r\n      if (navigator.hapticFeedback) {\r\n        navigator.hapticFeedback.vibrate(scaledPattern);\r\n        return true;\r\n      }\r\n      \r\n      // Fallback to vibration API\r\n      if (navigator.vibrate) {\r\n        navigator.vibrate(scaledPattern);\r\n        return true;\r\n      }\r\n    } catch (error) {\r\n      console.warn('Haptic feedback failed:', error);\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  // Contextual feedback helpers\r\n  selection() { return this.trigger('selection'); }\r\n  buttonPress() { return this.trigger('medium'); }\r\n  success() { return this.trigger('success'); }\r\n  error() { return this.trigger('error'); }\r\n  notification() { return this.trigger('notification'); }\r\n  longPress() { return this.trigger('longPress'); }\r\n  swipe() { return this.trigger('swipe'); }\r\n  pullRefresh() { return this.trigger('pullRefresh'); }\r\n}\r\n\r\n// Advanced Touch Gesture Recognition\r\nclass AdvancedTouchManager {\r\n  constructor() {\r\n    this.gestures = new Map();\r\n    this.activeGestures = new Set();\r\n    this.touchHistory = [];\r\n    this.maxHistoryLength = 100;\r\n    \r\n    // Touch thresholds\r\n    this.swipeThreshold = 30;\r\n    this.velocityThreshold = 0.3;\r\n    this.longPressDelay = 500;\r\n    this.doubleTapDelay = 300;\r\n    \r\n    // Performance tracking\r\n    this.lastFrameTime = 0;\r\n    this.targetFPS = 60;\r\n    this.frameInterval = 1000 / this.targetFPS;\r\n  }\r\n\r\n  // Register a gesture handler\r\n  registerGesture(name, handler, options = {}) {\r\n    this.gestures.set(name, { handler, options });\r\n  }\r\n\r\n  // Calculate touch velocity\r\n  calculateVelocity(currentTouch, previousTouch, deltaTime) {\r\n    if (!previousTouch || deltaTime === 0) return { x: 0, y: 0 };\r\n    \r\n    const deltaX = currentTouch.clientX - previousTouch.clientX;\r\n    const deltaY = currentTouch.clientY - previousTouch.clientY;\r\n    \r\n    return {\r\n      x: deltaX / deltaTime,\r\n      y: deltaY / deltaTime\r\n    };\r\n  }\r\n\r\n  // Advanced swipe detection with momentum\r\n  detectSwipe(touches, velocities) {\r\n    if (touches.length !== 2) return null;\r\n    \r\n    const [start, end] = touches;\r\n    const deltaX = end.clientX - start.clientX;\r\n    const deltaY = end.clientY - start.clientY;\r\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\r\n    \r\n    if (distance < this.swipeThreshold) return null;\r\n    \r\n    const velocity = velocities[velocities.length - 1];\r\n    const speed = Math.sqrt(velocity.x * velocity.x + velocity.y * velocity.y);\r\n    \r\n    if (speed < this.velocityThreshold) return null;\r\n    \r\n    // Determine direction\r\n    const angle = Math.atan2(deltaY, deltaX) * 180 / Math.PI;\r\n    let direction;\r\n    \r\n    if (angle >= -45 && angle <= 45) direction = 'right';\r\n    else if (angle >= 45 && angle <= 135) direction = 'down';\r\n    else if (angle >= -135 && angle <= -45) direction = 'up';\r\n    else direction = 'left';\r\n    \r\n    return {\r\n      direction,\r\n      distance,\r\n      velocity: speed,\r\n      angle,\r\n      momentum: speed > this.velocityThreshold * 2\r\n    };\r\n  }\r\n\r\n  // Handle touch events with performance optimization\r\n  handleTouch(event) {\r\n    const now = performance.now();\r\n    \r\n    // Throttle events to maintain 60fps\r\n    if (now - this.lastFrameTime < this.frameInterval) {\r\n      return;\r\n    }\r\n    this.lastFrameTime = now;\r\n    \r\n    const touches = Array.from(event.touches || [event]);\r\n    const touchData = {\r\n      timestamp: now,\r\n      touches: touches.map(touch => ({\r\n        clientX: touch.clientX,\r\n        clientY: touch.clientY,\r\n        identifier: touch.identifier || 0\r\n      })),\r\n      type: event.type\r\n    };\r\n    \r\n    // Add to history\r\n    this.touchHistory.push(touchData);\r\n    if (this.touchHistory.length > this.maxHistoryLength) {\r\n      this.touchHistory.shift();\r\n    }\r\n    \r\n    // Process gestures\r\n    this.processGestures(touchData);\r\n  }\r\n\r\n  // Process gesture recognition\r\n  processGestures(touchData) {\r\n    const { touches, timestamp, type } = touchData;\r\n    \r\n    // Calculate velocities\r\n    const velocities = this.calculateTouchVelocities();\r\n    \r\n    // Detect swipes\r\n    if (type === 'touchend' && this.touchHistory.length >= 2) {\r\n      const swipe = this.detectSwipe(\r\n        [this.touchHistory[0].touches[0], touches[0]], \r\n        velocities\r\n      );\r\n      \r\n      if (swipe) {\r\n        this.triggerGesture('swipe', { ...swipe, touches });\r\n      }\r\n    }\r\n    \r\n    // Detect long press\r\n    if (type === 'touchstart') {\r\n      setTimeout(() => {\r\n        if (this.activeGestures.has('longpress')) {\r\n          this.triggerGesture('longpress', { touches, timestamp });\r\n        }\r\n      }, this.longPressDelay);\r\n      this.activeGestures.add('longpress');\r\n    }\r\n    \r\n    if (type === 'touchend') {\r\n      this.activeGestures.delete('longpress');\r\n    }\r\n  }\r\n\r\n  // Calculate touch velocities over time\r\n  calculateTouchVelocities() {\r\n    const velocities = [];\r\n    \r\n    for (let i = 1; i < this.touchHistory.length; i++) {\r\n      const current = this.touchHistory[i];\r\n      const previous = this.touchHistory[i - 1];\r\n      const deltaTime = current.timestamp - previous.timestamp;\r\n      \r\n      if (current.touches[0] && previous.touches[0]) {\r\n        const velocity = this.calculateVelocity(\r\n          current.touches[0], \r\n          previous.touches[0], \r\n          deltaTime\r\n        );\r\n        velocities.push(velocity);\r\n      }\r\n    }\r\n    \r\n    return velocities;\r\n  }\r\n\r\n  // Trigger gesture event\r\n  triggerGesture(name, data) {\r\n    const gesture = this.gestures.get(name);\r\n    if (gesture) {\r\n      try {\r\n        gesture.handler(data);\r\n      } catch (error) {\r\n        console.error(`Gesture handler error for ${name}:`, error);\r\n      }\r\n    }\r\n    \r\n    // Dispatch custom event\r\n    const event = new CustomEvent(`advanced-${name}`, { \r\n      detail: data,\r\n      bubbles: true\r\n    });\r\n    document.dispatchEvent(event);\r\n  }\r\n}\r\n\r\n// Pull-to-Refresh Implementation\r\nclass PullToRefreshManager {\r\n  constructor(container, onRefresh) {\r\n    this.container = container;\r\n    this.onRefresh = onRefresh;\r\n    this.isEnabled = true;\r\n    this.threshold = 70;\r\n    this.maxDistance = 120;\r\n    this.isRefreshing = false;\r\n    this.startY = 0;\r\n    this.currentY = 0;\r\n    this.isDragging = false;\r\n    \r\n    this.createRefreshElement();\r\n    this.bindEvents();\r\n  }\r\n\r\n  createRefreshElement() {\r\n    this.refreshElement = document.createElement('div');\r\n    this.refreshElement.className = 'pull-refresh-indicator';\r\n    this.refreshElement.innerHTML = `\r\n      <div class=\"pull-refresh-spinner\">\r\n        <div class=\"pull-refresh-icon\">↓</div>\r\n        <div class=\"pull-refresh-text\">Pull to refresh</div>\r\n      </div>\r\n    `;\r\n    \r\n    // Insert at the beginning of container\r\n    this.container.insertBefore(this.refreshElement, this.container.firstChild);\r\n  }\r\n\r\n  bindEvents() {\r\n    this.container.addEventListener('touchstart', this.handleTouchStart.bind(this));\r\n    this.container.addEventListener('touchmove', this.handleTouchMove.bind(this));\r\n    this.container.addEventListener('touchend', this.handleTouchEnd.bind(this));\r\n  }\r\n\r\n  handleTouchStart(event) {\r\n    if (!this.isEnabled || this.isRefreshing) return;\r\n    \r\n    // Only start if scrolled to top\r\n    if (this.container.scrollTop > 0) return;\r\n    \r\n    this.startY = event.touches[0].clientY;\r\n    this.isDragging = true;\r\n  }\r\n\r\n  handleTouchMove(event) {\r\n    if (!this.isDragging || this.isRefreshing) return;\r\n    \r\n    this.currentY = event.touches[0].clientY;\r\n    const distance = Math.max(0, this.currentY - this.startY);\r\n    \r\n    if (distance > 0 && this.container.scrollTop === 0) {\r\n      event.preventDefault();\r\n      \r\n      const clampedDistance = Math.min(distance, this.maxDistance);\r\n      const progress = clampedDistance / this.threshold;\r\n      \r\n      this.updateRefreshIndicator(clampedDistance, progress);\r\n    }\r\n  }\r\n\r\n  handleTouchEnd() {\r\n    if (!this.isDragging || this.isRefreshing) return;\r\n    \r\n    const distance = Math.max(0, this.currentY - this.startY);\r\n    \r\n    if (distance >= this.threshold) {\r\n      this.triggerRefresh();\r\n    } else {\r\n      this.resetRefreshIndicator();\r\n    }\r\n    \r\n    this.isDragging = false;\r\n  }\r\n\r\n  updateRefreshIndicator(distance, progress) {\r\n    const rotation = Math.min(progress * 180, 180);\r\n    const opacity = Math.min(progress, 1);\r\n    \r\n    this.refreshElement.style.transform = `translateY(${distance - 50}px)`;\r\n    this.refreshElement.style.opacity = opacity;\r\n    \r\n    const icon = this.refreshElement.querySelector('.pull-refresh-icon');\r\n    icon.style.transform = `rotate(${rotation}deg)`;\r\n    \r\n    const text = this.refreshElement.querySelector('.pull-refresh-text');\r\n    text.textContent = progress >= 1 ? 'Release to refresh' : 'Pull to refresh';\r\n  }\r\n\r\n  async triggerRefresh() {\r\n    this.isRefreshing = true;\r\n    \r\n    // Show loading state\r\n    this.refreshElement.classList.add('refreshing');\r\n    this.refreshElement.style.transform = 'translateY(0)';\r\n    \r\n    const icon = this.refreshElement.querySelector('.pull-refresh-icon');\r\n    const text = this.refreshElement.querySelector('.pull-refresh-text');\r\n    \r\n    icon.textContent = '⟳';\r\n    icon.style.animation = 'spin 1s linear infinite';\r\n    text.textContent = 'Refreshing...';\r\n    \r\n    // Trigger haptic feedback\r\n    if (window.hapticManager) {\r\n      window.hapticManager.pullRefresh();\r\n    }\r\n    \r\n    try {\r\n      await this.onRefresh();\r\n    } catch (error) {\r\n      console.error('Refresh failed:', error);\r\n    } finally {\r\n      setTimeout(() => {\r\n        this.resetRefreshIndicator();\r\n        this.isRefreshing = false;\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  resetRefreshIndicator() {\r\n    this.refreshElement.classList.remove('refreshing');\r\n    this.refreshElement.style.transform = 'translateY(-50px)';\r\n    this.refreshElement.style.opacity = '0';\r\n    \r\n    const icon = this.refreshElement.querySelector('.pull-refresh-icon');\r\n    const text = this.refreshElement.querySelector('.pull-refresh-text');\r\n    \r\n    icon.textContent = '↓';\r\n    icon.style.animation = '';\r\n    icon.style.transform = 'rotate(0deg)';\r\n    text.textContent = 'Pull to refresh';\r\n  }\r\n}\r\n\r\n// Precision Touchpad Support\r\nclass PrecisionTouchpadManager {\r\n  constructor() {\r\n    this.isSupported = this.checkSupport();\r\n    this.scrollSensitivity = 1.0;\r\n    this.gestureCallbacks = new Map();\r\n  }\r\n\r\n  checkSupport() {\r\n    // Check for precision touchpad features\r\n    return 'onwheel' in window && \r\n           'TouchEvent' in window &&\r\n           CSS.supports('scroll-behavior', 'smooth');\r\n  }\r\n\r\n  // Enhanced wheel event handling for precision touchpads\r\n  handleWheel(event) {\r\n    if (!this.isSupported) return;\r\n    \r\n    const { deltaX, deltaY, deltaMode, ctrlKey, shiftKey } = event;\r\n    \r\n    // Detect precision vs mouse wheel\r\n    const isPrecisionTouchpad = Math.abs(deltaY) < 100 && deltaMode === 0;\r\n    \r\n    if (isPrecisionTouchpad) {\r\n      // Handle precision touchpad gestures\r\n      if (ctrlKey) {\r\n        // Zoom gesture\r\n        this.triggerGesture('zoom', { \r\n          delta: deltaY * this.scrollSensitivity,\r\n          event \r\n        });\r\n        event.preventDefault();\r\n      } else if (shiftKey) {\r\n        // Horizontal scroll\r\n        this.triggerGesture('horizontalScroll', { \r\n          delta: deltaX * this.scrollSensitivity,\r\n          event \r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  triggerGesture(name, data) {\r\n    const callback = this.gestureCallbacks.get(name);\r\n    if (callback) {\r\n      callback(data);\r\n    }\r\n  }\r\n\r\n  registerGesture(name, callback) {\r\n    this.gestureCallbacks.set(name, callback);\r\n  }\r\n}\r\n\r\n// Initialize all touch and haptic systems\r\nexport const initAdvancedTouch = () => {\r\n  console.log('🎯 Initializing advanced touch and haptic systems...');\r\n  \r\n  // Initialize haptic feedback\r\n  const hapticManager = new HapticFeedbackManager();\r\n  window.hapticManager = hapticManager;\r\n  \r\n  // Initialize touch manager\r\n  const touchManager = new AdvancedTouchManager();\r\n  \r\n  // Initialize precision touchpad\r\n  const touchpadManager = new PrecisionTouchpadManager();\r\n  \r\n  // Set up global touch event handlers\r\n  document.addEventListener('touchstart', (e) => touchManager.handleTouch(e), { passive: false });\r\n  document.addEventListener('touchmove', (e) => touchManager.handleTouch(e), { passive: false });\r\n  document.addEventListener('touchend', (e) => touchManager.handleTouch(e), { passive: false });\r\n  \r\n  // Set up wheel events for precision touchpads\r\n  document.addEventListener('wheel', (e) => touchpadManager.handleWheel(e), { passive: false });\r\n  \r\n  // Add haptic feedback to common UI elements\r\n  document.addEventListener('click', (event) => {\r\n    if (event.target.matches('button, .btn, .touch-target')) {\r\n      hapticManager.buttonPress();\r\n    }\r\n  });\r\n  \r\n  // Long press detection\r\n  let longPressTimer;\r\n  document.addEventListener('touchstart', (event) => {\r\n    if (event.target.matches('.long-press-target')) {\r\n      longPressTimer = setTimeout(() => {\r\n        hapticManager.longPress();\r\n        event.target.dispatchEvent(new CustomEvent('longpress', { bubbles: true }));\r\n      }, 500);\r\n    }\r\n  });\r\n  \r\n  document.addEventListener('touchend', () => {\r\n    if (longPressTimer) {\r\n      clearTimeout(longPressTimer);\r\n      longPressTimer = null;\r\n    }\r\n  });\r\n  \r\n  console.log('✅ Advanced touch and haptic systems initialized');\r\n  \r\n  return {\r\n    hapticManager,\r\n    touchManager,\r\n    touchpadManager\r\n  };\r\n};\r\n\r\n// Export managers and utilities\r\nexport {\r\n  HapticFeedbackManager,\r\n  AdvancedTouchManager,\r\n  PullToRefreshManager,\r\n  PrecisionTouchpadManager,\r\n  HapticPatterns\r\n};\r\n\r\nexport default {\r\n  initAdvancedTouch,\r\n  HapticFeedbackManager,\r\n  AdvancedTouchManager,\r\n  PullToRefreshManager,\r\n  PrecisionTouchpadManager\r\n};","/**\r\n * Next-Generation PWA Service\r\n * Advanced PWA features for modern browsers and smartphones\r\n * Supports: Background sync, web push notifications, file system access, widgets\r\n */\r\n\r\n// Background Sync Manager for offline actions\r\nclass BackgroundSyncManager {\r\n  constructor() {\r\n    this.pendingActions = new Map();\r\n    this.syncTags = {\r\n      SEND_MESSAGE: 'send-message',\r\n      UPLOAD_FILE: 'upload-file',\r\n      UPDATE_PROFILE: 'update-profile',\r\n      DELETE_MESSAGE: 'delete-message'\r\n    };\r\n    \r\n    this.init();\r\n  }\r\n\r\n  async init() {\r\n    if ('serviceWorker' in navigator && 'sync' in window.ServiceWorkerRegistration.prototype) {\r\n      console.log('📡 Background sync is supported');\r\n      await this.registerSyncEvents();\r\n    } else {\r\n      console.warn('Background sync not supported, using fallback');\r\n      this.setupFallbackSync();\r\n    }\r\n  }\r\n\r\n  // Register sync events with service worker\r\n  async registerSyncEvents() {\r\n    try {\r\n      const registration = await navigator.serviceWorker.ready;\r\n      \r\n      // Listen for sync events\r\n      registration.addEventListener('sync', (event) => {\r\n        console.log('🔄 Background sync event:', event.tag);\r\n        this.handleSyncEvent(event);\r\n      });\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to register sync events:', error);\r\n    }\r\n  }\r\n\r\n  // Queue action for background sync\r\n  async queueAction(tag, data) {\r\n    const actionId = `${tag}-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n    \r\n    // Store action data\r\n    this.pendingActions.set(actionId, {\r\n      tag,\r\n      data,\r\n      timestamp: Date.now(),\r\n      retries: 0\r\n    });\r\n    \r\n    // Save to IndexedDB for persistence\r\n    await this.saveToStorage(actionId, { tag, data });\r\n    \r\n    // Request background sync\r\n    try {\r\n      const registration = await navigator.serviceWorker.ready;\r\n      await registration.sync.register(tag);\r\n      console.log(`📤 Queued action for background sync: ${tag}`);\r\n    } catch (error) {\r\n      console.error('Failed to register background sync:', error);\r\n      // Fallback to immediate execution\r\n      this.executeAction(actionId);\r\n    }\r\n    \r\n    return actionId;\r\n  }\r\n\r\n  // Handle sync event\r\n  async handleSyncEvent(event) {\r\n    const { tag } = event;\r\n    \r\n    event.waitUntil(this.processSyncTag(tag));\r\n  }\r\n\r\n  // Process actions for a specific sync tag\r\n  async processSyncTag(tag) {\r\n    const actions = Array.from(this.pendingActions.values())\r\n      .filter(action => action.tag === tag);\r\n    \r\n    for (const action of actions) {\r\n      try {\r\n        await this.executeAction(action);\r\n        this.pendingActions.delete(action.id);\r\n        await this.removeFromStorage(action.id);\r\n      } catch (error) {\r\n        console.error(`Failed to execute sync action ${action.tag}:`, error);\r\n        action.retries++;\r\n        \r\n        // Remove after 3 failed retries\r\n        if (action.retries >= 3) {\r\n          this.pendingActions.delete(action.id);\r\n          await this.removeFromStorage(action.id);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Execute specific action\r\n  async executeAction(action) {\r\n    const { tag, data } = action;\r\n    \r\n    switch (tag) {\r\n      case this.syncTags.SEND_MESSAGE:\r\n        return await this.sendMessage(data);\r\n      case this.syncTags.UPLOAD_FILE:\r\n        return await this.uploadFile(data);\r\n      case this.syncTags.UPDATE_PROFILE:\r\n        return await this.updateProfile(data);\r\n      case this.syncTags.DELETE_MESSAGE:\r\n        return await this.deleteMessage(data);\r\n      default:\r\n        throw new Error(`Unknown sync tag: ${tag}`);\r\n    }\r\n  }\r\n\r\n  // Action implementations\r\n  async sendMessage(data) {\r\n    const response = await fetch('/api/messages', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(data)\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`Failed to send message: ${response.status}`);\r\n    }\r\n    \r\n    return response.json();\r\n  }\r\n\r\n  async uploadFile(data) {\r\n    const formData = new FormData();\r\n    formData.append('file', data.file);\r\n    formData.append('metadata', JSON.stringify(data.metadata));\r\n    \r\n    const response = await fetch('/api/upload', {\r\n      method: 'POST',\r\n      body: formData\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`Failed to upload file: ${response.status}`);\r\n    }\r\n    \r\n    return response.json();\r\n  }\r\n\r\n  async updateProfile(data) {\r\n    const response = await fetch('/api/profile', {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(data)\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`Failed to update profile: ${response.status}`);\r\n    }\r\n    \r\n    return response.json();\r\n  }\r\n\r\n  async deleteMessage(data) {\r\n    const response = await fetch(`/api/messages/${data.messageId}`, {\r\n      method: 'DELETE'\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`Failed to delete message: ${response.status}`);\r\n    }\r\n    \r\n    return response.json();\r\n  }\r\n\r\n  // Storage helpers\r\n  async saveToStorage(id, data) {\r\n    try {\r\n      const stored = JSON.parse(localStorage.getItem('pwa-sync-queue') || '{}');\r\n      stored[id] = data;\r\n      localStorage.setItem('pwa-sync-queue', JSON.stringify(stored));\r\n    } catch (error) {\r\n      console.error('Failed to save sync data:', error);\r\n    }\r\n  }\r\n\r\n  async removeFromStorage(id) {\r\n    try {\r\n      const stored = JSON.parse(localStorage.getItem('pwa-sync-queue') || '{}');\r\n      delete stored[id];\r\n      localStorage.setItem('pwa-sync-queue', JSON.stringify(stored));\r\n    } catch (error) {\r\n      console.error('Failed to remove sync data:', error);\r\n    }\r\n  }\r\n\r\n  // Fallback sync for unsupported browsers\r\n  setupFallbackSync() {\r\n    // Check for pending actions every 30 seconds when online\r\n    setInterval(() => {\r\n      if (navigator.onLine && this.pendingActions.size > 0) {\r\n        this.processPendingActions();\r\n      }\r\n    }, 30000);\r\n    \r\n    // Process actions when coming back online\r\n    window.addEventListener('online', () => {\r\n      this.processPendingActions();\r\n    });\r\n  }\r\n\r\n  async processPendingActions() {\r\n    const actions = Array.from(this.pendingActions.values());\r\n    \r\n    for (const action of actions) {\r\n      try {\r\n        await this.executeAction(action);\r\n        this.pendingActions.delete(action.id);\r\n      } catch (error) {\r\n        console.error('Fallback sync failed:', error);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Web Push Notifications Manager\r\nclass WebPushManager {\r\n  constructor() {\r\n    this.subscription = null;\r\n    this.publicKey = 'BMxI8oi0XLh8P3J9mHqX9Y2qV3nR8sK7fE4pD2vW1gH6jS8uN9mA5bC7eF0gH2iJ4k'; // Replace with your VAPID public key\r\n    this.isSupported = this.checkSupport();\r\n  }\r\n\r\n  checkSupport() {\r\n    return 'serviceWorker' in navigator && \r\n           'PushManager' in window && \r\n           'Notification' in window;\r\n  }\r\n\r\n  // Request permission and subscribe to push notifications\r\n  async subscribe() {\r\n    if (!this.isSupported) {\r\n      throw new Error('Push notifications not supported');\r\n    }\r\n\r\n    // Request notification permission\r\n    const permission = await Notification.requestPermission();\r\n    \r\n    if (permission !== 'granted') {\r\n      throw new Error('Notification permission denied');\r\n    }\r\n\r\n    try {\r\n      const registration = await navigator.serviceWorker.ready;\r\n      \r\n      // Subscribe to push notifications\r\n      this.subscription = await registration.pushManager.subscribe({\r\n        userVisibleOnly: true,\r\n        applicationServerKey: this.urlBase64ToUint8Array(this.publicKey)\r\n      });\r\n\r\n      // Send subscription to server\r\n      await this.sendSubscriptionToServer(this.subscription);\r\n      \r\n      console.log('📱 Push notifications subscribed');\r\n      return this.subscription;\r\n    } catch (error) {\r\n      console.error('Failed to subscribe to push notifications:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Unsubscribe from push notifications\r\n  async unsubscribe() {\r\n    if (this.subscription) {\r\n      await this.subscription.unsubscribe();\r\n      await this.removeSubscriptionFromServer(this.subscription);\r\n      this.subscription = null;\r\n      console.log('📱 Push notifications unsubscribed');\r\n    }\r\n  }\r\n\r\n  // Check if user is subscribed\r\n  async getSubscription() {\r\n    if (!this.isSupported) return null;\r\n    \r\n    try {\r\n      const registration = await navigator.serviceWorker.ready;\r\n      this.subscription = await registration.pushManager.getSubscription();\r\n      return this.subscription;\r\n    } catch (error) {\r\n      console.error('Failed to get push subscription:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Send subscription to server\r\n  async sendSubscriptionToServer(subscription) {\r\n    try {\r\n      const response = await fetch('/api/push/subscribe', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(subscription)\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Failed to send subscription: ${response.status}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to send subscription to server:', error);\r\n    }\r\n  }\r\n\r\n  // Remove subscription from server\r\n  async removeSubscriptionFromServer(subscription) {\r\n    try {\r\n      const response = await fetch('/api/push/unsubscribe', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(subscription)\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Failed to remove subscription: ${response.status}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to remove subscription from server:', error);\r\n    }\r\n  }\r\n\r\n  // Utility function to convert VAPID key\r\n  urlBase64ToUint8Array(base64String) {\r\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n    const base64 = (base64String + padding)\r\n      .replace(/-/g, '+')\r\n      .replace(/_/g, '/');\r\n\r\n    const rawData = window.atob(base64);\r\n    const outputArray = new Uint8Array(rawData.length);\r\n\r\n    for (let i = 0; i < rawData.length; ++i) {\r\n      outputArray[i] = rawData.charCodeAt(i);\r\n    }\r\n    return outputArray;\r\n  }\r\n}\r\n\r\n// File System Access Manager (for supported browsers)\r\nclass FileSystemAccessManager {\r\n  constructor() {\r\n    this.isSupported = this.checkSupport();\r\n    this.fileHandles = new Map();\r\n  }\r\n\r\n  checkSupport() {\r\n    return 'showOpenFilePicker' in window && \r\n           'showSaveFilePicker' in window && \r\n           'showDirectoryPicker' in window;\r\n  }\r\n\r\n  // Open file picker\r\n  async openFile(options = {}) {\r\n    if (!this.isSupported) {\r\n      throw new Error('File System Access API not supported');\r\n    }\r\n\r\n    try {\r\n      const [fileHandle] = await window.showOpenFilePicker({\r\n        types: [{\r\n          description: 'All files',\r\n          accept: { '*/*': [] }\r\n        }],\r\n        excludeAcceptAllOption: false,\r\n        multiple: false,\r\n        ...options\r\n      });\r\n\r\n      const file = await fileHandle.getFile();\r\n      this.fileHandles.set(file.name, fileHandle);\r\n      \r\n      return { file, handle: fileHandle };\r\n    } catch (error) {\r\n      if (error.name === 'AbortError') {\r\n        return null; // User cancelled\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Save file\r\n  async saveFile(data, suggestedName = 'untitled.txt', options = {}) {\r\n    if (!this.isSupported) {\r\n      // Fallback to download\r\n      this.downloadFile(data, suggestedName);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const fileHandle = await window.showSaveFilePicker({\r\n        suggestedName,\r\n        types: [{\r\n          description: 'Text files',\r\n          accept: { 'text/plain': ['.txt'] }\r\n        }],\r\n        ...options\r\n      });\r\n\r\n      const writable = await fileHandle.createWritable();\r\n      await writable.write(data);\r\n      await writable.close();\r\n\r\n      console.log('💾 File saved successfully');\r\n      return fileHandle;\r\n    } catch (error) {\r\n      if (error.name === 'AbortError') {\r\n        return null; // User cancelled\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Open directory\r\n  async openDirectory() {\r\n    if (!this.isSupported) {\r\n      throw new Error('Directory access not supported');\r\n    }\r\n\r\n    try {\r\n      const directoryHandle = await window.showDirectoryPicker();\r\n      return directoryHandle;\r\n    } catch (error) {\r\n      if (error.name === 'AbortError') {\r\n        return null; // User cancelled\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Fallback download for unsupported browsers\r\n  downloadFile(data, filename) {\r\n    const blob = new Blob([data], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    \r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = filename;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n  }\r\n}\r\n\r\n// Widget Manager (for supported platforms)\r\nclass WidgetManager {\r\n  constructor() {\r\n    this.isSupported = this.checkSupport();\r\n    this.widgets = new Map();\r\n  }\r\n\r\n  checkSupport() {\r\n    return 'getInstalledRelatedApps' in navigator ||\r\n           'updateViaCache' in ServiceWorkerRegistration.prototype;\r\n  }\r\n\r\n  // Register widget\r\n  async registerWidget(widgetData) {\r\n    if (!this.isSupported) {\r\n      console.warn('Widgets not supported on this platform');\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      // Send widget data to service worker\r\n      const registration = await navigator.serviceWorker.ready;\r\n      registration.active?.postMessage({\r\n        type: 'REGISTER_WIDGET',\r\n        data: widgetData\r\n      });\r\n\r\n      this.widgets.set(widgetData.tag, widgetData);\r\n      console.log('📱 Widget registered:', widgetData.tag);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Failed to register widget:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Update widget data\r\n  async updateWidget(tag, data) {\r\n    if (!this.widgets.has(tag)) {\r\n      console.warn(`Widget ${tag} not found`);\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      const registration = await navigator.serviceWorker.ready;\r\n      registration.active?.postMessage({\r\n        type: 'UPDATE_WIDGET',\r\n        tag,\r\n        data\r\n      });\r\n\r\n      console.log('📱 Widget updated:', tag);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Failed to update widget:', error);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\n// Main Next-Gen PWA Manager\r\nclass NextGenPWAManager {\r\n  constructor() {\r\n    this.backgroundSync = new BackgroundSyncManager();\r\n    this.webPush = new WebPushManager();\r\n    this.fileSystem = new FileSystemAccessManager();\r\n    this.widgets = new WidgetManager();\r\n    \r\n    this.isInstalled = false;\r\n    this.deferredPrompt = null;\r\n  }\r\n\r\n  async init() {\r\n    console.log('🚀 Initializing Next-Gen PWA features...');\r\n    \r\n    // Check if app is installed\r\n    await this.checkInstallStatus();\r\n    \r\n    // Set up install prompt\r\n    this.setupInstallPrompt();\r\n    \r\n    // Initialize widgets\r\n    await this.initializeWidgets();\r\n    \r\n    // Set up share target handling\r\n    this.setupShareTargetHandling();\r\n    \r\n    // Set up protocol handlers\r\n    this.setupProtocolHandlers();\r\n    \r\n    console.log('✅ Next-Gen PWA features initialized');\r\n  }\r\n\r\n  // Check if PWA is installed\r\n  async checkInstallStatus() {\r\n    try {\r\n      if ('getInstalledRelatedApps' in navigator) {\r\n        const relatedApps = await navigator.getInstalledRelatedApps();\r\n        this.isInstalled = relatedApps.length > 0;\r\n      } else {\r\n        // Fallback detection\r\n        this.isInstalled = window.matchMedia('(display-mode: standalone)').matches ||\r\n                          window.navigator.standalone === true;\r\n      }\r\n      \r\n      console.log('📱 PWA install status:', this.isInstalled ? 'Installed' : 'Not installed');\r\n    } catch (error) {\r\n      console.error('Failed to check install status:', error);\r\n    }\r\n  }\r\n\r\n  // Set up install prompt\r\n  setupInstallPrompt() {\r\n    window.addEventListener('beforeinstallprompt', (event) => {\r\n      event.preventDefault();\r\n      this.deferredPrompt = event;\r\n      \r\n      // Show custom install prompt\r\n      this.showInstallPrompt();\r\n    });\r\n\r\n    window.addEventListener('appinstalled', () => {\r\n      this.isInstalled = true;\r\n      this.deferredPrompt = null;\r\n      console.log('📱 PWA installed successfully');\r\n    });\r\n  }\r\n\r\n  // Show custom install prompt\r\n  showInstallPrompt() {\r\n    // Create and show install banner\r\n    const banner = document.createElement('div');\r\n    banner.className = 'pwa-install-banner';\r\n    banner.innerHTML = `\r\n      <div class=\"install-content\">\r\n        <div class=\"install-icon\">📱</div>\r\n        <div class=\"install-text\">\r\n          <div class=\"install-title\">Install Quibish</div>\r\n          <div class=\"install-subtitle\">Get the full app experience</div>\r\n        </div>\r\n        <div class=\"install-actions\">\r\n          <button class=\"install-btn primary\" data-action=\"install\">Install</button>\r\n          <button class=\"install-btn secondary\" data-action=\"dismiss\">Later</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    banner.addEventListener('click', async (event) => {\r\n      const action = event.target.dataset.action;\r\n      \r\n      if (action === 'install') {\r\n        await this.installPWA();\r\n      }\r\n      \r\n      banner.remove();\r\n    });\r\n\r\n    document.body.appendChild(banner);\r\n  }\r\n\r\n  // Install PWA\r\n  async installPWA() {\r\n    if (!this.deferredPrompt) {\r\n      console.warn('No install prompt available');\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      this.deferredPrompt.prompt();\r\n      const { outcome } = await this.deferredPrompt.userChoice;\r\n      \r\n      if (outcome === 'accepted') {\r\n        console.log('📱 User accepted PWA install');\r\n      } else {\r\n        console.log('📱 User dismissed PWA install');\r\n      }\r\n      \r\n      this.deferredPrompt = null;\r\n      return outcome === 'accepted';\r\n    } catch (error) {\r\n      console.error('Failed to install PWA:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Initialize widgets\r\n  async initializeWidgets() {\r\n    await this.widgets.registerWidget({\r\n      tag: 'quick-chat',\r\n      name: 'Quick Chat',\r\n      data: {\r\n        unreadCount: 0,\r\n        lastMessage: 'No new messages',\r\n        timestamp: Date.now()\r\n      }\r\n    });\r\n  }\r\n\r\n  // Set up share target handling\r\n  setupShareTargetHandling() {\r\n    // Handle shared content\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    \r\n    if (urlParams.get('action') === 'share') {\r\n      const title = urlParams.get('title');\r\n      const text = urlParams.get('text');\r\n      const url = urlParams.get('url');\r\n      \r\n      this.handleSharedContent({ title, text, url });\r\n    }\r\n  }\r\n\r\n  // Handle shared content\r\n  handleSharedContent(content) {\r\n    console.log('📤 Handling shared content:', content);\r\n    \r\n    // Dispatch custom event for the app to handle\r\n    const event = new CustomEvent('pwa-content-shared', {\r\n      detail: content\r\n    });\r\n    \r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  // Set up protocol handlers\r\n  setupProtocolHandlers() {\r\n    // Handle custom protocol links\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const protocol = urlParams.get('protocol');\r\n    \r\n    if (protocol) {\r\n      this.handleProtocolRequest(protocol);\r\n    }\r\n  }\r\n\r\n  // Handle protocol requests\r\n  handleProtocolRequest(protocol) {\r\n    console.log('🔗 Handling protocol request:', protocol);\r\n    \r\n    // Parse protocol and dispatch appropriate action\r\n    if (protocol.startsWith('web+quibish://')) {\r\n      const action = protocol.replace('web+quibish://', '');\r\n      \r\n      const event = new CustomEvent('pwa-protocol-handled', {\r\n        detail: { protocol, action }\r\n      });\r\n      \r\n      window.dispatchEvent(event);\r\n    }\r\n  }\r\n\r\n  // Public API methods\r\n  async queueBackgroundAction(tag, data) {\r\n    return await this.backgroundSync.queueAction(tag, data);\r\n  }\r\n\r\n  async subscribeToPush() {\r\n    return await this.webPush.subscribe();\r\n  }\r\n\r\n  async unsubscribeFromPush() {\r\n    return await this.webPush.unsubscribe();\r\n  }\r\n\r\n  async openFileDialog(options) {\r\n    return await this.fileSystem.openFile(options);\r\n  }\r\n\r\n  async saveFile(data, name, options) {\r\n    return await this.fileSystem.saveFile(data, name, options);\r\n  }\r\n\r\n  async updateWidgetData(tag, data) {\r\n    return await this.widgets.updateWidget(tag, data);\r\n  }\r\n}\r\n\r\n// Initialize and export\r\nexport const initNextGenPWA = async () => {\r\n  const pwaManager = new NextGenPWAManager();\r\n  await pwaManager.init();\r\n  \r\n  // Make available globally\r\n  window.nextGenPWA = pwaManager;\r\n  \r\n  return pwaManager;\r\n};\r\n\r\nexport {\r\n  NextGenPWAManager,\r\n  BackgroundSyncManager,\r\n  WebPushManager,\r\n  FileSystemAccessManager,\r\n  WidgetManager\r\n};\r\n\r\nexport default {\r\n  initNextGenPWA,\r\n  NextGenPWAManager\r\n};","/**\r\n * Modern Smartphone Performance Optimizer\r\n * Advanced performance optimizations for high-end smartphones\r\n * Supports: GPU acceleration, high refresh rates, advanced caching, memory optimization\r\n */\r\n\r\n// GPU Acceleration Manager\r\nclass GPUAccelerationManager {\r\n  constructor() {\r\n    this.isSupported = this.checkGPUSupport();\r\n    this.acceleratedElements = new WeakSet();\r\n    this.performanceLevel = this.detectPerformanceLevel();\r\n    this.frameTimings = [];\r\n    this.targetFPS = 60;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  // Check GPU acceleration support\r\n  checkGPUSupport() {\r\n    const canvas = document.createElement('canvas');\r\n    const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\r\n    \r\n    if (!gl) return false;\r\n    \r\n    const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');\r\n    if (debugInfo) {\r\n      const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);\r\n      console.log('🎮 GPU Renderer:', renderer);\r\n    }\r\n    \r\n    return true;\r\n  }\r\n\r\n  // Detect device performance level\r\n  detectPerformanceLevel() {\r\n    const cores = navigator.hardwareConcurrency || 4;\r\n    const memory = navigator.deviceMemory || 4;\r\n    const connection = navigator.connection;\r\n    \r\n    let score = 0;\r\n    \r\n    // CPU cores\r\n    if (cores >= 8) score += 3;\r\n    else if (cores >= 6) score += 2;\r\n    else if (cores >= 4) score += 1;\r\n    \r\n    // Memory\r\n    if (memory >= 8) score += 3;\r\n    else if (memory >= 6) score += 2;\r\n    else if (memory >= 4) score += 1;\r\n    \r\n    // Network quality\r\n    if (connection) {\r\n      if (connection.effectiveType === '4g') score += 2;\r\n      else if (connection.effectiveType === '3g') score += 1;\r\n    }\r\n    \r\n    // Classify performance level\r\n    if (score >= 7) return 'high';\r\n    else if (score >= 4) return 'medium';\r\n    else return 'low';\r\n  }\r\n\r\n  // Initialize GPU acceleration\r\n  init() {\r\n    console.log(`🎮 GPU Performance Level: ${this.performanceLevel}`);\r\n    \r\n    this.setupFrameTimingMonitor();\r\n    this.optimizeForPerformanceLevel();\r\n    this.setupIntersectionObserver();\r\n  }\r\n\r\n  // Setup frame timing monitor\r\n  setupFrameTimingMonitor() {\r\n    let lastFrameTime = performance.now();\r\n    \r\n    const measureFrame = (currentTime) => {\r\n      const frameDuration = currentTime - lastFrameTime;\r\n      this.frameTimings.push(frameDuration);\r\n      \r\n      // Keep only last 60 frames\r\n      if (this.frameTimings.length > 60) {\r\n        this.frameTimings.shift();\r\n      }\r\n      \r\n      // Adjust performance based on frame times\r\n      this.adjustPerformanceSettings();\r\n      \r\n      lastFrameTime = currentTime;\r\n      requestAnimationFrame(measureFrame);\r\n    };\r\n    \r\n    requestAnimationFrame(measureFrame);\r\n  }\r\n\r\n  // Adjust performance settings based on frame timing\r\n  adjustPerformanceSettings() {\r\n    if (this.frameTimings.length < 30) return;\r\n    \r\n    const avgFrameTime = this.frameTimings.reduce((a, b) => a + b, 0) / this.frameTimings.length;\r\n    const currentFPS = 1000 / avgFrameTime;\r\n    \r\n    // Detect refresh rate\r\n    if (currentFPS > 90 && this.targetFPS === 60) {\r\n      this.targetFPS = 120;\r\n      this.enableHighRefreshOptimizations();\r\n    } else if (currentFPS < 45 && this.performanceLevel === 'high') {\r\n      this.enablePerformanceMode();\r\n    }\r\n  }\r\n\r\n  // Enable high refresh rate optimizations\r\n  enableHighRefreshOptimizations() {\r\n    document.documentElement.classList.add('high-refresh-mode');\r\n    document.documentElement.style.setProperty('--animation-multiplier', '0.83');\r\n    \r\n    console.log('🚀 High refresh rate optimizations enabled');\r\n  }\r\n\r\n  // Enable performance mode for struggling devices\r\n  enablePerformanceMode() {\r\n    document.documentElement.classList.add('performance-mode');\r\n    document.documentElement.style.setProperty('--animation-multiplier', '1.2');\r\n    \r\n    // Reduce visual effects\r\n    this.reduceVisualEffects();\r\n    \r\n    console.log('⚡ Performance mode enabled');\r\n  }\r\n\r\n  // Reduce visual effects for better performance\r\n  reduceVisualEffects() {\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      .performance-mode .blur-effect,\r\n      .performance-mode .backdrop-filter {\r\n        backdrop-filter: none !important;\r\n        filter: none !important;\r\n      }\r\n      \r\n      .performance-mode .shadow-effect {\r\n        box-shadow: none !important;\r\n      }\r\n      \r\n      .performance-mode .gradient-background {\r\n        background: solid !important;\r\n      }\r\n    `;\r\n    document.head.appendChild(style);\r\n  }\r\n\r\n  // Optimize specific elements for GPU acceleration\r\n  accelerateElement(element, options = {}) {\r\n    if (!element || this.acceleratedElements.has(element)) return;\r\n    \r\n    const {\r\n      willChange = 'transform',\r\n      transform3d = true,\r\n      isolation = true\r\n    } = options;\r\n    \r\n    // Apply GPU acceleration styles\r\n    element.style.willChange = willChange;\r\n    \r\n    if (transform3d) {\r\n      element.style.transform = element.style.transform \r\n        ? `${element.style.transform} translateZ(0)`\r\n        : 'translateZ(0)';\r\n    }\r\n    \r\n    if (isolation) {\r\n      element.style.isolation = 'isolate';\r\n    }\r\n    \r\n    element.style.backfaceVisibility = 'hidden';\r\n    element.style.perspective = '1000px';\r\n    \r\n    this.acceleratedElements.add(element);\r\n  }\r\n\r\n  // Setup intersection observer for performance optimization\r\n  setupIntersectionObserver() {\r\n    if (!('IntersectionObserver' in window)) return;\r\n    \r\n    const observer = new IntersectionObserver((entries) => {\r\n      entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n          this.accelerateElement(entry.target);\r\n        } else {\r\n          this.deaccelerateElement(entry.target);\r\n        }\r\n      });\r\n    }, {\r\n      rootMargin: '50px',\r\n      threshold: 0.1\r\n    });\r\n    \r\n    // Observe elements with specific classes\r\n    document.querySelectorAll('.gpu-optimize, .animate-on-scroll, .parallax').forEach(el => {\r\n      observer.observe(el);\r\n    });\r\n  }\r\n\r\n  // Remove GPU acceleration when not needed\r\n  deaccelerateElement(element) {\r\n    if (!this.acceleratedElements.has(element)) return;\r\n    \r\n    element.style.willChange = 'auto';\r\n    element.style.transform = element.style.transform.replace('translateZ(0)', '').trim();\r\n    \r\n    this.acceleratedElements.delete(element);\r\n  }\r\n}\r\n\r\n// Advanced Memory Manager for Smartphones\r\nclass SmartphoneMemoryManager {\r\n  constructor() {\r\n    this.memoryPressureLevel = 'normal';\r\n    this.memoryObserver = null;\r\n    this.componentCache = new Map();\r\n    this.imageCache = new Map();\r\n    this.maxCacheSize = this.calculateOptimalCacheSize();\r\n    \r\n    this.init();\r\n  }\r\n\r\n  // Calculate optimal cache size based on device capabilities\r\n  calculateOptimalCacheSize() {\r\n    const deviceMemory = navigator.deviceMemory || 4;\r\n    const connectionSpeed = navigator.connection?.effectiveType || '4g';\r\n    \r\n    let cacheSize = 50; // Base 50MB\r\n    \r\n    // Adjust based on device memory\r\n    if (deviceMemory >= 8) cacheSize = 200;\r\n    else if (deviceMemory >= 6) cacheSize = 150;\r\n    else if (deviceMemory >= 4) cacheSize = 100;\r\n    else cacheSize = 50;\r\n    \r\n    // Adjust based on connection\r\n    if (connectionSpeed === '4g') cacheSize *= 1.2;\r\n    else if (connectionSpeed === '3g') cacheSize *= 0.8;\r\n    else if (connectionSpeed === '2g') cacheSize *= 0.5;\r\n    \r\n    return Math.round(cacheSize * 1024 * 1024); // Convert to bytes\r\n  }\r\n\r\n  init() {\r\n    this.setupMemoryPressureObserver();\r\n    this.setupPeriodicCleanup();\r\n    this.setupVisibilityChangeHandler();\r\n    \r\n    console.log(`📱 Smartphone memory manager initialized (cache: ${Math.round(this.maxCacheSize / 1024 / 1024)}MB)`);\r\n  }\r\n\r\n  // Setup memory pressure observer\r\n  setupMemoryPressureObserver() {\r\n    // Modern memory pressure API\r\n    if ('memory' in performance) {\r\n      const checkMemoryPressure = () => {\r\n        const memInfo = performance.memory;\r\n        const usageRatio = memInfo.usedJSHeapSize / memInfo.jsHeapSizeLimit;\r\n        \r\n        if (usageRatio > 0.9) {\r\n          this.handleMemoryPressure('critical');\r\n        } else if (usageRatio > 0.7) {\r\n          this.handleMemoryPressure('high');\r\n        } else if (usageRatio > 0.5) {\r\n          this.handleMemoryPressure('medium');\r\n        } else {\r\n          this.handleMemoryPressure('normal');\r\n        }\r\n      };\r\n      \r\n      // Check every 10 seconds\r\n      setInterval(checkMemoryPressure, 10000);\r\n      checkMemoryPressure(); // Initial check\r\n    }\r\n    \r\n    // Fallback for devices without memory API\r\n    if (navigator.deviceMemory && navigator.deviceMemory <= 4) {\r\n      this.memoryPressureLevel = 'high';\r\n      this.handleMemoryPressure('high');\r\n    }\r\n  }\r\n\r\n  // Handle different memory pressure levels\r\n  handleMemoryPressure(level) {\r\n    if (level === this.memoryPressureLevel) return;\r\n    \r\n    this.memoryPressureLevel = level;\r\n    console.log(`📱 Memory pressure: ${level}`);\r\n    \r\n    switch (level) {\r\n      case 'critical':\r\n        this.emergencyCleanup();\r\n        break;\r\n      case 'high':\r\n        this.aggressiveCleanup();\r\n        break;\r\n      case 'medium':\r\n        this.moderateCleanup();\r\n        break;\r\n      case 'normal':\r\n        this.normalOperation();\r\n        break;\r\n    }\r\n    \r\n    // Dispatch custom event\r\n    window.dispatchEvent(new CustomEvent('memoryPressureChange', {\r\n      detail: { level, pressure: level }\r\n    }));\r\n  }\r\n\r\n  // Emergency cleanup for critical memory situations\r\n  emergencyCleanup() {\r\n    // Clear all caches\r\n    this.componentCache.clear();\r\n    this.imageCache.clear();\r\n    \r\n    // Force garbage collection if available\r\n    if (window.gc) {\r\n      window.gc();\r\n    }\r\n    \r\n    // Reduce cache sizes\r\n    this.maxCacheSize = Math.round(this.maxCacheSize * 0.5);\r\n    \r\n    // Disable non-essential features\r\n    document.documentElement.classList.add('low-memory-mode');\r\n    \r\n    console.log('🆘 Emergency memory cleanup performed');\r\n  }\r\n\r\n  // Aggressive cleanup for high memory pressure\r\n  aggressiveCleanup() {\r\n    // Clear 70% of caches\r\n    this.clearCachePercentage(0.7);\r\n    \r\n    // Reduce image quality\r\n    this.optimizeImages();\r\n    \r\n    // Defer non-critical operations\r\n    this.deferNonCriticalOperations();\r\n    \r\n    console.log('🧹 Aggressive memory cleanup performed');\r\n  }\r\n\r\n  // Moderate cleanup for medium memory pressure\r\n  moderateCleanup() {\r\n    // Clear 30% of caches\r\n    this.clearCachePercentage(0.3);\r\n    \r\n    // Optimize DOM\r\n    this.optimizeDOM();\r\n    \r\n    console.log('🧽 Moderate memory cleanup performed');\r\n  }\r\n\r\n  // Normal operation mode\r\n  normalOperation() {\r\n    document.documentElement.classList.remove('low-memory-mode');\r\n    this.maxCacheSize = this.calculateOptimalCacheSize();\r\n    \r\n    console.log('✅ Normal memory operation restored');\r\n  }\r\n\r\n  // Clear cache by percentage\r\n  clearCachePercentage(percentage) {\r\n    const componentEntries = Array.from(this.componentCache.entries());\r\n    const imageEntries = Array.from(this.imageCache.entries());\r\n    \r\n    const componentsToRemove = Math.floor(componentEntries.length * percentage);\r\n    const imagesToRemove = Math.floor(imageEntries.length * percentage);\r\n    \r\n    // Remove oldest entries first\r\n    componentEntries\r\n      .sort((a, b) => a[1].lastAccess - b[1].lastAccess)\r\n      .slice(0, componentsToRemove)\r\n      .forEach(([key]) => this.componentCache.delete(key));\r\n    \r\n    imageEntries\r\n      .sort((a, b) => a[1].lastAccess - b[1].lastAccess)\r\n      .slice(0, imagesToRemove)\r\n      .forEach(([key]) => this.imageCache.delete(key));\r\n  }\r\n\r\n  // Optimize images for memory pressure\r\n  optimizeImages() {\r\n    const images = document.querySelectorAll('img[src]');\r\n    \r\n    images.forEach(img => {\r\n      if (img.naturalWidth > 800) {\r\n        // Reduce image resolution\r\n        const canvas = document.createElement('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n        \r\n        canvas.width = Math.min(img.naturalWidth, 800);\r\n        canvas.height = Math.min(img.naturalHeight, 600);\r\n        \r\n        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n        img.src = canvas.toDataURL('image/jpeg', 0.8);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Defer non-critical operations\r\n  deferNonCriticalOperations() {\r\n    // Disable animations in low memory mode\r\n    document.documentElement.classList.add('disable-animations');\r\n    \r\n    // Defer lazy loading\r\n    window.dispatchEvent(new CustomEvent('deferLazyLoading'));\r\n    \r\n    // Pause video elements\r\n    document.querySelectorAll('video').forEach(video => {\r\n      if (!video.paused) {\r\n        video.pause();\r\n        video.dataset.wasPlaying = 'true';\r\n      }\r\n    });\r\n  }\r\n\r\n  // Optimize DOM structure\r\n  optimizeDOM() {\r\n    // Remove unused event listeners\r\n    this.cleanupEventListeners();\r\n    \r\n    // Clean up empty text nodes\r\n    this.cleanupTextNodes();\r\n    \r\n    // Optimize CSS\r\n    this.optimizeCSS();\r\n  }\r\n\r\n  // Setup periodic cleanup\r\n  setupPeriodicCleanup() {\r\n    setInterval(() => {\r\n      if (this.memoryPressureLevel === 'normal') {\r\n        this.routineCleanup();\r\n      }\r\n    }, 300000); // Every 5 minutes\r\n  }\r\n\r\n  // Routine cleanup during normal operation\r\n  routineCleanup() {\r\n    // Clear old cache entries\r\n    this.clearCachePercentage(0.1);\r\n    \r\n    // Clean up DOM\r\n    this.cleanupTextNodes();\r\n    \r\n    console.log('🔄 Routine memory cleanup performed');\r\n  }\r\n\r\n  // Setup visibility change handler\r\n  setupVisibilityChangeHandler() {\r\n    document.addEventListener('visibilitychange', () => {\r\n      if (document.hidden) {\r\n        // App went to background\r\n        this.handleBackgroundState();\r\n      } else {\r\n        // App came to foreground\r\n        this.handleForegroundState();\r\n      }\r\n    });\r\n  }\r\n\r\n  // Handle app going to background\r\n  handleBackgroundState() {\r\n    // Pause non-essential operations\r\n    this.pauseNonEssentialOperations();\r\n    \r\n    // Clear some caches\r\n    this.clearCachePercentage(0.2);\r\n    \r\n    console.log('📱 App backgrounded - memory optimized');\r\n  }\r\n\r\n  // Handle app coming to foreground\r\n  handleForegroundState() {\r\n    // Resume operations\r\n    this.resumeOperations();\r\n    \r\n    console.log('📱 App foregrounded - operations resumed');\r\n  }\r\n\r\n  // Cleanup helper methods\r\n  cleanupEventListeners() {\r\n    // Remove orphaned event listeners (simplified implementation)\r\n    const elements = document.querySelectorAll('[data-cleanup-listeners]');\r\n    elements.forEach(el => {\r\n      el.removeAttribute('data-cleanup-listeners');\r\n    });\r\n  }\r\n\r\n  cleanupTextNodes() {\r\n    const walker = document.createTreeWalker(\r\n      document.body,\r\n      NodeFilter.SHOW_TEXT,\r\n      {\r\n        acceptNode: (node) => {\r\n          return node.textContent.trim() === '' ? \r\n            NodeFilter.FILTER_ACCEPT : \r\n            NodeFilter.FILTER_REJECT;\r\n        }\r\n      }\r\n    );\r\n    \r\n    const emptyTextNodes = [];\r\n    let node;\r\n    \r\n    while (node = walker.nextNode()) {\r\n      emptyTextNodes.push(node);\r\n    }\r\n    \r\n    emptyTextNodes.forEach(textNode => {\r\n      textNode.parentNode?.removeChild(textNode);\r\n    });\r\n  }\r\n\r\n  optimizeCSS() {\r\n    // Remove unused CSS classes (simplified)\r\n    const unusedClasses = [];\r\n    \r\n    document.querySelectorAll('*').forEach(el => {\r\n      const classes = Array.from(el.classList);\r\n      classes.forEach(className => {\r\n        if (className.startsWith('temp-') || className.startsWith('old-')) {\r\n          el.classList.remove(className);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  pauseNonEssentialOperations() {\r\n    // Pause timers\r\n    window.dispatchEvent(new CustomEvent('pauseNonEssentialTimers'));\r\n    \r\n    // Pause animations\r\n    document.querySelectorAll('.animated').forEach(el => {\r\n      el.style.animationPlayState = 'paused';\r\n    });\r\n  }\r\n\r\n  resumeOperations() {\r\n    // Resume timers\r\n    window.dispatchEvent(new CustomEvent('resumeOperations'));\r\n    \r\n    // Resume animations\r\n    document.querySelectorAll('.animated').forEach(el => {\r\n      el.style.animationPlayState = 'running';\r\n    });\r\n    \r\n    // Resume videos that were playing\r\n    document.querySelectorAll('video[data-was-playing=\"true\"]').forEach(video => {\r\n      video.play();\r\n      video.removeAttribute('data-was-playing');\r\n    });\r\n  }\r\n}\r\n\r\n// Modern Caching Strategy Manager\r\nclass ModernCachingManager {\r\n  constructor() {\r\n    this.cacheStrategies = {\r\n      'static-assets': 'cache-first',\r\n      'api-data': 'network-first',\r\n      'user-content': 'cache-first',\r\n      'real-time': 'network-only'\r\n    };\r\n    \r\n    this.compressionSupport = this.checkCompressionSupport();\r\n    this.init();\r\n  }\r\n\r\n  checkCompressionSupport() {\r\n    const supported = [];\r\n    \r\n    if ('CompressionStream' in window) {\r\n      supported.push('gzip', 'deflate');\r\n    }\r\n    \r\n    if ('ReadableStream' in window && 'TransformStream' in window) {\r\n      supported.push('br'); // Brotli\r\n    }\r\n    \r\n    return supported;\r\n  }\r\n\r\n  init() {\r\n    this.setupServiceWorkerCaching();\r\n    this.setupIndexedDBCaching();\r\n    this.setupMemoryCaching();\r\n    \r\n    console.log('💾 Modern caching strategies initialized');\r\n  }\r\n\r\n  async setupServiceWorkerCaching() {\r\n    if ('serviceWorker' in navigator) {\r\n      try {\r\n        const registration = await navigator.serviceWorker.ready;\r\n        \r\n        // Send caching configuration to service worker\r\n        registration.active?.postMessage({\r\n          type: 'CONFIGURE_CACHING',\r\n          strategies: this.cacheStrategies,\r\n          compression: this.compressionSupport\r\n        });\r\n        \r\n      } catch (error) {\r\n        console.error('Failed to configure service worker caching:', error);\r\n      }\r\n    }\r\n  }\r\n\r\n  async setupIndexedDBCaching() {\r\n    if ('indexedDB' in window) {\r\n      try {\r\n        this.db = await this.openDatabase();\r\n        console.log('💾 IndexedDB caching ready');\r\n      } catch (error) {\r\n        console.error('Failed to setup IndexedDB caching:', error);\r\n      }\r\n    }\r\n  }\r\n\r\n  setupMemoryCaching() {\r\n    // Implement LRU cache with size limits\r\n    this.memoryCache = new Map();\r\n    this.maxMemoryCacheSize = 50 * 1024 * 1024; // 50MB\r\n    this.currentMemoryCacheSize = 0;\r\n  }\r\n\r\n  async openDatabase() {\r\n    return new Promise((resolve, reject) => {\r\n      const request = indexedDB.open('QuibishCache', 1);\r\n      \r\n      request.onerror = () => reject(request.error);\r\n      request.onsuccess = () => resolve(request.result);\r\n      \r\n      request.onupgradeneeded = (event) => {\r\n        const db = event.target.result;\r\n        \r\n        // Create object stores\r\n        if (!db.objectStoreNames.contains('apiCache')) {\r\n          const apiStore = db.createObjectStore('apiCache', { keyPath: 'url' });\r\n          apiStore.createIndex('timestamp', 'timestamp');\r\n        }\r\n        \r\n        if (!db.objectStoreNames.contains('assetCache')) {\r\n          const assetStore = db.createObjectStore('assetCache', { keyPath: 'url' });\r\n          assetStore.createIndex('timestamp', 'timestamp');\r\n        }\r\n      };\r\n    });\r\n  }\r\n}\r\n\r\n// Initialize all performance optimizations\r\nexport const initSmartphonePerformance = () => {\r\n  console.log('🚀 Initializing smartphone performance optimizations...');\r\n  \r\n  const gpuManager = new GPUAccelerationManager();\r\n  const memoryManager = new SmartphoneMemoryManager();\r\n  const cachingManager = new ModernCachingManager();\r\n  \r\n  // Make managers available globally\r\n  window.performanceManagers = {\r\n    gpu: gpuManager,\r\n    memory: memoryManager,\r\n    caching: cachingManager\r\n  };\r\n  \r\n  console.log('✅ Smartphone performance optimizations initialized');\r\n  \r\n  return {\r\n    gpuManager,\r\n    memoryManager,\r\n    cachingManager\r\n  };\r\n};\r\n\r\nexport {\r\n  GPUAccelerationManager,\r\n  SmartphoneMemoryManager,\r\n  ModernCachingManager\r\n};\r\n\r\nexport default {\r\n  initSmartphonePerformance,\r\n  GPUAccelerationManager,\r\n  SmartphoneMemoryManager,\r\n  ModernCachingManager\r\n};","/**\r\n * Adaptive UI and Display Manager\r\n * Dynamic interface adaptation for modern displays and devices\r\n * Supports: Foldable screens, dynamic island, adaptive brightness, ultra-wide displays\r\n */\r\n\r\n// Foldable Screen Manager\r\nclass FoldableScreenManager {\r\n  constructor() {\r\n    this.isFoldable = this.detectFoldableDevice();\r\n    this.foldState = 'unknown';\r\n    this.screenSpanning = this.detectScreenSpanning();\r\n    this.hinge = null;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  // Detect if device is foldable\r\n  detectFoldableDevice() {\r\n    // Check for foldable screen APIs\r\n    if ('screen' in window && 'isExtended' in window.screen) {\r\n      return window.screen.isExtended;\r\n    }\r\n    \r\n    // Check for CSS environment variables\r\n    if (CSS.supports('(orientation: fold)')) {\r\n      return true;\r\n    }\r\n    \r\n    // Check for specific foldable device patterns\r\n    const userAgent = navigator.userAgent.toLowerCase();\r\n    const foldableDevices = [\r\n      'galaxy fold', 'galaxy z fold', 'galaxy z flip',\r\n      'surface duo', 'pixel fold', 'xiaomi mix fold',\r\n      'huawei mate x', 'motorola razr'\r\n    ];\r\n    \r\n    return foldableDevices.some(device => userAgent.includes(device));\r\n  }\r\n\r\n  // Detect screen spanning\r\n  detectScreenSpanning() {\r\n    if ('getScreenDetails' in window) {\r\n      return this.getModernScreenDetails();\r\n    }\r\n    \r\n    // Fallback detection\r\n    const aspectRatio = window.innerWidth / window.innerHeight;\r\n    return aspectRatio > 2.5 || aspectRatio < 0.4; // Unusual aspect ratios\r\n  }\r\n\r\n  async getModernScreenDetails() {\r\n    try {\r\n      const screenDetails = await window.getScreenDetails();\r\n      return screenDetails.screens.length > 1;\r\n    } catch (error) {\r\n      console.warn('Screen Details API not available:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  init() {\r\n    if (!this.isFoldable) {\r\n      console.log('📱 Standard display detected');\r\n      return;\r\n    }\r\n    \r\n    console.log('📱 Foldable device detected');\r\n    \r\n    this.setupFoldStateMonitoring();\r\n    this.setupScreenSpanningAPI();\r\n    this.setupViewportSegmentation();\r\n    this.applyFoldableOptimizations();\r\n  }\r\n\r\n  // Monitor fold state changes\r\n  setupFoldStateMonitoring() {\r\n    // CSS Media Query approach\r\n    const foldQuery = window.matchMedia('(orientation: fold)');\r\n    foldQuery.addListener((e) => {\r\n      this.foldState = e.matches ? 'folded' : 'unfolded';\r\n      this.handleFoldStateChange();\r\n    });\r\n    \r\n    // Initial state\r\n    this.foldState = foldQuery.matches ? 'folded' : 'unfolded';\r\n    \r\n    // Viewport changes that might indicate folding\r\n    window.addEventListener('resize', () => {\r\n      this.detectFoldFromResize();\r\n    });\r\n    \r\n    // Orientation changes\r\n    window.addEventListener('orientationchange', () => {\r\n      setTimeout(() => this.detectFoldFromOrientation(), 200);\r\n    });\r\n  }\r\n\r\n  // Setup Screen Spanning API\r\n  setupScreenSpanningAPI() {\r\n    if ('screen' in window && 'onchange' in window.screen) {\r\n      window.screen.addEventListener('change', () => {\r\n        this.handleScreenSpanningChange();\r\n      });\r\n    }\r\n  }\r\n\r\n  // Setup Viewport Segmentation\r\n  setupViewportSegmentation() {\r\n    // CSS environment variables for viewport segments\r\n    const segmentVars = [\r\n      'viewport-segment-width', 'viewport-segment-height',\r\n      'viewport-segment-top', 'viewport-segment-left',\r\n      'viewport-segment-bottom', 'viewport-segment-right'\r\n    ];\r\n    \r\n    segmentVars.forEach(varName => {\r\n      if (CSS.supports(`padding: env(${varName} 0 0)`)) {\r\n        console.log(`📐 Viewport segment support: ${varName}`);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Detect fold state from resize events\r\n  detectFoldFromResize() {\r\n    const previousWidth = this.lastKnownWidth || window.innerWidth;\r\n    const currentWidth = window.innerWidth;\r\n    \r\n    // Significant width change might indicate folding\r\n    if (Math.abs(currentWidth - previousWidth) > 200) {\r\n      this.foldState = currentWidth < previousWidth ? 'folded' : 'unfolded';\r\n      this.handleFoldStateChange();\r\n    }\r\n    \r\n    this.lastKnownWidth = currentWidth;\r\n  }\r\n\r\n  // Detect fold state from orientation\r\n  detectFoldFromOrientation() {\r\n    const orientation = window.screen?.orientation?.angle || window.orientation || 0;\r\n    \r\n    // Some foldables change orientation when folded\r\n    if (orientation === 270 || orientation === 90) {\r\n      const aspectRatio = window.innerWidth / window.innerHeight;\r\n      \r\n      if (aspectRatio > 2 || aspectRatio < 0.5) {\r\n        this.foldState = 'spanning';\r\n      } else {\r\n        this.foldState = 'unfolded';\r\n      }\r\n    }\r\n    \r\n    this.handleFoldStateChange();\r\n  }\r\n\r\n  // Handle fold state changes\r\n  handleFoldStateChange() {\r\n    document.documentElement.className = document.documentElement.className\r\n      .replace(/fold-state-\\w+/g, '');\r\n    \r\n    document.documentElement.classList.add(`fold-state-${this.foldState}`);\r\n    \r\n    // Dispatch custom event\r\n    window.dispatchEvent(new CustomEvent('foldStateChange', {\r\n      detail: { state: this.foldState, spanning: this.screenSpanning }\r\n    }));\r\n    \r\n    console.log(`📱 Fold state changed: ${this.foldState}`);\r\n    \r\n    // Apply appropriate layout\r\n    this.applyFoldStateLayout();\r\n  }\r\n\r\n  // Handle screen spanning changes\r\n  handleScreenSpanningChange() {\r\n    this.screenSpanning = this.detectScreenSpanning();\r\n    \r\n    document.documentElement.classList.toggle('screen-spanning', this.screenSpanning);\r\n    \r\n    window.dispatchEvent(new CustomEvent('screenSpanningChange', {\r\n      detail: { spanning: this.screenSpanning }\r\n    }));\r\n  }\r\n\r\n  // Apply layout for current fold state\r\n  applyFoldStateLayout() {\r\n    switch (this.foldState) {\r\n      case 'folded':\r\n        this.applyFoldedLayout();\r\n        break;\r\n      case 'unfolded':\r\n        this.applyUnfoldedLayout();\r\n        break;\r\n      case 'spanning':\r\n        this.applySpanningLayout();\r\n        break;\r\n    }\r\n  }\r\n\r\n  applyFoldedLayout() {\r\n    // Compact layout for folded state\r\n    document.documentElement.classList.add('compact-layout');\r\n    document.documentElement.classList.remove('spanning-layout', 'expanded-layout');\r\n  }\r\n\r\n  applyUnfoldedLayout() {\r\n    // Expanded layout for unfolded state\r\n    document.documentElement.classList.add('expanded-layout');\r\n    document.documentElement.classList.remove('compact-layout', 'spanning-layout');\r\n  }\r\n\r\n  applySpanningLayout() {\r\n    // Dual-pane layout for spanning state\r\n    document.documentElement.classList.add('spanning-layout');\r\n    document.documentElement.classList.remove('compact-layout', 'expanded-layout');\r\n  }\r\n\r\n  applyFoldableOptimizations() {\r\n    // Add foldable-specific CSS\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      .fold-state-folded .main-content {\r\n        max-width: 100%;\r\n        padding: 8px;\r\n      }\r\n      \r\n      .fold-state-spanning .main-content {\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr;\r\n        gap: env(viewport-segment-width, 20px);\r\n      }\r\n      \r\n      .fold-state-unfolded .main-content {\r\n        max-width: 1200px;\r\n        margin: 0 auto;\r\n      }\r\n    `;\r\n    document.head.appendChild(style);\r\n  }\r\n}\r\n\r\n// Dynamic Island Manager (iPhone 14 Pro+)\r\nclass DynamicIslandManager {\r\n  constructor() {\r\n    this.hasDynamicIsland = this.detectDynamicIsland();\r\n    this.islandState = 'minimal';\r\n    this.activities = new Set();\r\n    \r\n    if (this.hasDynamicIsland) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  // Detect Dynamic Island presence\r\n  detectDynamicIsland() {\r\n    // iPhone 14 Pro and newer detection\r\n    const userAgent = navigator.userAgent;\r\n    const isIPhone = /iPhone/i.test(userAgent);\r\n    \r\n    if (!isIPhone) return false;\r\n    \r\n    // Check screen dimensions for iPhone 14 Pro/Pro Max\r\n    const screenHeight = Math.max(window.screen.height, window.screen.width);\r\n    const screenWidth = Math.min(window.screen.height, window.screen.width);\r\n    \r\n    // iPhone 14 Pro: 393x852, iPhone 14 Pro Max: 430x932\r\n    return (screenWidth === 393 && screenHeight === 852) ||\r\n           (screenWidth === 430 && screenHeight === 932);\r\n  }\r\n\r\n  init() {\r\n    console.log('🏝️ Dynamic Island detected');\r\n    \r\n    this.createDynamicIslandElement();\r\n    this.setupIslandObserver();\r\n    this.setupActivityManager();\r\n    \r\n    document.documentElement.classList.add('has-dynamic-island');\r\n  }\r\n\r\n  // Create virtual Dynamic Island element\r\n  createDynamicIslandElement() {\r\n    const island = document.createElement('div');\r\n    island.className = 'dynamic-island';\r\n    island.innerHTML = `\r\n      <div class=\"island-content\">\r\n        <div class=\"island-leading\"></div>\r\n        <div class=\"island-center\"></div>\r\n        <div class=\"island-trailing\"></div>\r\n      </div>\r\n    `;\r\n    \r\n    document.body.appendChild(island);\r\n    this.islandElement = island;\r\n  }\r\n\r\n  // Setup observer for island interactions\r\n  setupIslandObserver() {\r\n    if (this.islandElement) {\r\n      this.islandElement.addEventListener('click', () => {\r\n        this.handleIslandInteraction();\r\n      });\r\n      \r\n      this.islandElement.addEventListener('longpress', () => {\r\n        this.expandIsland();\r\n      });\r\n    }\r\n  }\r\n\r\n  // Setup activity manager\r\n  setupActivityManager() {\r\n    // Monitor for activities that should appear in Dynamic Island\r\n    this.monitorMediaPlayback();\r\n    this.monitorCallState();\r\n    this.monitorTimers();\r\n    this.monitorNotifications();\r\n  }\r\n\r\n  // Monitor media playback\r\n  monitorMediaPlayback() {\r\n    document.addEventListener('play', (e) => {\r\n      if (e.target.tagName === 'VIDEO' || e.target.tagName === 'AUDIO') {\r\n        this.addActivity('media', {\r\n          type: 'media',\r\n          title: 'Playing',\r\n          subtitle: e.target.src || 'Media',\r\n          icon: '▶️'\r\n        });\r\n      }\r\n    });\r\n    \r\n    document.addEventListener('pause', (e) => {\r\n      if (e.target.tagName === 'VIDEO' || e.target.tagName === 'AUDIO') {\r\n        this.removeActivity('media');\r\n      }\r\n    });\r\n  }\r\n\r\n  // Monitor call state\r\n  monitorCallState() {\r\n    window.addEventListener('callStateChange', (e) => {\r\n      const { state, contact } = e.detail;\r\n      \r\n      if (state === 'active') {\r\n        this.addActivity('call', {\r\n          type: 'call',\r\n          title: 'In Call',\r\n          subtitle: contact?.name || 'Unknown',\r\n          icon: '📞',\r\n          color: '#34C759'\r\n        });\r\n      } else {\r\n        this.removeActivity('call');\r\n      }\r\n    });\r\n  }\r\n\r\n  // Monitor timers\r\n  monitorTimers() {\r\n    window.addEventListener('timerStart', (e) => {\r\n      const { duration, label } = e.detail;\r\n      \r\n      this.addActivity('timer', {\r\n        type: 'timer',\r\n        title: 'Timer',\r\n        subtitle: label || 'Running',\r\n        icon: '⏱️',\r\n        duration: duration\r\n      });\r\n    });\r\n    \r\n    window.addEventListener('timerEnd', () => {\r\n      this.removeActivity('timer');\r\n    });\r\n  }\r\n\r\n  // Monitor notifications\r\n  monitorNotifications() {\r\n    window.addEventListener('notificationReceived', (e) => {\r\n      const { title, body, icon } = e.detail;\r\n      \r\n      this.addActivity('notification', {\r\n        type: 'notification',\r\n        title: title,\r\n        subtitle: body,\r\n        icon: icon || '🔔',\r\n        temporary: true\r\n      });\r\n      \r\n      // Remove after 3 seconds\r\n      setTimeout(() => {\r\n        this.removeActivity('notification');\r\n      }, 3000);\r\n    });\r\n  }\r\n\r\n  // Add activity to Dynamic Island\r\n  addActivity(id, activity) {\r\n    this.activities.add({ id, ...activity });\r\n    this.updateIslandContent();\r\n    \r\n    if (this.islandState === 'minimal') {\r\n      this.expandIsland();\r\n    }\r\n  }\r\n\r\n  // Remove activity from Dynamic Island\r\n  removeActivity(id) {\r\n    this.activities = new Set([...this.activities].filter(a => a.id !== id));\r\n    this.updateIslandContent();\r\n    \r\n    if (this.activities.size === 0) {\r\n      this.minimizeIsland();\r\n    }\r\n  }\r\n\r\n  // Update island content\r\n  updateIslandContent() {\r\n    if (!this.islandElement) return;\r\n    \r\n    const leadingEl = this.islandElement.querySelector('.island-leading');\r\n    const centerEl = this.islandElement.querySelector('.island-center');\r\n    const trailingEl = this.islandElement.querySelector('.island-trailing');\r\n    \r\n    const activities = [...this.activities];\r\n    \r\n    if (activities.length === 0) {\r\n      leadingEl.textContent = '';\r\n      centerEl.textContent = '';\r\n      trailingEl.textContent = '';\r\n      return;\r\n    }\r\n    \r\n    const primaryActivity = activities[0];\r\n    \r\n    leadingEl.textContent = primaryActivity.icon || '';\r\n    centerEl.textContent = primaryActivity.title || '';\r\n    trailingEl.textContent = activities.length > 1 ? `+${activities.length - 1}` : '';\r\n  }\r\n\r\n  // Expand Dynamic Island\r\n  expandIsland() {\r\n    if (this.islandState === 'expanded') return;\r\n    \r\n    this.islandState = 'expanded';\r\n    this.islandElement?.classList.add('expanded');\r\n    \r\n    setTimeout(() => {\r\n      this.minimizeIsland();\r\n    }, 5000);\r\n  }\r\n\r\n  // Minimize Dynamic Island\r\n  minimizeIsland() {\r\n    this.islandState = 'minimal';\r\n    this.islandElement?.classList.remove('expanded');\r\n  }\r\n\r\n  // Handle island interaction\r\n  handleIslandInteraction() {\r\n    if (this.activities.size > 0) {\r\n      const primaryActivity = [...this.activities][0];\r\n      \r\n      // Dispatch activity interaction event\r\n      window.dispatchEvent(new CustomEvent('dynamicIslandInteraction', {\r\n        detail: { activity: primaryActivity }\r\n      }));\r\n    }\r\n  }\r\n}\r\n\r\n// Adaptive Brightness Manager\r\nclass AdaptiveBrightnessManager {\r\n  constructor() {\r\n    this.isSupported = this.checkSupport();\r\n    this.currentBrightness = 1.0;\r\n    this.ambientLightLevel = 'normal';\r\n    this.userPreference = this.getUserPreference();\r\n    \r\n    if (this.isSupported) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  // Check for ambient light sensor support\r\n  checkSupport() {\r\n    return 'AmbientLightSensor' in window ||\r\n           'DeviceLightEvent' in window ||\r\n           matchMedia('(prefers-color-scheme: dark)').matches;\r\n  }\r\n\r\n  getUserPreference() {\r\n    const saved = localStorage.getItem('adaptive-brightness-preference');\r\n    return saved ? JSON.parse(saved) : { enabled: true, sensitivity: 'medium' };\r\n  }\r\n\r\n  init() {\r\n    console.log('☀️ Adaptive brightness manager initialized');\r\n    \r\n    this.setupAmbientLightSensor();\r\n    this.setupColorSchemeDetection();\r\n    this.setupTimeBasedAdjustment();\r\n  }\r\n\r\n  // Setup ambient light sensor\r\n  async setupAmbientLightSensor() {\r\n    if (typeof window !== 'undefined' && 'AmbientLightSensor' in window) {\r\n      try {\r\n        const AmbientLightSensor = window.AmbientLightSensor;\r\n        const sensor = new AmbientLightSensor({ frequency: 1 });\r\n        \r\n        sensor.addEventListener('reading', () => {\r\n          this.handleAmbientLightChange(sensor.illuminance);\r\n        });\r\n        \r\n        sensor.start();\r\n        console.log('💡 Ambient light sensor active');\r\n      } catch (error) {\r\n        console.warn('Ambient light sensor not available:', error);\r\n        this.fallbackLightDetection();\r\n      }\r\n    } else {\r\n      this.fallbackLightDetection();\r\n    }\r\n  }\r\n\r\n  // Fallback light detection\r\n  fallbackLightDetection() {\r\n    // Use color scheme preference as indicator\r\n    const darkModeQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n    \r\n    const handleColorSchemeChange = (e) => {\r\n      this.ambientLightLevel = e.matches ? 'low' : 'normal';\r\n      this.adjustBrightness();\r\n    };\r\n    \r\n    darkModeQuery.addListener(handleColorSchemeChange);\r\n    handleColorSchemeChange(darkModeQuery);\r\n  }\r\n\r\n  // Setup color scheme detection\r\n  setupColorSchemeDetection() {\r\n    const darkQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n    const lightQuery = window.matchMedia('(prefers-color-scheme: light)');\r\n    \r\n    const updateColorScheme = () => {\r\n      if (darkQuery.matches) {\r\n        document.documentElement.classList.add('dark-mode');\r\n        document.documentElement.classList.remove('light-mode');\r\n      } else if (lightQuery.matches) {\r\n        document.documentElement.classList.add('light-mode');\r\n        document.documentElement.classList.remove('dark-mode');\r\n      }\r\n    };\r\n    \r\n    darkQuery.addListener(updateColorScheme);\r\n    lightQuery.addListener(updateColorScheme);\r\n    updateColorScheme();\r\n  }\r\n\r\n  // Setup time-based brightness adjustment\r\n  setupTimeBasedAdjustment() {\r\n    const updateTimeBasedBrightness = () => {\r\n      const hour = new Date().getHours();\r\n      \r\n      let timeLevel;\r\n      if (hour >= 22 || hour <= 6) {\r\n        timeLevel = 'night';\r\n      } else if (hour >= 19 || hour <= 8) {\r\n        timeLevel = 'evening';\r\n      } else {\r\n        timeLevel = 'day';\r\n      }\r\n      \r\n      this.adjustBrightnessForTime(timeLevel);\r\n    };\r\n    \r\n    // Update every hour\r\n    setInterval(updateTimeBasedBrightness, 3600000);\r\n    updateTimeBasedBrightness();\r\n  }\r\n\r\n  // Handle ambient light changes\r\n  handleAmbientLightChange(illuminance) {\r\n    let lightLevel;\r\n    \r\n    if (illuminance < 10) {\r\n      lightLevel = 'very-low';\r\n    } else if (illuminance < 50) {\r\n      lightLevel = 'low';\r\n    } else if (illuminance < 500) {\r\n      lightLevel = 'normal';\r\n    } else if (illuminance < 1000) {\r\n      lightLevel = 'high';\r\n    } else {\r\n      lightLevel = 'very-high';\r\n    }\r\n    \r\n    if (lightLevel !== this.ambientLightLevel) {\r\n      this.ambientLightLevel = lightLevel;\r\n      this.adjustBrightness();\r\n    }\r\n  }\r\n\r\n  // Adjust brightness based on ambient light\r\n  adjustBrightness() {\r\n    if (!this.userPreference.enabled) return;\r\n    \r\n    let targetBrightness;\r\n    \r\n    switch (this.ambientLightLevel) {\r\n      case 'very-low':\r\n        targetBrightness = 0.3;\r\n        break;\r\n      case 'low':\r\n        targetBrightness = 0.5;\r\n        break;\r\n      case 'normal':\r\n        targetBrightness = 0.8;\r\n        break;\r\n      case 'high':\r\n        targetBrightness = 1.0;\r\n        break;\r\n      case 'very-high':\r\n        targetBrightness = 1.0;\r\n        break;\r\n      default:\r\n        targetBrightness = 0.8;\r\n    }\r\n    \r\n    this.setBrightness(targetBrightness);\r\n  }\r\n\r\n  // Adjust brightness for time of day\r\n  adjustBrightnessForTime(timeLevel) {\r\n    if (!this.userPreference.enabled) return;\r\n    \r\n    let adjustment = 1.0;\r\n    \r\n    switch (timeLevel) {\r\n      case 'night':\r\n        adjustment = 0.6;\r\n        document.documentElement.classList.add('night-mode');\r\n        break;\r\n      case 'evening':\r\n        adjustment = 0.8;\r\n        document.documentElement.classList.remove('night-mode');\r\n        break;\r\n      case 'day':\r\n        adjustment = 1.0;\r\n        document.documentElement.classList.remove('night-mode');\r\n        break;\r\n    }\r\n    \r\n    this.setBrightness(this.currentBrightness * adjustment);\r\n  }\r\n\r\n  // Set brightness level\r\n  setBrightness(level) {\r\n    this.currentBrightness = Math.max(0.3, Math.min(1.0, level));\r\n    \r\n    // Apply brightness using CSS filter\r\n    document.documentElement.style.filter = \r\n      `brightness(${this.currentBrightness})`;\r\n    \r\n    // Store current level\r\n    document.documentElement.style.setProperty(\r\n      '--adaptive-brightness', \r\n      this.currentBrightness.toString()\r\n    );\r\n    \r\n    console.log(`☀️ Brightness adjusted: ${Math.round(this.currentBrightness * 100)}%`);\r\n  }\r\n\r\n  // Enable/disable adaptive brightness\r\n  setEnabled(enabled) {\r\n    this.userPreference.enabled = enabled;\r\n    localStorage.setItem('adaptive-brightness-preference', \r\n      JSON.stringify(this.userPreference));\r\n    \r\n    if (!enabled) {\r\n      this.setBrightness(1.0);\r\n      document.documentElement.classList.remove('night-mode');\r\n    } else {\r\n      this.adjustBrightness();\r\n    }\r\n  }\r\n}\r\n\r\n// Ultra-wide Display Manager\r\nclass UltraWideDisplayManager {\r\n  constructor() {\r\n    this.isUltraWide = this.detectUltraWideDisplay();\r\n    \r\n    if (this.isUltraWide) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  // Detect ultra-wide display\r\n  detectUltraWideDisplay() {\r\n    const aspectRatio = window.screen.width / window.screen.height;\r\n    const viewportRatio = window.innerWidth / window.innerHeight;\r\n    \r\n    // Ultra-wide typically 21:9 or wider\r\n    return aspectRatio >= 2.3 || viewportRatio >= 2.3;\r\n  }\r\n\r\n  init() {\r\n    console.log('🖥️ Ultra-wide display detected');\r\n    \r\n    document.documentElement.classList.add('ultra-wide-display');\r\n    this.setupUltraWideLayout();\r\n    this.setupMultiColumnLayout();\r\n  }\r\n\r\n  setupUltraWideLayout() {\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      .ultra-wide-display .main-container {\r\n        max-width: 1600px;\r\n        margin: 0 auto;\r\n        display: grid;\r\n        grid-template-columns: 1fr 2fr 1fr;\r\n        gap: 24px;\r\n      }\r\n      \r\n      .ultra-wide-display .sidebar {\r\n        position: relative;\r\n        transform: none;\r\n      }\r\n      \r\n      .ultra-wide-display .chat-container {\r\n        grid-column: 2;\r\n      }\r\n      \r\n      .ultra-wide-display .contacts-panel {\r\n        grid-column: 3;\r\n      }\r\n    `;\r\n    document.head.appendChild(style);\r\n  }\r\n\r\n  setupMultiColumnLayout() {\r\n    // Enable multi-column layout for content areas\r\n    const contentAreas = document.querySelectorAll('.content-area, .message-list');\r\n    \r\n    contentAreas.forEach(area => {\r\n      if (area.scrollWidth > window.innerWidth * 0.6) {\r\n        area.style.columnCount = '2';\r\n        area.style.columnGap = '24px';\r\n        area.style.columnRule = '1px solid rgba(0,0,0,0.1)';\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n// Initialize all adaptive UI features\r\nexport const initAdaptiveUI = () => {\r\n  console.log('🎨 Initializing adaptive UI features...');\r\n  \r\n  const foldableManager = new FoldableScreenManager();\r\n  const dynamicIslandManager = new DynamicIslandManager();\r\n  const brightnessManager = new AdaptiveBrightnessManager();\r\n  const ultraWideManager = new UltraWideDisplayManager();\r\n  \r\n  // Make managers available globally\r\n  window.adaptiveUI = {\r\n    foldable: foldableManager,\r\n    dynamicIsland: dynamicIslandManager,\r\n    brightness: brightnessManager,\r\n    ultraWide: ultraWideManager\r\n  };\r\n  \r\n  console.log('✅ Adaptive UI features initialized');\r\n  \r\n  return {\r\n    foldableManager,\r\n    dynamicIslandManager,\r\n    brightnessManager,\r\n    ultraWideManager\r\n  };\r\n};\r\n\r\nexport {\r\n  FoldableScreenManager,\r\n  DynamicIslandManager,\r\n  AdaptiveBrightnessManager,\r\n  UltraWideDisplayManager\r\n};\r\n\r\nexport default {\r\n  initAdaptiveUI,\r\n  FoldableScreenManager,\r\n  DynamicIslandManager,\r\n  AdaptiveBrightnessManager,\r\n  UltraWideDisplayManager\r\n};","import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport './AppProfessional.css';\r\nimport './styles/mobile-first-responsive.css';\r\nimport './styles/input-container-responsive-fix.css';\r\nimport './styles/mobile-content-fix.css';\r\nimport './styles/mobile-animation-fix.css';\r\nimport './styles/modernSmartphone.css';\r\nimport './styles/advancedTouch.css';\r\nimport './styles/nextGenPWA.css';\r\nimport './styles/adaptiveUI.css';\r\n\r\nimport ProChat from './components/Home/ProChat';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport LoadingSpinner from './components/UI/LoadingSpinner';\r\nimport DynamicSplashScreen from './components/UI/DynamicSplashScreen';\r\nimport ErrorBoundary from './components/ErrorHandling/ErrorBoundary';\r\nimport PWAStatus from './components/ServiceWorker/PWAStatus';\r\nimport InstallPrompt from './components/PWA/InstallPrompt';\r\nimport TestingDashboard from './components/TestingDashboard/TestingDashboard';\r\nimport { useAuth } from './context/AuthContext';\r\nimport ConnectionStatus from './components/ConnectionStatus/ConnectionStatus';\r\nimport frontendHealthService from './services/frontendHealthService';\r\nimport pwaShortcutService, { pwaUtils } from './services/pwaShortcutService';\r\nimport mobileInteractionService, { mobileUtils } from './services/mobileInteractionService';\r\nimport memoryManager from './services/memoryManagementService';\r\nimport lazyLoadingService from './services/lazyLoadingService';\r\nimport { initModernViewport } from './utils/modernViewportUtils';\r\nimport { initAdvancedTouch } from './utils/advancedTouchSystem';\r\nimport { initNextGenPWA } from './services/nextGenPWAService';\r\nimport { initSmartphonePerformance } from './utils/smartphonePerformanceOptimizer';\r\nimport { initAdaptiveUI } from './utils/adaptiveUIManager';\r\nimport { initTestingSuite } from './utils/testingSuite';\r\nimport { initValidationSuite } from './utils/compatibilityValidator';\r\n// Note: imageOptimizationService is auto-initialized\r\n\r\nconst App = () => {\r\n  const { isAuthenticated, user, loading: authLoading, logout } = useAuth();\r\n  const [view, setView] = useState('login');\r\n  const [showSplash, setShowSplash] = useState(() => {\r\n    // Only show splash screen once per session\r\n    const hasSeenSplash = sessionStorage.getItem('quibish-splash-seen');\r\n    return !hasSeenSplash;\r\n  });\r\n  const [darkMode, setDarkMode] = useState(() => {\r\n    const savedMode = localStorage.getItem('quibish-dark-mode');\r\n    return savedMode ? JSON.parse(savedMode) : false;\r\n  });\r\n  const [appInitialized, setAppInitialized] = useState(false);\r\n  const [initializationError, setInitializationError] = useState(null);\r\n\r\n  // Mock conversations data - moved up before useEffect that uses it\r\n  const [conversations] = useState([\r\n    {\r\n      id: 1,\r\n      name: 'Sarah Johnson',\r\n      avatar: 'https://ui-avatars.com/api/?name=Sarah+Johnson&background=8b5cf6&color=fff&size=40',\r\n      lastMessage: 'Hey! Are we still on for lunch today?',\r\n      lastMessageTime: '2m',\r\n      unreadCount: 2,\r\n      isOnline: true,\r\n      isPinned: true,\r\n      isMuted: false,\r\n      messageStatus: 'delivered',\r\n      timestamp: new Date(Date.now() - 120000)\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Team Alpha',\r\n      avatar: 'https://ui-avatars.com/api/?name=Team+Alpha&background=10b981&color=fff&size=40',\r\n      lastMessage: 'Mike: The deployment went smoothly 🚀',\r\n      lastMessageTime: '15m',\r\n      unreadCount: 5,\r\n      isOnline: false,\r\n      isPinned: false,\r\n      isMuted: false,\r\n      messageStatus: 'read',\r\n      timestamp: new Date(Date.now() - 900000)\r\n    },\r\n    {\r\n      id: 3,\r\n      name: 'Alex Chen',\r\n      avatar: 'https://ui-avatars.com/api/?name=Alex+Chen&background=f59e0b&color=fff&size=40',\r\n      lastMessage: 'Thanks for the code review!',\r\n      lastMessageTime: '1h',\r\n      unreadCount: 0,\r\n      isOnline: true,\r\n      isPinned: false,\r\n      isMuted: true,\r\n      messageStatus: 'sent',\r\n      timestamp: new Date(Date.now() - 3600000)\r\n    },\r\n    {\r\n      id: 4,\r\n      name: 'Design Team',\r\n      avatar: 'https://ui-avatars.com/api/?name=Design+Team&background=ef4444&color=fff&size=40',\r\n      lastMessage: 'Lisa: New mockups are ready for review',\r\n      lastMessageTime: '3h',\r\n      unreadCount: 1,\r\n      isOnline: false,\r\n      isPinned: true,\r\n      isMuted: false,\r\n      messageStatus: 'delivered',\r\n      timestamp: new Date(Date.now() - 10800000)\r\n    },\r\n    {\r\n      id: 5,\r\n      name: 'Mom',\r\n      avatar: 'https://ui-avatars.com/api/?name=Mom&background=ec4899&color=fff&size=40',\r\n      lastMessage: 'Don\\'t forget to call grandma today! ❤️',\r\n      lastMessageTime: '5h',\r\n      unreadCount: 0,\r\n      isOnline: false,\r\n      isPinned: false,\r\n      isMuted: false,\r\n      messageStatus: 'read',\r\n      timestamp: new Date(Date.now() - 18000000)\r\n    }\r\n  ]);\r\n\r\n  const [currentConversation] = useState(conversations[0]);\r\n\r\n  // Handle view changes based on authentication state\r\n  useEffect(() => {\r\n    if (isAuthenticated && user && !authLoading) {\r\n      console.log('App - User authenticated, setting view to home');\r\n      setView('home');\r\n    } else if (!isAuthenticated && !authLoading) {\r\n      console.log('App - User not authenticated, ensuring login view');\r\n      if (view === 'home') {\r\n        setView('login');\r\n      }\r\n    }\r\n  }, [isAuthenticated, user, authLoading, view]);\r\n\r\n  // Sync dark mode with user's theme preference\r\n  useEffect(() => {\r\n    if (user && user.theme) {\r\n      const isDark = user.theme === 'dark';\r\n      setDarkMode(isDark);\r\n      localStorage.setItem('quibish-dark-mode', JSON.stringify(isDark));\r\n    }\r\n  }, [user?.theme]);\r\n\r\n  // Initialize frontend health service\r\n  useEffect(() => {\r\n    const initializeApp = async () => {\r\n      try {\r\n        console.log('🚀 Initializing Quibish Frontend...');\r\n        \r\n        // Initialize core services\r\n        await frontendHealthService.initialize();\r\n        \r\n        // Initialize modern viewport and display support\r\n        console.log('📱 Initializing modern smartphone features...');\r\n        const modernFeatures = await initModernViewport();\r\n        console.log('✨ Modern features initialized:', modernFeatures);\r\n        \r\n        // Initialize advanced touch and haptic feedback\r\n        console.log('🎯 Initializing touch and haptic systems...');\r\n        const touchSystems = initAdvancedTouch();\r\n        console.log('👆 Touch systems initialized:', touchSystems);\r\n        \r\n        // Initialize next-generation PWA features\r\n        console.log('📱 Initializing next-gen PWA features...');\r\n        const pwaFeatures = await initNextGenPWA();\r\n        console.log('🚀 PWA features initialized:', pwaFeatures);\r\n        \r\n        // Initialize smartphone-specific performance optimizations\r\n        console.log('⚡ Initializing smartphone performance optimizations...');\r\n        const performanceFeatures = initSmartphonePerformance();\r\n        console.log('🏎️ Performance optimizations initialized:', performanceFeatures);\r\n        \r\n        // Initialize adaptive UI features for modern displays\r\n        console.log('🎨 Initializing adaptive UI features...');\r\n        const adaptiveFeatures = initAdaptiveUI();\r\n        console.log('📱 Adaptive UI features initialized:', adaptiveFeatures);\r\n        \r\n        // Initialize comprehensive testing suite\r\n        console.log('🧪 Initializing testing and validation tools...');\r\n        const testingTools = initTestingSuite();\r\n        const validationTools = initValidationSuite();\r\n        console.log('✅ Testing suite initialized:', { testingTools, validationTools });\r\n        \r\n        // Initialize existing performance optimization services\r\n        console.log('⚡ Initializing additional performance services...');\r\n        \r\n        // Memory management setup\r\n        memoryManager.registerCacheManager('lazy-components', lazyLoadingService);\r\n        memoryManager.addMemoryPressureListener((event) => {\r\n          console.log('🧠 Memory pressure detected, optimizing performance');\r\n          // Trigger component cleanup\r\n          lazyLoadingService.cleanupUnusedComponents();\r\n        });\r\n        \r\n        // Set up service worker for advanced caching\r\n        if ('serviceWorker' in navigator) {\r\n          try {\r\n            const registration = await navigator.serviceWorker.register('/sw-advanced.js');\r\n            console.log('🔧 Advanced Service Worker registered:', registration);\r\n          } catch (error) {\r\n            console.warn('Failed to register advanced service worker, using basic SW:', error);\r\n          }\r\n        }\r\n        \r\n        // Preload critical resources\r\n        const criticalResources = [\r\n          '/static/css/main.css',\r\n          '/static/js/main.js',\r\n          '/manifest.json'\r\n        ];\r\n        \r\n        navigator.serviceWorker?.controller?.postMessage({\r\n          type: 'PREFETCH_RESOURCES',\r\n          payload: { urls: criticalResources }\r\n        });\r\n        \r\n        setAppInitialized(true);\r\n        console.log('✅ Frontend initialization completed successfully');\r\n        console.log('📊 Performance optimizations active');\r\n      } catch (error) {\r\n        console.error('❌ Frontend initialization failed:', error);\r\n        setInitializationError(error.message);\r\n        // Don't prevent app loading, just log the error\r\n        setAppInitialized(true);\r\n      }\r\n    };\r\n\r\n    initializeApp();\r\n  }, []);\r\n\r\n  // Handle PWA shortcuts and deep links\r\n  useEffect(() => {\r\n    const handlePWAEvents = () => {\r\n      // Handle new chat shortcut\r\n      window.addEventListener('pwa-new-chat', (event) => {\r\n        console.log('📱 PWA: New chat shortcut triggered');\r\n        if (isAuthenticated) {\r\n          setView('home');\r\n          // You can add additional logic here to open a new chat\r\n        }\r\n      });\r\n\r\n      // Handle voice call shortcut\r\n      window.addEventListener('pwa-voice-call', (event) => {\r\n        console.log('📱 PWA: Voice call shortcut triggered', event.detail);\r\n        if (isAuthenticated) {\r\n          setView('home');\r\n          // Trigger voice call functionality\r\n          pwaUtils.triggerShortcut('voice-call', { initiated: 'shortcut' });\r\n        }\r\n      });\r\n\r\n      // Handle video call shortcut\r\n      window.addEventListener('pwa-video-call', (event) => {\r\n        console.log('📱 PWA: Video call shortcut triggered', event.detail);\r\n        if (isAuthenticated) {\r\n          setView('home');\r\n          // Trigger video call functionality\r\n          pwaUtils.triggerShortcut('video-call', { initiated: 'shortcut' });\r\n        }\r\n      });\r\n\r\n      // Handle file sharing\r\n      window.addEventListener('pwa-files-shared', (event) => {\r\n        console.log('📁 PWA: Files shared', event.detail);\r\n        if (isAuthenticated) {\r\n          setView('home');\r\n          // Handle shared files\r\n          const { files } = event.detail;\r\n          console.log('Processing shared files:', files);\r\n        }\r\n      });\r\n\r\n      // Handle share target\r\n      window.addEventListener('pwa-share-received', (event) => {\r\n        console.log('📤 PWA: Content shared', event.detail);\r\n        if (isAuthenticated) {\r\n          setView('home');\r\n          // Handle shared content\r\n          const { title, text, url } = event.detail;\r\n          console.log('Processing shared content:', { title, text, url });\r\n        }\r\n      });\r\n\r\n      // Handle app installation\r\n      window.addEventListener('pwa-installed', (event) => {\r\n        console.log('📱 PWA: App installed', event.detail);\r\n        // Show welcome message or setup flow\r\n      });\r\n    };\r\n\r\n    handlePWAEvents();\r\n\r\n    // Update app shortcuts based on frequent contacts\r\n    if (isAuthenticated && conversations.length > 0) {\r\n      const frequentContacts = conversations\r\n        .filter(conv => conv.lastMessageTime)\r\n        .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))\r\n        .slice(0, 4)\r\n        .map(conv => ({\r\n          id: conv.id,\r\n          name: conv.name,\r\n          avatar: conv.avatar\r\n        }));\r\n      \r\n      pwaShortcutService.updateShortcuts(frequentContacts);\r\n    }\r\n  }, [isAuthenticated, conversations]);\r\n  \r\n  // Dark mode persistence and CSS class management\r\n  useEffect(() => {\r\n    localStorage.setItem('quibish-dark-mode', JSON.stringify(darkMode));\r\n    document.documentElement.setAttribute('data-theme', darkMode ? 'dark' : 'light');\r\n    if (darkMode) {\r\n      document.body.classList.add('dark-theme');\r\n    } else {\r\n      document.body.classList.remove('dark-theme');\r\n    }\r\n  }, [darkMode]);\r\n  \r\n  const handleLogin = () => {\r\n    console.log('App - handleLogin called, waiting for auth state update');\r\n    // Don't immediately set view to 'home', let the auth state update handle it\r\n  };\r\n  const handleLogout = () => { logout(); setView('login'); };\r\n  const handleRegister = () => {\r\n    console.log('App - handleRegister called, redirecting to login');\r\n    setView('login'); // After successful registration, go to login\r\n  };\r\n  const switchToRegister = () => {\r\n    console.log('App - switchToRegister called');\r\n    setView('register');\r\n  };\r\n  const handleBackToLogin = () => setView('login');\r\n  const toggleDarkMode = () => setDarkMode(prev => !prev);\r\n  const handleSplashComplete = () => {\r\n    setShowSplash(false);\r\n    sessionStorage.setItem('quibish-splash-seen', 'true');\r\n  };\r\n  \r\n  if (authLoading) return <LoadingSpinner size=\"large\" message=\"Loading...\" />;\r\n  \r\n  // Show initialization status\r\n  if (!appInitialized) {\r\n    return (\r\n      <LoadingSpinner \r\n        size=\"large\" \r\n        message={initializationError ? \r\n          `Initialization failed: ${initializationError}` : \r\n          \"Initializing application...\"\r\n        } \r\n      />\r\n    );\r\n  }\r\n  \r\n  // Show splash screen on first load\r\n  if (showSplash) {\r\n    return (\r\n      <DynamicSplashScreen \r\n        darkMode={darkMode}\r\n        appVersion=\"1.0.0\"\r\n        onComplete={handleSplashComplete}\r\n      />\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <ErrorBoundary>\r\n      <div className={`app smartphone-optimized ${darkMode ? 'dark-mode' : ''}`}>\r\n        <div className=\"app-content\">\r\n          {isAuthenticated && user && !authLoading ? (\r\n            <>\r\n              <ConnectionStatus compact={true} />\r\n              <ProChat \r\n                user={user} \r\n                conversations={conversations}\r\n                currentConversation={currentConversation}\r\n                onLogout={handleLogout} \r\n                darkMode={darkMode}\r\n                onToggleDarkMode={toggleDarkMode}\r\n              />\r\n            </>\r\n          ) : authLoading ? (\r\n            <LoadingSpinner size=\"large\" message=\"Signing you in...\" />\r\n          ) : (\r\n            <div className=\"auth-container\">\r\n              {view === 'login' && (\r\n                <Login \r\n                  onLogin={handleLogin} \r\n                  switchToRegister={switchToRegister}\r\n                />\r\n              )}\r\n              {view === 'register' && (\r\n                <Register \r\n                  onRegisterSuccess={handleRegister} \r\n                  switchToLogin={handleBackToLogin}\r\n                />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* PWA Status (development only) */}\r\n      <PWAStatus />\r\n      \r\n      {/* PWA Install Prompt */}\r\n      <InstallPrompt />\r\n      \r\n      {/* Testing Dashboard (development only) */}\r\n      <TestingDashboard />\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport App from './App';\r\nimport { AuthProvider } from './context/AuthContext';\r\n\r\nconst AppWithProviders = () => {\r\n  return (\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  );\r\n};\r\n\r\nexport default AppWithProviders;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport './responsive.css';\r\nimport './responsiveUtils.css';\r\nimport AppWithProviders from './AppWithProviders';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport swManager from './utils/serviceWorkerManager';\r\n\r\n// Fix for mobile viewport height issues (iOS Safari, etc.)\r\nconst setVhProperty = () => {\r\n  const vh = window.innerHeight * 0.01;\r\n  document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n};\r\n\r\n// Set initial value and update on resize\r\nsetVhProperty();\r\nwindow.addEventListener('resize', setVhProperty);\r\n\r\n// Initialize app with theme preference\r\nconst prefersDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\r\nif (prefersDarkMode) {\r\n  document.body.classList.add('dark-theme');\r\n}\r\n\r\n// Service Worker event handlers\r\nswManager.on('onUpdate', (newWorker) => {\r\n  console.log('🔄 New app version available!');\r\n  \r\n  // Show update notification (you can customize this)\r\n  if (window.confirm('A new version of Quibish is available. Update now?')) {\r\n    swManager.updateServiceWorker();\r\n  }\r\n});\r\n\r\nswManager.on('onOffline', () => {\r\n  console.log('📱 App is now offline');\r\n  document.body.classList.add('offline');\r\n});\r\n\r\nswManager.on('onOnline', () => {\r\n  console.log('🌐 App is back online');\r\n  document.body.classList.remove('offline');\r\n});\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <AppWithProviders />\r\n  </React.StrictMode>\r\n);\r\n\r\n// Performance monitoring and analytics\r\nreportWebVitals(metric => {\r\n  // Only log in development or send to analytics in production\r\n  if (process.env.NODE_ENV === 'development') {\r\n    console.log(metric);\r\n  } else {\r\n    // Send to analytics service in production\r\n    // analyticsService.sendMetric(metric);\r\n  }\r\n});\r\n\r\n// Register service worker after app initialization\r\nif ('serviceWorker' in navigator && process.env.NODE_ENV === 'production') {\r\n  window.addEventListener('load', () => {\r\n    // Service worker registration is handled automatically by swManager.init()\r\n    console.log('✅ Service Worker initialization complete');\r\n  });\r\n} else if (process.env.NODE_ENV === 'development') {\r\n  console.log('🔧 Service Worker disabled in development mode');\r\n}\r\n"],"names":["Scheduler","require","React","ReactDOM","formatProdErrorMessage","code","url","arguments","length","encodeURIComponent","i","isValidContainer","node","nodeType","getNearestMountedFiber","fiber","nearestMounted","alternate","return","flags","tag","getSuspenseInstanceFromFiber","suspenseState","memoizedState","dehydrated","assertIsMounted","Error","findCurrentHostFiberImpl","child","sibling","assign","Object","REACT_LEGACY_ELEMENT_TYPE","Symbol","for","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_ACTIVITY_TYPE","REACT_MEMO_CACHE_SENTINEL","MAYBE_ITERATOR_SYMBOL","iterator","getIteratorFn","maybeIterable","REACT_CLIENT_REFERENCE","getComponentNameFromType","type","$$typeof","displayName","name","_context","innerType","render","_payload","_init","x","isArrayImpl","Array","isArray","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","ReactDOMSharedInternals","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","sharedNotPendingObject","pending","data","method","action","valueStack","index","createCursor","defaultValue","current","pop","cursor","push","value","contextStackCursor","contextFiberStackCursor","rootInstanceStackCursor","hostTransitionProviderCursor","pushHostContainer","nextRootInstance","documentElement","namespaceURI","getOwnHostContext","tagName","getChildHostContextProd","popHostContainer","pushHostContext","context","JSCompiler_inline_result","popHostContext","HostTransitionContext","_currentValue","hasOwnProperty","prototype","scheduleCallback$3","unstable_scheduleCallback","cancelCallback$1","unstable_cancelCallback","shouldYield","unstable_shouldYield","requestPaint","unstable_requestPaint","now","unstable_now","getCurrentPriorityLevel","unstable_getCurrentPriorityLevel","ImmediatePriority","unstable_ImmediatePriority","UserBlockingPriority","unstable_UserBlockingPriority","NormalPriority$1","unstable_NormalPriority","LowPriority","unstable_LowPriority","IdlePriority","unstable_IdlePriority","log$1","log","unstable_setDisableYieldValue","rendererID","injectedHook","setIsStrictModeForDevtools","newIsStrictMode","setStrictMode","err","clz32","Math","LN2","nextTransitionLane","nextRetryLane","getHighestPriorityLanes","lanes","pendingSyncLanes","getNextLanes","root","wipLanes","rootHasPendingCommit","pendingLanes","nextLanes","suspendedLanes","pingedLanes","warmLanes","nonIdlePendingLanes","checkIfRootIsPrerendering","renderLanes","computeExpirationTime","lane","currentTime","claimNextTransitionLane","claimNextRetryLane","createLaneMap","initial","laneMap","markRootUpdated$1","updateLane","markSpawnedDeferredLane","spawnedLane","entangledLanes","spawnedLaneIndex","entanglements","markRootEntangled","rootEntangledLanes","index$6","getBumpedLaneForHydrationByLane","lanesToEventPriority","resolveUpdatePriority","updatePriority","p","window","event","getEventPriority","randomKey","random","toString","slice","internalInstanceKey","internalPropsKey","internalContainerInstanceKey","internalEventHandlersKey","internalEventHandlerListenersKey","internalEventHandlesSetKey","internalRootNodeResourcesKey","internalHoistableMarker","detachDeletedInstance","getClosestInstanceFromNode","targetNode","targetInst","parentNode","getParentSuspenseInstance","getInstanceFromNode","getNodeFromInstance","inst","stateNode","getResourcesFromRoot","resources","hoistableStyles","Map","hoistableScripts","markNodeAsHoistable","allNativeEvents","Set","registrationNameDependencies","registerTwoPhaseEvent","registrationName","dependencies","registerDirectEvent","add","prefix","suffix","VALID_ATTRIBUTE_NAME_REGEX","RegExp","illegalAttributeNameCache","validatedAttributeNameCache","setValueForAttribute","attributeName","call","test","removeAttribute","prefix$8","toLowerCase","setAttribute","setValueForKnownAttribute","setValueForNamespacedAttribute","namespace","setAttributeNS","describeBuiltInComponentFrame","match","stack","trim","indexOf","reentry","describeNativeComponentFrame","fn","construct","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","Fake","defineProperty","set","Reflect","control","x$9","x$10","catch","sample","namePropDescriptor","getOwnPropertyDescriptor","configurable","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","split","controlLines","includes","frame","replace","describeFiber","getStackByFiberInDevAndProd","workInProgress","info","message","getToStringValue","isCheckable","elem","nodeName","track","_valueTracker","valueField","descriptor","constructor","currentValue","get","this","enumerable","getValue","setValue","stopTracking","trackValueOnNode","updateValueIfChanged","tracker","lastValue","checked","getActiveElement","doc","document","activeElement","body","e","escapeSelectorAttributeValueInsideDoubleQuotesRegex","escapeSelectorAttributeValueInsideDoubleQuotes","ch","charCodeAt","updateInput","element","lastDefaultValue","defaultChecked","setDefaultValue","initInput","isHydrating","ownerDocument","updateOptions","multiple","propValue","setDefaultSelected","options","selected","defaultSelected","disabled","updateTextarea","initTextarea","children","textContent","setTextContent","text","firstChild","lastChild","nodeValue","unitlessNumbers","setValueForStyle","style","styleName","isCustomProperty","setProperty","cssFloat","has","setValueForStyles","styles","prevStyles","styleName$16","styleName$17","isCustomElement","aliases","isJavaScriptProtocol","sanitizeURL","currentReplayingEvent","getEventTarget","nativeEvent","target","srcElement","correspondingUseElement","restoreTarget","restoreQueue","restoreStateOfTarget","internalInstance","props","a","querySelectorAll","otherNode","form","otherProps","isInsideEventHandler","batchedUpdates$1","b","flushSyncWork$1","getListener","canUseDOM","createElement","passiveBrowserEventsSupported","addEventListener","removeEventListener","startText","fallbackText","getData","start","end","startValue","startLength","endValue","endLength","minEnd","getEventCharCode","keyCode","charCode","functionThatReturnsTrue","functionThatReturnsFalse","createSyntheticEvent","Interface","SyntheticBaseEvent","reactName","reactEventType","nativeEventTarget","propName","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","stopPropagation","cancelBubble","persist","isPersistent","lastMovementX","lastMovementY","lastMouseEvent","EventInterface","eventPhase","bubbles","cancelable","timeStamp","Date","isTrusted","SyntheticEvent","UIEventInterface","view","detail","SyntheticUIEvent","MouseEventInterface","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","getEventModifierState","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","SyntheticMouseEvent","SyntheticDragEvent","dataTransfer","SyntheticFocusEvent","SyntheticAnimationEvent","animationName","elapsedTime","pseudoElement","SyntheticClipboardEvent","clipboardData","SyntheticCompositionEvent","normalizeKey","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","translateToKey","modifierKeyToProp","Alt","Control","Meta","Shift","modifierStateGetter","keyArg","SyntheticKeyboardEvent","key","String","fromCharCode","location","repeat","locale","which","SyntheticPointerEvent","pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","SyntheticTouchEvent","touches","targetTouches","changedTouches","SyntheticTransitionEvent","propertyName","SyntheticWheelEvent","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","SyntheticToggleEvent","newState","oldState","END_KEYCODES","canUseCompositionEvent","documentMode","canUseTextInputEvent","useFallbackCompositionData","SPACEBAR_CHAR","hasSpaceKeypress","isFallbackCompositionEnd","domEventName","getDataFromCustomEvent","isComposing","supportedInputTypes","color","date","datetime","email","month","number","password","range","search","tel","time","week","isTextInputElement","createAndAccumulateChangeEvent","dispatchQueue","accumulateTwoPhaseListeners","listeners","activeElement$1","activeElementInst$1","runEventInBatch","processDispatchQueue","getInstIfValueChanged","getTargetInstForChangeEvent","isInputEventSupported","JSCompiler_inline_result$jscomp$282","isSupported$jscomp$inline_417","element$jscomp$inline_418","oninput","stopWatchingForValueChange","detachEvent","handlePropertyChange","handleEventsForInputEventPolyfill","attachEvent","getTargetInstForInputEventPolyfill","getTargetInstForClickEvent","getTargetInstForInputOrChangeEvent","objectIs","is","y","shallowEqual","objA","objB","keysA","keys","keysB","currentKey","getLeafNode","getNodeForCharacterOffset","offset","nodeEnd","nextSibling","containsNode","outerNode","innerNode","contains","compareDocumentPosition","getActiveElementDeep","containerInfo","defaultView","HTMLIFrameElement","contentWindow","href","hasSelectionCapabilities","contentEditable","skipSelectionChangeEvent","activeElementInst","lastSelection","mouseDown","constructSelectEvent","selectionStart","selectionEnd","anchorNode","getSelection","anchorOffset","focusNode","focusOffset","makePrefixMap","styleProp","eventName","prefixes","vendorPrefixes","animationend","animationiteration","animationstart","transitionrun","transitionstart","transitioncancel","transitionend","prefixedEventNames","getVendorPrefixedEventName","prefixMap","animation","transition","ANIMATION_END","ANIMATION_ITERATION","ANIMATION_START","TRANSITION_RUN","TRANSITION_START","TRANSITION_CANCEL","TRANSITION_END","topLevelEventsToReactNames","simpleEventPluginEvents","registerSimpleEvent","CapturedStacks","WeakMap","createCapturedValueAtFiber","source","existing","concurrentQueues","concurrentQueuesIndex","concurrentlyUpdatedLanes","finishQueueingConcurrentUpdates","endIndex","queue","update","next","markUpdateLaneFromFiberToRoot","enqueueUpdate$1","enqueueConcurrentHookUpdate","getRootForUpdatedFiber","enqueueConcurrentRenderForLane","sourceFiber","isHidden","parent","childLanes","_visibility","hiddenUpdates","nestedUpdateCount","rootWithNestedUpdates","emptyContextObject","FiberNode","pendingProps","mode","elementType","refCleanup","ref","updateQueue","memoizedProps","subtreeFlags","deletions","createFiberImplClass","shouldConstruct","Component","isReactComponent","createWorkInProgress","firstContext","resetWorkInProgress","createFiberFromTypeAndProps","owner","fiberTag","hostContext","itemProp","precedence","rel","onLoad","onError","async","src","isHostHoistableType","createFiberFromFragment","elements","createFiberFromText","content","createFiberFromPortal","portal","pendingChildren","implementation","forkStack","forkStackIndex","treeForkProvider","treeForkCount","idStack","idStackIndex","treeContextProvider","treeContextId","treeContextOverflow","pushTreeFork","totalChildren","pushTreeId","baseIdWithLeadingBit","baseLength","numberOfOverflowBits","pushMaterializedTreeId","popTreeContext","hydrationParentFiber","nextHydratableInstance","hydrationErrors","rootOrSingletonContext","HydrationMismatchException","throwOnHydrationMismatch","queueHydrationError","prepareToHydrateHostInstance","instance","listenToNonDelegatedEvent","mediaEventTypes","suppressHydrationWarning","checkForUnmatchedText","popover","onScroll","onScrollEnd","onClick","onclick","noop$1","popToNextHostParent","popHydrationState","JSCompiler_temp","shouldSetTextContent","getNextHydratable","isSingletonScope","previousHydratableOnEnteringScopedSingleton","resetHydrationState","upgradeHydrationErrorsToRecoverable","queuedErrors","workInProgressRootRecoverableErrors","apply","error","valueCursor","currentlyRenderingFiber$1","lastContextDependency","pushProvider","providerFiber","nextValue","popProvider","scheduleContextWorkOnParentPath","propagationRoot","propagateContextChanges","contexts","forcePropagateEntireTree","list","nextFiber","dependency","propagateParentContextChanges","isInsidePropagationBailout","currentParent","checkIfContextChanged","currentDependencies","memoizedValue","prepareToReadContext","readContext","readContextForConsumer","readContextDuringReconciliation","consumer","AbortControllerLocal","AbortController","signal","aborted","listener","abort","forEach","scheduleCallback$2","NormalPriority","CacheContext","Consumer","Provider","_currentValue2","_threadCount","createCache","controller","refCount","releaseCache","cache","currentEntangledListeners","currentEntangledPendingCount","currentEntangledLane","currentEntangledActionThenable","pingEngtangledActionScope","status","prevOnStartTransitionFinish","S","then","thenable","entangledListeners","requestTransitionLane","resolve","entangleAsyncAction","resumedCache","peekCacheFromPool","cacheResumedFromPreviousRender","workInProgressRoot","pooledCache","pushTransition","offscreenWorkInProgress","prevCachePool","pool","getSuspendedCache","cacheFromPool","SuspenseException","SuspenseyCommitException","SuspenseActionException","noopSuspenseyCommitThenable","isThenableResolved","noop$3","trackUsedThenable","thenableState","checkIfUseWrappedInAsyncCatch","reason","shellSuspendCounter","fulfilledValue","fulfilledThenable","rejectedThenable","suspendedThenable","getSuspendedThenable","rejectedReason","hasForceUpdate","initializeUpdateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","hiddenCallbacks","callbacks","cloneUpdateQueue","createUpdate","payload","callback","enqueueUpdate","executionContext","entangleTransitions","queueLanes","enqueueCapturedUpdate","capturedUpdate","newFirst","newLast","clone","didReadFromEntangledAsyncAction","suspendIfUpdateReadFromEntangledAsyncAction","processUpdateQueue","workInProgress$jscomp$0","instance$jscomp$0","pendingQueue","lastPendingUpdate","firstPendingUpdate","isHiddenUpdate","workInProgressRootRenderLanes","workInProgressRootSkippedLanes","callCallback","commitCallbacks","currentTreeHiddenStackCursor","prevEntangledRenderLanesCursor","pushHiddenContext","entangledRenderLanes","baseLanes","reuseHiddenContextOnStack","popHiddenContext","currentlyRenderingFiber","currentHook","workInProgressHook","didScheduleRenderPhaseUpdate","didScheduleRenderPhaseUpdateDuringThisPass","shouldDoubleInvokeUserFnsInHooksDEV","localIdCounter","thenableIndexCounter$1","thenableState$1","globalClientIdCounter","throwInvalidHookError","areHookInputsEqual","nextDeps","prevDeps","renderWithHooks","secondArg","nextRenderLanes","H","HooksDispatcherOnMount","HooksDispatcherOnUpdate","renderWithHooksAgain","finishRenderingHooks","ContextOnlyDispatcher","didRenderTooFewHooks","didReceiveUpdate","numberOfReRenders","lastEffect","events","stores","memoCache","HooksDispatcherOnRerender","TransitionAwareHostComponent","dispatcher","maybeThenable","useState","useThenable","checkDidRenderIdHook","didRenderIdHook","bailoutHooks","resetHooksOnUnwind","mountWorkInProgressHook","hook","baseQueue","updateWorkInProgressHook","nextCurrentHook","nextWorkInProgressHook","use","usable","useMemoCache","size","map","array","basicStateReducer","state","updateReducer","reducer","updateReducerImpl","lastRenderedReducer","baseFirst","newBaseQueueFirst","newBaseQueueLast","didReadFromEntangledAsyncAction$32","revertLane","hasEagerState","eagerState","lastRenderedState","dispatch","rerenderReducer","lastRenderPhaseUpdate","updateSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","isHydrating$jscomp$0","snapshotChanged","updateEffectImpl","subscribeToStore","bind","pushSimpleEffect","destroy","resource","updateStoreInstance","pushStoreConsistencyCheck","renderedSnapshot","nextSnapshot","checkIfSnapshotChanged","forceStoreRerender","latestGetSnapshot","scheduleUpdateOnFiber","mountStateImpl","initialState","initialStateInitializer","updateOptimisticImpl","passthrough","dispatchActionState","actionQueue","setPendingState","setState","isRenderPhaseUpdate","actionNode","isTransition","T","runActionStateAction","prevState","prevTransition","currentTransition","onStartTransitionFinish","handleActionReturnValue","onActionError","error$38","nextState","onActionSuccess","notifyActionListeners","last","actionStateReducer","mountActionState","initialStateProp","ssrFormState","formState","JSCompiler_inline_result$jscomp$0","inRootOrSingleton","dispatchSetState","dispatchOptimisticSetState","updateActionState","updateActionStateImpl","stateHook","currentStateHook","actionStateActionEffect","rerenderActionState","create","createDeps","deps","updateRef","mountEffectImpl","fiberFlags","hookFlags","mountEffect","updateEffect","updateInsertionEffect","updateLayoutEffect","imperativeHandleEffect","updateImperativeHandle","concat","mountDebugValue","updateCallback","updateMemo","nextCreate","mountDeferredValueImpl","initialValue","requestDeferredLane","updateDeferredValueImpl","prevValue","startTransition","pendingState","finishedState","previousPriority","dispatchSetStateInternal","result","thenableWithOverride","chainThenableValue","requestUpdateLane","noop$2","startHostTransition","formFiber","formData","ensureFormComponentIsStateful","requestFormReset$1","existingStateHook","initialResetState","useHostTransitionStatus","updateId","updateRefresh","refreshCache","provider","root$41","dispatchReducerAction","enqueueRenderPhaseUpdate","entangleTransitionUpdate","currentState","throwIfDuringRender","useCallback","useContext","useEffect","useImperativeHandle","useLayoutEffect","useInsertionEffect","useMemo","useReducer","useRef","useDebugValue","useDeferredValue","useTransition","useSyncExternalStore","useId","useFormState","useActionState","useOptimistic","useCacheRefresh","initialArg","init","identifierPrefix","booleanOrThenable","thenableIndexCounter","unwrapThenable","coerceRef","throwOnInvalidObjectType","returnFiber","newChild","join","resolveLazy","lazyType","createChildReconciler","shouldTrackSideEffects","deleteChild","childToDelete","deleteRemainingChildren","currentFirstChild","mapRemainingChildren","existingChildren","useFiber","placeChild","newFiber","lastPlacedIndex","newIndex","placeSingleChild","updateTextNode","updateElement","updateFragment","updatePortal","fragment","createChild","updateSlot","oldFiber","updateFromMap","newIdx","reconcileChildFibersImpl","newChildren","resultingFirstChild","previousNewFiber","nextOldFiber","delete","reconcileChildrenArray","step","done","reconcileChildrenIterator","firstChildFiber","reconcileChildFibers","mountChildFibers","suspenseHandlerStackCursor","shellBoundary","pushPrimaryTreeSuspenseHandler","handler","suspenseStackCursor","pushOffscreenSuspenseHandler","reuseSuspenseHandlerOnStack","popSuspenseHandler","findFirstSuspended","row","isSuspenseInstanceFallback","revealOrder","applyDerivedStateFromProps","ctor","getDerivedStateFromProps","nextProps","classComponentUpdater","enqueueSetState","_reactInternals","enqueueReplaceState","enqueueForceUpdate","checkShouldComponentUpdate","oldProps","newProps","nextContext","shouldComponentUpdate","isPureReactComponent","callComponentWillReceiveProps","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","resolveClassComponentProps","baseProps","defaultProps","propName$73","reportGlobalError","reportError","ErrorEvent","dispatchEvent","process","emit","console","defaultOnUncaughtError","defaultOnCaughtError","defaultOnRecoverableError","logUncaughtError","errorInfo","onUncaughtError","componentStack","e$74","setTimeout","logCaughtError","boundary","onCaughtError","errorBoundary","e$75","createRootErrorUpdate","createClassErrorUpdate","initializeClassErrorUpdate","getDerivedStateFromError","componentDidCatch","legacyErrorBoundariesThatAlreadyFailed","SelectiveHydrationException","reconcileChildren","nextChildren","updateForwardRef","propsWithoutRef","bailoutOnAlreadyFinishedWork","updateMemoComponent","compare","updateSimpleMemoComponent","checkScheduledUpdateOrContext","prevProps","updateFunctionComponent","updateOffscreenComponent","deferHiddenOffscreenComponent","cachePool","nextBaseLanes","markRef","replayFunctionComponent","updateClassComponent","contextType","updater","refs","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","unresolvedOldProps","oldContext","contextType$jscomp$0","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","mountHostRootWithoutHydrating","SUSPENDED_MARKER","treeContext","retryLane","mountSuspenseOffscreenState","getRemainingWorkInPrimaryTree","primaryTreeDidDefer","workInProgressDeferredLane","updateSuspenseComponent","showFallback","didSuspend","JSCompiler_temp$jscomp$0","nextInstance","c","id","overflow","fallback","mountWorkInProgressOffscreenFiber","mountSuspensePrimaryChildren","retrySuspenseComponentWithoutHydrating","dataset","digest","dgst","renderDidSuspendDelayIfPossible","primaryChildren","offscreenProps","_pendingMarkers","_retryCache","_transitions","scheduleSuspenseWorkOnFiber","initSuspenseListRenderState","isBackwards","tail","lastContentRow","tailMode","renderState","rendering","renderingStartTime","updateSuspenseListComponent","beginWork","didSuspendBefore","attemptEarlyBailoutIfNoScheduledUpdate","lazyComponent","isDehydrated","getResource","getOwnerDocumentFromRootContainer","setInitialProperties","resolveSingletonInstance","anyProps","hasAttribute","getAttribute","crossOrigin","title","canHydrateInstance","canHydrateTextInstance","pooledCacheLanes","markUpdate","preloadResourceAndSuspendIfNeeded","loading","preloadResource","scheduleRetryEffect","retryQueue","workInProgressSuspendedRetryLanes","cutOffTailIfNeeded","hasRenderedATailFallback","lastTailNode","lastTailNode$113","bubbleProperties","completedWork","didBailout","newChildLanes","child$114","completeWork","pendingContext","createElementNS","innerHTML","removeChild","appendChild","autoFocus","createTextNode","cache$127","listenToAllSupportedEvents","workInProgressRootExitStatus","workInProgressRootRenderTargetTime","unwindWork","unwindInterruptedWork","interruptedWork","commitHookEffectListMount","finishedWork","firstEffect","captureCommitPhaseError","commitHookEffectListUnmount","nearestMountedAncestor$jscomp$0","nearestMountedAncestor","destroy_","commitClassCallbacks","safelyCallComponentWillUnmount","componentWillUnmount","safelyAttachRef","instanceToUse","safelyDetachRef","error$143","commitHostMount","focus","srcSet","srcset","commitHostUpdate","domElement","lastProps","propKey","lastProp","setProp","propKey$205","propKey$221","propKey$226","propKey$231","setPropOnCustomElement","propKey$236","updateProperties","isHostParent","getHostSibling","insertOrAppendPlacementNodeIntoContainer","before","insertBefore","_reactRootContainer","insertOrAppendPlacementNode","commitHostSingletonAcquisition","singleton","attributes","removeAttributeNode","offscreenSubtreeIsHidden","offscreenSubtreeWasHidden","needsFormReset","PossiblyWeakSet","WeakSet","nextEffect","commitLayoutEffectOnFiber","finishedRoot","recursivelyTraverseLayoutEffects","__reactInternalSnapshotBeforeUpdate","error$142","commitSuspenseHydrationCallbacks","readyState","_reactRetry","registerSuspenseInstanceRetry","retryDehydratedSuspenseBoundary","prevOffscreenSubtreeWasHidden","recursivelyTraverseReappearLayoutEffects","detachFiberAfterEffects","hostParent","hostParentIsContainer","recursivelyTraverseDeletionEffects","commitDeletionEffectsOnFiber","deletedFiber","onCommitFiberUnmount","count","prevHostParent","prevHostParentIsContainer","releaseSingletonInstance","clearSuspenseBoundary","retryIfBlockedOn","attachSuspenseRetryListeners","wakeables","retryCache","getRetryCache","wakeable","retry","resolveRetryWakeable","recursivelyTraverseMutationEffects","root$jscomp$0","parentFiber","commitMutationEffectsOnFiber","currentHoistableRoot","commitReconciliationEffects","hoistableRoot","currentResource","getElementsByTagName","head","querySelector","maybeNodes","getHydratableHoistableCache","splice","property","httpEquiv","charSet","mountHoistable","acquireResource","tagCaches","getHoistableRoot","recursivelyResetForms","globalMostRecentFallbackTime","wasHidden","prevOffscreenSubtreeIsHidden","recursivelyTraverseDisappearLayoutEffects","display","hostParentFiber","parent$144","parent$146","reset","finishedRoot$jscomp$0","includeWorkInProgressEffects","commitOffscreenPassiveMountEffects","previousCache","commitCachePassiveMountEffect","recursivelyTraversePassiveMountEffects","committedLanes","committedTransitions","commitPassiveMountOnFiber","_finishedWork$memoize2","onPostCommit","passiveEffectDuration","recursivelyTraverseAtomicPassiveEffects","recursivelyTraverseReconnectPassiveEffects","committedLanes$jscomp$0","committedTransitions$jscomp$0","suspenseyCommitFlag","recursivelyAccumulateSuspenseyCommit","accumulateSuspenseyCommitOnFiber","suspendedState","media","matchMedia","matches","getStyleKey","getStylesheetSelectorFromKey","_p","onUnsuspend","stylesheetPropsFromRawProps","preloadPropsMap","adoptPreloadPropsForStylesheet","linkInstance","Promise","reject","onload","onerror","stylesheets","preload","suspendResource","previousHoistableRoot","detachAlternateSiblings","previousFiber","recursivelyTraversePassiveUnmountEffects","commitPassiveUnmountEffectsInsideOfDeletedTree_begin","commitPassiveUnmountOnFiber","recursivelyTraverseDisconnectPassiveEffects","deletedSubtreeRoot","DefaultAsyncDispatcher","getCacheForType","resourceType","cacheForType","PossiblyWeakMap","workInProgressSuspendedReason","workInProgressThrownValue","workInProgressRootDidSkipSuspendedSiblings","workInProgressRootIsPrerendering","workInProgressRootDidAttachPingListener","workInProgressRootInterleavedUpdatedLanes","workInProgressRootPingedLanes","workInProgressRootConcurrentErrors","workInProgressRootDidIncludeRecursiveRenderUpdate","Infinity","workInProgressTransitions","pendingEffectsStatus","pendingEffectsRoot","pendingFinishedWork","pendingEffectsLanes","pendingEffectsRemainingLanes","pendingPassiveTransitions","pendingRecoverableErrors","suspenseHandler","cancelPendingCommit","prepareFreshStack","markRootSuspended","ensureRootIsScheduled","performWorkOnRoot","forceSync","shouldTimeSlice","expiredLanes","exitStatus","prevExecutionContext","prevDispatcher","pushDispatcher","prevAsyncDispatcher","pushAsyncDispatcher","thrownValue","throwAndUnwindWorkLoop","replaySuspendedUnitOfWork","hostFiber","completeUnitOfWork","resetWorkInProgressStack","workLoopConcurrentByScheduler","thrownValue$169","handleThrow","A","renderRootConcurrent","renderRootSync","renderWasConcurrent","isRenderConsistentWithExternalStores","errorRecoveryDisabledLanes","wasRootDehydrated","timeoutHandle","scheduleTimeout","commitRootWhenReady","recoverableErrors","transitions","didIncludeRenderPhaseUpdate","updatedLanes","suspendedRetryLanes","didSkipSuspendedSiblings","suspendedCommitReason","completedRenderStartTime","completedRenderEndTime","unsuspend","noop","insertSuspendedStylesheets","commit","stylesheetTimer","clearTimeout","waitForCommitToBeReady","commitRoot","check","didAttemptEntireTree","expirationTimes","index$4","flushSyncWorkAcrossRoots_impl","cancelTimeout","allEntangledLanes","index$2","shouldYieldForPrerendering","unitOfWork","workLoopSync","thrownValue$167","performUnitOfWork","suspendedReason","rootRenderLanes","attachPingListener","markerInstances","cause","wrapperError","throwException","unwindUnitOfWork","skipSiblings","flushPendingEffects","finishedLanes","remainingLanes","previouslyPendingLanes","index$5","hiddenUpdatesForLane","markRootFinished","callbackNode","callbackPriority","flushPassiveEffects","eventsEnabled","_enabled","selection","rangeCount","e$20","indexWithinAnchor","indexWithinFocus","selectionInformation","focusedElem","selectionRange","resolvedPrevProps","clearContainerSparingly","commitBeforeMutationEffects","flushMutationEffects","flushLayoutEffects","flushSpawnedWork","rootMutationHasEffect","priorSelectionInformation","curFocusedElem","priorFocusedElem","priorSelectionRange","min","win","start$jscomp$0","end$jscomp$0","extend","startMarker","endMarker","createRange","setStart","removeAllRanges","addRange","setEnd","left","scrollLeft","top","scrollTop","rootHasLayoutEffect","releaseRootPooledCache","onCommitFiberRoot","onRecoverableError","recoverableError","wasDelayedCommit","renderPriority","onPostCommitFiberRoot","captureCommitPhaseErrorOnRoot","rootFiber","pingCache","threadIDs","pingSuspendedRoot","retryTimedOutBoundary","boundaryFiber","firstScheduledRoot","lastScheduledRoot","didScheduleMicrotask","mightHavePendingSyncWork","isFlushingWork","currentEventTransitionLane","scheduleMicrotask","processRootScheduleInImmediateTask","processRootScheduleInMicrotask","syncTransitionLanes","onlyLegacy","didPerformSomeWork","root$174","performSyncWorkOnRoot","currentPopstateTransitionEvent","shouldAttemptEagerTransition","prev","scheduleTaskForRootDuringMicrotask","index$3","expirationTime","performWorkOnRootViaSchedulerTask","didTimeout","originalCallbackNode","workInProgressRootRenderLanes$jscomp$0","coerceFormActionProp","actionProp","createFormDataWithSubmitter","submitter","temp","FormData","i$jscomp$inline_1528","eventName$jscomp$inline_1529","toUpperCase","nonDelegatedEvents","eventSystemFlags","_dispatchQueue$i","previousInstance","i$jscomp$0","_dispatchListeners$i","targetElement","listenerSetKey","addTrappedEventListener","listenToNativeEvent","isCapturePhaseListener","listeningMarker","rootContainerElement","targetContainer","listenerWrapper","dispatchDiscreteEvent","dispatchContinuousEvent","capture","passive","dispatchEventForPluginEventSystem","targetInst$jscomp$0","ancestorInst","nodeTag","container","grandTag","SyntheticEventCtor","inCapturePhase","accumulateTargetOnly","reactEventName","lastHostComponent","_instance","createDispatchListener","parentWindow","getParent","accumulateEnterLeaveListenersForEvent","getTargetInstFunc","handleEventFunc","fallbackData","eventType","getNativeBeforeInputChars","char","getFallbackBeforeInputChars","maybeTargetInst","formAction","extractEvents$1","targetFiber","captureName","_instance2","unshift","common","_instance3","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","normalizeMarkupForTextOrAttribute","markup","serverText","clientText","formEncType","formMethod","formTarget","encType","__html","muted","isNaN","endsWith","hasSrc","hasSrcSet","propValue$188","parentNamespace","dangerouslySetInnerHTML","localPromise","queueMicrotask","handleErrorInNextTick","parentInstance","suspenseInstance","possiblePreambleContribution","depth","nextNode","nextNode$jscomp$0","targetInstance","previousSibling","rootContainerInstance","preconnectsSet","getRootNode","previousDispatcher","d","f","previousWasRendering","wasRendering","r","formInst","D","preconnectAs","C","L","as","globalDocument","preloadSelector","imageSrcSet","imageSizes","getScriptKey","getScriptSelectorFromKey","m","X","scripts","adoptPreloadPropsForScript","link","insertStylesheet","M","limitedEscapedHref","currentProps","preloadProps","styles$244","resource$245","integrity","hrefLang","referrerPolicy","rawProps","styleProps","instance$250","nodes","prior","stylesheetProps","scriptProps","keyAttribute","caches","nodeKey","precedencesByRoot","insertStylesheetIntoRoot","precedences","FiberRootNode","hydrate","incompleteTransitions","createFiberRoot","initialChildren","hydrationCallbacks","isStrictMode","transitionCallbacks","getContextForSubtree","parentComponent","updateContainerImpl","markRetryLaneImpl","markRetryLaneIfNotHydrated","attemptContinuousHydration","blockedOn","findInstanceBlockingEvent","return_targetInst","clearIfContinuousEvent","queuedFocus","accumulateOrCreateContinuousQueuedReplayableEvent","queuedDrag","queuedMouse","queuedPointers","queuedPointerCaptures","queueIfContinuousEvent","discreteReplayableEvents","findInstanceBlockingTarget","hasScheduledReplayAttempt","queuedExplicitHydrationTargets","existingQueuedEvent","targetContainers","attemptExplicitHydrationTarget","queuedTarget","priority","runWithPriority","attemptReplayContinuousQueuedEvent","queuedEvent","nextBlockedOn","nativeEventClone","shift","attemptReplayContinuousQueuedEventInMap","replayUnblockedEvents","scheduleCallbackIfUnblocked","unblocked","lastScheduledReplayQueue","scheduleReplayQueueIfNeeded","formReplayingQueue","submitterOrAction","unblock","$$reactFormReplay","formProps","ReactDOMRoot","internalRoot","_internalRoot","ReactDOMHydrationRoot","unmount","unstable_scheduleHydration","isomorphicReactPackageVersion$jscomp$inline_1785","version","findDOMNode","componentOrElement","parentA","parentB","didFindChild","child$0","findCurrentFiberUsingSlowPath","internals$jscomp$inline_2256","bundleType","rendererPackageName","currentDispatcherRef","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","hook$jscomp$inline_2257","isDisabled","supportsFiber","inject","exports","createRoot","unstable_strictMode","unstable_transitionCallbacks","hydrateRoot","module","_ref","onContactSelect","onClose","isLoading","setIsLoading","setError","selectedContacts","setSelectedContacts","isSupported","setIsSupported","deviceUtils","handlePickContacts","mobileUtils","haptic","contacts","pickContacts","properties","_jsx","className","_jsxs","_Fragment","contact","phone","_contact$name","_contact$tel","_contact$email","formatContact","charAt","filter","_","removeContact","handleConfirmSelection","handleFallbackContactInput","prompt","STORE_NAME","contactService","db","isInitialized","initPromise","request","indexedDB","open","onsuccess","onupgradeneeded","objectStoreNames","store","createObjectStore","keyPath","createIndex","unique","ensureReady","getAllContacts","transaction","objectStore","getAll","stats","calculateContactStats","sort","localeCompare","sevenDaysAgo","getTime","total","favorites","isFavorite","recentlyAdded","createdAt","frequentlyContacted","contactCount","categories","work","category","company","family","friends","business","other","findDuplicates","contactData","excludeId","undefined","emails","newEmails","existingEmails","some","phones","newPhones","normalizePhone","existingPhones","getPotentialDuplicates","threshold","_contactData$name","_contactData$emails","_contact$emails","_contactData$phones","_contact$phones","score","reasons","nameSimilarity","calculateSimilarity","round","emails1","emails2","emailMatches","e1","phones1","phones2","phoneMatches","p1","isDuplicate","str1","str2","longer","shorter","editDistance","levenshteinDistance","matrix","j","createContact","duplicates","_objectSpread","substr","toISOString","updatedAt","lastContacted","updateContact","contactId","updateData","getRequest","existingContact","updatedContact","putRequest","put","mergeContacts","primaryContactId","secondaryContactId","mergeStrategy","primaryContact","find","secondaryContact","mergedContact","mergePrimaryStrategy","newerContact","olderContact","moreComplete","calculateCompletenessScore","lessComplete","deleteContact","primary","secondary","merged","primaryEmails","secondaryEmails","allEmails","secEmail","primEmail","primaryPhones","secondaryPhones","allPhones","secPhone","primPhone","primaryTags","tags","secondaryTags","socialLinks","jobTitle","website","avatar","birthdate","notes","values","toggleFavorite","importContacts","deviceContacts","importedCount","errors","deviceContact","parseDeviceContact","_deviceContact$name","_deviceContact$email","_deviceContact$tel","exportContacts","csvRows","csv","field","filename","recordContactInteraction","interactionType","lastInteractionType","searchContacts","query","limit","searchTerm","_contact$name2","_contact$phone","_contact$company","getRecentContacts","getFrequentContacts","updateContactInteraction","tx","getDatabase","req","analytics","totalInteractions","lastInteraction","interactions","frequencyScore","chatCount","callCount","lastChatDate","lastCallDate","timestamp","thirtyDaysAgo","recentInteractions","interaction","lastModified","updateReq","complete","getContactAnalytics","totalContacts","dateAdded","_c$analytics","_b$analytics","_a$analytics","recentlyContacted","_c$analytics2","_b$analytics2","_a$analytics2","mostCalled","_c$analytics3","_b$analytics3","_a$analytics3","mostChatted","_c$analytics4","_b$analytics4","_a$analytics4","interactionStats","totalChats","reduce","sum","_c$analytics5","totalCalls","_c$analytics6","_c$analytics7","activeInLastWeek","_c$analytics8","activeInLastMonth","_c$analytics9","categoryBreakdown","seedDemoContacts","demoContacts","instagram","syncWithBackend","clearAllContacts","clear","getContactStatistics","allDuplicates","cleanupDuplicates","strategy","processed","cleanupResults","deleted","duplicate","contactName","helpSections","icon","question","answer","isOpen","activeSection","setActiveSection","searchQuery","setSearchQuery","filteredContent","results","section","item","matchesQuestion","matchesAnswer","matchesTags","sectionId","sectionIcon","highlightText","regex","part","placeholder","onChange","handleSearchResultClick","substring","handleSectionClick","currentSection","s","line","lineIndex","InstallPrompt","showPrompt","setShowPrompt","deferredPrompt","setDeferredPrompt","isInstalled","setIsInstalled","capabilities","setCapabilities","serviceWorker","navigator","pushNotifications","fileSystemAccess","shareTarget","shortcuts","badging","webShare","contactPicker","checkInstalled","installed","standalone","handleBeforeInstallPrompt","hasSeenPrompt","localStorage","getItem","lastShown","oneDayAgo","parseInt","handleAppInstalled","setItem","alt","handleDismiss","handleNotNow","outcome","userChoice","activeCall","callHistory","countryCodes","format","initialize","twilioDevice","ready","canCall","connectionQuality","validateInternationalNumber","phoneNumber","countryCode","valid","cleanNumber","countryInfo","expectedCode","startsWith","originalNumber","formattedNumber","displayNumber","formatNumberForDisplay","country","countryDigits","localNumber","detectCountryFromNumber","sortedCodes","entries","getCallingInfo","perMinute","currency","connection","isFree","initiateCall","recordCall","enableFallback","validation","callId","callInfo","callInstance","targetNumber","startTime","cost","billing","connectionType","enhancedFeatures","pstnCall","internationalCalling","callRecording","qualityMonitoring","freeCalling","notifyCallStateChange","confirm","connectedTime","startCallTimer","endCall","enhancedVoiceCallService","initiateEnhancedCall","callTimer","setInterval","duration","rates","estimatedCost","callStats","endTime","finalStatus","totalDuration","finalCost","clearInterval","getCurrentCall","getCallHistory","reverse","isAvailable","_this$twilioDevice","getSupportedCountries","dialCode","CustomEvent","canCallEmergency","_supportedCountries$f","darkMode","setPhoneNumber","selectedCountry","setSelectedCountry","supportedCountries","setSupportedCountries","setValidation","isValidating","setIsValidating","callRates","setCallRates","currentCall","setCurrentCall","setCallHistory","setIsInitialized","initializeDialer","handleCallStateChange","loadCallHistory","detectedCountry","pstnCallService","validatePhoneNumber","countries","history","formatDuration","minutes","floor","seconds","padStart","formatCost","toFixed","handleEndCall","alert","toLocaleTimeString","hour","minute","_userProfile$socialLi","_userProfile$socialLi2","_userProfile$socialLi3","_userProfile$socialLi4","_userProfile$socialLi5","_userProfile$socialLi6","userProfile","onSave","setFormData","bio","statusMessage","twitter","linkedin","github","facebook","youtube","avatarPreview","setAvatarPreview","avatarFile","setAvatarFile","setLoading","setErrors","isDragging","setIsDragging","fileInputRef","handleInputChange","validateField","validators","v","handleFieldBlur","handleAvatarChange","file","reader","FileReader","readAsDataURL","handleDragOver","handleDragLeave","handleDrop","files","onDragOver","onDragLeave","onDrop","_fileInputRef$current","click","accept","rows","maxLength","onBlur","label","platform","general","username","token","sessionStorage","userData","JSON","parse","response","fetch","headers","stringify","ok","json","authError","validationErrors","subKey","fieldKey","avatarUrl","append","uploadResponse","errorText","uploadResult","success","uploadError","updatedProfile","apiError","currentUser","updatedUser","errorMessage","onSubmit","feedbackType","setFeedbackType","setTitle","description","setDescription","setEmail","rating","setRating","setCategory","setPriority","attachments","setAttachments","isSubmitting","setIsSubmitting","showSuccess","setShowSuccess","feedbackTypes","bug","feature","improvement","compliment","selectedType","validateForm","newErrors","feedbackData","userAgent","submit","cat","level","star","validFiles","from","htmlFor","removeAttachment","ReactNoopUpdateQueue","isMounted","emptyObject","ComponentDummy","PureComponent","partialState","forceUpdate","pureComponentPrototype","V","ReactElement","self","isValidElement","object","userProvidedKeyEscapeRegex","getElementKey","escaperLookup","escape","mapIntoArray","escapedPrefix","nameSoFar","oldElement","newKey","invokeCallback","nextNamePrefix","resolveThenable","mapChildren","func","lazyInitializer","_status","_result","moduleObject","default","Children","forEachFunc","forEachContext","n","toArray","only","Fragment","Profiler","StrictMode","Suspense","__COMPILER_RUNTIME","__proto__","cloneElement","config","childArray","createContext","childrenLength","createRef","forwardRef","lazy","memo","scope","unstable_useCacheRefresh","permalink","Context","_userProfile$privacy","_userProfile$privacy2","_userProfile$privacy3","_userProfile$privacy4","_userProfile$privacy5","_userProfile$privacy6","_userProfile$notifica","_userProfile$notifica2","_userProfile$notifica3","_userProfile$notifica4","_userProfile$notifica5","_userProfile$notifica6","_userProfile$notifica7","_userProfile$notifica8","_userProfile$notifica9","_userProfile$notifica0","_userProfile$notifica1","_userProfile$notifica10","_userProfile$notifica11","_userProfile$notifica12","_userProfile$notifica13","_userProfile$notifica14","privacySettings","setPrivacySettings","profileVisibility","privacy","lastSeenVisibility","onlineStatusVisibility","phoneVisibility","emailVisibility","locationVisibility","notifications","setNotifications","desktop","sound","mentions","directMessages","groupMessages","marketing","visibilityOptions","VisibilitySelector","_ref2","setting","option","handlePrivacyChange","NotificationToggle","_ref3","handleNotificationChange","userDataService","updateUserProfile","setAnalytics","profileViews","monthlyViews","topViewers","uploadStats","totalUploads","totalViews","totalLikes","mostViewedContent","activityStats","messagesCount","reactionsGiven","connectionsCount","joinDate","timeframe","setTimeframe","fetchUserAnalytics","loadAnalytics","formatNumber","num","StatCard","subtitle","trend","abs","thumbnail","views","viewer","viewCount","toLocaleDateString","year","day","role","isOnline","mins","secs","userUploads","userId","isOwnProfile","onRefresh","filteredUploads","setFilteredUploads","activeFilter","setActiveFilter","sortBy","setSortBy","sortDirection","setSortDirection","selectedItems","setSelectedItems","viewMode","setViewMode","showStats","setShowStats","selectedMedia","setSelectedMedia","userUploadsLength","filtered","aValue","bValue","filterOptions","handleItemSelect","itemId","newSet","formatFileSize","bytes","parseFloat","pow","getFileIcon","calculateStats","totalSize","types","acc","totalFiles","averageSize","MediaItem","_item$name$split$pop","isSelected","onSelect","onView","thumbnailUrl","dateString","handleSelectAll","deletePromises","u","deleteMediaItem","all","hasUrl","urlType","clickedElement","transform","fullUrl","controls","autoPlay","playsInline","poster","onLoadStart","onCanPlay","mimeType","border","borderRadius","dimensions","uploadedAt","currentAvatar","onAvatarChange","isUploading","setIsUploading","dragActive","setDragActive","preview","setPreview","handleFiles","fileCount","hasToken","tokenLength","dataUrl","api","uploadAvatar","handleDrag","handleChange","handleClick","onDragEnter","encryptionStatus","setEncryptionStatus","keyFingerprint","setKeyFingerprint","publicKey","setPublicKey","isInitializing","setIsInitializing","showPublicKey","setShowPublicKey","effectiveUserId","loadEncryptionStatus","encryptionService","getStatus","fingerprint","generateKeyFingerprint","pubKey","getPublicKeyForSharing","copyFingerprint","clipboard","writeText","readOnly","copyPublicKey","clearEncryptionData","isVisible","isClosing","activeTab","setActiveTab","setUserProfile","setUserUploads","viewHistory","setViewHistory","showEditModal","setShowEditModal","showPrivacyModal","setShowPrivacyModal","showAnalyticsModal","setShowAnalyticsModal","showContactModal","setShowContactModal","setContacts","selectedContact","setSelectedContact","showEncryptionSettings","setShowEncryptionSettings","currentUserId","getCurrentUserId","localUser","sessionUser","localStorageUser","sessionStorageUser","uploadCount","connectionCount","activityScore","warn","profileData","fetchUserProfile","uploads","fetchUserUploads","fetchUserViewHistory","loadUserData","handleTabChange","tab","handleProfileSave","newAvatarUrl","fileType","formatDate","renderViewHistory","contentType","viewedAt","reload","renderProfileInfo","AvatarUpload","mediaItems","EnhancedMediaGallery","EditProfileModal","PrivacySettings","ProfileAnalytics","ContactModal","allContacts","newContact","EncryptionSettings","setIsVisible","setIsClosing","handleClose","handleEscKey","UserProfile","MESSAGES_KEY","USER_DATA_KEY","UPLOADS_KEY","SETTINGS_KEY","removeItem","saveMessages","messages","loadMessages","stored","addMessage","newMessage","localId","saveUploadedFiles","loadUploadedFiles","saveUserData","clearAllData","getStorageInfo","uploadsCount","hasUserData","calculateStorageSize","AUTH_CONFIG","isAuthenticated","getAuthToken","ensureAuthenticated","statusText","logout","API","axios","baseURL","timeout","interceptors","Authorization","_error$config","_error$response","messageService","messageListeners","typingListeners","connectionStateListeners","_typingCallbacks","_isConnected","websocketService","isConnected","setupWebSocketHandlers","handleIncomingMessage","handleTypingUpdate","handleStatusUpdate","addConnectionListener","handleConnectionStateChange","localStorageService","isTyping","connected","details","getMessages","authHelper","loadMessagesFromStorage","conversationId","params","since","cacheMessages","cachedMessages","storageError","cacheKey","generalCache","msg","sendMessage","sender","replyTo","messageData","senderId","senderName","local","send","post","pendingMessage","storePendingMessage","pendingMessagesJson","pendingMessages","getStatusUpdates","cachedUpdates","markAsRead","messageId","sendVoiceMessage","audioFile","uploadFile","sendTypingStatus","subscribeToTyping","unsubscribeFromTyping","cb","addMessageListener","removeMessageListener","l","addConnectionStateListener","removeConnectionStateListener","getConnectionQuality","getConnectionMetrics","reconnect","clearStoredMessages","nativeDeviceFeaturesService","camera","microphone","geolocation","sensors","fileSystem","vibration","fullscreen","orientation","accelerometer","gyroscope","magnetometer","orientationSensor","detectCapabilities","setupSensors","mediaDevices","screen","requestCameraAccess","constraints","finalConstraints","video","ideal","max","frameRate","facingMode","audio","stream","getUserMedia","capturePhoto","canvas","getContext","srcObject","play","onloadedmetadata","videoWidth","videoHeight","drawImage","toBlob","blob","getTracks","stop","toDataURL","recordVideo","mediaRecorder","MediaRecorder","chunks","ondataavailable","onstop","Blob","URL","createObjectURL","finalOptions","select","getCurrentLocation","enableHighAccuracy","maximumAge","getCurrentPosition","position","latitude","coords","longitude","accuracy","altitude","watchLocation","watchPosition","Accelerometer","frequency","handleSensorReading","z","Gyroscope","alpha","beta","gamma","sensorType","openFileDialog","fallbackFileDialog","fileHandles","showOpenFilePicker","handle","getFile","input","accepts","flatMap","flat","onchange","shareContent","share","shareFile","shareData","canShare","lockOrientation","lock","unlockOrientation","unlock","enterFullscreen","requestFullscreen","exitFullscreen","fullscreenElement","getCapabilities","getLocation","openFiles","_duplicateWarning$dup","nickname","relationship","linkedContacts","importance","discord","saving","setSaving","newTag","setNewTag","duplicateWarning","setDuplicateWarning","potentialDuplicates","setPotentialDuplicates","showDuplicateModal","setShowDuplicateModal","showInternationalDialer","setShowInternationalDialer","_contact$socialLinks","_contact$socialLinks2","_contact$socialLinks3","_contact$socialLinks4","_contact$socialLinks5","_contact$socialLinks6","handleSocialLinkChange","handlePhoneChange","handleAddPhone","_mobileUtils$haptic","handleRemovePhone","_mobileUtils$haptic2","handleEmailChange","handleAddEmail","_mobileUtils$haptic3","handleRemoveEmail","_mobileUtils$haptic4","handleAddTag","_mobileUtils$haptic5","handleRemoveTag","tagToRemove","_mobileUtils$haptic6","handleLinkedContactChange","_mobileUtils$haptic7","isLinked","cleanPhone","today","minDate","isValid","potentials","handleSubmit","_cleanEmails$","_cleanPhones$","_mobileUtils$haptic9","cleanSocialLinks","fromEntries","cleanEmails","cleanPhones","_mobileUtils$haptic0","_mobileUtils$haptic8","handleAvatarUpload","_e$target$files","_mobileUtils$haptic1","handleMergeContact","_mobileUtils$haptic10","mergedData","newEmail","existingEmail","newPhone","existingPhone","_mobileUtils$haptic11","required","social_twitter","social_linkedin","social_instagram","social_github","social_discord","availableContact","onKeyPress","_duplicate$emails","_duplicate$emails$","_duplicate$phones","_duplicate$phones$","potential","_potential$contact$em","_potential$contact$em2","_potential$contact$ph","_potential$contact$ph2","InternationalDialer","bandwidth","latency","onLine","wifiStrength","initializeConnectionMonitoring","assessConnectionQuality","mozConnection","webkitConnection","updateConnectionInfo","effectiveType","downlink","calculateWiFiStrength","rtt","strength","measureLatency","performance","getOptimalCallMethod","hasPhoneNumber","quality","isWiFi","methods","estimated_quality","note","getConnectionStatus","getConnectionIcon","getConnectionColor","getAudioSettings","sampleRate","bitrate","echoCancellation","noiseSuppression","autoGainControl","highpassFilter","startCallMonitoring","onQualityChange","previousQuality","currentQuality","audioSettings","stopCallMonitoring","intervalId","onCapture","setIsOpen","setFacingMode","isRecording","setIsRecording","recordingTime","setRecordingTime","setStream","videoRef","canvasRef","recordingIntervalRef","startCamera","stopCamera","mediaStream","stopVideoRecording","currentMediaRecorder","switchCamera","formatTime","photo","checkDCE","mockUsers","onCreateChat","searchResults","setSearchResults","recentContacts","setRecentContacts","selectedUsers","setSelectedUsers","isGroupChat","setIsGroupChat","groupName","setGroupName","searchInputRef","loadRecentContacts","userService","getAllUsers","filteredUsers","users","user","filteredMockUsers","handleSearch","searchUsers","handleSearchChange","toggleUserSelection","removeSelectedUser","handleCreateChat","authService","getToken","conversationService","participants","createConversation","conversation","handleEscape","displayUsers","viewBox","fill","stroke","strokeWidth","x1","y1","x2","y2","cx","cy","login","mobileInteractionService","isTouch","maxTouchPoints","isIOS","isAndroid","hasHaptic","gestureHandlers","scrollDirection","lastScrollY","keyboardHeight","setupViewportHeight","setupTouchFeedback","setupGestureHandlers","setupKeyboardHandling","setupScrollHandling","setupPullToRefresh","setVH","vh","innerHeight","closest","classList","triggerHapticFeedback","remove","createRippleEffect","rect","getBoundingClientRect","touch","ripple","cssText","startY","startX","currentY","currentX","isScrolling","handleSwipeGesture","direction","triggerGestureEvent","visualViewport","heightDiff","initialHeight","fontSize","ticking","requestAnimationFrame","currentScrollY","pageYOffset","handleScrollDirection","navigation","isPulling","pullDistance","pattern","vibrate","addGestureHandler","gesture","removeGestureHandler","elementHandlers","optimizeScrollPerformance","overflowScrolling","willChange","getDeviceInfo","_window$screen$orient","screenWidth","screenHeight","devicePixelRatio","preventDefaultTouch","preventScroll","preventZoom","preventDoubleTap","touchAction","addGesture","removeGesture","optimizeScroll","preventTouch","callState","onEndCall","onToggleMinimize","isMuted","setIsMuted","isVideoOff","setIsVideoOff","callDuration","setCallDuration","connectionStatus","setConnectionStatus","localVideoRef","remoteVideoRef","callTimerRef","active","withUser","minimized","audioOnly","userAvatar","userName","timer","xmlns","strokeLinecap","strokeLinejoin","background","alignItems","justifyContent","textAlign","padding","margin","toggleMute","toggleVideo","_typeof","o","toPropertyKey","t","toPrimitive","TypeError","Number","_defineProperty","writable","ownKeys","getOwnPropertySymbols","_objectSpread2","getOwnPropertyDescriptors","defineProperties","connectionMonitoringInterval","callQualityHistory","formatPhoneNumber","getAvailableCallMethods","targetUser","connectionService","targetPhone","estimatedLatency","preferredMethod","availableMethods","selectedMethod","callData","startCallWithMethod","startWiFiOptimizedCall","startWebRTCCall","startOptimizedWebRTCCall","startPhoneCall","requestCallback","deviceId","wifiOptimized","adaptiveQuality","backgroundNoiseReduction","dynamicBandwidthAdjustment","startConnectionMonitoring","webrtcOptimized","lowBandwidthMode","aggressiveCompression","reducedSampleRate","cellularFallback","pstnGateway","callbackRequest","offlineFallback","qualityChange","handleQualityChange","adaptCallQuality","handleConnectionLoss","qualityHistory","finalQuality","getCurrentCallStatus","userHasPhoneNumber","getConnectionRecommendations","recommendations","ACTIVITY_LOG_KEY","ACTIVITY_TYPES","LOGIN","LOGOUT","MESSAGE_SENT","MESSAGE_RECEIVED","PROFILE_UPDATE","CONVERSATION_CREATED","CONVERSATION_DELETED","STATUS_CHANGE","logActivity","activityLog","getActivityLog","newActivity","clearActivityLog","getActivityStats","oneDay","oneWeek","todayActivities","entry","weekActivities","countByType","activities","totalActivities","messagesSent","messagesReceived","logins","lastActivity","Internals","getCrossOriginStringAs","createPortal","createPortal$1","flushSync","previousTransition","previousUpdatePriority","preconnect","prefetchDNS","preinit","fetchPriority","nonce","preinitModule","preloadModule","requestFormReset","unstable_batchedUpdates","useFormStatus","thisArg","getPrototypeOf","toStringTag","kindOf","thing","str","kindOfTest","typeOfTest","isUndefined","isBuffer","val","isFunction","isArrayBuffer","isString","isNumber","isObject","isPlainObject","isDate","isFile","isBlob","isFileList","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","obj","allOwnKeys","getOwnPropertyNames","len","findKey","_key","_global","globalThis","global","isContextDefined","isTypedArray","TypedArray","Uint8Array","isHTMLForm","prop","isRegExp","reduceDescriptors","descriptors","reducedDescriptors","ret","isAsyncFn","_setImmediate","setImmediateSupported","postMessageSupported","setImmediate","postMessage","asap","nextTick","isFormData","kind","isArrayBufferView","ArrayBuffer","isView","buffer","isBoolean","isEmptyObject","isStream","pipe","merge","caseless","skipUndefined","assignValue","targetKey","stripBOM","inherits","superConstructor","toFlatObject","sourceObj","destObj","propFilter","searchString","lastIndex","arr","forEachEntry","_iterator","pair","matchAll","regExp","exec","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","delimiter","define","toCamelCase","p2","toFiniteNumber","isFinite","isSpecCompliantForm","toJSONObject","visit","reducedValue","isThenable","isIterable","AxiosError","captureStackTrace","utils","toJSON","fileName","lineNumber","columnNumber","customProps","axiosError","errCode","isVisitable","removeBrackets","renderKey","path","dots","predicates","metaTokens","indexes","visitor","defaultVisitor","useBlob","convertValue","Buffer","isFlatArray","el","exposedHelpers","build","encode","charMap","AxiosURLSearchParams","_pairs","toFormData","encoder","_encode","buildURL","serialize","serializeFn","serializedParams","hashmarkIndex","handlers","fulfilled","rejected","synchronous","runWhen","eject","h","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","isBrowser","classes","URLSearchParams","protocols","hasBrowserEnv","_navigator","hasStandardBrowserEnv","product","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","origin","buildPath","isNumericKey","isLast","arrayToObject","parsePropPath","defaults","transitional","transitionalDefaults","adapter","transformRequest","getContentType","hasJSONContentType","isObjectPayload","formDataToJSON","setContentType","helpers","isNode","toURLEncodedForm","formSerializer","_FormData","env","rawValue","parser","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","parseReviver","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","ignoreDuplicateOf","$internals","normalizeHeader","header","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","parsed","parseHeaders","dest","tokens","tokensRE","parseTokens","matcher","deleteHeader","normalize","normalized","w","formatHeader","_len","targets","asStrings","getSetCookie","first","computed","_len2","_key2","accessor","accessors","defineAccessor","accessorName","methodName","arg1","arg2","arg3","buildAccessors","mapped","headerValue","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","ERR_BAD_REQUEST","samplesCount","timestamps","firstSampleTS","chunkLength","startedAt","bytesCount","passed","freq","lastArgs","invoke","args","flush","progressEventReducer","isDownloadStream","bytesNotified","_speedometer","speedometer","throttle","loaded","lengthComputable","progressBytes","rate","progress","estimated","progressEventDecorator","throttled","asyncDecorator","isMSIE","protocol","host","port","write","expires","domain","secure","cookie","toGMTString","read","decodeURIComponent","buildFullPath","requestedURL","allowAbsoluteUrls","isRelativeUrl","relativeURL","combineURLs","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","paramsSerializer","timeoutMessage","withCredentials","withXSRFToken","onUploadProgress","onDownloadProgress","decompress","beforeRedirect","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding","configValue","newConfig","auth","btoa","unescape","getHeaders","formHeaders","allowedHeaders","isURLSameOrigin","xsrfValue","cookies","XMLHttpRequest","_config","resolveConfig","requestData","requestHeaders","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","unsubscribe","onloadend","responseHeaders","getAllResponseHeaders","responseText","onreadystatechange","responseURL","onabort","ECONNABORTED","ERR_NETWORK","ontimeout","timeoutErrorMessage","ETIMEDOUT","setRequestHeader","upload","cancel","parseProtocol","composeSignals","signals","Boolean","_OverloadYield","k","_wrapAsyncGenerator","AsyncGenerator","resume","arg","_invoke","_awaitAsyncGenerator","_asyncGeneratorDelegate","pump","_asyncIterator","asyncIterator","AsyncFromSyncIterator","AsyncFromSyncIteratorContinuation","streamChunk","chunk","chunkSize","byteLength","pos","readBytes","iterable","_iteratorError","_iteratorAbruptCompletion","_didIteratorError","_step","readStream","_x","_x2","getReader","_x3","trackStream","onProgress","onFinish","_onFinish","ReadableStream","pull","close","loadedBytes","enqueue","highWaterMark","globalFetchAPI","Request","Response","TextEncoder","factory","isFetchSupported","isRequestSupported","isResponseSupported","isReadableStreamSupported","encodeText","arrayBuffer","supportsRequestStream","duplexAccessed","hasContentType","duplex","supportsResponseStream","resolvers","res","ERR_NOT_SUPPORT","resolveBodyLength","getContentLength","_request","getBodyLength","fetchOptions","composedSignal","toAbortSignal","requestContentLength","contentTypeHeader","isCredentialsSupported","resolvedOptions","credentials","isStreamResponse","responseContentLength","responseData","seedCache","getFetch","seeds","seed","knownAdapters","http","xhr","xhrAdapter","fetchAdapter","renderReason","isResolvedHandle","getAdapter","adapters","nameOrAdapter","rejectedReasons","throwIfCancellationRequested","throwIfRequested","dispatchRequest","VERSION","deprecatedWarnings","validator","formatMessage","opt","desc","opts","ERR_DEPRECATED","spelling","correctSpelling","assertOptions","schema","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","Axios","instanceConfig","InterceptorManager","configOrUrl","dummy","boolean","function","baseUrl","withXsrfToken","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","createInstance","defaultConfig","Cancel","promises","spread","isAxiosError","formToJSON","STORES","PROFILE","PHOTOS","VIDEOS","GIFS","AUDIO","FILES","FAVORITES","MEDIA_CACHE","API_CONFIG","initDB","getAuthHeaders","getFileUploadHeaders","apiCall","endpoint","defaultOptions","errorData","getUserProfileFromAPI","updateUserProfileAPI","saveUserProfile","profile","lastUpdated","profileWithTimestamp","getUserProfile","cachedProfile","parsedProfile","updateMediaItemsCount","storeName","countRequest","countsJson","counts","saveMediaItem","mediaItem","itemToSave","getMediaItems","items","deleteRequest","favoriteItem","favoritedAt","getFavorites","isFavorited","getStorageUsage","storage","estimate","quota","usage","percentUsed","usageDetails","photos","videos","estimatedSize","clearAllUserData","storeNames","clearPromises","realProfile","isCurrentUser","videoSamples","contentTypes","contentId","baseMultiplier","currentProfile","updateUserEmail","uploadMedia","deleteMedia","mediaId","setupTwoFactor","verifyTwoFactorSetup","verificationToken","verifyTwoFactor","isBackupCode","completeTwoFactorLogin","disableTwoFactor","twoFactorToken","getTwoFactorStatus","generateBackupCodes","validateFile","maxSize","maxSizeStr","createThumbnail","ctx","onseeked","revokeObjectURL","connectionManager","wsUnsubscribe","handleOnline","handleOffline","notifyConnectionChange","REACT_APP_API_BASE_URL","REACT_APP_API_TIMEOUT","checkApiConnection","connect","syncPromises","pendingId","syncedIds","allSettled","remainingMessages","syncPendingMessages","currentConnectionState","newConnectionState","skipRetry","currentRetries","maxRetries","retryDelay","getRetryDelay","performOfflineLogin","lastActive","getUserById","updateUser","dataObj","changePassword","currentPassword","newPassword","updatePreferences","preferences","updateProfile","_error$response2","removeAvatar","updateCurrentUserPreferences","changeCurrentUserPassword","register","saveUserSession","remember","userWithOnlineStatus","fallbackStorage","fallbackError","getUser","userLocal","userSession","messageCache","statusUpdates","saveStatusUpdates","updates","getCachedMessages","cachedData","parsedData","getCachedStatusUpdates","q","_error$response3","_error$response3$data","_error$response4","_error$response4$data","conversationData","_error$response5","_error$response5$data","getConversations","conversations","_error$response6","_error$response6$data","newMessageServiceModule","debug","stability","updatedMessages","readBy","jsxProd","maybeKey","jsx","jsxs","iOS17CompatibilityValidator","detectIOS","detectIOSVersion","supportedFeatures","getIOS17Features","major","minor","patch","validateCompatibility","device","isCompatible","features","warnings","css","testCSSFeatures","webAPIs","testWebAPIs","testPerformanceAPIs","testTouchFeatures","pwa","testPWAFeatures","analyzeCompatibility","displayCompatibilityReport","nesting","CSS","supports","containerQueries","cascadeLayers","viewportUnits","dvh","svh","lvh","safeArea","_window$ServiceWorker","apis","pushManager","backgroundSync","ServiceWorkerRegistration","observer","intersectionObserver","resizeObserver","memory","touchEvents","pointerEvents","hapticFeedback","forceTouch","manifest","installPrompt","mediaSession","displayFeatureMatrix","warning","categoryFeatures","supported","Android14CompatibilityValidator","detectAndroid","detectAndroidVersion","getAndroid14Features","webFeatures","testWebFeatures","testPWACapabilities","android","testAndroidFeatures","_window$ServiceWorker2","cssNesting","_window$ServiceWorker3","fullscreenEnabled","performanceObserver","ambientLight","deviceMotion","deviceOrientation","wakeLock","permissions","AccessibilityValidator","wcagLevel","validateAccessibility","tests","issues","contrastRatio","testContrastRatios","keyboardNavigation","testKeyboardNavigation","screenReaderSupport","testScreenReaderSupport","touchTargets","testTouchTargets","motionAndAnimation","testMotionPreferences","semanticStructure","testSemanticStructure","calculateAccessibilityScore","generateAccessibilityRecommendations","displayAccessibilityReport","contrastIssues","getComputedStyle","bgColor","backgroundColor","textColor","contrast","calculateContrastRatio","bg","focusableElements","visibility","offsetParent","issue","focusOutline","outline","img","headings","previousLevel","heading","currentLevel","interactive","smallTargets","_element$textContent","_element$value","totalTargets","hasReducedMotionSupport","animatedElements","totalScore","testCount","testName","rec","initValidationSuite","ios17Validator","android14Validator","accessibilityValidator","validationSuite","ios17","android14","accessibility","runAllValidations","ios","_user$socialLinks","_user$socialLinks2","_user$socialLinks3","_user$notifications","_user$notifications2","_user$notifications3","_user$notifications4","_user$privacy","_user$privacy2","_user$privacy3","onUpdate","theme","language","timezone","Intl","DateTimeFormat","timeZone","showOnlineStatus","allowDirectMessages","avatarColor","setSuccess","unsavedChanges","setUnsavedChanges","passwordData","setPasswordData","confirmPassword","hasChanges","rx","ry","authToken","sessionAuthToken","sessionToken","socialWebsite","_err$response","hidden","preferencesData","minLength","setStats","loadStats","interval","toLocaleString","handleClearLog","qrcodegen","__defProp","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","__spreadValues","__objRest","exclude","qrcodegen2","_QrCode","errorCorrectionLevel","dataCodewords","msk","modules","MIN_VERSION","MAX_VERSION","RangeError","drawFunctionPatterns","allCodewords","addEccAndInterleave","drawCodewords","minPenalty","applyMask","drawFormatBits","penalty","getPenaltyScore","assert","mask","ecl","segs","QrSegment","makeSegments","encodeSegments","encodeBinary","seg","makeBytes","dataUsedBits","minVersion","maxVersion","boostEcl","dataCapacityBits2","getNumDataCodewords","usedBits","getTotalBits","newEcl","Ecc","MEDIUM","QUARTILE","HIGH","bb","appendBits","modeBits","numChars","numCharCountBits","dataCapacityBits","padByte","getModule","getModules","setFunctionModule","drawFinderPattern","alignPatPos","getAlignmentPatternPositions","numAlign","drawAlignmentPattern","drawVersion","formatBits","rem","bits","getBit","dy","dx","dist","xx","yy","isDark","ver","numBlocks","NUM_ERROR_CORRECTION_BLOCKS","ordinal","blockEccLen","ECC_CODEWORDS_PER_BLOCK","rawCodewords","getNumRawDataModules","numShortBlocks","shortBlockLen","blocks","rsDiv","reedSolomonComputeDivisor","dat","ecc","reedSolomonComputeRemainder","block","right","vert","invert","runColor","runX","runHistory","PENALTY_N1","finderPenaltyAddHistory","finderPenaltyCountPatterns","PENALTY_N3","finderPenaltyTerminateAndCount","runY","PENALTY_N2","dark","ceil","PENALTY_N4","degree","reedSolomonMultiply","divisor","factor","coef","core","currentRunColor","currentRunLength","cond","QrCode","_QrSegment","bitData","Mode","BYTE","makeNumeric","digits","isNumeric","NUMERIC","makeAlphanumeric","isAlphanumeric","ALPHANUMERIC_CHARSET","ALPHANUMERIC","toUtf8ByteArray","makeEci","assignVal","ECI","NUMERIC_REGEX","ALPHANUMERIC_REGEX","ccbits","encodeURI","QrCode2","_Ecc","LOW","QrSegment2","_Mode","numBitsCharCount","KANJI","qrcodegen_default","ERROR_LEVEL_MAP","Q","DEFAULT_SIZE","DEFAULT_LEVEL","DEFAULT_BGCOLOR","DEFAULT_FGCOLOR","DEFAULT_INCLUDEMARGIN","DEFAULT_MINVERSION","generatePath","ops","cell","excavateModules","excavation","useQRCode","includeMargin","marginSize","imageSettings","boostLevel","qrcode","segments","accum","cells","numCells","calculatedImageSettings","cells2","margin2","getMarginSize","numCells2","calculatedImageSettings2","defaultSize","scale","opacity","excavate","floorX","floorY","getImageSettings","SUPPORTS_PATH2D","Path2D","addPath","forwardedRef","_a","fgColor","_b","imgSrc","_canvas","_image","setCanvasRef","isImgLoaded","setIsImageLoaded","cellsToDraw","image","haveImageToRender","naturalHeight","naturalWidth","pixelRatio","fillStyle","fillRect","rdx","cdx","globalAlpha","canvasStyle","QRCodeSVG","preserveAspectRatio","fgPath","shapeRendering","onSetupComplete","setStep","qrCodeUrl","setQrCodeUrl","secret","setSecret","manualEntryKey","setManualEntryKey","verificationCode","setVerificationCode","backupCodes","setBackupCodes","initializeSetup","qrCode","copyToClipboard","inputMode","downloadBackupCodes","download","handleComplete","TwoFactorSettings","twoFactorStatus","setTwoFactorStatus","enabled","setupAt","lastUsed","unusedBackupCodes","showSetup","setShowSetup","showDisableConfirm","setShowDisableConfirm","disablePassword","setDisablePassword","disableTwoFactorCode","setDisableTwoFactorCode","disableLoading","setDisableLoading","showBackupCodes","setShowBackupCodes","backupCodesLoading","setBackupCodesLoading","loadTwoFactorStatus","TwoFactorSetup","copyBackupCodes","_user$preferences","colorThemes","accent","selectedTheme","setSelectedTheme","messageColor","previewMode","setPreviewMode","autoColor","getAutoColor","hash","colorIndex","handleThemeSelect","themeId","colorData","borderLeftColor","borderLeftWidth","borderLeftStyle","renderColorPreview","handleReset","colorTheme","onUnsavedChanges","settings","setSettings","messageNotifications","messageSounds","messagePreview","emailDigest","emailNewMessages","emailSecurityAlerts","pushEnabled","pushMessages","pushMentions","pushGroupActivity","dndEnabled","dndStart","dndEnd","dndDays","ledFlash","notificationGrouping","customTones","setHasChanges","handleSettingChange","ToggleSwitch","handleArrayToggle","handleSave","initialSection","onSaveProfile","isAnimating","setIsAnimating","hasUnsavedChanges","setHasUnsavedChanges","focusedItemIndex","setFocusedItemIndex","loadingMessage","setLoadingMessage","sections","keywords","badge","filteredSections","keyword","getSearchSuggestions","handleSectionChange","_sections$find","originalOverflow","handleKeyDown","_document$querySelect","handleForceClose","quickActions","readAsText","autoComplete","suggestion","onFocus","adjustedIndex","renderSectionContent","EnhancedProfile","UserAnalytics","ColorPreferences","NotificationSettings","WS_CONFIG","REACT_APP_WS_URL","RECONNECT_ATTEMPTS","REACT_APP_WS_RECONNECT_ATTEMPTS","RECONNECT_DELAY","REACT_APP_WS_RECONNECT_DELAY","RECONNECT_INTERVAL_MS","MAX_RECONNECT_DELAY_MS","PING_INTERVAL_MS","PONG_TIMEOUT_MS","CONNECTION_TIMEOUT_MS","socket","connectionListeners","reconnectAttempts","reconnectTimer","pingTimer","pongTimer","connectionTimer","isConnecting","intentionallyClosed","lastPingSent","lastPongReceived","pingHistory","connectionMetrics","disconnects","lastConnectionTime","failedPings","WebSocket","handleDisconnect","onopen","handleOpen","onmessage","handleMessage","handleError","onclose","disconnect","intentional","clearTimers","tempListener","timeoutId","removeConnectionListener","startPingInterval","reconnected","handlePong","reconnecting","reconnectDelay","ping","pingTime","updateStabilityMetric","avgLatency","variance","stabilityRaw","DeviceTestingManager","testResults","deviceProfiles","initDeviceProfiles","foldedWidth","foldedHeight","spanningWidth","startDeviceTesting","deviceResults","testDevice","delay","generateTestReport","simulateDevice","testViewportUnits","responsiveDesign","testResponsiveDesign","modernFeatures","testModernFeatures","testPerformance","testAccessibility","touchInteractions","testTouchInteractions","pwaFeatures","Event","failed","unit","testEl","testBreakpoints","testSafeAreas","testComponentAdaptation","featureTests","testDynamicIsland","testHapticFeedback","testHighRefreshRate","testFoldableSupport","testAmbientLight","metrics","used","usedJSHeapSize","totalJSHeapSize","jsHeapSizeLimit","renderStart","triggerRender","renderTime","renderPerformance","scrollPerformance","testScrollPerformance","touchLatency","testTouchLatency","testTouchTargetSizes","_profile$features","testBasicTouch","testGestureRecognition","testMultiTouch","testServiceWorker","testManifest","testInstallability","testOfflineSupport","islandEl","hasContent","hasInteraction","_window$screen","refreshRate","detectRefreshRate","hasFoldClass","hasViewportSegments","hasColorScheme","frames","measureFrame","offsetHeight","scrollTo","scrollTime","once","Touch","identifier","radiusX","radiusY","rotationAngle","force","touchEvent","TouchEvent","testResult","generateTestSummary","totalTests","totalPassed","totalPartial","totalFailed","successRate","ms","PerformanceAuditManager","runPerformanceAudit","coreWebVitals","measureCoreWebVitals","measureMemoryUsage","network","measureNetworkPerformance","measureRenderingPerformance","javascript","measureJavaScriptPerformance","generateRecommendations","displayAuditResults","vitals","lcp","measureLCP","fid","measureFID","cls","measureCLS","percentage","_results$metrics$memo","lcpStatus","fidStatus","clsStatus","_metrics$memory","_metrics$coreWebVital","_metrics$coreWebVital2","initTestingSuite","deviceTesting","performanceAudit","testingSuite","runAllTests","devices","testCurrentDevice","detectCurrentDevice","heap","parentIndex","peek","halfLength","leftIndex","rightIndex","diff","sortIndex","localPerformance","localDate","initialTime","taskQueue","timerQueue","taskIdCounter","currentTask","currentPriorityLevel","isPerformingWork","isHostCallbackScheduled","isHostTimeoutScheduled","needsPaint","localSetTimeout","localClearTimeout","localSetImmediate","advanceTimers","handleTimeout","isMessageLoopRunning","schedulePerformWorkUntilDeadline","firstTimer","requestHostTimeout","taskTimeoutID","frameInterval","shouldYieldToHost","performWorkUntilDeadline","hasMoreWork","previousPriorityLevel","priorityLevel","continuationCallback","MessageChannel","channel","port2","port1","unstable_Profiling","task","unstable_forceFrameRate","fps","unstable_next","eventHandler","unstable_runWithPriority","unstable_wrapCallback","parentPriorityLevel","onGifSelect","setSearchTerm","selectedCategory","setSelectedCategory","sampleGifs","trending","reactions","emotions","animals","handleGifClick","gif","isGif","getCurrentGifs","gifs","emoji","keyPairs","publicKeys","sessionKeys","keyPair","loadUserKeys","generateKeyPair","saveUserKeys","crypto","subtle","generateKey","modulusLength","publicExponent","exportPublicKey","exportedKey","exportKey","arrayBufferToBase64","importPublicKey","publicKeyBase64","publicKeyBuffer","base64ToArrayBuffer","importKey","encryptMessage","recipientUserId","recipientPublicKey","messageBytes","encryptedBytes","encrypt","encryptedContent","recipientId","isEncrypted","decryptMessage","encryptedData","decryptedBytes","decrypt","privateKey","decryptedMessage","TextDecoder","decode","isDecrypted","decryptionError","encryptForGroup","participantUserIds","encryptedMessages","encrypted","encryptedPayloads","isGroupEncrypted","publicKeyBytes","hashBuffer","hashArray","keyData","keyDataStr","canEncryptForUser","binary","base64","atob","hasKeyPair","publicKeysCount","canEncrypt","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","chunkId","miniCssF","inProgress","dataWebpackPrefix","script","needAttach","charset","nc","onScriptComplete","doneFns","installedChunks","installedChunkData","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal","onEdit","onDelete","onToggleFavorite","onStartChat","onStartCall","showActions","setShowActions","imageError","setImageError","handleToggleFavorite","handleStartChat","handleStartCall","handleEdit","handleDelete","handleCardClick","handleCardLongPress","statusInfo","getStatusInfo","class","lastSeen","colors","getAvatarColor","onContextMenu","word","formatPhone","onCategoryChange","filteredContacts","setFilteredContacts","editingContact","setEditingContact","showBulkActions","setShowBulkActions","contactStats","setContactStats","loadContacts","isRecentContact","_contactData$contacts","handleAddContact","handleEditContact","handleDeleteContact","handleContactSave","handleImportContacts","imported","handleExportContacts","exportData","handleContactSelect","handleClearSelection","ContactGroups","ContactCard","donationHistory","totalDonated","lastDonationDate","donationGoals","daily","weekly","monthly","yearly","loadDonationData","getDonationAmounts","amount","popular","getDonationMessage","userStats","callsMade","daysUsed","condition","processDonation","paymentMethod","donation","transactionId","saveDonationData","getDonationStats","oneMonth","oneYear","dailyDonations","weeklyDonations","monthlyDonations","yearlyDonations","donationCount","lastDonation","goals","shouldShowDonationPrompt","getThankYouMessage","getRecentDonations","getSupporterBadge","_donationResult$donat","trigger","selectedAmount","setSelectedAmount","customAmount","setCustomAmount","donationMessage","setDonationMessage","setPaymentMethod","isProcessing","setIsProcessing","showThankYou","setShowThankYou","donationResult","setDonationResult","donationStats","setDonationStats","donationService","donationAmounts","handleAmountSelect","onOpenDonation","autoShow","isDismissed","setIsDismissed","supporterBadge","setSupporterBadge","handleDonate","originalMessageService","encryptionEnabled","initializeEncryption","conversationParticipants","sendEncryptedDirectMessage","sendEncryptedGroupMessage","serverMessage","messageType","encryptedForGroup","decryptMessageIfNeeded","decryptedData","myEncryptedContent","addUserPublicKey","getEncryptionStatus","serviceStatus","clearEncryption","editMessage","newText","deleteMessage","addReaction","reaction","removeReaction","onMessage","onMessageUpdate","onMessageDelete","localStream","remoteStream","peerConnection","onlineUsers","rtcConfig","iceServers","urls","credential","iceCandidatePoolSize","initializeSignaling","wsUrl","registerUser","handleSignalingMessage","setupLocalFallback","OPEN","updateOnlineUsers","handleIncomingCall","handleCallAnswer","handleIceCandidate","handleCallEnd","getAvailableUsers","targetUserId","RTCPeerConnection","setupPeerConnectionHandlers","addTrack","offer","createOffer","setLocalDescription","generateCallId","simulateLocalCall","cleanup","callerName","rejectCall","setRemoteDescription","createAnswer","callerData","candidate","addIceCandidate","onicecandidate","_this$activeCall","ontrack","streams","playRemoteStream","onconnectionstatechange","connectionState","audioElement","autoplay","isSimulated","getCallStatus","canMakeCalls","getConnectionStats","hasActiveCall","connectionMode","availableUsers","setAvailableUsers","connectionStats","setConnectionStats","isExpanded","setIsExpanded","loadAvailableUsers","updateConnectionStats","globalVoiceCallService","API_BASE_URL","REACT_APP_API_URL","feedbackService","submitFeedback","hasEmail","getFeedbackStats","getFeedbackList","validateFeedback","formatFeedbackData","_feedbackData$title","_feedbackData$descrip","_feedbackData$email","getFeedbackTypes","getCategoriesForType","_conversations$","_currentConversation$","_currentConversation$2","currentConversation","onLogout","onToggleDarkMode","sidebarCollapsed","setSidebarCollapsed","selectedConversation","setSelectedConversation","showEmojiPicker","setShowEmojiPicker","avatarError","setAvatarError","recordingDuration","setRecordingDuration","mobileGlobalVoiceModal","setMobileGlobalVoiceModal","lightboxModal","setLightboxModal","imageUrl","imageName","zoom","pan","currentIndex","images","videoLightboxModal","setVideoLightboxModal","videoUrl","videoName","showGifPicker","setShowGifPicker","showMoreMenu","setShowMoreMenu","showNativeCamera","setShowNativeCamera","showContactPicker","setShowContactPicker","nativeCameraMode","setNativeCameraMode","showContactManager","setShowContactManager","showCallOptions","setShowCallOptions","showDonationModal","setShowDonationModal","setEncryptionEnabled","defaultEncryption","setDefaultEncryption","uploadProgress","setUploadProgress","fileSize","uploadedSize","mobileCameraPhotoRef","mobileCameraVideoRef","mobileGalleryRef","recordingTimerRef","messagesEndRef","messagesContainerRef","chatMessages","setChatMessages","messagesLoading","setMessagesLoading","messagesError","setMessagesError","selectedMessageId","setSelectedMessageId","showReactionPicker","setShowReactionPicker","currentSelectedConversation","conv","encryptionInit","encryptedMessageService","encryptError","scrollToBottom","scrollIntoView","behavior","updateConnectionStatus","handleResize","innerWidth","toggleSidebar","handleMobileGlobalVoice","handleOverlayClick","handleConversationSelect","conversationMessages","handleFilterChange","handleNewChat","setNewChatModal","handleCreateGroup","_conversation$partici","_conversation$partici2","_conversation$partici3","_conversation$partici4","newConversation","lastMessage","unreadCount","handleQuickSettings","setSettingsModal","handleFileChange","_event$target$result","isMobileDevice","handleShowGifPicker","handleGifUpload","handleGifSelect","handleCloseGifPicker","handleMobileUploadMenu","handleOpenNativeCamera","handleCloseNativeCamera","handleCameraCapture","metadata","File","handleSendMessage","handleOpenContactPicker","handleCloseContactPicker","contactText","parts","handleAvatarError","globalCall","setGlobalCall","handleStartGlobalCall","setVoiceCallState","callMessage","callStatus","isSystemMessage","handleMoreMenuToggle","endMessage","handleExportChat","chatData","exportDate","totalMessages","dataStr","dataBlob","exportMessage","handleMuteNotifications","newMutedState","muteMessage","handleClearChat","clearMessage","handleOpenContactManager","handleContactToChat","chatMessage","handleContactCall","phoneNumbers","primaryPhone","handleSearchInChat","matchingMessages","searchMessage","noResultsMessage","handlePrintChat","printWindow","print","handleClickOutside","handleReactionAdd","handleEmojiClick","setInputText","handleMessageClick","formatRecordingTime","startRecording","stopRecording","filteredConversations","_conv$lastMessage","getFilterCounts","unread","groups","totalUnreadCount","inputText","profileModal","setProfileModal","settingsModal","newChatModal","feedbackModal","setFeedbackModal","helpModal","setHelpModal","videoCallState","setVideoCallState","voiceCallState","availableCallMethods","setAvailableCallMethods","showCallMethodSelector","setShowCallMethodSelector","sentMessage","fallbackMessage","handleKeyPress","handleViewUserProfile","handleCloseProfileModal","handleCloseSettingsModal","handleFeedbackSubmit","formattedData","getAllImages","handleOpenLightbox","allImages","findIndex","handleOpenVideoLightbox","handleCloseVideoLightbox","handleNavigateImage","newImage","handleImageLoad","handleImageError","handleCloseLightbox","handleZoomIn","handleZoomOut","handleZoomReset","handleMouseDown","handleMouseMove","handleMouseUp","handleWheel","handleToggleMinimize","handleStartVoiceCall","startEnhancedVoiceCall","voiceCallMessage","callMethod","handleEndVoiceCall","handleUnifiedCall","handleInternationalCall","handleAppCall","handleToggleVoiceMinimize","MemoizedVideoCall","VideoCall","MemoizedVoiceCall","getAdvancedMessageCategory","hasMedia","hasReactions","hasCode","hasLinks","hasMentions","sentiment","getMessageLengthCategory","fallbackDiv","lastMessageTime","isPinned","messageStatus","GlobalUsers","_message$callMethod","_message$callMethod2","_message$callMethod3","_message$callMethod4","_message$callMethod5","maxWidth","maxHeight","objectFit","onLoadedMetadata","onCanPlayThrough","autoCorrect","autoCapitalize","spellCheck","UserProfileModal","SettingsModal","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onDoubleClick","draggable","GifPicker","NewChatModal","FeedbackModal","HelpModal","NativeCamera","NativeContactPicker","ContactManager","DonationModal","DonationPrompt","AuthContext","AuthProvider","setCurrentUser","setToken","rememberMe","setRememberMe","localToken","storedToken","storedUser","isRemembered","freshUserData","remembered","fetchError","initializeAuth","newToken","refreshUser","useAuth","onVerify","onCancel","setCode","setIsBackupCode","backupCode","setBackupCode","inputRefs","isBackup","fullCode","digit","handleCodeChange","newCode","_inputRefs$current","onKeyDown","_inputRefs$current2","toggleBackupCode","_inputRefs$current$","_document$getElementB","getElementById","initializeIPhoneProAuth","iPhoneProViewportFix","setViewportHeight","authForm","handleVirtualKeyboard","initialViewportHeight","adjustForKeyboard","currentHeight","activeInput","inline","MutationObserver","mutations","mutation","authContainer","observe","childList","subtree","iPhoneProUtils","addIPhoneProClass","isKeyboardOpen","scrollToAuthForm","onLogin","switchToRegister","setUsername","setPassword","showPassword","setShowPassword","formTouched","setFormTouched","serverStatus","setServerStatus","showTwoFactor","setShowTwoFactor","twoFactorUserId","setTwoFactorUserId","twoFactorUsername","setTwoFactorUsername","usernameRef","autoLogin","requiresTwoFactor","TwoFactorVerify","verifyResponse","loginResponse","handleTwoFactorCancel","emailValidationService","pendingVerifications","verifiedEmails","sendVerificationEmail","generateVerificationCode","verificationId","generateVerificationId","expiresAt","attempts","maxAttempts","hostname","showDevelopmentNotification","verifyEmailCode","verification","resendVerificationEmail","isEmailVerified","notification","onVerificationSuccess","timeLeft","setTimeLeft","resendCooldown","setResendCooldown","onRegisterSuccess","switchToLogin","setConfirmPassword","showConfirmPassword","setShowConfirmPassword","fieldErrors","setFieldErrors","demoMode","setDemoMode","verificationData","setVerificationData","showVerificationModal","setShowVerificationModal","passwordStrength","setPasswordStrength","feedback","calculatePasswordStrength","verificationResult","EmailVerificationModal","spinnerClasses","appVersion","onComplete","loadingProgress","setLoadingProgress","loadingText","setLoadingText","showLogo","setShowLogo","showTitle","setShowTitle","showTagline","setShowTagline","particles","setParticles","animationRef","loadingStates","initParticles","newParticles","vx","vy","hue","animateParticles","prevParticles","particle","newX","newY","cancelAnimationFrame","currentStateIndex","progressInterval","timeouts","renderBackgroundShapes","shapes","stopColor","stdDeviation","in","ErrorBoundary","super","handleRetry","hasError","_this$state$errorInfo","showDetails","registration","isUpdateAvailable","onInstall","onActivate","onOffline","onOnline","onCacheUpdate","swPath","handleUpdate","triggerCallbacks","setupOnlineOfflineListeners","syncWhenOnline","newWorker","installing","registerBackgroundSync","sync","updateServiceWorker","waiting","clearCache","cacheNames","cacheName","on","off","registered","updateAvailable","online","PWAStatus","setIsOnline","swStatus","setSwStatus","cacheStatus","setCacheStatus","setUpdateAvailable","isMinimized","setIsMinimized","swManager","cacheInfo","TestingDashboard","setTestResults","isRunning","setIsRunning","setProgress","testingSuiteModule","compatibilityModule","initTestingTools","toggleDashboard","renderTestStatus","compatibility","currentDevice","renderDeviceResults","renderPerformanceResults","_metrics$memory$perce","_ref4","_ref5","_ref6","EnhancedConnectionManager","backendConnected","lastHealthCheck","healthCheckInterval","maxReconnectAttempts","healthChecksEnabled","notifyListeners","addListener","stopHealthCheck","checkBackendHealth","scheduleReconnect","jitter","startHealthCheck","isReconnecting","forceCheck","resetReconnectAttempts","connectionManagerInstance","getConnectionManager","compact","resetReconnect","useConnectionStatus","setStatus","manager","getStatusColor","getStatusIcon","checks","initialized","startupTime","initializationSteps","validateEnvironment","validateDependencies","validateLocalStorage","validateAPIConnectivity","validateAuthentication","validateEssentialServices","initTime","initializationTime","steps","stepName","Storage","webRTC","webSocket","missingCapabilities","viewport","isMobile","addStep","essentials","missing","available","testKey","testValue","retrieved","sessionRetrieved","hasSession","backendUrl","REACT_APP_BACKEND_URL","healthData","startupResponse","startupError","AbortSignal","services","voiceCalls","fileUploads","FileList","enabledServices","getInitializationStatus","runHealthCheck","apiConnectivity","authentication","overall","every","pwaShortcutService","handleVoiceCall","handleVideoCall","handleShareFile","handleShareTarget","handleUrlParameters","setupFileHandling","setupShareTarget","urlParams","dispatchCustomEvent","fileData","handleSharedFiles","sharedData","launchQueue","setConsumer","launchParams","pathname","processedFiles","FileSystemFileHandle","addDynamicShortcut","iconUrl","shortName","icons","sizes","updateShortcuts","frequentContacts","handleProtocolUrl","protocolUrl","searchParams","promptInstall","isInstallable","protocolHandlers","installable","pwaUtils","pushState","memoryThresholds","critical","optimal","memoryUsage","memoryObserver","monitoringInterval","lastCleanup","cleanupInterval","cacheManagers","eventListeners","setupMemoryMonitoring","setupMemoryObserver","setupLowMemoryHandling","setupPeriodicCleanup","logMemoryStatus","isPerformanceMemorySupported","updateMemoryUsage","checkMemoryThresholds","PerformanceObserver","getEntries","entryType","handleMemoryPressure","entryTypes","handleLowMemory","performBackgroundCleanup","performFinalCleanup","performPeriodicCleanup","usedMemory","handleCriticalMemory","handleMemoryWarning","performAggressiveCleanup","notifyMemoryPressure","clearAllCaches","removeNonCriticalListeners","forceGarbageCollection","notifyLowMemory","reduceFunctionality","clearLargeAssets","performGentleCleanup","optimizeOperations","cleanupExpiredCaches","cleanupEventListeners","clearPerformanceEntries","cleanupComponentReferences","clearNonEssentialCaches","pauseNonCriticalOperations","cleanupDOMReferences","clearAllTimers","removeAllEventListeners","disconnectObservers","cleanupLRUCaches","clearTemporaryData","optimizeImageCaches","clearComponentCaches","clearDOMReferences","clearServiceWorkerCaches","registerCacheManager","paused","pause","load","notifyComponents","gc","clearMarks","clearMeasures","customEvent","getMemoryUsagePercentage","getMemoryStatus","usedMB","limitMB","getMemoryMetrics","usagePercentage","thresholds","setMemoryThresholds","addMemoryPressureListener","addLowMemoryListener","componentName","styleElement","injectLazyLoadingStyles","loadedComponents","loadingPromises","componentCache","preloadQueue","setupComponentObserver","preloadCriticalComponents","IntersectionObserver","isIntersecting","loadComponent","unobserve","rootMargin","createLazyComponent","importFunction","createLoadingComponent","errorFallback","createErrorComponent","retryable","LazyComponent","withRetry","preloadComponent","lastError","loadPromise","getComponentImportFunction","EnhancedMediaViewer","criticalComponents","createLazyTarget","getPerformanceMetrics","loadingComponents","cachedComponents","preloadQueueSize","smartPrefetch","userInteractions","predictNextComponents","predictions","cleanupUnusedComponents","componentUsage","getComponentUsage","updateComponentUsage","ViewportUnits","dvw","svw","lvw","setModernViewport","vw","vmin","vmax","safeVh","outerHeight","largeVh","resizeTimeout","scrollOffset","offsetTop","HighRefreshDisplay","measure","optimizeAnimations","ModernDeviceDetection","safeAreas","bottom","hasDynamicIsland","hasEdgeDisplay","isFoldable","detectDevice","detected","model","isExtended","applyDeviceOptimizations","setupFoldableSupport","mediaQuery","handleFoldChange","toggle","aspectRatio","SafeAreaEnhanced","getSafeAreaValues","computedStyle","getPropertyValue","applySafeAreas","ResizeObserver","updateSafeAreaClasses","initModernViewport","viewportSupport","HapticPatterns","light","medium","heavy","longPress","swipe","pullRefresh","HapticFeedbackManager","checkSupport","isEnabled","intensity","lastFeedbackTime","throttleDelay","DeviceMotionEvent","requestPermission","setEnabled","setIntensity","shouldTriggerFeedback","scaledPattern","buttonPress","AdvancedTouchManager","gestures","activeGestures","touchHistory","maxHistoryLength","swipeThreshold","velocityThreshold","longPressDelay","doubleTapDelay","lastFrameTime","targetFPS","registerGesture","calculateVelocity","currentTouch","previousTouch","deltaTime","detectSwipe","velocities","distance","sqrt","velocity","speed","angle","atan2","PI","momentum","handleTouch","touchData","processGestures","calculateTouchVelocities","triggerGesture","previous","PrecisionTouchpadManager","scrollSensitivity","gestureCallbacks","delta","initAdvancedTouch","hapticManager","touchManager","touchpadManager","longPressTimer","BackgroundSyncManager","pendingActions","syncTags","SEND_MESSAGE","UPLOAD_FILE","UPDATE_PROFILE","DELETE_MESSAGE","registerSyncEvents","setupFallbackSync","handleSyncEvent","queueAction","actionId","retries","saveToStorage","executeAction","waitUntil","processSyncTag","actions","removeFromStorage","processPendingActions","WebPushManager","subscription","Notification","userVisibleOnly","applicationServerKey","urlBase64ToUint8Array","sendSubscriptionToServer","removeSubscriptionFromServer","getSubscription","base64String","rawData","outputArray","FileSystemAccessManager","openFile","fileHandle","excludeAcceptAllOption","saveFile","suggestedName","showSaveFilePicker","createWritable","downloadFile","openDirectory","showDirectoryPicker","WidgetManager","widgets","registerWidget","widgetData","_registration$active","updateWidget","_registration$active2","NextGenPWAManager","webPush","checkInstallStatus","setupInstallPrompt","initializeWidgets","setupShareTargetHandling","setupProtocolHandlers","relatedApps","getInstalledRelatedApps","showInstallPrompt","banner","installPWA","handleSharedContent","handleProtocolRequest","queueBackgroundAction","subscribeToPush","unsubscribeFromPush","updateWidgetData","initNextGenPWA","pwaManager","nextGenPWA","GPUAccelerationManager","checkGPUSupport","acceleratedElements","performanceLevel","detectPerformanceLevel","frameTimings","gl","debugInfo","getExtension","renderer","getParameter","UNMASKED_RENDERER_WEBGL","cores","hardwareConcurrency","deviceMemory","setupFrameTimingMonitor","optimizeForPerformanceLevel","setupIntersectionObserver","frameDuration","adjustPerformanceSettings","currentFPS","enableHighRefreshOptimizations","enablePerformanceMode","reduceVisualEffects","accelerateElement","transform3d","isolation","backfaceVisibility","perspective","deaccelerateElement","SmartphoneMemoryManager","memoryPressureLevel","imageCache","maxCacheSize","calculateOptimalCacheSize","_navigator$connection","connectionSpeed","cacheSize","setupMemoryPressureObserver","setupVisibilityChangeHandler","checkMemoryPressure","memInfo","usageRatio","emergencyCleanup","aggressiveCleanup","moderateCleanup","normalOperation","clearCachePercentage","optimizeImages","deferNonCriticalOperations","optimizeDOM","componentEntries","imageEntries","componentsToRemove","imagesToRemove","lastAccess","wasPlaying","cleanupTextNodes","optimizeCSS","routineCleanup","handleBackgroundState","handleForegroundState","pauseNonEssentialOperations","resumeOperations","walker","createTreeWalker","NodeFilter","SHOW_TEXT","acceptNode","FILTER_ACCEPT","FILTER_REJECT","emptyTextNodes","textNode","_textNode$parentNode","animationPlayState","ModernCachingManager","cacheStrategies","compressionSupport","checkCompressionSupport","setupServiceWorkerCaching","setupIndexedDBCaching","setupMemoryCaching","strategies","compression","openDatabase","memoryCache","maxMemoryCacheSize","currentMemoryCacheSize","initSmartphonePerformance","gpuManager","memoryManager","cachingManager","performanceManagers","gpu","caching","FoldableScreenManager","detectFoldableDevice","foldState","screenSpanning","detectScreenSpanning","hinge","getModernScreenDetails","getScreenDetails","screens","setupFoldStateMonitoring","setupScreenSpanningAPI","setupViewportSegmentation","applyFoldableOptimizations","foldQuery","handleFoldStateChange","detectFoldFromResize","detectFoldFromOrientation","handleScreenSpanningChange","varName","previousWidth","lastKnownWidth","currentWidth","spanning","applyFoldStateLayout","applyFoldedLayout","applyUnfoldedLayout","applySpanningLayout","DynamicIslandManager","detectDynamicIsland","islandState","createDynamicIslandElement","setupIslandObserver","setupActivityManager","island","islandElement","handleIslandInteraction","expandIsland","monitorMediaPlayback","monitorCallState","monitorTimers","monitorNotifications","addActivity","removeActivity","temporary","activity","updateIslandContent","minimizeIsland","leadingEl","centerEl","trailingEl","primaryActivity","_this$islandElement","_this$islandElement2","AdaptiveBrightnessManager","currentBrightness","ambientLightLevel","userPreference","getUserPreference","saved","sensitivity","setupAmbientLightSensor","setupColorSchemeDetection","setupTimeBasedAdjustment","sensor","AmbientLightSensor","handleAmbientLightChange","illuminance","fallbackLightDetection","darkModeQuery","handleColorSchemeChange","adjustBrightness","darkQuery","lightQuery","updateColorScheme","updateTimeBasedBrightness","getHours","timeLevel","adjustBrightnessForTime","lightLevel","targetBrightness","setBrightness","adjustment","UltraWideDisplayManager","isUltraWide","detectUltraWideDisplay","viewportRatio","setupUltraWideLayout","setupMultiColumnLayout","area","scrollWidth","columnCount","columnGap","columnRule","initAdaptiveUI","foldableManager","dynamicIslandManager","brightnessManager","ultraWideManager","adaptiveUI","foldable","dynamicIsland","brightness","ultraWide","App","authLoading","setView","showSplash","setShowSplash","setDarkMode","savedMode","appInitialized","setAppInitialized","initializationError","setInitializationError","_navigator$serviceWor","_navigator$serviceWor2","frontendHealthService","touchSystems","performanceFeatures","adaptiveFeatures","testingTools","validationTools","lazyLoadingService","criticalResources","initializeApp","initiated","handleSplashComplete","LoadingSpinner","DynamicSplashScreen","ConnectionStatus","ProChat","handleLogout","toggleDarkMode","Login","handleLogin","Register","handleRegister","handleBackToLogin","AppWithProviders","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","setVhProperty","reportWebVitals","metric"],"sourceRoot":""}