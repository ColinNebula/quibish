/*! For license information please see main.d61e788d.js.LICENSE.txt */
(()=>{"use strict";var e={85:(e,t,n)=>{var a=n(340),s=n(950),r=n(119);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===L?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case p:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}var O=Array.isArray,R=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},F=[],z=-1;function _(e){return{current:e}}function U(e){0>z||(e.current=F[z],F[z]=null,z--)}function B(e,t){z++,F[z]=e.current,e.current=t}var V=_(null),H=_(null),q=_(null),W=_(null);function G(e,t){switch(B(q,t),B(H,e),B(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=rd(t=sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),B(V,e)}function Q(){U(V),U(H),U(q)}function $(e){null!==e.memoizedState&&B(W,e);var t=V.current,n=rd(t,e.type);t!==n&&(B(H,e),B(V,n))}function J(e){H.current===e&&(U(V),U(H)),W.current===e&&(U(W),$d._currentValue=I)}var K=Object.prototype.hasOwnProperty,Y=a.unstable_scheduleCallback,X=a.unstable_cancelCallback,Z=a.unstable_shouldYield,ee=a.unstable_requestPaint,te=a.unstable_now,ne=a.unstable_getCurrentPriorityLevel,ae=a.unstable_ImmediatePriority,se=a.unstable_UserBlockingPriority,re=a.unstable_NormalPriority,ie=a.unstable_LowPriority,oe=a.unstable_IdlePriority,le=a.log,ce=a.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/pe|0)|0},fe=Math.log,pe=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&a;return 0!==o?0!==(a=o&~r)?s=ye(a):0!==(i&=o)?s=ye(i):n||0!==(n=o&~e)&&(s=ye(n)):0!==(o=a&~r)?s=ye(o):0!==i?s=ye(i):n||0!==(n=a&~e)&&(s=ye(n)),0===s?0:0!==t&&t!==s&&0===(t&r)&&((r=s&-s)>=(n=t&-t)||32===r&&0!==(4194048&n))?t:s}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-me(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-me(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Le=Math.random().toString(36).slice(2),Me="__reactFiber$"+Le,Oe="__reactProps$"+Le,Re="__reactContainer$"+Le,De="__reactEvents$"+Le,Ie="__reactListeners$"+Le,Fe="__reactHandles$"+Le,ze="__reactResources$"+Le,_e="__reactMarker$"+Le;function Ue(e){delete e[Me],delete e[Oe],delete e[De],delete e[Ie],delete e[Fe]}function Be(e){var t=e[Me];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Me]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Me])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Me]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function qe(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[_e]=!0}var Ge=new Set,Qe={};function $e(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Qe[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Ke,Ye,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(s=t,K.call(et,s)||!K.call(Ze,s)&&(Xe.test(s)?et[s]=!0:(Ze[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function st(e){if(void 0===Ke)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ke=t&&t[1]||"",Ye=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ke+e+Ye}var rt=!1;function it(e,t){if(!e||rt)return"";rt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var a=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){a=r}e.call(n.prototype)}}else{try{throw Error()}catch(i){a=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&a&&"string"===typeof o.stack)return[o.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),i=r[0],o=r[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(s=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(a===l.length||s===c.length)for(a=l.length-1,s=c.length-1;1<=a&&0<=s&&l[a]!==c[s];)s--;for(;1<=a&&0<=s;a--,s--)if(l[a]!==c[s]){if(1!==a||1!==s)do{if(a--,0>--s||l[a]!==c[s]){var u="\n"+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{rt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return st("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){a=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ut(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function pt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,a,s,r,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?yt(e,i,ct(t)):null!=n?yt(e,i,ct(n)):null!=a&&e.removeAttribute("value"),null==s&&null!=r&&(e.defaultChecked=!!r),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,a,s,r,i,o){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=n){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:s)&&"symbol"!==typeof a&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function yt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(a&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(i(92));if(O(a)){if(1<a.length)throw Error(i(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&Nt(e,s,a)}else for(var r in t)t.hasOwnProperty(r)&&Nt(e,r,t[r])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Ot=null;function Rt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Oe]||null;if(!s)throw Error(i(90));gt(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&ht(a)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function It(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Mt||null!==Ot)&&(Bc(),Mt&&(t=Mt,e=Ot,Ot=Mt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Oe]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),_t=!1;if(zt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){_t=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Oh){_t=!1}var Bt=null,Vt=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,n=Vt,a=n.length,s="value"in Bt?Bt.value:Bt.textContent,r=s.length;for(e=0;e<a&&n[e]===s[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===s[r-t];t++);return Ht=s.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Qt(){return!1}function $t(e){function t(t,n,a,s,r){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Gt:Qt,this.isPropagationStopped=Qt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Jt,Kt,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=$t(Xt),en=h({},Xt,{view:0,detail:0}),tn=$t(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Jt=e.screenX-Yt.screenX,Kt=e.screenY-Yt.screenY):Kt=Jt=0,Yt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Kt}}),an=$t(nn),sn=$t(h({},nn,{dataTransfer:0})),rn=$t(h({},en,{relatedTarget:0})),on=$t(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=$t(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=$t(h({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return mn}var pn=$t(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=$t(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=$t(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=$t(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=$t(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=$t(h({},Xt,{newState:0,oldState:0})),wn=[9,13,27,32],jn=zt&&"CompositionEvent"in window,kn=null;zt&&"documentMode"in document&&(kn=document.documentMode);var Nn=zt&&"TextEvent"in window&&!kn,Sn=zt&&(!jn||kn&&8<kn&&11>=kn),Cn=String.fromCharCode(32),En=!1;function An(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function On(e,t,n,a){Mt?Ot?Ot.push(a):Ot=[a]:Mt=a,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Rn=null,Dn=null;function In(e){Iu(e,0)}function Fn(e){if(ht(He(e)))return e}function zn(e,t){if("change"===e)return t}var _n=!1;if(zt){var Un;if(zt){var Bn="oninput"in document;if(!Bn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Bn="function"===typeof Vn.oninput}Un=Bn}else Un=!1;_n=Un&&(!document.documentMode||9<document.documentMode)}function Hn(){Rn&&(Rn.detachEvent("onpropertychange",qn),Dn=Rn=null)}function qn(e){if("value"===e.propertyName&&Fn(Dn)){var t=[];On(t,Dn,e,Lt(e)),It(In,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),Dn=n,(Rn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Hn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Dn)}function Qn(e,t){if("click"===e)return Fn(t)}function $n(e,t){if("input"===e||"change"===e)return Fn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Kn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!K.call(t,s)||!Jn(e[s],t[s]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,a=Yn(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yn(a)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ea(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var na=zt&&"documentMode"in document&&11>=document.documentMode,aa=null,sa=null,ra=null,ia=!1;function oa(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ia||null==aa||aa!==mt(a)||("selectionStart"in(a=aa)&&ta(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ra&&Kn(ra,a)||(ra=a,0<(a=qu(sa,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=aa)))}function la(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ca={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},ua={},da={};function ha(e){if(ua[e])return ua[e];if(!ca[e])return e;var t,n=ca[e];for(t in n)if(n.hasOwnProperty(t)&&t in da)return ua[e]=n[t];return e}zt&&(da=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);var ma=ha("animationend"),fa=ha("animationiteration"),pa=ha("animationstart"),ga=ha("transitionrun"),va=ha("transitionstart"),ya=ha("transitioncancel"),ba=ha("transitionend"),xa=new Map,wa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(e,t){xa.set(e,t),$e(t,[e])}wa.push("scrollEnd");var ka=new WeakMap;function Na(e,t){if("object"===typeof e&&null!==e){var n=ka.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},ka.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Sa=[],Ca=0,Ea=0;function Aa(){for(var e=Ca,t=Ea=Ca=0;t<e;){var n=Sa[t];Sa[t++]=null;var a=Sa[t];Sa[t++]=null;var s=Sa[t];Sa[t++]=null;var r=Sa[t];if(Sa[t++]=null,null!==a&&null!==s){var i=a.pending;null===i?s.next=s:(s.next=i.next,i.next=s),a.pending=s}0!==r&&Ma(n,s,r)}}function Pa(e,t,n,a){Sa[Ca++]=e,Sa[Ca++]=t,Sa[Ca++]=n,Sa[Ca++]=a,Ea|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Ta(e,t,n,a){return Pa(e,t,n,a),Oa(e)}function La(e,t){return Pa(e,null,null,t),Oa(e)}function Ma(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var s=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(a=r.alternate)&&(a.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(s=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,s&&null!==t&&(s=31-me(n),null===(a=(e=r.hiddenUpdates)[s])?e[s]=[t]:a.push(t),t.lane=536870912|n),r):null}function Oa(e){if(50<Mc)throw Mc=0,Oc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ra={};function Da(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(e,t,n,a){return new Da(e,t,n,a)}function Fa(e){return!(!(e=e.prototype)||!e.isReactComponent)}function za(e,t){var n=e.alternate;return null===n?((n=Ia(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function _a(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ua(e,t,n,a,s,r){var o=0;if(a=e,"function"===typeof e)Fa(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Ia(31,n,t,s)).elementType=E,e.lanes=r,e;case g:return Ba(n.children,s,r,t);case v:o=8,s|=24;break;case y:return(e=Ia(12,n,t,2|s)).elementType=y,e.lanes=r,e;case k:return(e=Ia(13,n,t,s)).elementType=k,e.lanes=r,e;case N:return(e=Ia(19,n,t,s)).elementType=N,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case j:o=11;break e;case S:o=14;break e;case C:o=16,a=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),a=null}return(t=Ia(o,n,t,s)).elementType=e,t.type=a,t.lanes=r,t}function Ba(e,t,n,a){return(e=Ia(7,e,a,t)).lanes=n,e}function Va(e,t,n){return(e=Ia(6,e,null,t)).lanes=n,e}function Ha(e,t,n){return(t=Ia(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qa=[],Wa=0,Ga=null,Qa=0,$a=[],Ja=0,Ka=null,Ya=1,Xa="";function Za(e,t){qa[Wa++]=Qa,qa[Wa++]=Ga,Ga=e,Qa=t}function es(e,t,n){$a[Ja++]=Ya,$a[Ja++]=Xa,$a[Ja++]=Ka,Ka=e;var a=Ya;e=Xa;var s=32-me(a)-1;a&=~(1<<s),n+=1;var r=32-me(t)+s;if(30<r){var i=s-s%5;r=(a&(1<<i)-1).toString(32),a>>=i,s-=i,Ya=1<<32-me(t)+s|n<<s|a,Xa=r+e}else Ya=1<<r|n<<s|a,Xa=e}function ts(e){null!==e.return&&(Za(e,1),es(e,1,0))}function ns(e){for(;e===Ga;)Ga=qa[--Wa],qa[Wa]=null,Qa=qa[--Wa],qa[Wa]=null;for(;e===Ka;)Ka=$a[--Ja],$a[Ja]=null,Xa=$a[--Ja],$a[Ja]=null,Ya=$a[--Ja],$a[Ja]=null}var as=null,ss=null,rs=!1,is=null,os=!1,ls=Error(i(519));function cs(e){throw ps(Na(Error(i(418,"")),e)),ls}function us(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Me]=e,t[Oe]=a,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Ru.length;n++)Fu(Ru[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),vt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),wt(t,a.value,a.defaultValue,a.children),dt(t)}"string"!==typeof(n=a.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||Ku(t.textContent,n)?(null!=a.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=a.onScroll&&Fu("scroll",t),null!=a.onScrollEnd&&Fu("scrollend",t),null!=a.onClick&&(t.onclick=Yu),t=!0):t=!1,t||cs(e)}function ds(e){for(as=e.return;as;)switch(as.tag){case 5:case 13:return void(os=!1);case 27:case 3:return void(os=!0);default:as=as.return}}function hs(e){if(e!==as)return!1;if(!rs)return ds(e),rs=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||id(e.type,e.memoizedProps)),t=!t),t&&ss&&cs(e),ds(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ss=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ss=null}}else 27===n?(n=ss,md(e.type)?(e=yd,yd=null,ss=e):ss=n):ss=as?vd(e.stateNode.nextSibling):null;return!0}function ms(){ss=as=null,rs=!1}function fs(){var e=is;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),is=null),e}function ps(e){null===is?is=[e]:is.push(e)}var gs=_(null),vs=null,ys=null;function bs(e,t,n){B(gs,t._currentValue),t._currentValue=n}function xs(e){e._currentValue=gs.current,U(gs)}function ws(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function js(e,t,n,a){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var r=s.dependencies;if(null!==r){var o=s.child;r=r.firstContext;e:for(;null!==r;){var l=r;r=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){r.lanes|=n,null!==(l=r.alternate)&&(l.lanes|=n),ws(r.return,n,e),a||(o=null);break e}r=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(r=o.alternate)&&(r.lanes|=n),ws(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function ks(e,t,n,a){e=null;for(var s=t,r=!1;null!==s;){if(!r)if(0!==(524288&s.flags))r=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=s.type;Jn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===W.current){if(null===(o=s.alternate))throw Error(i(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push($d):e=[$d])}s=s.return}null!==e&&js(t,e,n,a),t.flags|=262144}function Ns(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){vs=e,ys=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Cs(e){return As(vs,e)}function Es(e,t){return null===vs&&Ss(e),As(e,t)}function As(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ys){if(null===e)throw Error(i(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return n}var Ps="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ts=a.unstable_scheduleCallback,Ls=a.unstable_NormalPriority,Ms={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Os(){return{controller:new Ps,data:new Map,refCount:0}}function Rs(e){e.refCount--,0===e.refCount&&Ts(Ls,function(){e.controller.abort()})}var Ds=null,Is=0,Fs=0,zs=null;function _s(){if(0===--Is&&null!==Ds){null!==zs&&(zs.status="fulfilled");var e=Ds;Ds=null,Fs=0,zs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Us=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ds){var n=Ds=[];Is=0,Fs=Pu(),zs={status:"pending",value:void 0,then:function(e){n.push(e)}}}Is++,t.then(_s,_s)}(0,t),null!==Us&&Us(e,t)};var Bs=_(null);function Vs(){var e=Bs.current;return null!==e?e:ac.pooledCache}function Hs(e,t){B(Bs,null===t?Bs.current:t.pool)}function qs(){var e=Vs();return null===e?null:{parent:Ms._currentValue,pool:e}}var Ws=Error(i(460)),Gs=Error(i(474)),Qs=Error(i(542)),$s={then:function(){}};function Js(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ks(){}function Ys(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ks,Ks),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw er(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ks,Ks);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw er(e=t.reason),e}throw Xs=t,Ws}}var Xs=null;function Zs(){if(null===Xs)throw Error(i(459));var e=Xs;return Xs=null,e}function er(e){if(e===Ws||e===Qs)throw Error(i(483))}var tr=!1;function nr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ar(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&nc)){var s=a.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Oa(e),Ma(e,null,n),t}return Pa(e,a,t,n),Oa(e)}function ir(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function or(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?s=r=i:r=r.next=i,n=n.next}while(null!==n);null===r?s=r=t:r=r.next=t}else s=r=t;return n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lr=!1;function cr(){if(lr){if(null!==zs)throw zs}}function ur(e,t,n,a){lr=!1;var s=e.updateQueue;tr=!1;var r=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?r=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==r){var d=s.baseState;for(i=0,u=c=l=null,o=r;;){var m=-536870913&o.lane,f=m!==o.lane;if(f?(rc&m)===m:(a&m)===m){0!==m&&m===Fs&&(lr=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;m=t;var v=n;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(v,d,m);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=g.payload)?p.call(v,d,m):p)||void 0===m)break e;d=h({},d,m);break e;case 2:tr=!0}}null!==(m=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=s.callbacks)?s.callbacks=[m]:f.push(m))}else f={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=m;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(f=o).next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===r&&(s.shared.lanes=0),mc|=i,e.lanes=i,e.memoizedState=d}}function dr(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function hr(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)dr(n[e],t)}var mr=_(null),fr=_(0);function pr(e,t){B(fr,e=dc),B(mr,t),dc=e|t.baseLanes}function gr(){B(fr,dc),B(mr,mr.current)}function vr(){dc=fr.current,U(mr),U(fr)}var yr=0,br=null,xr=null,wr=null,jr=!1,kr=!1,Nr=!1,Sr=0,Cr=0,Er=null,Ar=0;function Pr(){throw Error(i(321))}function Tr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Lr(e,t,n,a,s,r){return yr=r,br=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Wi:Gi,Nr=!1,r=n(a,s),Nr=!1,kr&&(r=Or(t,n,a,s)),Mr(e),r}function Mr(e){R.H=qi;var t=null!==xr&&null!==xr.next;if(yr=0,wr=xr=br=null,jr=!1,Cr=0,Er=null,t)throw Error(i(300));null===e||Eo||null!==(e=e.dependencies)&&Ns(e)&&(Eo=!0)}function Or(e,t,n,a){br=e;var s=0;do{if(kr&&(Er=null),Cr=0,kr=!1,25<=s)throw Error(i(301));if(s+=1,wr=xr=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}R.H=Qi,r=t(n,a)}while(kr);return r}function Rr(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Ur(t):t,e=e.useState()[0],(null!==xr?xr.memoizedState:null)!==e&&(br.flags|=1024),t}function Dr(){var e=0!==Sr;return Sr=0,e}function Ir(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fr(e){if(jr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}jr=!1}yr=0,wr=xr=br=null,kr=!1,Cr=Sr=0,Er=null}function zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wr?br.memoizedState=wr=e:wr=wr.next=e,wr}function _r(){if(null===xr){var e=br.alternate;e=null!==e?e.memoizedState:null}else e=xr.next;var t=null===wr?br.memoizedState:wr.next;if(null!==t)wr=t,xr=e;else{if(null===e){if(null===br.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(xr=e).memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},null===wr?br.memoizedState=wr=e:wr=wr.next=e}return wr}function Ur(e){var t=Cr;return Cr+=1,null===Er&&(Er=[]),e=Ys(Er,e,t),t=br,null===(null===wr?t.memoizedState:wr.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Wi:Gi),e}function Br(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ur(e);if(e.$$typeof===w)return Cs(e)}throw Error(i(438,String(e)))}function Vr(e){var t=null,n=br.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=br.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},br.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=A;return t.index++,n}function Hr(e,t){return"function"===typeof t?t(e):t}function qr(e){return Wr(_r(),xr,e)}function Wr(e,t,n){var a=e.queue;if(null===a)throw Error(i(311));a.lastRenderedReducer=n;var s=e.baseQueue,r=a.pending;if(null!==r){if(null!==s){var o=s.next;s.next=r.next,r.next=o}t.baseQueue=s=r,a.pending=null}if(r=e.baseState,null===s)e.memoizedState=r;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(rc&h)===h:(yr&h)===h){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fs&&(d=!0);else{if((yr&m)===m){u=u.next,m===Fs&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=r):c=c.next=h,br.lanes|=m,mc|=m}h=u.action,Nr&&n(r,h),r=u.hasEagerState?u.eagerState:n(r,h)}else m={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=m,o=r):c=c.next=m,br.lanes|=h,mc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=r:c.next=l,!Jn(r,e.memoizedState)&&(Eo=!0,d&&null!==(n=zs)))throw n;e.memoizedState=r,e.baseState=o,e.baseQueue=c,a.lastRenderedState=r}return null===s&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Gr(e){var t=_r(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,r=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{r=e(r,o.action),o=o.next}while(o!==s);Jn(r,t.memoizedState)||(Eo=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function Qr(e,t,n){var a=br,s=_r(),r=rs;if(r){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Jn((xr||s).memoizedState,n);if(o&&(s.memoizedState=n,Eo=!0),s=s.queue,gi(2048,8,Kr.bind(null,a,s,e),[e]),s.getSnapshot!==t||o||null!==wr&&1&wr.memoizedState.tag){if(a.flags|=2048,mi(9,{destroy:void 0,resource:void 0},Jr.bind(null,a,s,n,t),null),null===ac)throw Error(i(349));r||0!==(124&yr)||$r(a,t,n)}return n}function $r(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=br.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},br.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Jr(e,t,n,a){t.value=n,t.getSnapshot=a,Yr(t)&&Xr(e)}function Kr(e,t,n){return n(function(){Yr(t)&&Xr(e)})}function Yr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(a){return!0}}function Xr(e){var t=La(e,2);null!==t&&Ic(t,e,2)}function Zr(e){var t=zr();if("function"===typeof e){var n=e;if(e=n(),Nr){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:e},t}function ei(e,t,n,a){return e.baseState=n,Wr(e,xr,"function"===typeof a?a:Hr)}function ti(e,t,n,a,s){if(Bi(e))throw Error(i(485));if(null!==(e=t.action)){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==R.T?n(!0):r.isTransition=!1,a(r),null===(n=t.pending)?(r.next=t.pending=r,ni(t,r)):(r.next=n.next,t.pending=n.next=r)}}function ni(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var r=R.T,i={};R.T=i;try{var o=n(s,a),l=R.S;null!==l&&l(i,o),ai(e,t,o)}catch(c){ri(e,t,c)}finally{R.T=r}}else try{ai(e,t,r=n(s,a))}catch(u){ri(e,t,u)}}function ai(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){si(e,t,n)},function(n){return ri(e,t,n)}):si(e,t,n)}function si(e,t,n){t.status="fulfilled",t.value=n,ii(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ni(e,n)))}function ri(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,ii(t),t=t.next}while(t!==a)}e.action=null}function ii(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oi(e,t){return t}function li(e,t){if(rs){var n=ac.formState;if(null!==n){e:{var a=br;if(rs){if(ss){t:{for(var s=ss,r=os;8!==s.nodeType;){if(!r){s=null;break t}if(null===(s=vd(s.nextSibling))){s=null;break t}}s="F!"===(r=s.data)||"F"===r?s:null}if(s){ss=vd(s.nextSibling),a="F!"===s.data;break e}}cs(a)}a=!1}a&&(t=n[0])}}return(n=zr()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},n.queue=a,n=zi.bind(null,br,a),a.dispatch=n,a=Zr(!1),r=Ui.bind(null,br,!1,a.queue),s={state:t,dispatch:null,action:e,pending:null},(a=zr()).queue=s,n=ti.bind(null,br,s,r,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function ci(e){return ui(_r(),xr,e)}function ui(e,t,n){if(t=Wr(e,t,oi)[0],e=qr(Hr)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=Ur(t)}catch(i){if(i===Ws)throw Qs;throw i}else a=t;var s=(t=_r()).queue,r=s.dispatch;return n!==t.memoizedState&&(br.flags|=2048,mi(9,{destroy:void 0,resource:void 0},di.bind(null,s,n),null)),[a,r,e]}function di(e,t){e.action=t}function hi(e){var t=_r(),n=xr;if(null!==n)return ui(t,n,e);_r(),t=t.memoizedState;var a=(n=_r()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function mi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=br.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},br.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function fi(){return _r().memoizedState}function pi(e,t,n,a){var s=zr();a=void 0===a?null:a,br.flags|=e,s.memoizedState=mi(1|t,{destroy:void 0,resource:void 0},n,a)}function gi(e,t,n,a){var s=_r();a=void 0===a?null:a;var r=s.memoizedState.inst;null!==xr&&null!==a&&Tr(a,xr.memoizedState.deps)?s.memoizedState=mi(t,r,n,a):(br.flags|=e,s.memoizedState=mi(1|t,r,n,a))}function vi(e,t){pi(8390656,8,e,t)}function yi(e,t){gi(2048,8,e,t)}function bi(e,t){return gi(4,2,e,t)}function xi(e,t){return gi(4,4,e,t)}function wi(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ji(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gi(4,4,wi.bind(null,t,e),n)}function ki(){}function Ni(e,t){var n=_r();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&Tr(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Si(e,t){var n=_r();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&Tr(t,a[1]))return a[0];if(a=e(),Nr){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[a,t],a}function Ci(e,t,n){return void 0===n||0!==(1073741824&yr)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),br.lanes|=e,mc|=e,n)}function Ei(e,t,n,a){return Jn(n,t)?n:null!==mr.current?(e=Ci(e,n,a),Jn(e,t)||(Eo=!0),e):0===(42&yr)?(Eo=!0,e.memoizedState=n):(e=Dc(),br.lanes|=e,mc|=e,t)}function Ai(e,t,n,a,s){var r=D.p;D.p=0!==r&&8>r?r:8;var i=R.T,o={};R.T=o,Ui(e,!1,t,n);try{var l=s(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)_i(e,t,function(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),a}(l,a),Rc());else _i(e,t,a,Rc())}catch(u){_i(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{D.p=r,R.T=i}}function Pi(){}function Ti(e,t,n,a){if(5!==e.tag)throw Error(i(476));var s=Li(e).queue;Ai(e,s,t,I,null===n?Pi:function(){return Mi(e),n(a)})}function Li(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Mi(e){_i(e,Li(e).next.queue,{},Rc())}function Oi(){return Cs($d)}function Ri(){return _r().memoizedState}function Di(){return _r().memoizedState}function Ii(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),a=rr(t,e=sr(n),n);return null!==a&&(Ic(a,t,n),ir(a,t,n)),t={cache:Os()},void(e.payload=t)}t=t.return}}function Fi(e,t,n){var a=Rc();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bi(e)?Vi(t,n):null!==(n=Ta(e,t,n,a))&&(Ic(n,e,a),Hi(n,t,a))}function zi(e,t,n){_i(e,t,n,Rc())}function _i(e,t,n,a){var s={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bi(e))Vi(t,s);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=r(i,n);if(s.hasEagerState=!0,s.eagerState=o,Jn(o,i))return Pa(e,t,s,0),null===ac&&Aa(),!1}catch(l){}if(null!==(n=Ta(e,t,s,a)))return Ic(n,e,a),Hi(n,t,a),!0}return!1}function Ui(e,t,n,a){if(a={lane:2,revertLane:Pu(),action:a,hasEagerState:!1,eagerState:null,next:null},Bi(e)){if(t)throw Error(i(479))}else null!==(t=Ta(e,n,a,2))&&Ic(t,e,2)}function Bi(e){var t=e.alternate;return e===br||null!==t&&t===br}function Vi(e,t){kr=jr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hi(e,t,n){if(0!==(4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var qi={readContext:Cs,use:Br,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useLayoutEffect:Pr,useInsertionEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useSyncExternalStore:Pr,useId:Pr,useHostTransitionStatus:Pr,useFormState:Pr,useActionState:Pr,useOptimistic:Pr,useMemoCache:Pr,useCacheRefresh:Pr},Wi={readContext:Cs,use:Br,useCallback:function(e,t){return zr().memoizedState=[e,void 0===t?null:t],e},useContext:Cs,useEffect:vi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,pi(4194308,4,wi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pi(4194308,4,e,t)},useInsertionEffect:function(e,t){pi(4,2,e,t)},useMemo:function(e,t){var n=zr();t=void 0===t?null:t;var a=e();if(Nr){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zr();if(void 0!==n){var s=n(t);if(Nr){he(!0);try{n(t)}finally{he(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Fi.bind(null,br,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},zr().memoizedState=e},useState:function(e){var t=(e=Zr(e)).queue,n=zi.bind(null,br,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ki,useDeferredValue:function(e,t){return Ci(zr(),e,t)},useTransition:function(){var e=Zr(!1);return e=Ai.bind(null,br,e.queue,!0,!1),zr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=br,s=zr();if(rs){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===ac)throw Error(i(349));0!==(124&rc)||$r(a,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,vi(Kr.bind(null,a,r,e),[e]),a.flags|=2048,mi(9,{destroy:void 0,resource:void 0},Jr.bind(null,a,r,n,t),null),n},useId:function(){var e=zr(),t=ac.identifierPrefix;if(rs){var n=Xa;t="\xab"+t+"R"+(n=(Ya&~(1<<32-me(Ya)-1)).toString(32)+n),0<(n=Sr++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ar++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Oi,useFormState:li,useActionState:li,useOptimistic:function(e){var t=zr();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ui.bind(null,br,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vr,useCacheRefresh:function(){return zr().memoizedState=Ii.bind(null,br)}},Gi={readContext:Cs,use:Br,useCallback:Ni,useContext:Cs,useEffect:yi,useImperativeHandle:ji,useInsertionEffect:bi,useLayoutEffect:xi,useMemo:Si,useReducer:qr,useRef:fi,useState:function(){return qr(Hr)},useDebugValue:ki,useDeferredValue:function(e,t){return Ei(_r(),xr.memoizedState,e,t)},useTransition:function(){var e=qr(Hr)[0],t=_r().memoizedState;return["boolean"===typeof e?e:Ur(e),t]},useSyncExternalStore:Qr,useId:Ri,useHostTransitionStatus:Oi,useFormState:ci,useActionState:ci,useOptimistic:function(e,t){return ei(_r(),0,e,t)},useMemoCache:Vr,useCacheRefresh:Di},Qi={readContext:Cs,use:Br,useCallback:Ni,useContext:Cs,useEffect:yi,useImperativeHandle:ji,useInsertionEffect:bi,useLayoutEffect:xi,useMemo:Si,useReducer:Gr,useRef:fi,useState:function(){return Gr(Hr)},useDebugValue:ki,useDeferredValue:function(e,t){var n=_r();return null===xr?Ci(n,e,t):Ei(n,xr.memoizedState,e,t)},useTransition:function(){var e=Gr(Hr)[0],t=_r().memoizedState;return["boolean"===typeof e?e:Ur(e),t]},useSyncExternalStore:Qr,useId:Ri,useHostTransitionStatus:Oi,useFormState:hi,useActionState:hi,useOptimistic:function(e,t){var n=_r();return null!==xr?ei(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vr,useCacheRefresh:Di},$i=null,Ji=0;function Ki(e){var t=Ji;return Ji+=1,null===$i&&($i=[]),Ys($i,e,t)}function Yi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xi(e,t){if(t.$$typeof===m)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zi(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=za(e,t)).index=0,e.sibling=null,e}function r(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Va(n,e.mode,a)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,a){var r=n.type;return r===g?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===C&&Zi(r)===t.type)?(Yi(t=s(t,n.props),n),t.return=e,t):(Yi(t=Ua(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ha(n,e.mode,a)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,a,r){return null===t||7!==t.tag?((t=Ba(n,e.mode,a,r)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Va(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Yi(n=Ua(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=Ha(t,e.mode,n)).return=e,t;case C:return h(e,t=(0,t._init)(t._payload),n)}if(O(t)||T(t))return(t=Ba(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ki(t),n);if(t.$$typeof===w)return h(e,Es(e,t),n);Xi(e,t)}return null}function m(e,t,n,a){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===s?c(e,t,n,a):null;case p:return n.key===s?u(e,t,n,a):null;case C:return m(e,t,n=(s=n._init)(n._payload),a)}if(O(n)||T(n))return null!==s?null:d(e,t,n,a,null);if("function"===typeof n.then)return m(e,t,Ki(n),a);if(n.$$typeof===w)return m(e,t,Es(e,n),a);Xi(e,n)}return null}function v(e,t,n,a,s){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return l(t,e=e.get(n)||null,""+a,s);if("object"===typeof a&&null!==a){switch(a.$$typeof){case f:return c(t,e=e.get(null===a.key?n:a.key)||null,a,s);case p:return u(t,e=e.get(null===a.key?n:a.key)||null,a,s);case C:return v(e,t,n,a=(0,a._init)(a._payload),s)}if(O(a)||T(a))return d(t,e=e.get(n)||null,a,s,null);if("function"===typeof a.then)return v(e,t,n,Ki(a),s);if(a.$$typeof===w)return v(e,t,n,Es(t,a),s);Xi(t,a)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=s(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&Zi(b)===c.type){n(l,c.sibling),Yi(d=s(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Ba(u.props.children,l.mode,d,u.key)).return=l,l=d):(Yi(d=Ua(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case p:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=s(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Ha(u,l.mode,d)).return=l,l=d}return o(l);case C:return y(l,c,u=(b=u._init)(u._payload),d)}if(O(u))return function(s,i,o,l){for(var c=null,u=null,d=i,f=i=0,p=null;null!==d&&f<o.length;f++){d.index>f?(p=d,d=null):p=d.sibling;var g=m(s,d,o[f],l);if(null===g){null===d&&(d=p);break}e&&d&&null===g.alternate&&t(s,d),i=r(g,i,f),null===u?c=g:u.sibling=g,u=g,d=p}if(f===o.length)return n(s,d),rs&&Za(s,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(s,o[f],l))&&(i=r(d,i,f),null===u?c=d:u.sibling=d,u=d);return rs&&Za(s,f),c}for(d=a(d);f<o.length;f++)null!==(p=v(d,s,f,o[f],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?f:p.key),i=r(p,i,f),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach(function(e){return t(s,e)}),rs&&Za(s,f),c}(l,c,u,d);if(T(u)){if("function"!==typeof(b=T(u)))throw Error(i(150));return function(s,o,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,f=o,p=o=0,g=null,y=l.next();null!==f&&!y.done;p++,y=l.next()){f.index>p?(g=f,f=null):g=f.sibling;var b=m(s,f,y.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(s,f),o=r(b,o,p),null===d?u=b:d.sibling=b,d=b,f=g}if(y.done)return n(s,f),rs&&Za(s,p),u;if(null===f){for(;!y.done;p++,y=l.next())null!==(y=h(s,y.value,c))&&(o=r(y,o,p),null===d?u=y:d.sibling=y,d=y);return rs&&Za(s,p),u}for(f=a(f);!y.done;p++,y=l.next())null!==(y=v(f,s,p,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?p:y.key),o=r(y,o,p),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(s,e)}),rs&&Za(s,p),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,Ki(u),d);if(u.$$typeof===w)return y(l,c,Es(l,u),d);Xi(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=s(c,u)).return=l,l=d):(n(l,c),(d=Va(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,a){try{Ji=0;var s=y(e,t,n,a);return $i=null,s}catch(i){if(i===Ws||i===Qs)throw i;var r=Ia(29,i,null,e.mode);return r.lanes=a,r.return=e,r}}}var to=eo(!0),no=eo(!1),ao=_(null),so=null;function ro(e){var t=e.alternate;B(co,1&co.current),B(ao,e),null===so&&(null===t||null!==mr.current||null!==t.memoizedState)&&(so=e)}function io(e){if(22===e.tag){if(B(co,co.current),B(ao,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else oo()}function oo(){B(co,co.current),B(ao,ao.current)}function lo(e){U(ao),so===e&&(so=null),U(co)}var co=_(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Rc(),s=sr(a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=rr(e,s,a))&&(Ic(t,e,a),ir(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Rc(),s=sr(a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=rr(e,s,a))&&(Ic(t,e,a),ir(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),a=sr(n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=rr(e,a,n))&&(Ic(t,e,n),ir(t,e,n))}};function fo(e,t,n,a,s,r,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,r,i):!t.prototype||!t.prototype.isPureReactComponent||(!Kn(n,a)||!Kn(s,r))}function po(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var s in n===t&&(n=h({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yo(e){vo(e)}function bo(e){console.error(e)}function xo(e){vo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function jo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function ko(e,t,n){return(n=sr(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function No(e){return(e=sr(e)).tag=3,e}function So(e,t,n,a){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var r=a.value;e.payload=function(){return s(r)},e.callback=function(){jo(t,n,a)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){jo(t,n,a),"function"!==typeof s&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Co=Error(i(461)),Eo=!1;function Ao(e,t,n,a){t.child=null===e?no(t,null,n,a):to(t,e.child,n,a)}function Po(e,t,n,a,s){n=n.render;var r=t.ref;if("ref"in a){var i={};for(var o in a)"ref"!==o&&(i[o]=a[o])}else i=a;return Ss(t),a=Lr(e,t,n,i,r,s),o=Dr(),null===e||Eo?(rs&&o&&ts(t),t.flags|=1,Ao(e,t,a,s),t.child):(Ir(e,t,s),Jo(e,t,s))}function To(e,t,n,a,s){if(null===e){var r=n.type;return"function"!==typeof r||Fa(r)||void 0!==r.defaultProps||null!==n.compare?((e=Ua(n.type,null,a,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Lo(e,t,r,a,s))}if(r=e.child,!Ko(e,s)){var i=r.memoizedProps;if((n=null!==(n=n.compare)?n:Kn)(i,a)&&e.ref===t.ref)return Jo(e,t,s)}return t.flags|=1,(e=za(r,a)).ref=t.ref,e.return=t,t.child=e}function Lo(e,t,n,a,s){if(null!==e){var r=e.memoizedProps;if(Kn(r,a)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=a=r,!Ko(e,s))return t.lanes=e.lanes,Jo(e,t,s);0!==(131072&e.flags)&&(Eo=!0)}}return Do(e,t,n,a,s)}function Mo(e,t,n){var a=t.pendingProps,s=a.children,r=null!==e?e.memoizedState:null;if("hidden"===a.mode){if(0!==(128&t.flags)){if(a=null!==r?r.baseLanes|n:n,null!==e){for(s=t.child=e.child,r=0;null!==s;)r=r|s.lanes|s.childLanes,s=s.sibling;t.childLanes=r&~a}else t.childLanes=0,t.child=null;return Oo(e,t,a,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Oo(e,t,null!==r?r.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hs(0,null!==r?r.cachePool:null),null!==r?pr(t,r):gr(),io(t)}else null!==r?(Hs(0,r.cachePool),pr(t,r),oo(),t.memoizedState=null):(null!==e&&Hs(0,null),gr(),oo());return Ao(e,t,s,n),t.child}function Oo(e,t,n,a){var s=Vs();return s=null===s?null:{parent:Ms._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Hs(0,null),gr(),io(t),null!==e&&ks(e,t,a,!0),null}function Ro(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Do(e,t,n,a,s){return Ss(t),n=Lr(e,t,n,a,void 0,s),a=Dr(),null===e||Eo?(rs&&a&&ts(t),t.flags|=1,Ao(e,t,n,s),t.child):(Ir(e,t,s),Jo(e,t,s))}function Io(e,t,n,a,s,r){return Ss(t),t.updateQueue=null,n=Or(t,a,n,s),Mr(e),a=Dr(),null===e||Eo?(rs&&a&&ts(t),t.flags|=1,Ao(e,t,n,r),t.child):(Ir(e,t,r),Jo(e,t,r))}function Fo(e,t,n,a,s){if(Ss(t),null===t.stateNode){var r=Ra,i=n.contextType;"object"===typeof i&&null!==i&&(r=Cs(i)),r=new n(a,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=mo,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=a,r.state=t.memoizedState,r.refs={},nr(t),i=n.contextType,r.context="object"===typeof i&&null!==i?Cs(i):Ra,r.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(ho(t,n,i,a),r.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(i=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),i!==r.state&&mo.enqueueReplaceState(r,r.state,null),ur(t,a,r,s),cr(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){r=t.stateNode;var o=t.memoizedProps,l=go(n,o);r.props=l;var c=r.context,u=n.contextType;i=Ra,"object"===typeof u&&null!==u&&(i=Cs(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o||c!==i)&&po(t,r,a,i),tr=!1;var h=t.memoizedState;r.state=h,ur(t,a,r,s),cr(),c=t.memoizedState,o||h!==c||tr?("function"===typeof d&&(ho(t,n,d,a),c=t.memoizedState),(l=tr||fo(t,n,l,a,h,c,i))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),r.props=a,r.state=c,r.context=i,a=l):("function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,ar(e,t),u=go(n,i=t.memoizedProps),r.props=u,d=t.pendingProps,h=r.context,c=n.contextType,l=Ra,"object"===typeof c&&null!==c&&(l=Cs(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i!==d||h!==l)&&po(t,r,a,l),tr=!1,h=t.memoizedState,r.state=h,ur(t,a,r,s),cr();var m=t.memoizedState;i!==d||h!==m||tr||null!==e&&null!==e.dependencies&&Ns(e.dependencies)?("function"===typeof o&&(ho(t,n,o,a),m=t.memoizedState),(u=tr||fo(t,n,u,a,h,m,l)||null!==e&&null!==e.dependencies&&Ns(e.dependencies))?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(a,m,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,m,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),r.props=a,r.state=m,r.context=l,a=u):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Ro(e,t),a=0!==(128&t.flags),r||a?(r=t.stateNode,n=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&a?(t.child=to(t,e.child,null,s),t.child=to(t,null,n,s)):Ao(e,t,n,s),t.memoizedState=r.state,e=t.child):e=Jo(e,t,s),e}function zo(e,t,n,a){return ms(),t.flags|=256,Ao(e,t,n,a),t.child}var _o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uo(e){return{baseLanes:e,cachePool:qs()}}function Bo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Vo(e,t,n){var a,s=t.pendingProps,r=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),a&&(r=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(rs){if(r?ro(t):oo(),rs){var l,c=ss;if(l=c){e:{for(l=c,c=os;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Ka?{id:Ya,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},(l=Ia(18,null,null,0)).stateNode=c,l.return=t,t.child=l,as=t,ss=null,l=!0):l=!1}l||cs(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=s.children,s=s.fallback,r?(oo(),c=qo({mode:"hidden",children:c},r=t.mode),s=Ba(s,r,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(r=t.child).memoizedState=Uo(n),r.childLanes=Bo(e,a,n),t.memoizedState=_o,s):(ro(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(ro(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),r=s.fallback,c=t.mode,s=qo({mode:"visible",children:s.children},c),(r=Ba(r,c,n,null)).flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,to(t,e.child,null,n),(s=t.child).memoizedState=Uo(n),s.childLanes=Bo(e,a,n),t.memoizedState=_o,t=r);else if(ro(t),gd(c)){if(a=c.nextSibling&&c.nextSibling.dataset)var u=a.dgst;a=u,(s=Error(i(419))).stack="",s.digest=a,ps({value:s,source:null,stack:null}),t=Wo(e,t,n)}else if(Eo||ks(e,t,n,!1),a=0!==(n&e.childLanes),Eo||a){if(null!==(a=ac)&&(0!==(s=0!==((s=0!==(42&(s=n&-n))?1:Ae(s))&(a.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,La(e,s),Ic(a,e,s),Co;"$?"===c.data||Qc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ss=vd(c.nextSibling),as=t,rs=!0,is=null,os=!1,null!==e&&($a[Ja++]=Ya,$a[Ja++]=Xa,$a[Ja++]=Ka,Ya=e.id,Xa=e.overflow,Ka=t),(t=Ho(t,s.children)).flags|=4096);return t}return r?(oo(),r=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=za(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?r=za(u,r):(r=Ba(r,c,n,null)).flags|=2,r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,null===(c=e.child.memoizedState)?c=Uo(n):(null!==(l=c.cachePool)?(u=Ms._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qs(),c={baseLanes:c.baseLanes|n,cachePool:l}),r.memoizedState=c,r.childLanes=Bo(e,a,n),t.memoizedState=_o,s):(ro(t),e=(n=e.child).sibling,(n=za(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Ia(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return to(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Go(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),ws(e.return,t,n)}function Qo(e,t,n,a,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=s)}function $o(e,t,n){var a=t.pendingProps,s=a.revealOrder,r=a.tail;if(Ao(e,t,a.children,n),0!==(2&(a=co.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Go(e,n,t);else if(19===e.tag)Go(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(B(co,a),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qo(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===uo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qo(t,!0,n,null,r);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ks(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=za(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=za(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ns(e))}function Yo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Eo=!0;else{if(!Ko(e,n)&&0===(128&t.flags))return Eo=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),bs(0,Ms,e.memoizedState.cache),ms();break;case 27:case 5:$(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:bs(0,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(ro(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vo(e,t,n):(ro(t),null!==(e=Jo(e,t,n))?e.sibling:null);ro(t);break;case 19:var s=0!==(128&e.flags);if((a=0!==(n&t.childLanes))||(ks(e,t,n,!1),a=0!==(n&t.childLanes)),s){if(a)return $o(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),B(co,co.current),a)break;return null;case 22:case 23:return t.lanes=0,Mo(e,t,n);case 24:bs(0,Ms,e.memoizedState.cache)}return Jo(e,t,n)}(e,t,n);Eo=0!==(131072&e.flags)}else Eo=!1,rs&&0!==(1048576&t.flags)&&es(t,Qa,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,s=a._init;if(a=s(a._payload),t.type=a,"function"!==typeof a){if(void 0!==a&&null!==a){if((s=a.$$typeof)===j){t.tag=11,t=Po(null,t,a,e,n);break e}if(s===S){t.tag=14,t=To(null,t,a,e,n);break e}}throw t=M(a)||a,Error(i(306,t,""))}Fa(a)?(e=go(a,e),t.tag=1,t=Fo(null,t,a,e,n)):(t.tag=0,t=Do(null,t,a,e,n))}return t;case 0:return Do(e,t,t.type,t.pendingProps,n);case 1:return Fo(e,t,a=t.type,s=go(a,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));a=t.pendingProps;var r=t.memoizedState;s=r.element,ar(e,t),ur(t,a,null,n);var o=t.memoizedState;if(a=o.cache,bs(0,Ms,a),a!==r.cache&&js(t,[Ms],n,!0),cr(),a=o.element,r.isDehydrated){if(r={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=zo(e,t,a,n);break e}if(a!==s){ps(s=Na(Error(i(424)),t)),t=zo(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ss=vd(e.firstChild),as=t,rs=!0,is=null,os=!0,n=no(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ms(),a===s){t=Jo(e,t,n);break e}Ao(e,t,a,n)}t=t.child}return t;case 26:return Ro(e,t),null===e?(n=Ad(t.type,null,t.pendingProps,null))?t.memoizedState=n:rs||(n=t.type,e=t.pendingProps,(a=ad(q.current).createElement(n))[Me]=t,a[Oe]=e,ed(a,n,e),We(a),t.stateNode=a):t.memoizedState=Ad(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&rs&&(a=t.stateNode=xd(t.type,t.pendingProps,q.current),as=t,os=!0,s=ss,md(t.type)?(yd=s,ss=vd(a.firstChild)):ss=s),Ao(e,t,t.pendingProps.children,n),Ro(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&rs&&((s=a=ss)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[_e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===r)return e}if(null===(e=vd(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,os))?(t.stateNode=a,as=t,ss=vd(a.firstChild),os=!1,s=!0):s=!1),s||cs(t)),$(t),s=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,id(s,r)?a=null:null!==o&&id(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Lr(e,t,Rr,null,null,n),$d._currentValue=s),Ro(e,t),Ao(e,t,a,n),t.child;case 6:return null===e&&rs&&((e=n=ss)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,os))?(t.stateNode=n,as=t,ss=null,e=!0):e=!1),e||cs(t)),null;case 13:return Vo(e,t,n);case 4:return G(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=to(t,null,a,n):Ao(e,t,a,n),t.child;case 11:return Po(e,t,t.type,t.pendingProps,n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,bs(0,t.type,a.value),Ao(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Ss(t),a=a(s=Cs(s)),t.flags|=1,Ao(e,t,a,n),t.child;case 14:return To(e,t,t.type,t.pendingProps,n);case 15:return Lo(e,t,t.type,t.pendingProps,n);case 19:return $o(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},null===e?((n=qo(a,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=za(e.child,a)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Mo(e,t,n);case 24:return Ss(t),a=Cs(Ms),null===e?(null===(s=Vs())&&(s=ac,r=Os(),s.pooledCache=r,r.refCount++,null!==r&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:a,cache:s},nr(t),bs(0,Ms,s)):(0!==(e.lanes&n)&&(ar(e,t),ur(t,null,null,n),cr()),s=e.memoizedState,r=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),bs(0,Ms,a)):(a=r.cache,bs(0,Ms,a),a!==s.cache&&js(t,[Ms],n,!0))),Ao(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Xo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ao.current)&&((4194048&rc)===rc?null!==so:(62914560&rc)!==rc&&0===(536870912&rc)||t!==so))throw Xs=$s,Gs;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=65011712&s.subtreeFlags,a|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function al(e,t,n){var a=t.pendingProps;switch(ns(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),xs(Ms),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hs(t)?Xo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fs())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==a&&Xo(t),nl(t),t.flags&=-16777217),null;case 27:J(t),n=q.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Xo(t);else{if(!a){if(null===t.stateNode)throw Error(i(166));return nl(t),null}e=V.current,hs(t)?us(t):(e=xd(s,a,n),t.stateNode=e,Xo(t))}return nl(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Xo(t);else{if(!a){if(null===t.stateNode)throw Error(i(166));return nl(t),null}if(e=V.current,hs(t))us(t);else{switch(s=ad(q.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof a.is?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e="string"===typeof a.is?s.createElement(n,{is:a.is}):s.createElement(n)}}e[Me]=t,e[Oe]=a;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(ed(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&Xo(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(i(166));if(e=q.current,hs(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(s=as))switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Me]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||Ku(e.nodeValue,n)))||cs(t)}else(e=ad(e).createTextNode(a))[Me]=t,t.stateNode=e}return nl(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=hs(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[Me]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),s=!1}else s=fs(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==a,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(s=a.alternate.memoizedState.cachePool.pool);var r=null;null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(r=a.memoizedState.cachePool.pool),r!==s&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return Q(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return xs(t.type),nl(t),null;case 19:if(U(co),null===(s=t.memoizedState))return nl(t),null;if(a=0!==(128&t.flags),null===(r=s.rendering))if(a)tl(s,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=uo(e))){for(t.flags|=128,tl(s,!1),e=r.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)_a(n,e),n=n.sibling;return B(co,1&co.current|2),t.child}e=e.sibling}null!==s.tail&&te()>jc&&(t.flags|=128,a=!0,tl(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=uo(r))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!r.alternate&&!rs)return nl(t),null}else 2*te()-s.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,a=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=s.last)?e.sibling=r:t.child=r,s.last=r)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=te(),t.sibling=null,e=co.current,B(co,a?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),vr(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&U(Bs),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xs(Ms),nl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function sl(e,t){switch(ns(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xs(Ms),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(co),null;case 4:return Q(),null;case 10:return xs(t.type),null;case 22:case 23:return lo(t),vr(),null!==e&&U(Bs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xs(Ms),null;default:return null}}function rl(e,t){switch(ns(t),t.tag){case 3:xs(Ms),Q();break;case 26:case 27:case 5:J(t);break;case 4:Q();break;case 13:lo(t);break;case 19:U(co);break;case 10:xs(t.type);break;case 22:case 23:lo(t),vr(),null!==e&&U(Bs);break;case 24:xs(Ms)}}function il(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var r=n.create,i=n.inst;a=r(),i.destroy=a}n=n.next}while(n!==s)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var a=t.updateQueue,s=null!==a?a.lastEffect:null;if(null!==s){var r=s.next;a=r;do{if((a.tag&e)===e){var i=a.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(u){uu(s,l,u)}}}a=a.next}while(a!==r)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hr(t,n)}catch(a){uu(e,e.return,a)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){uu(e,t,a)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof n?e.refCleanup=n(a):n.current=a}}catch(s){uu(e,t,s)}}function dl(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"===typeof a)try{a()}catch(s){uu(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){uu(e,t,r)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){uu(e,e.return,s)}}function ml(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,o=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:a.hasOwnProperty(f)||Xu(e,t,f,null,a,h)}}for(var m in a){var f=a[m];if(h=n[m],a.hasOwnProperty(m)&&(null!=f||null!=h))switch(m){case"type":r=f;break;case"name":s=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:f!==h&&Xu(e,t,m,f,a,h)}}return void gt(e,o,l,c,u,d,r,s);case"select":for(r in f=o=l=m=null,n)if(c=n[r],n.hasOwnProperty(r)&&null!=c)switch(r){case"value":break;case"multiple":f=c;default:a.hasOwnProperty(r)||Xu(e,t,r,null,a,c)}for(s in a)if(r=a[s],c=n[s],a.hasOwnProperty(s)&&(null!=r||null!=c))switch(s){case"value":m=r;break;case"defaultValue":l=r;break;case"multiple":o=r;default:r!==c&&Xu(e,t,s,r,a,c)}return t=l,n=o,a=f,void(null!=m?bt(e,!!n,m,!1):!!a!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=m=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!a.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,a,s)}for(o in a)if(s=a[o],r=n[o],a.hasOwnProperty(o)&&(null!=s||null!=r))switch(o){case"value":m=s;break;case"defaultValue":f=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:s!==r&&Xu(e,t,o,s,a,r)}return void xt(e,m,f);case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&null!=m&&!a.hasOwnProperty(p))if("selected"===p)e.selected=!1;else Xu(e,t,p,null,a,m);for(c in a)if(m=a[c],f=n[c],a.hasOwnProperty(c)&&m!==f&&(null!=m||null!=f))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else Xu(e,t,c,m,a,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!a.hasOwnProperty(g)&&Xu(e,t,g,null,a,m);for(u in a)if(m=a[u],f=n[u],a.hasOwnProperty(u)&&m!==f&&(null!=m||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:Xu(e,t,u,m,a,f)}return;default:if(Ct(t)){for(var v in n)m=n[v],n.hasOwnProperty(v)&&void 0!==m&&!a.hasOwnProperty(v)&&Zu(e,t,v,void 0,a,m);for(d in a)m=a[d],f=n[d],!a.hasOwnProperty(d)||m===f||void 0===m&&void 0===f||Zu(e,t,d,m,a,f);return}}for(var y in n)m=n[y],n.hasOwnProperty(y)&&null!=m&&!a.hasOwnProperty(y)&&Xu(e,t,y,null,a,m);for(h in a)m=a[h],f=n[h],!a.hasOwnProperty(h)||m===f||null==m&&null==f||Xu(e,t,h,m,a,f)}(a,e.type,n,t),a[Oe]=t}catch(s){uu(e,e.return,s)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&md(e.type)||4===e.tag}function pl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&md(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yu));else if(4!==a&&(27===a&&md(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&md(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ed(t,a,n),t[Me]=e,t[Oe]=n}catch(r){uu(e,e.return,r)}}var bl=!1,xl=!1,wl=!1,jl="function"===typeof WeakSet?WeakSet:Set,kl=null;function Nl(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&a&&il(5,n);break;case 1:if(Fl(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){uu(n,n.return,i)}else{var s=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&a&&ll(n),512&a&&ul(n,n.return);break;case 3:if(Fl(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hr(e,t)}catch(i){uu(n,n.return,i)}}break;case 27:null===t&&4&a&&yl(n);case 26:case 5:Fl(e,n),null===t&&4&a&&hl(n),512&a&&ul(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&a&&Tl(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=fu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,s=bl;var r=xl;bl=a,(xl=t)&&!r?_l(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),bl=s,xl=r}break;case 30:break;default:Fl(e,n)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,El=!1;function Al(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(r){}switch(n.tag){case 26:xl||dl(n,t),Al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var a=Cl,s=El;md(n.type)&&(Cl=n.stateNode,El=!1),Al(e,t,n),wd(n.stateNode),Cl=a,El=s;break;case 5:xl||dl(n,t);case 6:if(a=Cl,s=El,Cl=null,Al(e,t,n),El=s,null!==(Cl=a))if(El)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(n.stateNode)}catch(i){uu(n,t,i)}else try{Cl.removeChild(n.stateNode)}catch(i){uu(n,t,i)}break;case 18:null!==Cl&&(El?(fd(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Eh(e)):fd(Cl,n.stateNode));break;case 4:a=Cl,s=El,Cl=n.stateNode.containerInfo,El=!0,Al(e,t,n),Cl=a,El=s;break;case 0:case 11:case 14:case 15:xl||ol(2,n,t),xl||ol(4,n,t),Al(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount&&cl(n,t,a)),Al(e,t,n);break;case 21:Al(e,t,n);break;case 22:xl=(a=xl)||null!==n.memoizedState,Al(e,t,n),xl=a;break;default:Al(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Eh(e)}catch(n){uu(t,t.return,n)}}function Ll(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var a=pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}function Ml(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var s=n[a],r=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(md(l.type)){Cl=l.stateNode,El=!1;break e}break;case 5:Cl=l.stateNode,El=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Cl)throw Error(i(160));Pl(r,o,s),Cl=null,El=!1,null!==(r=s.alternate)&&(r.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rl(t,e),t=t.sibling}var Ol=null;function Rl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ml(t,e),Dl(e),4&a&&(ol(3,e,e.return),il(3,e),ol(5,e,e.return));break;case 1:Ml(t,e),Dl(e),512&a&&(xl||null===n||dl(n,n.return)),64&a&&bl&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var s=Ol;if(Ml(t,e),Dl(e),512&a&&(xl||null===n||dl(n,n.return)),4&a){var r=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":(!(r=s.getElementsByTagName("title")[0])||r[_e]||r[Me]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=s.createElement(a),s.head.insertBefore(r,s.querySelector("head > title"))),ed(r,a,n),r[Me]=e,We(r),a=r;break e;case"link":var o=_d("link","href",s).get(a+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((r=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&r.getAttribute("rel")===(null==n.rel?null:n.rel)&&r.getAttribute("title")===(null==n.title?null:n.title)&&r.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(r=s.createElement(a),a,n),s.head.appendChild(r);break;case"meta":if(o=_d("meta","content",s).get(a+(n.content||"")))for(l=0;l<o.length;l++)if((r=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&r.getAttribute("name")===(null==n.name?null:n.name)&&r.getAttribute("property")===(null==n.property?null:n.property)&&r.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&r.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(r=s.createElement(a),a,n),s.head.appendChild(r);break;default:throw Error(i(468,a))}r[Me]=e,We(r),a=r}e.stateNode=a}else Ud(s,e.type,e.stateNode);else e.stateNode=Rd(s,a,e.memoizedProps);else r!==a?(null===r?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):r.count--,null===a?Ud(s,e.type,e.stateNode):Rd(s,a,e.memoizedProps)):null===a&&null!==e.stateNode&&ml(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ml(t,e),Dl(e),512&a&&(xl||null===n||dl(n,n.return)),null!==n&&4&a&&ml(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ml(t,e),Dl(e),512&a&&(xl||null===n||dl(n,n.return)),32&e.flags){s=e.stateNode;try{jt(s,"")}catch(f){uu(e,e.return,f)}}4&a&&null!=e.stateNode&&ml(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&a&&(wl=!0);break;case 6:if(Ml(t,e),Dl(e),4&a){if(null===e.stateNode)throw Error(i(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(f){uu(e,e.return,f)}}break;case 3:if(zd=null,s=Ol,Ol=Nd(t.containerInfo),Ml(t,e),Ol=s,Dl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(f){uu(e,e.return,f)}wl&&(wl=!1,Il(e));break;case 4:a=Ol,Ol=Nd(e.stateNode.containerInfo),Ml(t,e),Dl(e),Ol=a;break;case 12:default:Ml(t,e),Dl(e);break;case 13:Ml(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Ll(e,a)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=xl;if(bl=u||s,xl=d||c,Ml(t,e),xl=d,bl=u,Dl(e),8192&a)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||bl||xl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(r=c.stateNode,s)"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Ll(e,n))));break;case 19:Ml(t,e),Dl(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Ll(e,a)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(fl(a)){n=a;break}a=a.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var s=n.stateNode;vl(e,pl(e),s);break;case 5:var r=n.stateNode;32&n.flags&&(jt(r,""),n.flags&=-33),vl(e,pl(e),r);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,pl(e),o);break;default:throw Error(i(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Il(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Il(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),zl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),zl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function _l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,s=e,r=t,i=r.flags;switch(r.tag){case 0:case 11:case 15:_l(s,r,n),il(4,r);break;case 1:if(_l(s,r,n),"function"===typeof(s=(a=r).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){uu(a,a.return,c)}if(null!==(s=(a=r).updateQueue)){var o=a.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)dr(l[s],o)}catch(c){uu(a,a.return,c)}}n&&64&i&&ll(r),ul(r,r.return);break;case 27:yl(r);case 26:case 5:_l(s,r,n),n&&null===a&&4&i&&hl(r),ul(r,r.return);break;case 12:_l(s,r,n);break;case 13:_l(s,r,n),n&&4&i&&Tl(s,r);break;case 22:null===r.memoizedState&&_l(s,r,n),ul(r,r.return);break;case 30:break;default:_l(s,r,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Rs(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Rs(e))}function Vl(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,a),t=t.sibling}function Hl(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,a),2048&s&&il(9,t);break;case 1:case 13:default:Vl(e,t,n,a);break;case 3:Vl(e,t,n,a),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Rs(e)));break;case 12:if(2048&s){Vl(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,i=r.id,o=r.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Vl(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,i=t.alternate,null!==t.memoizedState?2&r._visibility?Vl(e,t,n,a):Wl(e,t):2&r._visibility?Vl(e,t,n,a):(r._visibility|=2,ql(e,t,n,a,0!==(10256&t.subtreeFlags))),2048&s&&Ul(i,t);break;case 24:Vl(e,t,n,a),2048&s&&Bl(t.alternate,t)}}function ql(e,t,n,a,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var r=e,i=t,o=n,l=a,c=i.flags;switch(i.tag){case 0:case 11:case 15:ql(r,i,o,l,s),il(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?ql(r,i,o,l,s):Wl(r,i):(u._visibility|=2,ql(r,i,o,l,s)),s&&2048&c&&Ul(i.alternate,i);break;case 24:ql(r,i,o,l,s),s&&2048&c&&Bl(i.alternate,i);break;default:ql(r,i,o,l,s)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:Wl(n,a),2048&s&&Ul(a.alternate,a);break;case 24:Wl(n,a),2048&s&&Bl(a.alternate,a);break;default:Wl(n,a)}t=t.sibling}}var Gl=8192;function Ql(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 26:Ql(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(i(475));var a=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=Pd(n.href),r=e.querySelector(Td(s));if(r)return null!==(e=r._p)&&"object"===typeof e&&"function"===typeof e.then&&(a.count++,a=qd.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=r,void We(r);r=e.ownerDocument||e,n=Ld(n),(s=jd.get(s))&&Id(n,s),We(r=r.createElement("link"));var o=r;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(r,"link",n),t.instance=r}null===a.stylesheets&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(a.count++,t=qd.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Ql(e);break;case 3:case 4:var t=Ol;Ol=Nd(e.stateNode.containerInfo),Ql(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Ql(e),Gl=t):Ql(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Kl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];kl=a,Zl(a,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 0:case 11:case 15:Kl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Kl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Kl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];kl=a,Zl(a,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Rs(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,kl=a;else e:for(n=e;null!==kl;){var s=(a=kl).sibling,r=a.return;if(Sl(a),a===n){kl=null;break e}if(null!==s){s.return=r,kl=s;break e}kl=r}}}var ec={getCacheForType:function(e){var t=Cs(Ms),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,ac=null,sc=null,rc=0,ic=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,mc=0,fc=0,pc=0,gc=0,vc=0,yc=null,bc=null,xc=!1,wc=0,jc=1/0,kc=null,Nc=null,Sc=0,Cc=null,Ec=null,Ac=0,Pc=0,Tc=null,Lc=null,Mc=0,Oc=null;function Rc(){if(0!==(2&nc)&&0!==rc)return rc&-rc;if(null!==R.T){return 0!==Fs?Fs:Pu()}return Te()}function Dc(){0===gc&&(gc=0===(536870912&rc)||rs?je():536870912);var e=ao.current;return null!==e&&(e.flags|=32),gc}function Ic(e,t,n){(e!==ac||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Hc(e,0),Uc(e,rc,gc,!1)),Se(e,n),0!==(2&nc)&&e===ac||(e===ac&&(0===(2&nc)&&(fc|=n),4===hc&&Uc(e,rc,gc,!1)),ju(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(i(327));for(var a=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),s=a?function(e,t){var n=nc;nc|=2;var a=Wc(),s=Gc();ac!==e||rc!==t?(kc=null,jc=te()+500,Hc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==ic&&null!==sc){t=sc;var r=oc;t:switch(ic){case 1:ic=0,oc=null,Zc(e,t,r,1);break;case 2:case 9:if(Js(r)){ic=0,oc=null,Xc(t);break}t=function(){2!==ic&&9!==ic||ac!==e||(ic=7),ju(e)},r.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:Js(r)?(ic=0,oc=null,Xc(t)):(ic=0,oc=null,Zc(e,t,r,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||Bd(o)){ic=0,oc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,eu(u)):sc=null}break t}}ic=0,oc=null,Zc(e,t,r,5);break;case 6:ic=0,oc=null,Zc(e,t,r,6);break;case 8:Vc(),hc=6;break e;default:throw Error(i(462))}}Kc();break}catch(d){qc(e,d)}return ys=vs=null,R.H=a,R.A=s,nc=n,null!==sc?0:(ac=null,rc=0,Aa(),hc)}(e,t):$c(e,t,!0),r=a;;){if(0===s){cc&&!a&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!r||_c(n)){if(2===s){if(r=t,e.errorRecoveryDisabledLanes&r)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=$c(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=r,fc|=r,s=4;break e}r=bc,bc=s,null!==r&&(null===bc?bc=r:bc.push.apply(bc,r))}s=o}if(r=!1,2!==s)continue}}if(1===s){Hc(e,0),Uc(e,t,0,!0);break}e:{switch(a=e,r=s){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Uc(a,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(s=wc+300-te())){if(Uc(a,t,gc,!lc),0!==be(a,0,!0))break e;a.timeoutHandle=ld(zc.bind(null,a,n,bc,kc,xc,t,gc,fc,vc,lc,r,2,-0,0),s)}else zc(a,n,bc,kc,xc,t,gc,fc,vc,lc,r,0,-0,0)}break}s=$c(e,t,!1),r=!1}ju(e)}function zc(e,t,n,a,s,r,o,l,c,u,d,h,m,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vd={stylesheets:null,count:0,unsuspend:Hd},$l(t),null!==(h=function(){if(null===Vd)throw Error(i(475));var e=Vd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,r,n,a,s,o,l,c,d,1,m,f)),void Uc(e,r,o,!u);nu(e,t,r,n,a,s,o,l,c)}function _c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var s=n[a],r=s.getSnapshot;s=s.value;try{if(!Jn(r(),s))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,a){t&=~pc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var r=31-me(s),i=1<<r;a[r]=-1,s&=~i}0!==n&&Ce(e,n,t)}function Bc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Vc(){if(null!==sc){if(0===ic)var e=sc.return;else ys=vs=null,Fr(e=sc),$i=null,Ji=0,e=sc;for(;null!==e;)rl(e.alternate,e),e=e.return;sc=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),ac=e,sc=n=za(e.current,null),rc=t,ic=0,oc=null,lc=!1,cc=xe(e,t),uc=!1,vc=gc=pc=fc=mc=hc=0,bc=yc=null,xc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var s=31-me(a),r=1<<s;t|=e[s],a&=~r}return dc=t,Aa(),n}function qc(e,t){br=null,R.H=qi,t===Ws||t===Qs?(t=Zs(),ic=3):t===Gs?(t=Zs(),ic=4):ic=t===Co?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===sc&&(hc=1,wo(e,Na(t,e.current)))}function Wc(){var e=R.H;return R.H=qi,null===e?qi:e}function Gc(){var e=R.A;return R.A=ec,e}function Qc(){hc=4,lc||(4194048&rc)!==rc&&null!==ao.current||(cc=!0),0===(134217727&mc)&&0===(134217727&fc)||null===ac||Uc(ac,rc,gc,!1)}function $c(e,t,n){var a=nc;nc|=2;var s=Wc(),r=Gc();ac===e&&rc===t||(kc=null,Hc(e,t)),t=!1;var i=hc;e:for(;;)try{if(0!==ic&&null!==sc){var o=sc,l=oc;switch(ic){case 8:Vc(),i=6;break e;case 3:case 2:case 9:case 6:null===ao.current&&(t=!0);var c=ic;if(ic=0,oc=null,Zc(e,o,l,c),n&&cc){i=0;break e}break;default:c=ic,ic=0,oc=null,Zc(e,o,l,c)}}Jc(),i=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,ys=vs=null,nc=a,R.H=s,R.A=r,null===sc&&(ac=null,rc=0,Aa()),i}function Jc(){for(;null!==sc;)Yc(sc)}function Kc(){for(;null!==sc&&!Z();)Yc(sc)}function Yc(e){var t=Yo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Io(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Io(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:Fr(t);default:rl(n,t),t=Yo(n,t=sc=_a(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Zc(e,t,n,a){ys=vs=null,Fr(t),$i=null,Ji=0;var s=t.return;try{if(function(e,t,n,a,s){if(n.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=n.alternate)&&ks(t,n,s,!0),null!==(n=ao.current)){switch(n.tag){case 13:return null===so?Qc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===$s?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),du(e,a,s)),!1;case 22:return n.flags|=65536,a===$s?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),du(e,a,s)),!1}throw Error(i(435,n.tag))}return du(e,a,s),Qc(),!1}if(rs)return null!==(t=ao.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==ls&&ps(Na(e=Error(i(422),{cause:a}),n))):(a!==ls&&ps(Na(t=Error(i(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,a=Na(a,n),or(e,s=ko(e.stateNode,a,s)),4!==hc&&(hc=2)),!1;var r=Error(i(520),{cause:a});if(r=Na(r,n),null===yc?yc=[r]:yc.push(r),4!==hc&&(hc=2),null===t)return!0;a=Na(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,or(n,e=ko(n.stateNode,a,e)),!1;case 1:if(t=n.type,r=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===Nc||!Nc.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,So(s=No(s),e,n,a),or(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,rc))return hc=1,wo(e,Na(n,e.current)),void(sc=null)}catch(r){if(null!==s)throw sc=s,r;return hc=1,wo(e,Na(n,e.current)),void(sc=null)}32768&t.flags?(rs||1===a?e=!0:cc||0!==(536870912&rc)?e=!1:(lc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=ao.current)&&13===a.tag&&(a.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=al(t.alternate,t,dc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);hc=6,sc=null}function nu(e,t,n,a,s,r,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Sc);if(0!==(6&nc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(r=t.lanes|t.childLanes,function(e,t,n,a,s,r){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-me(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==a&&Ce(e,a,0),0!==r&&0===s&&0!==e.tag&&(e.suspendedLanes|=r&~(i&~t))}(e,n,r|=Ea,o,l,c),e===ac&&(sc=ac=null,rc=0),Ec=t,Cc=e,Ac=n,Pc=r,Tc=s,Lc=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(re,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=R.T,R.T=null,s=D.p,D.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,ta(e=ea(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var s=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==r||0!==a&&3!==h.nodeType||(c=o+a),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=o),m===r&&++d===a&&(c=o),null!==(f=h.nextSibling))break;m=(h=m).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(r=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var p=go(n.type,s,(n.elementType,n.type));e=a.getSnapshotBeforeUpdate(p,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=o,D.p=s,R.T=a}}Sc=1,au(),su(),ru()}}function au(){if(1===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var a=D.p;D.p=2;var s=nc;nc|=4;try{Rl(t,e);var r=nd,i=ea(e.containerInfo),o=r.focusedElem,l=r.selectionRange;if(i!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&ta(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),f=o.textContent.length,p=Math.min(l.start,f),g=void 0===l.end?p:Math.min(l.end,f);!m.extend&&p>g&&(i=g,g=p,p=i);var v=Xn(o,p),y=Xn(o,g);if(v&&y&&(1!==m.rangeCount||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==y.node||m.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),m.removeAllRanges(),p>g?(m.addRange(b),m.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),m.addRange(b))}}}}for(d=[],m=o;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nh=!!td,nd=td=null}finally{nc=s,D.p=a,R.T=n}}e.current=t,Sc=2}}function su(){if(2===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var a=D.p;D.p=2;var s=nc;nc|=4;try{Nl(e,t.alternate,t)}finally{nc=s,D.p=a,R.T=n}}Sc=3}}function ru(){if(4===Sc||3===Sc){Sc=0,ee();var e=Cc,t=Ec,n=Ac,a=Lc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Ec=Cc=null,iu(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Nc=null),Pe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==a){t=R.T,s=D.p,D.p=2,R.T=null;try{for(var r=e.onRecoverableError,i=0;i<a.length;i++){var o=a[i];r(o.value,{componentStack:o.stack})}}finally{R.T=t,D.p=s}}0!==(3&Ac)&&ou(),ju(e),s=e.pendingLanes,0!==(4194090&n)&&0!==(42&s)?e===Oc?Mc++:(Mc=0,Oc=e):Mc=0,ku(0,!1)}}function iu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Rs(t)))}function ou(e){return au(),su(),ru(),lu()}function lu(){if(5!==Sc)return!1;var e=Cc,t=Pc;Pc=0;var n=Pe(Ac),a=R.T,s=D.p;try{D.p=32>n?32:n,R.T=null,n=Tc,Tc=null;var r=Cc,o=Ac;if(Sc=0,Ec=Cc=null,Ac=0,0!==(6&nc))throw Error(i(331));var l=nc;if(nc|=4,Yl(r.current),Hl(r,r.current,o,n),nc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,r)}catch(c){}return!0}finally{D.p=s,R.T=a,iu(e,t)}}function cu(e,t,n){t=Na(n,t),null!==(e=rr(e,t=ko(e.stateNode,t,2),2))&&(Se(e,2),ju(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Nc||!Nc.has(a))){e=Na(n,e),null!==(a=rr(t,n=No(2),2))&&(So(n,a,t,e),Se(a,2),ju(a));break}}t=t.return}}function du(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new tc;var s=new Set;a.set(t,s)}else void 0===(s=a.get(t))&&(s=new Set,a.set(t,s));s.has(n)||(uc=!0,s.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(rc&n)===n&&(4===hc||3===hc&&(62914560&rc)===rc&&300>te()-wc?0===(2&nc)&&Hc(e,0):pc|=n,vc===rc&&(vc=0)),ju(e)}function mu(e,t){0===t&&(t=ke()),null!==(e=La(e,t))&&(Se(e,t),ju(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),mu(e,n)}function pu(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==a&&a.delete(t),mu(e,n)}var gu=null,vu=null,yu=!1,bu=!1,xu=!1,wu=0;function ju(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),bu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?Y(ae,Nu):Su()}))}function ku(e,t){if(!xu&&bu){xu=!0;do{for(var n=!1,a=gu;null!==a;){if(!t)if(0!==e){var s=a.pendingLanes;if(0===s)var r=0;else{var i=a.suspendedLanes,o=a.pingedLanes;r=(1<<31-me(42|e)+1)-1,r=201326741&(r&=s&~(i&~o))?201326741&r|1:r?2|r:0}0!==r&&(n=!0,Au(a,r))}else r=rc,0===(3&(r=be(a,a===ac?r:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||xe(a,r)||(n=!0,Au(a,r));a=a.next}}while(n);xu=!1}}function Nu(){Su()}function Su(){bu=yu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,a=gu;null!==a;){var s=a.next,r=Cu(a,t);0===r?(a.next=null,null===n?gu=s:n.next=s,null===s&&(vu=n)):(n=a,(0!==e||0!==(3&r))&&(bu=!0)),a=s}ku(e,!1)}function Cu(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var i=31-me(r),o=1<<i,l=s[i];-1===l?0!==(o&n)&&0===(o&a)||(s[i]=we(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}if(n=rc,n=be(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&X(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&X(a),Pe(n)){case 2:case 8:n=se;break;case 32:default:n=re;break;case 268435456:n=oe}return a=Eu.bind(null,e),n=Y(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&X(a),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var a=rc;return 0===(a=be(e,e===ac?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,a,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Au(e,t){if(ou())return null;Fc(e,t,!0)}function Pu(){return 0===wu&&(wu=je()),wu}function Tu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Lu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Mu=0;Mu<wa.length;Mu++){var Ou=wa[Mu];ja(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}ja(ma,"onAnimationEnd"),ja(fa,"onAnimationIteration"),ja(pa,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(ga,"onTransitionRun"),ja(va,"onTransitionStart"),ja(ya,"onTransitionCancel"),ja(ba,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),$e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$e("onBeforeInput",["compositionend","keypress","textInput","paste"]),$e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Iu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=c;try{r(s)}catch(u){vo(u)}s.currentTarget=null,r=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=c;try{r(s)}catch(u){vo(u)}s.currentTarget=null,r=l}}}}function Fu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var a=e+"__bubble";n.has(a)||(Bu(t,e,2,!1),n.add(a))}function zu(e,t,n){var a=0;t&&(a|=4),Bu(n,e,a,t)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[_u]){e[_u]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[_u]||(t[_u]=!0,zu("selectionchange",!1,t))}}function Bu(e,t,n,a){switch(ch(t)){case 2:var s=ah;break;case 8:s=sh;break;default:s=rh}n=s.bind(null,t,n,e),s=void 0,!_t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),a?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Vu(e,t,n,a,s){var r=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var o=a.stateNode.containerInfo;if(o===s)break;if(4===i)for(i=a.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===s)return;i=i.return}for(;null!==o;){if(null===(i=Be(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){a=r=i;continue e}o=o.parentNode}}a=a.return}It(function(){var a=r,s=Lt(n),i=[];e:{var o=xa.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=pn;break;case"focusin":u="focus",c=rn;break;case"focusout":u="blur",c=rn;break;case"beforeblur":case"afterblur":c=rn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case ma:case fa:case pa:c=on;break;case ba:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),m=d?null!==o?o+"Capture":null:o;d=[];for(var f,p=a;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===m||null!=(g=Ft(p,m))&&d.push(Hu(p,g,f)),h)break;p=p.return}0<d.length&&(o=new c(o,u,null,n,s),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Tt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Re])&&(c||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=an,g="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",m="onPointerEnter",p="pointer"),h=null==c?o:He(c),f=null==u?o:He(u),(o=new d(g,p+"leave",c,n,s)).target=h,o.relatedTarget=f,g=null,Be(s)===a&&((d=new d(m,p+"enter",u,n,s)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(m=u,p=0,f=d=c;f;f=Wu(f))p++;for(f=0,g=m;g;g=Wu(g))f++;for(;0<p-f;)d=Wu(d),p--;for(;0<f-p;)m=Wu(m),f--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Wu(d),m=Wu(m)}d=null}else d=null;null!==c&&Gu(i,o,c,d,!1),null!==u&&null!==h&&Gu(i,h,u,d,!0)}if("select"===(c=(o=a?He(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=zn;else if(Mn(o))if(_n)v=$n;else{v=Gn;var y=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?a&&Ct(a.elementType)&&(v=zn):v=Qn;switch(v&&(v=v(e,a))?On(i,v,n,s):(y&&y(e,o,a),"focusout"===e&&a&&"number"===o.type&&null!=a.memoizedProps.value&&yt(o,"number",o.value)),y=a?He(a):window,e){case"focusin":(Mn(y)||"true"===y.contentEditable)&&(aa=y,sa=a,ra=null);break;case"focusout":ra=sa=aa=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,oa(i,n,s);break;case"selectionchange":if(na)break;case"keydown":case"keyup":oa(i,n,s)}var b;if(jn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Tn?An(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Sn&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Tn&&(b=qt()):(Vt="value"in(Bt=s)?Bt.value:Bt.textContent,Tn=!0)),0<(y=qu(a,x)).length&&(x=new cn(x,e,null,n,s),i.push({event:x,listeners:y}),b?x.data=b:null!==(b=Pn(n))&&(x.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(En=!0,Cn);case"textInput":return(e=t.data)===Cn&&En?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!jn&&An(e,t)?(e=qt(),Ht=Vt=Bt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=qu(a,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,s),i.push({event:y,listeners:x}),y.data=b)),function(e,t,n,a,s){if("submit"===t&&n&&n.stateNode===s){var r=Tu((s[Oe]||null).action),i=a.submitter;i&&null!==(t=(t=i[Oe]||null)?Tu(t.formAction):i.getAttribute("formAction"))&&(r=t,i=null);var o=new Zt("action","action",null,a,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==wu){var e=i?Lu(s,i):new FormData(s);Ti(n,{pending:!0,data:e,method:s.method,action:r},null,e)}}else"function"===typeof r&&(o.preventDefault(),e=i?Lu(s,i):new FormData(s),Ti(n,{pending:!0,data:e,method:s.method,action:r},r,e))},currentTarget:s}]})}}(i,e,a,n,s)}Iu(i,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",a=[];null!==e;){var s=e,r=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===r||(null!=(s=Ft(e,n))&&a.unshift(Hu(e,s,r)),null!=(s=Ft(e,t))&&a.push(Hu(e,s,r))),3===e.tag)return a;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,a,s){for(var r=t._reactName,i=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===a)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=Ft(n,r))&&i.unshift(Hu(n,c,l)):s||null!=(c=Ft(n,r))&&i.push(Hu(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Qu=/\r\n?/g,$u=/\u0000|\uFFFD/g;function Ju(e){return("string"===typeof e?e:""+e).replace(Qu,"\n").replace($u,"")}function Ku(e,t){return t=Ju(t),Ju(e)===t}function Yu(){}function Xu(e,t,n,a,s,r){switch(n){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||jt(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&jt(e,""+a);break;case"className":nt(e,"class",a);break;case"tabIndex":nt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,a);break;case"style":St(e,a,r);break;case"data":if("object"!==t){nt(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Pt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===n?("input"!==t&&Xu(e,t,"name",s.name,s,null),Xu(e,t,"formEncType",s.formEncType,s,null),Xu(e,t,"formMethod",s.formMethod,s,null),Xu(e,t,"formTarget",s.formTarget,s,null)):(Xu(e,t,"encType",s.encType,s,null),Xu(e,t,"method",s.method,s,null),Xu(e,t,"target",s.target,s,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Pt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Yu);break;case"onScroll":null!=a&&Fu("scroll",e);break;case"onScrollEnd":null!=a&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(i(61));if(null!=(n=a.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}n=Pt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",a);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":tt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,a)}}function Zu(e,t,n,a,s,r){switch(n){case"style":St(e,a,r);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(i(61));if(null!=(n=a.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof a?jt(e,a):("number"===typeof a||"bigint"===typeof a)&&jt(e,""+a);break;case"onScroll":null!=a&&Fu("scroll",e);break;case"onScrollEnd":null!=a&&Fu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(r=null!=(r=e[Oe]||null)?r[n]:null)&&e.removeEventListener(t,r,s),"function"!==typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):tt(e,n,a):("function"!==typeof r&&null!==r&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var a,s=!1,r=!1;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(null!=o)switch(a){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Xu(e,t,a,o,n,null)}}return r&&Xu(e,t,"srcSet",n.srcSet,n,null),void(s&&Xu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=a=o=r=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":r=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Xu(e,t,s,d,n,null)}}return vt(e,a,l,c,u,o,r,!1),void dt(e);case"select":for(r in Fu("invalid",e),s=o=a=null,n)if(n.hasOwnProperty(r)&&null!=(l=n[r]))switch(r){case"value":a=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Xu(e,t,r,l,n,null)}return t=a,n=o,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=n&&bt(e,!!s,n,!0));case"textarea":for(o in Fu("invalid",e),a=r=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":r=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Xu(e,t,o,l,n,null)}return wt(e,s,r,a),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Xu(e,t,c,s,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(s=0;s<Ru.length;s++)Fu(Ru[s],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Xu(e,t,u,s,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&Zu(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&Xu(e,t,l,s,n,null))}var td=null,nd=null;function ad(e){return 9===e.nodeType?e:e.ownerDocument}function sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function id(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function md(e){return"head"===e}function fd(e,t){var n=t,a=0,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0<a&&8>a){n=a;var i=e.ownerDocument;if(1&n&&wd(i.documentElement),2&n&&wd(i.body),4&n)for(wd(n=i.head),i=n.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[_e]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=o}}if(0===s)return e.removeChild(r),void Eh(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:a=n.charCodeAt(0)-48;else a=0;n=r}while(n);Eh(t)}function pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pd(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=ad(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var jd=new Map,kd=new Set;function Nd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=D.d;D.d={f:function(){var e=Sd.f(),t=Bc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Mi(t):Sd.r(e)},D:function(e){Sd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){Sd.L(e,t,n);var a=Cd;if(a&&e&&t){var s='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+pt(n.imageSizes)+'"]')):s+='[href="'+pt(e)+'"]';var r=s;switch(t){case"style":r=Pd(e);break;case"script":r=Md(e)}jd.has(r)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),jd.set(r,e),null!==a.querySelector(s)||"style"===t&&a.querySelector(Td(r))||"script"===t&&a.querySelector(Od(r))||(ed(t=a.createElement("link"),"link",e),We(t),a.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var n=Cd;if(n&&e){var a=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+pt(a)+'"][href="'+pt(e)+'"]',r=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Md(e)}if(!jd.has(r)&&(e=h({rel:"modulepreload",href:e},t),jd.set(r,e),null===n.querySelector(s))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(r)))return}ed(a=n.createElement("link"),"link",e),We(a),n.head.appendChild(a)}}},X:function(e,t){Sd.X(e,t);var n=Cd;if(n&&e){var a=qe(n).hoistableScripts,s=Md(e),r=a.get(s);r||((r=n.querySelector(Od(s)))||(e=h({src:e,async:!0},t),(t=jd.get(s))&&Fd(e,t),We(r=n.createElement("script")),ed(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}},S:function(e,t,n){Sd.S(e,t,n);var a=Cd;if(a&&e){var s=qe(a).hoistableStyles,r=Pd(e);t=t||"default";var i=s.get(r);if(!i){var o={loading:0,preload:null};if(i=a.querySelector(Td(r)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jd.get(r))&&Id(e,n);var l=i=a.createElement("link");We(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Dd(i,t,a)}i={type:"stylesheet",instance:i,count:1,state:o},s.set(r,i)}}},M:function(e,t){Sd.M(e,t);var n=Cd;if(n&&e){var a=qe(n).hoistableScripts,s=Md(e),r=a.get(s);r||((r=n.querySelector(Od(s)))||(e=h({src:e,async:!0,type:"module"},t),(t=jd.get(s))&&Fd(e,t),We(r=n.createElement("script")),ed(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}}};var Cd="undefined"===typeof document?null:document;function Ed(e,t,n){var a=Cd;if(a&&"string"===typeof t&&t){var s=pt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),kd.has(s)||(kd.add(s),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(s)&&(ed(t=a.createElement("link"),"link",e),We(t),a.head.appendChild(t)))}}function Ad(e,t,n,a){var s,r,o,l,c=(c=q.current)?Nd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pd(n.href),(a=(n=qe(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pd(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Td(e)))&&!u._p&&(d.instance=u,d.state.loading=5),jd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jd.set(e,n),u||(s=c,r=e,o=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=s.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),ed(r,"link",o),We(r),s.head.appendChild(r))))),t&&null===a)throw Error(i(528,""));return d}if(t&&null!==a)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Md(n),(a=(n=qe(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Pd(e){return'href="'+pt(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function Ld(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Md(e){return'[src="'+pt(e)+'"]'}function Od(e){return"script[async]"+e}function Rd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(a)return t.instance=a,We(a),a;var s=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(a=(e.ownerDocument||e).createElement("style")),ed(a,"style",s),Dd(a,n.precedence,e),t.instance=a;case"stylesheet":s=Pd(n.href);var r=e.querySelector(Td(s));if(r)return t.state.loading|=4,t.instance=r,We(r),r;a=Ld(n),(s=jd.get(s))&&Id(a,s),We(r=(e.ownerDocument||e).createElement("link"));var o=r;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(r,"link",a),t.state.loading|=4,Dd(r,n.precedence,e),t.instance=r;case"script":return r=Md(n.src),(s=e.querySelector(Od(r)))?(t.instance=s,We(s),s):(a=n,(s=jd.get(r))&&Fd(a=h({},n),s),We(s=(e=e.ownerDocument||e).createElement("script")),ed(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Dd(a,n.precedence,e));return t.instance}function Dd(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,r=s,i=0;i<a.length;i++){var o=a[i];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Id(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function _d(e,t,n){if(null===zd){var a=new Map,s=zd=new Map;s.set(n,a)}else(a=(s=zd).get(n))||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[_e]||r[Me]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var i=r.getAttribute(t)||"";i=e+i;var o=a.get(i);o?o.push(r):a.set(i,[r])}}return a}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function Hd(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Qd,e),Wd=null,qd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var a=n.get(null);else{n=new Map,Wd.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var i=s[r];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),a=i)}a&&n.set(null,a)}i=(s=t.instance).getAttribute("data-precedence"),(r=n.get(i)||a)===a&&n.set(null,s),n.set(i,s),this.count++,a=qd.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),r?r.parentNode.insertBefore(s,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var $d={$$typeof:w,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Jd(e,t,n,a,s,r,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Kd(e,t,n,a,s,r,i,o,l,c,u,d){return e=new Jd(e,t,n,i,o,l,c,d),t=1,!0===r&&(t|=24),r=Ia(3,null,null,t),e.current=r,r.stateNode=e,(t=Os()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},nr(r),e}function Yd(e){return e?e=Ra:Ra}function Xd(e,t,n,a,s,r){s=Yd(s),null===a.context?a.context=s:a.pendingContext=s,(a=sr(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(a.callback=r),null!==(n=rr(e,a,t))&&(Ic(n,0,t),ir(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=La(e,67108864);null!==t&&Ic(t,0,67108864),eh(e,67108864)}}var nh=!0;function ah(e,t,n,a){var s=R.T;R.T=null;var r=D.p;try{D.p=2,rh(e,t,n,a)}finally{D.p=r,R.T=s}}function sh(e,t,n,a){var s=R.T;R.T=null;var r=D.p;try{D.p=8,rh(e,t,n,a)}finally{D.p=r,R.T=s}}function rh(e,t,n,a){if(nh){var s=ih(a);if(null===s)Vu(e,t,a,oh,n),yh(e,a);else if(function(e,t,n,a,s){switch(t){case"focusin":return dh=bh(dh,e,t,n,a,s),!0;case"dragenter":return hh=bh(hh,e,t,n,a,s),!0;case"mouseover":return mh=bh(mh,e,t,n,a,s),!0;case"pointerover":var r=s.pointerId;return fh.set(r,bh(fh.get(r)||null,e,t,n,a,s)),!0;case"gotpointercapture":return r=s.pointerId,ph.set(r,bh(ph.get(r)||null,e,t,n,a,s)),!0}return!1}(s,e,t,n,a))a.stopPropagation();else if(yh(e,a),4&t&&-1<vh.indexOf(e)){for(;null!==s;){var r=Ve(s);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var i=ye(r.pendingLanes);if(0!==i){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-me(i);o.entanglements[1]|=l,i&=~l}ju(r),0===(6&nc)&&(jc=te()+500,ku(0,!1))}}break;case 13:null!==(o=La(r,2))&&Ic(o,0,2),Bc(),eh(r,2)}if(null===(r=ih(a))&&Vu(e,t,a,oh,n),r===s)break;s=r}null!==s&&a.stopPropagation()}else Vu(e,t,a,null,n)}}function ih(e){return lh(e=Lt(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ae:return 2;case se:return 8;case re:case ie:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,mh=null,fh=new Map,ph=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":mh=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(t.pointerId)}}function bh(e,t,n,a,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=Ve(t))&&th(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function xh(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Rc();e=Ae(e);var t=La(n,e);null!==t&&Ic(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ih(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&th(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);Tt=a,n.target.dispatchEvent(a),Tt=null,t.shift()}return!0}function jh(e,t,n){wh(e)&&n.delete(t)}function kh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==mh&&wh(mh)&&(mh=null),fh.forEach(jh),ph.forEach(jh)}function Nh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kh)))}var Sh=null;function Ch(e){Sh!==e&&(Sh=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Sh===e&&(Sh=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if("function"!==typeof a){if(null===lh(a||n))continue;break}var r=Ve(n);null!==r&&(e.splice(t,3),t-=3,Ti(r,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Eh(e){function t(t){return Nh(t,e)}null!==dh&&Nh(dh,e),null!==hh&&Nh(hh,e),null!==mh&&Nh(mh,e),fh.forEach(t),ph.forEach(t);for(var n=0;n<gh.length;n++){var a=gh[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)xh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var s=n[a],r=n[a+1],i=s[Oe]||null;if("function"===typeof r)i||Ch(n);else if(i){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,i=r[Oe]||null)o=i.formAction;else if(null!==lh(s))continue}else o=i.action;"function"===typeof o?n[a+1]=o:(n.splice(a,3),a-=3),Ch(n)}}}function Ah(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Xd(t.current,Rc(),e,t,null,null)},Ph.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Bc(),t[Re]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&xh(e)}};var Th=s.version;if("19.1.1"!==Th)throw Error(i(527,Th,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(null===s)break;var r=s.alternate;if(null===r){if(null!==(a=s.return)){n=a;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return u(s),e;if(r===a)return u(s),t;r=r.sibling}throw Error(i(188))}if(n.return!==a.return)n=s,a=r;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,a=r;break}if(c===a){o=!0,a=s,n=r;break}c=c.sibling}if(!o){for(c=r.child;c;){if(c===n){o=!0,n=r,a=s;break}if(c===a){o=!0,a=r,n=s;break}c=c.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Lh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{ue=Mh.inject(Lh),de=Mh}catch(Rh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,a="",s=yo,r=bo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Kd(e,1,!1,null,0,n,a,s,r,l,0,null),e[Re]=t.current,Uu(e),new Ah(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var a=!1,s="",r=yo,l=bo,c=xo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Kd(e,1,!0,t,0,a,s,r,l,c,0,u)).context=Yd(null),n=t.current,(s=sr(a=Ae(a=Rc()))).callback=null,rr(n,s,a),n=a,t.current.lanes=n,Se(t,n),ju(t),e[Re]=t.current,Uu(e),new Ph(t)},t.version="19.1.1"},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(863)},162:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(555),s=n(910),r=n(514);const i=s.A.create({baseURL:"http://localhost:5000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});const o=new class{constructor(){this.messageListeners=[],this.typingListeners=[],this.connectionStateListeners=[],this._typingCallbacks=[],this._isConnected=r.A.isConnected,this.setupWebSocketHandlers()}setupWebSocketHandlers(){r.A.addEventListener("message",this.handleIncomingMessage.bind(this)),r.A.addEventListener("typing",this.handleTypingUpdate.bind(this)),r.A.addEventListener("status",this.handleStatusUpdate.bind(this)),r.A.addConnectionListener(this.handleConnectionStateChange.bind(this))}handleIncomingMessage(e){this.messageListeners.forEach(t=>{try{t(e)}catch(n){console.error("Error in message listener:",n)}})}handleTypingUpdate(e){this._typingCallbacks.forEach(t=>{try{t(e.username,e.isTyping)}catch(n){console.error("Error in typing callback:",n)}}),this.typingListeners.forEach(t=>{try{t(e)}catch(n){console.error("Error in typing listener:",n)}})}handleStatusUpdate(e){}handleConnectionStateChange(e,t){this._isConnected=e,this.connectionStateListeners.forEach(n=>{try{n(e,t)}catch(a){console.error("Error in connection state listener:",a)}})}async getMessages(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t={};e.since&&(t.since=e.since),e.limit&&(t.limit=e.limit);return(await i.get("/messages",{params:t})).data}catch(t){console.error("Error fetching messages:",t);const e=localStorage.getItem("cachedMessages");return e?JSON.parse(e):[]}}async sendMessage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s={text:e,sender:t,type:"text",timestamp:(new Date).toISOString(),replyTo:n};try{if(!r.A.send("newMessage",s)){return(await i.post("/messages",s)).data}return(0,a.A)((0,a.A)({},s),{},{id:Date.now(),status:"sent"})}catch(o){console.error("Error sending message:",o);const e=(0,a.A)((0,a.A)({},s),{},{id:Date.now(),status:"pending"});return this.storePendingMessage(e),e}}storePendingMessage(e){try{const t=localStorage.getItem("pendingMessages"),n=t?JSON.parse(t):[];n.push(e),localStorage.setItem("pendingMessages",JSON.stringify(n)),console.log("Stored pending message:",e.id)}catch(t){console.error("Error storing pending message:",t)}}async getStatusUpdates(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t={};e.since&&(t.since=e.since);return(await i.get("/status-updates",{params:t})).data}catch(t){console.error("Error fetching status updates:",t);const e=localStorage.getItem("statusUpdates");return e?JSON.parse(e):[]}}async markAsRead(e,t){try{return(await i.post("/messages/".concat(e,"/read"),{username:t})).data}catch(n){throw console.error("Error marking message as read:",n),n}}async sendVoiceMessage(e,t){try{const n=new FormData;n.append("audio",e),n.append("sender",t);return(await i.post("/messages/voice",n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error sending voice message:",n),n}}async uploadFile(e,t){try{const n=new FormData;n.append("file",e),n.append("sender",t);return(await i.post("/messages/file",n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error uploading file:",n),n}}sendTypingStatus(e,t){r.A.send("typing",{username:e,isTyping:t})}subscribeToTyping(e){this._typingCallbacks.includes(e)||this._typingCallbacks.push(e)}unsubscribeFromTyping(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._typingCallbacks=e?this._typingCallbacks.filter(t=>t!==e):[]}addMessageListener(e){return this.messageListeners.push(e),()=>this.removeMessageListener(e)}removeMessageListener(e){this.messageListeners=this.messageListeners.filter(t=>t!==e)}addConnectionStateListener(e){return this.connectionStateListeners.push(e),()=>this.removeConnectionStateListener(e)}removeConnectionStateListener(e){this.connectionStateListeners=this.connectionStateListeners.filter(t=>t!==e)}isConnected(){return this._isConnected}getConnectionQuality(){return r.A.getConnectionQuality()}getConnectionMetrics(){return r.A.getConnectionMetrics()}async reconnect(){try{return await r.A.reconnect()}catch(e){return console.error("Reconnection failed:",e),!1}}};console.log("\u26a0\ufe0f WebSocket connection temporarily disabled - using REST API only");const l=o},340:(e,t,n)=>{e.exports=n(487)},352:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(85)},414:(e,t,n)=>{e.exports=n(916)},487:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,s=e[a];if(!(0<r(s,t)))break e;e[a]=t,e[n]=s,n=a}}function a(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,s=e.length,i=s>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,u=e[c];if(0>r(l,n))c<s&&0>r(u,l)?(e[a]=u,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<s&&0>r(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,p=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=a(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=a(u)}}function j(e){if(g=!1,w(e),!p)if(null!==a(c))p=!0,N||(N=!0,k());else{var t=a(u);null!==t&&M(j,t.startTime-e)}}var k,N=!1,S=-1,C=5,E=-1;function A(){return!!v||!(t.unstable_now()-E<C)}function P(){if(v=!1,N){var e=t.unstable_now();E=e;var n=!0;try{e:{p=!1,g&&(g=!1,b(S),S=-1),f=!0;var r=m;try{t:{for(w(e),h=a(c);null!==h&&!(h.expirationTime>e&&A());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===a(c)&&s(c),w(e)}else s(c);h=a(c)}if(null!==h)n=!0;else{var l=a(u);null!==l&&M(j,l.startTime-e),n=!1}}break e}finally{h=null,m=r,f=!1}n=void 0}}finally{n?k():N=!1}}}if("function"===typeof x)k=function(){x(P)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,L=T.port2;T.port1.onmessage=P,k=function(){L.postMessage(null)}}else k=function(){y(P,0)};function M(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,s,r){var i=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?i+r:i:r=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>i?(e.sortIndex=r,n(u,e),null===a(c)&&e===a(u)&&(g?(b(S),S=-1):g=!0,M(j,r-i))):(e.sortIndex=o,n(c,e),p||f||(p=!0,N||(N=!0,k()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},514:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(555);const s="wss://ws.quibish.com/ws",r=(parseInt("3"),parseInt("3000"),2e3),i=3e4,o=3e4,l=1e4,c=15e3;const u=new class{constructor(){this.socket=null,this.listeners=new Map,this.connectionListeners=[],this.reconnectAttempts=0,this.reconnectTimer=null,this.pingTimer=null,this.pongTimer=null,this.connectionTimer=null,this.isConnected=!1,this.isConnecting=!1,this.intentionallyClosed=!1,this.lastPingSent=null,this.lastPongReceived=null,this.pingHistory=[],this.connectionMetrics={latency:0,stability:100,disconnects:0,lastConnectionTime:null,reconnectAttempts:0,failedPings:0}}connect(){if(!this.isConnecting&&!this.isConnected){if(this.intentionallyClosed=!1,this.isConnecting=!0,!s)return console.info("WebSocket URL not configured; skipping connection"),void(this.isConnecting=!1);try{this.socket=new WebSocket(s),this.connectionTimer&&clearTimeout(this.connectionTimer),this.connectionTimer=setTimeout(()=>{this.isConnected||(console.warn("WebSocket connection timeout"),this.socket&&this.socket.close(),this.handleDisconnect(new Error("Connection timeout")))},c),this.socket.onopen=this.handleOpen.bind(this),this.socket.onmessage=this.handleMessage.bind(this),this.socket.onerror=this.handleError.bind(this),this.socket.onclose=this.handleClose.bind(this)}catch(e){console.error("WebSocket connection error:",e),this.handleDisconnect(e)}}}disconnect(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.intentionallyClosed=e,this.clearTimers(),this.socket){try{this.socket.close()}catch(t){console.error("Error closing WebSocket:",t)}this.socket=null}this.isConnected&&(this.isConnected=!1,this.notifyConnectionChange(!1,{reason:e?"User disconnected":"Connection closed"}))}async reconnect(){if(console.log("Manual reconnection initiated"),this.intentionallyClosed=!1,this.isConnected=!1,this.isConnecting=!1,this.clearTimers(),this.socket){try{this.socket.close()}catch(e){console.error("Error closing previous WebSocket connection:",e)}this.socket=null}return new Promise((e,t)=>{const n=t=>{t&&(clearTimeout(a),this.removeConnectionListener(n),this.reconnectAttempts=0,e(!0))};this.addConnectionListener(n);const a=setTimeout(()=>{this.removeConnectionListener(n),t(new Error("Reconnection timeout"))},1.5*c);this.connect()})}handleOpen(){console.log("WebSocket connected"),this.isConnected=!0,this.isConnecting=!1,this.reconnectAttempts=0,this.intentionallyClosed=!1,this.connectionMetrics.lastConnectionTime=new Date,this.connectionTimer&&(clearTimeout(this.connectionTimer),this.connectionTimer=null),this.startPingInterval(),this.notifyConnectionChange(!0,{reconnected:this.connectionMetrics.disconnects>0})}handleMessage(e){try{const t=JSON.parse(e.data);if("pong"===t.type)return void this.handlePong(t);t.type&&this.listeners.has(t.type)&&this.listeners.get(t.type).forEach(e=>{try{e(t.payload)}catch(n){console.error("Error in ".concat(t.type," event handler:"),n)}}),this.listeners.has("all")&&this.listeners.get("all").forEach(e=>{try{e(t)}catch(n){console.error('Error in "all" event handler:',n)}})}catch(t){console.error("Error parsing WebSocket message:",t)}}handleError(e){console.error("WebSocket error:",e),this.connectionMetrics.stability=Math.max(0,this.connectionMetrics.stability-10)}handleClose(e){const t=e.reason||"No reason provided",n=e.code;console.log("WebSocket closed: [".concat(n,"] ").concat(t)),this.handleDisconnect(new Error("Connection closed: [".concat(n,"] ").concat(t)))}handleDisconnect(e){if(!this.isConnected&&!this.isConnecting)return;if(this.isConnected=!1,this.isConnecting=!1,this.connectionMetrics.disconnects++,this.clearTimers(),this.socket){try{this.socket.close()}catch(n){console.error("Error closing socket during disconnect:",n)}this.socket=null}if(this.notifyConnectionChange(!1,{reason:(null===e||void 0===e?void 0:e.message)||"Connection lost",reconnecting:!this.intentionallyClosed,code:e.code}),this.intentionallyClosed)return void console.log("Not reconnecting because connection was intentionally closed");this.reconnectAttempts++,this.connectionMetrics.reconnectAttempts=this.reconnectAttempts;const t=Math.min(r*Math.pow(1.5,this.reconnectAttempts-1),i)+1e3*Math.random();console.log("Scheduling reconnect attempt in ".concat(Math.round(t/1e3),"s (attempt ").concat(this.reconnectAttempts,")")),this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{console.log("Reconnecting (attempt ".concat(this.reconnectAttempts,")...")),this.connect()},t)}ping(){if(this.isConnected&&this.socket)try{const e=Date.now();this.lastPingSent=e,this.send("ping",{time:e}),this.pongTimer=setTimeout(()=>{console.warn("WebSocket pong timeout"),this.connectionMetrics.failedPings++,this.connectionMetrics.stability=Math.max(0,this.connectionMetrics.stability-5),this.connectionMetrics.failedPings>=3&&(console.error("Multiple ping failures, reconnecting..."),this.socket.close(),this.handleDisconnect(new Error("Ping timeout")))},l)}catch(e){console.error("Error sending ping:",e)}}handlePong(e){if(this.pongTimer&&(clearTimeout(this.pongTimer),this.pongTimer=null),this.lastPingSent&&e.pingTime){const e=Date.now()-this.lastPingSent;this.connectionMetrics.latency=e,this.lastPongReceived=Date.now(),this.connectionMetrics.failedPings=0,this.pingHistory.push(e),this.pingHistory.length>5&&this.pingHistory.shift(),this.updateStabilityMetric()}}startPingInterval(){this.pingTimer&&clearInterval(this.pingTimer),this.pingTimer=setInterval(()=>{this.ping()},o)}clearTimers(){this.connectionTimer&&(clearTimeout(this.connectionTimer),this.connectionTimer=null),this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null),this.pongTimer&&(clearTimeout(this.pongTimer),this.pongTimer=null)}updateStabilityMetric(){if(this.pingHistory.length<2)return;const e=this.pingHistory.reduce((e,t)=>e+t,0)/this.pingHistory.length,t=this.pingHistory.reduce((t,n)=>t+Math.pow(n-e,2),0)/this.pingHistory.length,n=100-50*Math.min(t/1e4,1)-30*Math.min(e/1e3,1);this.connectionMetrics.stability=Math.max(0,Math.min(100,.7*this.connectionMetrics.stability+.3*n))}send(e,t){if(!this.isConnected||!this.socket)return!1;try{const n=JSON.stringify({type:e,payload:t,timestamp:(new Date).toISOString()});return this.socket.send(n),!0}catch(n){return console.error("Error sending WebSocket message:",n),!1}}addEventListener(e,t){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),()=>{const n=this.listeners.get(e);n&&n.delete(t)}}removeEventListener(e,t){const n=this.listeners.get(e);n&&n.delete(t)}addConnectionListener(e){return this.connectionListeners.push(e),()=>this.removeConnectionListener(e)}removeConnectionListener(e){this.connectionListeners=this.connectionListeners.filter(t=>t!==e)}notifyConnectionChange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};[...this.connectionListeners].forEach(n=>{try{n(e,t)}catch(a){console.error("Error in connection state listener:",a)}})}getConnectionQuality(){if(!this.isConnected)return"offline";const{latency:e,stability:t}=this.connectionMetrics;return t>90&&e<100?"excellent":t>70&&e<300?"good":t>40&&e<1e3?"poor":"critical"}getConnectionMetrics(){return(0,a.A)((0,a.A)({},this.connectionMetrics),{},{quality:this.getConnectionQuality(),connected:this.isConnected,pingHistory:[...this.pingHistory]})}}},555:(e,t,n)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=a(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function r(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},589:(e,t,n)=>{n.d(t,{$n:()=>l,conversationService:()=>m,userService:()=>h,y1:()=>u});var a=n(555),s=n(910),r=n(514);const i={_isConnected:navigator.onLine&&r.A.isConnected,_listeners:[],get isConnected(){return navigator.onLine&&r.A.isConnected},addConnectionListener(e){this._listeners.push(e);const t=r.A.addConnectionListener((t,n)=>{this._isConnected=navigator.onLine&&t,e(this._isConnected,n)}),n=()=>{r.A.isConnected&&(this._isConnected=!0,e(!0,{source:"browser",event:"online"}))},a=()=>{this._isConnected=!1,e(!1,{source:"browser",event:"offline"})};return window.addEventListener("online",n),window.addEventListener("offline",a),()=>{this._listeners=this._listeners.filter(t=>t!==e),t(),window.removeEventListener("online",n),window.removeEventListener("offline",a)}},notifyConnectionChange(e){this._isConnected!==e&&(this._isConnected=e,this._listeners.forEach(t=>{try{t(e,{source:"api"})}catch(n){console.error("Error in connection listener:",n)}}),console.log("[API] Connection status changed: ".concat(e?"Connected":"Disconnected")))}},o=s.A.create({baseURL:"https://api.quibish.com/api",timeout:parseInt("5000")||5e3,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{const t=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));s.A.create({baseURL:"https://api.translation-service.example",timeout:5e3,headers:{"Content-Type":"application/json",Authorization:"Bearer translation_api_key"}});const l=async()=>{try{const e=await o.get("/ping",{timeout:3e3});return i.notifyConnectionChange(!0),r.A.isConnected||r.A.connect(),200===e.status}catch(e){return console.warn("API server not available, enabling demo mode:",e.message),i.notifyConnectionChange(!1),!1}};i.addConnectionListener(e=>{e&&(async()=>{try{const e=localStorage.getItem("pendingMessages");if(!e)return;const t=JSON.parse(e);if(0===t.length)return;console.log("Syncing ".concat(t.length," pending messages..."));const n=t.map(async e=>{try{return await o.post("/messages",{text:e.text,sender:e.sender,type:e.type,replyTo:e.replyTo,timestamp:e.timestamp,pendingId:e.id}),{success:!0,id:e.id}}catch(t){return console.error("Failed to sync message ".concat(e.id,":"),t),{success:!1,id:e.id}}}),a=(await Promise.allSettled(n)).filter(e=>"fulfilled"===e.status&&e.value.success).map(e=>e.value.id);if(a.length>0){const e=t.filter(e=>!a.includes(e.id));localStorage.setItem("pendingMessages",JSON.stringify(e)),console.log("Synced ".concat(a.length," messages, ").concat(e.length," remaining"))}}catch(e){console.error("Error syncing pending messages:",e)}})()}),r.A.addConnectionListener(e=>{const t=i.isConnected,n=navigator.onLine&&e;t!==n&&i.notifyConnectionChange(n)}),console.log("\u26a0\ufe0f Connection checker temporarily disabled to fix rate limiting");o.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),o.interceptors.response.use(e=>(i.notifyConnectionChange(!0),e),async e=>{var t;if(e.response&&401===e.response.status)return localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/",Promise.reject(e);if(null!==(t=e.config)&&void 0!==t&&t.skipRetry)return Promise.reject(e);if("ECONNABORTED"===e.code||e.message.includes("timeout")||e.message.includes("Network Error")){if(i.notifyConnectionChange(!1),i.currentRetries>=i.maxRetries)return console.error("Max retries (".concat(i.maxRetries,") reached for request:"),e.config.url),i.currentRetries=0,Promise.reject(e);i.currentRetries++;const t=i.getRetryDelay();return console.log("Retry ".concat(i.currentRetries,"/").concat(i.maxRetries," for ").concat(e.config.url," after ").concat(t,"ms")),await new Promise(e=>setTimeout(e,t)),o(e.config)}return Promise.reject(e)});const c=(e,t)=>{console.log("Performing offline authentication for:",e);const n=[{username:"demo",password:"demo",email:"demo@quibish.com",name:"Demo User"},{username:"john",password:"password",email:"john@example.com",name:"John Doe"},{username:"jane",password:"password",email:"jane@example.com",name:"Jane Smith"},{username:"admin",password:"admin",email:"admin@quibish.com",name:"Admin User"}].find(n=>(n.username===e||n.email===e)&&n.password===t);return n?{user:{id:Date.now(),username:n.username,email:n.email,name:n.name},token:"offline-demo-token-"+Date.now(),success:!0}:{user:{id:Date.now(),username:e,email:e.includes("@")?e:e+"@demo.com",name:e.charAt(0).toUpperCase()+e.slice(1)},token:"offline-token-"+Date.now(),success:!0}},u={getUserById:async e=>{try{return(await o.get("/users/".concat(e))).data.user}catch(t){throw console.error("Error fetching user data:",t),t}},getAllUsers:async()=>{try{return(await o.get("/users")).data.users}catch(e){throw console.error("Error fetching users:",e),e}},updateUser:async(e,t)=>{try{const n=t instanceof FormData,s={headers:{"Content-Type":n?"multipart/form-data":"application/json"}};if(!await l())return console.log("API offline, using demo mode for updateUser"),((e,t,n)=>new Promise((e,s)=>{setTimeout(()=>{try{const r=JSON.parse(localStorage.getItem("user")||sessionStorage.getItem("user"));if(!r)return void s(new Error("User not found"));let i=t;if(n){i={};for(const[e,n]of t.entries())if("avatar"===e&&n instanceof File){const t=new FileReader;t.onloadend=()=>{i[e]=t.result},t.readAsDataURL(n)}else i[e]=n}const o=(0,a.A)((0,a.A)({},r),i);localStorage.setItem("user",JSON.stringify(o)),e(o)}catch(r){s(new Error("Error updating user in demo mode"))}},500)}))(0,t,n);return(await o.put("/users/".concat(e),t,s)).data.user}catch(n){throw console.error("Error updating user profile:",n),n}},changePassword:async(e,t,n)=>{try{if(!await l())return console.log("API offline, using demo mode for changePassword"),((e,t,n)=>new Promise((a,s)=>{setTimeout(()=>{const r=JSON.parse(localStorage.getItem("demoUsers")||"[]"),i=JSON.parse(localStorage.getItem("user")||sessionStorage.getItem("user"));if(!i)return void s(new Error("User not found"));const o=r.findIndex(t=>t.id===e||t.username===i.username);-1!==o?r[o].password===t?(r[o].password=n,localStorage.setItem("demoUsers",JSON.stringify(r)),a({success:!0,message:"Password updated successfully"})):s(new Error("Current password is incorrect")):s(new Error("User not found in demo database"))},500)}))(e,t,n);return(await o.post("/users/".concat(e,"/change-password"),{currentPassword:t,newPassword:n})).data}catch(a){throw console.error("Error changing password:",a),a}},updatePreferences:async(e,t)=>{try{if(!await l())return console.log("API offline, using demo mode for updatePreferences"),((e,t)=>new Promise((e,n)=>{setTimeout(()=>{try{const s=JSON.parse(localStorage.getItem("user")||sessionStorage.getItem("user"));if(!s)return void n(new Error("User not found"));const r=(0,a.A)((0,a.A)({},s),{},{preferences:(0,a.A)((0,a.A)({},s.preferences||{}),t)});localStorage.setItem("user",JSON.stringify(r)),e({success:!0,user:r})}catch(s){n(new Error("Error updating preferences in demo mode"))}},500)}))(0,t);return(await o.put("/users/".concat(e,"/preferences"),t)).data}catch(n){throw console.error("Error updating preferences:",n),n}},updateProfile:async e=>{try{const t=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");if(console.log("updateProfile Debug - Token check:",{token:t?"present":"missing",userData:e}),!t)throw new Error("No authentication token found. Please log in again.");const n=await o.put("/users/profile",e,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});return console.log("updateProfile Debug - API response:",n.data),n.data}catch(s){var t,n;if(console.error("updateProfile Debug - Error details:",{error:s,message:s.message,response:null===(t=s.response)||void 0===t?void 0:t.data,status:null===(n=s.response)||void 0===n?void 0:n.status}),"ECONNREFUSED"===s.code||"ERR_NETWORK"===s.code||!navigator.onLine){console.log("Network error detected - falling back to offline mode");const t=JSON.parse(localStorage.getItem("user")||sessionStorage.getItem("user")||"{}"),n=(0,a.A)((0,a.A)({},t),e);return localStorage.setItem("user",JSON.stringify(n)),{success:!0,user:n}}throw s}},uploadAvatar:async e=>{try{const t=new FormData;t.append("avatar",e);const n=localStorage.getItem("authToken");return(await o.post("/users/avatar",t,{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error uploading avatar:",t),t}},removeAvatar:async()=>{try{const e=localStorage.getItem("authToken");return(await o.delete("/users/avatar",{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){throw console.error("Error removing avatar:",e),e}},updateCurrentUserPreferences:async e=>{try{const t=localStorage.getItem("authToken");return(await o.put("/users/preferences",e,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).data}catch(t){throw console.error("Error updating preferences:",t),t}},changeCurrentUserPassword:async(e,t)=>{try{const n=localStorage.getItem("authToken");return(await o.post("/users/change-password",{currentPassword:e,newPassword:t},{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}})).data}catch(n){throw console.error("Error changing password:",n),n}},login:async(e,t)=>{try{console.log("API Client - Login attempt:",{username:e});if(!await l())return console.log("API offline - using demo authentication"),c(e,t);const n=await o.post("/auth/login",{username:e,password:t});console.log("API Client - Login response:",n.data);const a=n.data;if(a.hasOwnProperty("success")&&!a.success){const e=new Error(a.error||a.message||"Login failed");throw e.response={data:a},e}return{user:a.user||{username:e,email:e.includes("@")?e:null},token:a.token||"demo-token",success:!0}}catch(n){if(console.error("Auth service login error:",n),"ECONNREFUSED"===n.code||"ERR_NETWORK"===n.code||!navigator.onLine)return console.log("Network error detected - falling back to demo authentication"),c(e,t);throw n}},register:async(e,t,n)=>{try{console.log("API Client - Registration attempt:",{username:e,email:t});if(!await l())return console.log("API offline - using demo registration"),{user:{id:Date.now(),username:e,email:t,name:e.charAt(0).toUpperCase()+e.slice(1)},token:"offline-registration-token-"+Date.now(),success:!0};const a=await o.post("/auth/register",{username:e,email:t,password:n});console.log("API Client - Registration response:",a.data);const s=a.data;if(s.hasOwnProperty("success")&&!s.success){const e=new Error(s.error||s.message||"Registration failed");throw e.response={data:s},e}return{user:s.user||{username:e,email:t},token:s.token||"demo-token-"+Date.now().toString().slice(-6),success:!0}}catch(a){if(console.error("Auth service registration error:",a),"ECONNREFUSED"===a.code||"ERR_NETWORK"===a.code||!navigator.onLine)return console.log("Network error detected - allowing offline registration"),{user:{id:Date.now(),username:e,email:t,name:e.charAt(0).toUpperCase()+e.slice(1)},token:"offline-fallback-token-"+Date.now(),success:!0};throw a}},saveUserSession:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];localStorage.removeItem("user"),localStorage.removeItem("authToken"),sessionStorage.removeItem("user"),sessionStorage.removeItem("authToken");const a=n?localStorage:sessionStorage;try{return a.setItem("user",JSON.stringify(e)),a.setItem("authToken",t),console.log("User session saved in ".concat(n?"localStorage":"sessionStorage")),!0}catch(s){console.error("Error saving user session:",s);try{const a=n?sessionStorage:localStorage;return a.setItem("user",JSON.stringify(e)),a.setItem("authToken",t),console.log("User session saved in fallback storage"),!0}catch(r){return console.error("Error saving user session in fallback storage:",r),!1}}},logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("authToken"),sessionStorage.removeItem("user"),sessionStorage.removeItem("authToken"),window.location.href="/"},getUser:()=>{const e=localStorage.getItem("user"),t=sessionStorage.getItem("user"),n=e||t;return n?JSON.parse(n):null},getToken:()=>localStorage.getItem("authToken")||sessionStorage.getItem("authToken")},d={messages:[],statusUpdates:[],lastUpdated:null,saveMessages(e){this.messages=e,this.lastUpdated=new Date;try{localStorage.setItem("cachedMessages",JSON.stringify(e))}catch(t){console.warn("Failed to save messages to localStorage:",t)}},saveStatusUpdates(e){this.statusUpdates=e;try{localStorage.setItem("statusUpdates",JSON.stringify(e))}catch(t){console.warn("Failed to save status updates to localStorage:",t)}},getCachedMessages(){if(this.messages.length>0)return this.messages;try{const e=localStorage.getItem("cachedMessages");if(e){const t=JSON.parse(e);return this.messages=t,t}}catch(e){console.warn("Failed to load cached messages from localStorage:",e)}return[]},getCachedStatusUpdates(){if(this.statusUpdates.length>0)return this.statusUpdates;try{const e=localStorage.getItem("statusUpdates");if(e){const t=JSON.parse(e);return this.statusUpdates=t,t}}catch(e){console.warn("Failed to load cached status updates from localStorage:",e)}return[]}},h={async searchUsers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{if(!e||e.trim().length<2)return{success:!1,error:"Search query must be at least 2 characters long"};const n=await s.A.get("http://localhost:5001/api/users/search",{params:{q:e.trim(),limit:t},headers:{Authorization:"Bearer ".concat(u.getToken()),"Content-Type":"application/json"}});return n.data.success?{success:!0,users:n.data.users,count:n.data.count}:{success:!1,error:n.data.error||"Search failed"}}catch(r){var n,a;return console.error("Error searching users:",r),{success:!1,error:(null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to search users"}}},async getAllUsers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;try{const t=await s.A.get("http://localhost:5001/api/users",{params:{limit:e},headers:{Authorization:"Bearer ".concat(u.getToken()),"Content-Type":"application/json"}});return t.data.success?{success:!0,users:t.data.users}:{success:!1,error:t.data.error||"Failed to get users"}}catch(a){var t,n;return console.error("Error getting users:",a),{success:!1,error:(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to get users"}}}},m={async createConversation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"direct",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const a={type:t,participants:e.map(e=>e.id||e),name:"group"===t?n:null},r=await s.A.post("http://localhost:5001/api/conversations",a,{headers:{Authorization:"Bearer ".concat(u.getToken()),"Content-Type":"application/json"}});return r.data.success?{success:!0,conversation:r.data.conversation}:{success:!1,error:r.data.error||"Failed to create conversation"}}catch(i){var a,r;return console.error("Error creating conversation:",i),{success:!1,error:(null===(a=i.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Failed to create conversation"}}},async getConversations(){try{const e=await s.A.get("http://localhost:5001/api/conversations",{headers:{Authorization:"Bearer ".concat(u.getToken()),"Content-Type":"application/json"}});return e.data.success?{success:!0,conversations:e.data.conversations}:{success:!1,error:e.data.error||"Failed to get conversations"}}catch(n){var e,t;return console.error("Error getting conversations:",n),{success:!1,error:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to get conversations"}}}};Promise.resolve().then(n.bind(n,162)).then(e=>{Object.assign(f,e.default)});const f={_typingCallbacks:[],addConnectionStateListener:e=>(Promise.resolve().then(n.bind(n,162)).then(t=>t.default.addConnectionStateListener(e)),i.addConnectionListener(e)),isConnected:()=>{try{const e=n(162);if(e&&e.default)return e.default.isConnected()}catch(e){console.debug("Using fallback connection check")}return i.isConnected},getConnectionQuality:()=>{try{const e=n(162);if(e&&e.default)return e.default.getConnectionQuality()}catch(e){return i.isConnected?"good":"offline"}},getConnectionMetrics:()=>{try{const e=n(162);if(e&&e.default)return e.default.getConnectionMetrics()}catch(e){return{latency:0,stability:i.isConnected?100:0,quality:i.isConnected?"good":"offline",connected:i.isConnected}}},reconnect:async()=>{try{const e=n(162);if(e&&e.default)return await e.default.reconnect()}catch(e){console.debug("Using fallback reconnect")}try{return await l(),i.isConnected}catch(t){return console.error("Reconnection failed:",t),!1}},getMessages:async()=>{try{const e=(await o.get("/messages")).data;return d.saveMessages(e),e}catch(e){return console.warn("Error fetching messages, using cached data:",e),d.getCachedMessages()}},getStatusUpdates:async()=>{try{const e=(await o.get("/status-updates")).data;return d.saveStatusUpdates(e),e}catch(e){return console.warn("Error fetching status updates, using cached data:",e),d.getCachedStatusUpdates()}},sendMessage:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s={id:Date.now()+Math.random().toString(36).substring(2,9),text:e,sender:t,type:"text",replyTo:n,timestamp:(new Date).toISOString(),status:"sending"};try{const r=await o.post("/messages",{text:e,sender:t,type:"text",replyTo:n,timestamp:s.timestamp}),i=[...d.getCachedMessages(),r.data];return d.saveMessages(i),(0,a.A)((0,a.A)({},r.data),{},{status:"sent"})}catch(r){console.warn("Failed to send message, saving to pending queue:",r);try{const e=JSON.parse(localStorage.getItem("pendingMessages")||"[]");e.push(s),localStorage.setItem("pendingMessages",JSON.stringify(e))}catch(i){console.error("Failed to save pending message:",i)}const e=[...d.getCachedMessages(),s];return d.saveMessages(e),(0,a.A)((0,a.A)({},s),{},{status:"pending"})}},sendVoiceMessage:async(e,t)=>{const n=new FormData;n.append("audio",e),n.append("sender",t),n.append("type","voice");return(await s.A.post("http://localhost:5000/api/voice-messages",n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data},uploadFile:async(e,t)=>{const n=new FormData;n.append("file",e),n.append("sender",t),n.append("type","file");return(await s.A.post("http://localhost:5000/api/files",n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data},markAsRead:async(e,t)=>{try{return(await o.post("/messages/".concat(e,"/read"),{username:t})).data}catch(n){console.error("Error marking message as read:",n);const s=JSON.parse(localStorage.getItem("messages")||"[]").map(n=>n.id===e?(0,a.A)((0,a.A)({},n),{},{readBy:[...n.readBy||[],t]}):n);return localStorage.setItem("messages",JSON.stringify(s)),s.find(t=>t.id===e)}},sendTypingStatus:(e,t)=>{Promise.resolve().then(n.bind(n,162)).then(n=>{n.default.sendTypingStatus(e,t)})},subscribeToTyping:e=>{Promise.resolve().then(n.bind(n,162)).then(t=>{t.default.subscribeToTyping(e)})},unsubscribeFromTyping:()=>{f._typingCallbacks=[],console.log("Unsubscribed from typing indicators")}}},863:(e,t,n)=>{var a=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:s,fetchPriority:r}):"script"===n&&i.d.X(e,{crossOrigin:a,integrity:s,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},910:(e,t,n)=>{n.d(t,{A:()=>Pt});var a={};function s(e,t){return function(){return e.apply(t,arguments)}}n.r(a),n.d(a,{hasBrowserEnv:()=>ue,hasStandardBrowserEnv:()=>he,hasStandardBrowserWebWorkerEnv:()=>me,navigator:()=>de,origin:()=>fe});const{toString:r}=Object.prototype,{getPrototypeOf:i}=Object,{iterator:o,toStringTag:l}=Symbol,c=(u=Object.create(null),e=>{const t=r.call(e);return u[t]||(u[t]=t.slice(8,-1).toLowerCase())});var u;const d=e=>(e=e.toLowerCase(),t=>c(t)===e),h=e=>t=>typeof t===e,{isArray:m}=Array,f=h("undefined");function p(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const g=d("ArrayBuffer");const v=h("string"),y=h("function"),b=h("number"),x=e=>null!==e&&"object"===typeof e,w=e=>{if("object"!==c(e))return!1;const t=i(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(l in e)&&!(o in e)},j=d("Date"),k=d("File"),N=d("Blob"),S=d("FileList"),C=d("URLSearchParams"),[E,A,P,T]=["ReadableStream","Request","Response","Headers"].map(d);function L(e,t){let n,a,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),m(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(p(e))return;const a=s?Object.getOwnPropertyNames(e):Object.keys(e),r=a.length;let i;for(n=0;n<r;n++)i=a[n],t.call(null,e[i],i,e)}}function M(e,t){if(p(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,s=n.length;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const O="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,R=e=>!f(e)&&e!==O;const D=(I="undefined"!==typeof Uint8Array&&i(Uint8Array),e=>I&&e instanceof I);var I;const F=d("HTMLFormElement"),z=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),_=d("RegExp"),U=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};L(n,(n,s)=>{let r;!1!==(r=t(n,s,e))&&(a[s]=r||n)}),Object.defineProperties(e,a)};const B=d("AsyncFunction"),V=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],O.addEventListener("message",e=>{let{source:t,data:s}=e;t===O&&s===n&&a.length&&a.shift()()},!1),e=>{a.push(e),O.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,y(O.postMessage)),H="undefined"!==typeof queueMicrotask?queueMicrotask.bind(O):"undefined"!==typeof process&&process.nextTick||V,q={isArray:m,isArrayBuffer:g,isBuffer:p,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||y(e.append)&&("formdata"===(t=c(e))||"object"===t&&y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&g(e.buffer),t},isString:v,isNumber:b,isBoolean:e=>!0===e||!1===e,isObject:x,isPlainObject:w,isEmptyObject:e=>{if(!x(e)||p(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:E,isRequest:A,isResponse:P,isHeaders:T,isUndefined:f,isDate:j,isFile:k,isBlob:N,isRegExp:_,isFunction:y,isStream:e=>x(e)&&y(e.pipe),isURLSearchParams:C,isTypedArray:D,isFileList:S,forEach:L,merge:function e(){const{caseless:t}=R(this)&&this||{},n={},a=(a,s)=>{const r=t&&M(n,s)||s;w(n[r])&&w(a)?n[r]=e(n[r],a):w(a)?n[r]=e({},a):m(a)?n[r]=a.slice():n[r]=a};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&L(arguments[s],a);return n},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return L(t,(t,a)=>{n&&y(t)?e[a]=s(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let s,r,o;const l={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)o=s[r],a&&!a(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==n&&i(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:d,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(m(e))return e;let t=e.length;if(!b(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[o]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:F,hasOwnProperty:z,hasOwnProp:z,reduceDescriptors:U,freezeMethods:e=>{U(e,(t,n)=>{if(y(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];y(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return m(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:M,global:O,isContextDefined:R,isSpecCompliantForm:function(e){return!!(e&&y(e.append)&&"FormData"===e[l]&&e[o])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(x(e)){if(t.indexOf(e)>=0)return;if(p(e))return e;if(!("toJSON"in e)){t[a]=e;const s=m(e)?[]:{};return L(e,(e,t)=>{const r=n(e,a+1);!f(r)&&(s[t]=r)}),t[a]=void 0,s}}return e};return n(e,0)},isAsyncFn:B,isThenable:e=>e&&(x(e)||y(e))&&y(e.then)&&y(e.catch),setImmediate:V,asap:H,isIterable:e=>null!=e&&y(e[o])};function W(e,t,n,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}q.inherits(W,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const G=W.prototype,Q={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Q[e]={value:e}}),Object.defineProperties(W,Q),Object.defineProperty(G,"isAxiosError",{value:!0}),W.from=(e,t,n,a,s,r)=>{const i=Object.create(G);return q.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),W.call(i,e.message,t,n,a,s),i.cause=e,i.name=e.name,r&&Object.assign(i,r),i};const $=W;function J(e){return q.isPlainObject(e)||q.isArray(e)}function K(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function Y(e,t,n){return e?e.concat(t).map(function(e,t){return e=K(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const X=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});const Z=function(e,t,n){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!q.isUndefined(t[e])})).metaTokens,s=n.visitor||c,r=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(q.isDate(e))return e.toISOString();if(q.isBoolean(e))return e.toString();if(!o&&q.isBlob(e))throw new $("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(e)||q.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if(q.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(q.isArray(e)&&function(e){return q.isArray(e)&&!e.some(J)}(e)||(q.isFileList(e)||q.endsWith(n,"[]"))&&(o=q.toArray(e)))return n=K(n),o.forEach(function(e,a){!q.isUndefined(e)&&null!==e&&t.append(!0===i?Y([n],a,r):null===i?n:n+"[]",l(e))}),!1;return!!J(e)||(t.append(Y(s,n,r),l(e)),!1)}const u=[],d=Object.assign(X,{defaultVisitor:c,convertValue:l,isVisitable:J});if(!q.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!q.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+a.join("."));u.push(n),q.forEach(n,function(n,r){!0===(!(q.isUndefined(n)||null===n)&&s.call(t,n,q.isString(r)?r.trim():r,a,d))&&e(n,a?a.concat(r):[r])}),u.pop()}}(e),t};function ee(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function te(e,t){this._pairs=[],e&&Z(e,this,t)}const ne=te.prototype;ne.append=function(e,t){this._pairs.push([e,t])},ne.toString=function(e){const t=e?function(t){return e.call(this,t,ee)}:ee;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const ae=te;function se(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function re(e,t,n){if(!t)return e;const a=n&&n.encode||se;q.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(r=s?s(t,n):q.isURLSearchParams(t)?t.toString():new ae(t,n).toString(a),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const ie=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(t){null!==t&&e(t)})}},oe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var le=n(555);const ce={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ae,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ue="undefined"!==typeof window&&"undefined"!==typeof document,de="object"===typeof navigator&&navigator||void 0,he=ue&&(!de||["ReactNative","NativeScript","NS"].indexOf(de.product)<0),me="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,fe=ue&&window.location.href||"http://localhost",pe=(0,le.A)((0,le.A)({},a),ce);const ge=function(e){function t(e,n,a,s){let r=e[s++];if("__proto__"===r)return!0;const i=Number.isFinite(+r),o=s>=e.length;if(r=!r&&q.isArray(a)?a.length:r,o)return q.hasOwnProp(a,r)?a[r]=[a[r],n]:a[r]=n,!i;a[r]&&q.isObject(a[r])||(a[r]=[]);return t(e,n,a[r],s)&&q.isArray(a[r])&&(a[r]=function(e){const t={},n=Object.keys(e);let a;const s=n.length;let r;for(a=0;a<s;a++)r=n[a],t[r]=e[r];return t}(a[r])),!i}if(q.isFormData(e)&&q.isFunction(e.entries)){const n={};return q.forEachEntry(e,(e,a)=>{t(function(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const ve={transitional:oe,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,s=q.isObject(e);s&&q.isHTMLForm(e)&&(e=new FormData(e));if(q.isFormData(e))return a?JSON.stringify(ge(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Z(e,new pe.classes.URLSearchParams,(0,le.A)({visitor:function(e,t,n,a){return pe.isNode&&q.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Z(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||a?(t.setContentType("application/json",!1),function(e,t,n){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ve.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(s){if(n){if("SyntaxError"===s.name)throw $.from(s,$.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pe.classes.FormData,Blob:pe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{ve.headers[e]={}});const ye=ve,be=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xe=Symbol("internals");function we(e){return e&&String(e).trim().toLowerCase()}function je(e){return!1===e||null==e?e:q.isArray(e)?e.map(je):String(e)}function ke(e,t,n,a,s){return q.isFunction(a)?a.call(this,t,n):(s&&(t=n),q.isString(t)?q.isString(a)?-1!==t.indexOf(a):q.isRegExp(a)?a.test(t):void 0:void 0)}class Ne{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function s(e,t,n){const s=we(t);if(!s)throw new Error("header name must be a non-empty string");const r=q.findKey(a,s);(!r||void 0===a[r]||!0===n||void 0===n&&!1!==a[r])&&(a[r||t]=je(e))}const r=(e,t)=>q.forEach(e,(e,n)=>s(e,n,t));if(q.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(q.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let n,a,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),a=e.substring(s+1).trim(),!n||t[n]&&be[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(q.isObject(e)&&q.isIterable(e)){let n,a,s={};for(const t of e){if(!q.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[a=t[0]]=(n=s[a])?q.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}r(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=we(e)){const n=q.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(q.isFunction(t))return t.call(this,e,n);if(q.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=we(e)){const n=q.findKey(this,e);return!(!n||void 0===this[n]||t&&!ke(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function s(e){if(e=we(e)){const s=q.findKey(n,e);!s||t&&!ke(0,n[s],s,t)||(delete n[s],a=!0)}}return q.isArray(e)?e.forEach(s):s(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const s=t[n];e&&!ke(0,this[s],s,e,!0)||(delete this[s],a=!0)}return a}normalize(e){const t=this,n={};return q.forEach(this,(a,s)=>{const r=q.findKey(n,s);if(r)return t[r]=je(a),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();i!==s&&delete t[s],t[i]=je(a),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return q.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&q.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[xe]=this[xe]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=we(e);t[a]||(!function(e,t){const n=q.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,s){return this[a].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[a]=!0)}return q.isArray(e)?e.forEach(a):a(e),this}}Ne.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(Ne.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),q.freezeMethods(Ne);const Se=Ne;function Ce(e,t){const n=this||ye,a=t||n,s=Se.from(a.headers);let r=a.data;return q.forEach(e,function(e){r=e.call(n,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function Ee(e){return!(!e||!e.__CANCEL__)}function Ae(e,t,n){$.call(this,null==e?"canceled":e,$.ERR_CANCELED,t,n),this.name="CanceledError"}q.inherits(Ae,$,{__CANCEL__:!0});const Pe=Ae;function Te(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new $("Request failed with status code "+n.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Le=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let s,r=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[i];s||(s=l),n[r]=o,a[r]=l;let u=i,d=0;for(;u!==r;)d+=n[u++],u%=e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const Me=function(e,t){let n,a,s=0,r=1e3/t;const i=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=r,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=r?i(l,e):(n=l,a||(a=setTimeout(()=>{a=null,i(n)},r-t)))},()=>n&&i(n)]},Oe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const s=Le(50,250);return Me(n=>{const r=n.loaded,i=n.lengthComputable?n.total:void 0,o=r-a,l=s(o);a=r;e({loaded:r,total:i,progress:i?r/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&r<=i?(i-r)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Re=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},De=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return q.asap(()=>e(...n))},Ie=pe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,pe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(pe.origin),pe.navigator&&/(msie|trident)/i.test(pe.navigator.userAgent)):()=>!0,Fe=pe.hasStandardBrowserEnv?{write(e,t,n,a,s,r){const i=[e+"="+encodeURIComponent(t)];q.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),q.isString(a)&&i.push("path="+a),q.isString(s)&&i.push("domain="+s),!0===r&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ze(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const _e=e=>e instanceof Se?(0,le.A)({},e):e;function Ue(e,t){t=t||{};const n={};function a(e,t,n,a){return q.isPlainObject(e)&&q.isPlainObject(t)?q.merge.call({caseless:a},e,t):q.isPlainObject(t)?q.merge({},t):q.isArray(t)?t.slice():t}function s(e,t,n,s){return q.isUndefined(t)?q.isUndefined(e)?void 0:a(void 0,e,0,s):a(e,t,0,s)}function r(e,t){if(!q.isUndefined(t))return a(void 0,t)}function i(e,t){return q.isUndefined(t)?q.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(n,s,r){return r in t?a(n,s):r in e?a(void 0,n):void 0}const l={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>s(_e(e),_e(t),0,!0)};return q.forEach(Object.keys((0,le.A)((0,le.A)({},e),t)),function(a){const r=l[a]||s,i=r(e[a],t[a],a);q.isUndefined(i)&&r!==o||(n[a]=i)}),n}const Be=e=>{const t=Ue({},e);let n,{data:a,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Se.from(o),t.url=re(ze(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),q.isFormData(a))if(pe.hasStandardBrowserEnv||pe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(pe.hasStandardBrowserEnv&&(s&&q.isFunction(s)&&(s=s(t)),s||!1!==s&&Ie(t.url))){const e=r&&i&&Fe.read(i);e&&o.set(r,e)}return t},Ve="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=Be(e);let s=a.data;const r=Se.from(a.headers).normalize();let i,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:m}=a;function f(){c&&c(),u&&u(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let p=new XMLHttpRequest;function g(){if(!p)return;const a=Se.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Te(function(e){t(e),f()},function(e){n(e),f()},{data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:a,config:e,request:p}),p=null}p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(new $("Request aborted",$.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new $("Network Error",$.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const s=a.transitional||oe;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new $(t,s.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,p)),p=null},void 0===s&&r.setContentType(null),"setRequestHeader"in p&&q.forEach(r.toJSON(),function(e,t){p.setRequestHeader(t,e)}),q.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),d&&"json"!==d&&(p.responseType=a.responseType),m&&([l,u]=Oe(m,!0),p.addEventListener("progress",l)),h&&p.upload&&([o,c]=Oe(h),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{p&&(n(!t||t.type?new Pe(null,e,p):t),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);v&&-1===pe.protocols.indexOf(v)?n(new $("Unsupported protocol "+v+":",$.ERR_BAD_REQUEST,e)):p.send(s||null)})},He=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const s=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof $?t:new Pe(t instanceof Error?t.message:t))}};let r=t&&setTimeout(()=>{r=null,s(new $("timeout ".concat(t," of ms exceeded"),$.ETIMEDOUT))},t);const i=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:o}=a;return o.unsubscribe=()=>q.asap(i),o}};function qe(e,t){this.v=e,this.k=t}function We(e){return function(){return new Ge(e.apply(this,arguments))}}function Ge(e){var t,n;function a(t,n){try{var r=e[t](n),i=r.value,o=i instanceof qe;Promise.resolve(o?i.v:i).then(function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return a(l,n);n=e[l](n).value}s(r.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise(function(r,i){var o={key:e,arg:s,resolve:r,reject:i,next:null};n?n=n.next=o:(t=n=o,a(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function Qe(e){return new qe(e,0)}function $e(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new qe(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function Je(e){var t,n,a,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new Ke(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Ke(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Ke=function(e){this.s=e,this.n=e.next},Ke.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ke(e)}Ge.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ge.prototype.next=function(e){return this._invoke("next",e)},Ge.prototype.throw=function(e){return this._invoke("throw",e)},Ge.prototype.return=function(e){return this._invoke("return",e)};const Ye=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,s=0;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},Xe=function(){var e=We(function*(e,t){var n,a=!1,s=!1;try{for(var r,i=Je(Ze(e));a=!(r=yield Qe(i.next())).done;a=!1){const e=r.value;yield*$e(Je(Ye(e,t)))}}catch(o){s=!0,n=o}finally{try{a&&null!=i.return&&(yield Qe(i.return()))}finally{if(s)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Ze=function(){var e=We(function*(e){if(e[Symbol.asyncIterator])return void(yield*$e(Je(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Qe(t.read());if(e)break;yield n}}finally{yield Qe(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),et=(e,t,n,a)=>{const s=Xe(e,t);let r,i=0,o=e=>{r||(r=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await s.next();if(t)return o(),void e.close();let r=a.byteLength;if(n){let e=i+=r;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},tt="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,nt=tt&&"function"===typeof ReadableStream,at=tt&&("function"===typeof TextEncoder?(st=new TextEncoder,e=>st.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var st;const rt=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(s){return!1}},it=nt&&rt(()=>{let e=!1;const t=new Request(pe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ot=nt&&rt(()=>q.isReadableStream(new Response("").body)),lt={stream:ot&&(e=>e.body)};var ct;tt&&(ct=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!lt[e]&&(lt[e]=q.isFunction(ct[e])?t=>t[e]():(t,n)=>{throw new $("Response type '".concat(e,"' is not supported"),$.ERR_NOT_SUPPORT,n)})}));const ut=async(e,t)=>{const n=q.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(q.isBlob(e))return e.size;if(q.isSpecCompliantForm(e)){const t=new Request(pe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return q.isArrayBufferView(e)||q.isArrayBuffer(e)?e.byteLength:(q.isURLSearchParams(e)&&(e+=""),q.isString(e)?(await at(e)).byteLength:void 0)})(t):n},dt={http:null,xhr:Ve,fetch:tt&&(async e=>{let{url:t,method:n,data:a,signal:s,cancelToken:r,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Be(e);c=c?(c+"").toLowerCase():"text";let m,f=He([s,r&&r.toAbortSignal()],i);const p=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&it&&"get"!==n&&"head"!==n&&0!==(g=await ut(u,a))){let e,n=new Request(t,{method:"POST",body:a,duplex:"half"});if(q.isFormData(a)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Re(g,Oe(De(l)));a=et(n.body,65536,e,t)}}q.isString(d)||(d=d?"include":"omit");const s="credentials"in Request.prototype;m=new Request(t,(0,le.A)((0,le.A)({},h),{},{signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:s?d:void 0}));let r=await fetch(m,h);const i=ot&&("stream"===c||"response"===c);if(ot&&(o||i&&p)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=r[t]});const t=q.toFiniteNumber(r.headers.get("content-length")),[n,a]=o&&Re(t,Oe(De(o),!0))||[];r=new Response(et(r.body,65536,n,()=>{a&&a(),p&&p()}),e)}c=c||"text";let v=await lt[q.findKey(lt,c)||"text"](r,e);return!i&&p&&p(),await new Promise((t,n)=>{Te(t,n,{data:v,headers:Se.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:m})})}catch(v){if(p&&p(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new $("Network Error",$.ERR_NETWORK,e,m),{cause:v.cause||v});throw $.from(v,v&&v.code,e,m)}})};q.forEach(dt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const ht=e=>"- ".concat(e),mt=e=>q.isFunction(e)||null===e||!1===e,ft=e=>{e=q.isArray(e)?e:[e];const{length:t}=e;let n,a;const s={};for(let r=0;r<t;r++){let t;if(n=e[r],a=n,!mt(n)&&(a=dt[(t=String(n)).toLowerCase()],void 0===a))throw new $("Unknown adapter '".concat(t,"'"));if(a)break;s[t||"#"+r]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(ht).join("\n"):" "+ht(e[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return a};function pt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pe(null,e)}function gt(e){pt(e),e.headers=Se.from(e.headers),e.data=Ce.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ft(e.adapter||ye.adapter)(e).then(function(t){return pt(e),t.data=Ce.call(e,e.transformResponse,t),t.headers=Se.from(t.headers),t},function(t){return Ee(t)||(pt(e),t&&t.response&&(t.response.data=Ce.call(e,e.transformResponse,t.response),t.response.headers=Se.from(t.response.headers))),Promise.reject(t)})}const vt="1.11.0",yt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const bt={};yt.transitional=function(e,t,n){function a(e,t){return"[Axios v"+vt+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,r)=>{if(!1===e)throw new $(a(s," has been removed"+(t?" in "+t:"")),$.ERR_DEPRECATED);return t&&!bt[s]&&(bt[s]=!0,console.warn(a(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,r)}},yt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const xt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const r=a[s],i=t[r];if(i){const t=e[r],n=void 0===t||i(t,r,e);if(!0!==n)throw new $("option "+r+" must be "+n,$.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new $("Unknown option "+r,$.ERR_BAD_OPTION)}},validators:yt},wt=xt.validators;class jt{constructor(e){this.defaults=e||{},this.interceptors={request:new ie,response:new ie}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(a){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ue(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:s}=t;void 0!==n&&xt.assertOptions(n,{silentJSONParsing:wt.transitional(wt.boolean),forcedJSONParsing:wt.transitional(wt.boolean),clarifyTimeoutError:wt.transitional(wt.boolean)},!1),null!=a&&(q.isFunction(a)?t.paramsSerializer={serialize:a}:xt.assertOptions(a,{encode:wt.function,serialize:wt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),xt.assertOptions(t,{baseUrl:wt.spelling("baseURL"),withXsrfToken:wt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=s&&q.merge(s.common,s[t.method]);s&&q.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=Se.concat(r,s);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[gt.bind(this),void 0];for(e.unshift(...i),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let h=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=gt.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return re(ze((e=Ue(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(e){jt.prototype[e]=function(t,n){return this.request(Ue(n||{},{method:e,url:t,data:(n||{}).data}))}}),q.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,s){return this.request(Ue(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}jt.prototype[e]=t(),jt.prototype[e+"Form"]=t(!0)});const kt=jt;class Nt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,s){n.reason||(n.reason=new Pe(e,a,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Nt(function(t){e=t}),cancel:e}}}const St=Nt;const Ct={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ct).forEach(e=>{let[t,n]=e;Ct[n]=t});const Et=Ct;const At=function e(t){const n=new kt(t),a=s(kt.prototype.request,n);return q.extend(a,kt.prototype,n,{allOwnKeys:!0}),q.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(Ue(t,n))},a}(ye);At.Axios=kt,At.CanceledError=Pe,At.CancelToken=St,At.isCancel=Ee,At.VERSION=vt,At.toFormData=Z,At.AxiosError=$,At.Cancel=At.CanceledError,At.all=function(e){return Promise.all(e)},At.spread=function(e){return function(t){return e.apply(null,t)}},At.isAxiosError=function(e){return q.isObject(e)&&!0===e.isAxiosError},At.mergeConfig=Ue,At.AxiosHeaders=Se,At.formToJSON=e=>ge(q.isHTMLForm(e)?new FormData(e):e),At.getAdapter=ft,At.HttpStatusCode=Et,At.default=At;const Pt=At},916:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(e,t,a){var s=null;if(void 0!==a&&(s=""+a),void 0!==t.key&&(s=""+t.key),"key"in t)for(var r in a={},t)"key"!==r&&(a[r]=t[r]);else a=t;return t=a.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=s,t.jsxs=s},950:(e,t,n)=>{e.exports=n(983)},983:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,p(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function N(e,t,a,s,r,i){return a=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:i}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(){}function P(e,t,s,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case a:u=!0;break;case h:return P((u=e._init)(e._payload),t,s,r,i)}}if(u)return i=i(e),u=""===r?"."+E(e,0):r,w(i)?(s="",null!=u&&(s=u.replace(C,"$&/")+"/"),P(i,t,s,"",function(e){return e})):null!=i&&(S(i)&&(l=i,c=s+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+u,i=N(l.type,c,void 0,0,0,l.props)),t.push(i)),1;u=0;var d,f=""===r?".":r+":";if(w(e))for(var p=0;p<e.length;p++)u+=P(r=e[p],t,s,o=f+E(r,p),i);else if("function"===typeof(p=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=m&&d[m]||d["@@iterator"])?d:null))for(e=p.call(e),p=0;!(r=e.next()).done;)u+=P(r=r.value,t,s,o=f+E(r,p++),i);else if("object"===o){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,n){if(null==e)return e;var a=[],s=0;return P(e,a,"","",function(e){return t.call(n,e,s++)}),a}function L(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=r,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key;if(null!=t)for(r in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!k.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(a[r]=t[r]);var r=arguments.length-2;if(1===r)a.children=n;else if(1<r){for(var i=Array(r),o=0;o<r;o++)i[o]=arguments[o+2];a.children=i}return N(e.type,s,void 0,0,0,a)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var a,s={},r=null;if(null!=t)for(a in void 0!==t.key&&(r=""+t.key),t)k.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(s[a]=t[a]);var i=arguments.length-2;if(1===i)s.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===s[a]&&(s[a]=i[a]);return N(e,r,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var a=e(),s=j.S;null!==s&&s(n,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(O,M)}catch(r){M(r)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var a=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.1"}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.m=e,n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.u=e=>"static/js/"+e+".86ac5b8e.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="quibish:";n.l=(a,s,r,i)=>{if(e[a])e[a].push(s);else{var o,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+r){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+r),o.src=a),e[a]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(m);var s=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(n)),t)return t(n)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/quibish/",(()=>{var e={792:0};n.f.j=(t,a)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)a.push(s[2]);else{var r=new Promise((n,a)=>s=e[t]=[n,a]);a.push(s[2]=r);var i=n.p+n.u(t),o=new Error;n.l(i,a=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var r=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",o.name="ChunkLoadError",o.type=r,o.request=i,s[1](o)}},"chunk-"+t,t)}};var t=(t,a)=>{var s,r,i=a[0],o=a[1],l=a[2],c=0;if(i.some(t=>0!==e[t])){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(a);c<i.length;c++)r=i[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},a=self.webpackChunkquibish=self.webpackChunkquibish||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n(950),s=n(352),r=n(555);const i={PROFILE:"userProfile",PHOTOS:"userPhotos",VIDEOS:"userVideos",GIFS:"userGifs",AUDIO:"userAudio",FILES:"userFiles",FAVORITES:"userFavorites",MEDIA_CACHE:"mediaCache"},o="http://localhost:5001/api",l=3e4,c=()=>new Promise((e,t)=>{const n=indexedDB.open("quibishUserData",2);n.onerror=e=>{console.error("Error opening IndexedDB:",e.target.error),t(e.target.error)},n.onsuccess=t=>{const n=t.target.result;e(n)},n.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(i.PROFILE)||t.createObjectStore(i.PROFILE,{keyPath:"username"}),t.objectStoreNames.contains(i.PHOTOS)||t.createObjectStore(i.PHOTOS,{keyPath:"id"}),t.objectStoreNames.contains(i.VIDEOS)||t.createObjectStore(i.VIDEOS,{keyPath:"id"}),t.objectStoreNames.contains(i.GIFS)||t.createObjectStore(i.GIFS,{keyPath:"id"}),t.objectStoreNames.contains(i.AUDIO)||t.createObjectStore(i.AUDIO,{keyPath:"id"}),t.objectStoreNames.contains(i.FILES)||t.createObjectStore(i.FILES,{keyPath:"id"}),t.objectStoreNames.contains(i.FAVORITES)||t.createObjectStore(i.FAVORITES,{keyPath:"id"}),t.objectStoreNames.contains(i.MEDIA_CACHE)||t.createObjectStore(i.MEDIA_CACHE,{keyPath:"id"})}}),u=()=>{const e=localStorage.getItem("authToken")||localStorage.getItem("token");return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},d=()=>{const e=localStorage.getItem("authToken")||localStorage.getItem("token");return{Authorization:"Bearer ".concat(e)}},h=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(o).concat(e),a=(0,r.A)({timeout:l},t);try{const e=await fetch(n,a);if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.error||"API call failed: ".concat(e.status))}return await e.json()}catch(s){throw console.error("API call to ".concat(e," failed:"),s),s}},m=async e=>await h("/users/profile",{method:"PUT",headers:u(),body:JSON.stringify(e)}),f=async e=>{try{localStorage.setItem("userProfile",JSON.stringify({username:e.username,displayName:e.displayName,avatar:e.avatarUrl,lastUpdated:(new Date).toISOString()}));const t=await c(),n=t.transaction([i.PROFILE],"readwrite").objectStore(i.PROFILE),a=(0,r.A)((0,r.A)({},e),{},{lastUpdated:(new Date).toISOString()}),s=n.put(a);return new Promise((e,t)=>{s.onsuccess=()=>e(a),s.onerror=e=>t(e.target.error)})}catch(t){throw console.error("Error saving user profile:",t),t}},p=async e=>{try{const t=localStorage.getItem("userProfile");if(t){const n=JSON.parse(t);if(n.username===e)return n}const n=(await c()).transaction([i.PROFILE],"readonly"),a=n.objectStore(i.PROFILE).get(e);return new Promise((e,t)=>{a.onsuccess=t=>{const n=t.target.result;n&&localStorage.setItem("userProfile",JSON.stringify({username:n.username,displayName:n.displayName,avatar:n.avatarUrl,lastUpdated:n.lastUpdated})),e(n||null)},a.onerror=e=>t(e.target.error)})}catch(t){throw console.error("Error getting user profile:",t),t}},g=async e=>{try{let t;switch(e.toLowerCase()){case"photo":t=i.PHOTOS;break;case"video":t=i.VIDEOS;break;case"audio":case"voice":t=i.AUDIO;break;default:t=i.FILES}const n=(await c()).transaction([t],"readonly"),a=n.objectStore(t).count();a.onsuccess=()=>{const t=a.result,n=localStorage.getItem("mediaItemCounts")||"{}",s=JSON.parse(n);s[e.toLowerCase()]=t,localStorage.setItem("mediaItemCounts",JSON.stringify(s))}}catch(t){console.error("Error updating media item count:",t)}},v={saveUserProfile:f,getUserProfile:p,saveMediaItem:async(e,t)=>{try{let n;switch(e.toLowerCase()){case"photo":n=i.PHOTOS;break;case"video":n=i.VIDEOS;break;case"audio":case"voice":n=i.AUDIO;break;default:n=i.FILES}const a=(0,r.A)((0,r.A)({},t),{},{id:t.id||"".concat(e,"_").concat(Date.now()),timestamp:t.timestamp||(new Date).toISOString(),type:e.toLowerCase()}),s=(await c()).transaction([n],"readwrite"),o=s.objectStore(n).put(a);return new Promise((t,n)=>{o.onsuccess=()=>{g(e),t(a)},o.onerror=e=>n(e.target.error)})}catch(n){throw console.error("Error saving ".concat(e,":"),n),n}},getMediaItems:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n;switch(e.toLowerCase()){case"photo":n=i.PHOTOS;break;case"video":n=i.VIDEOS;break;case"audio":case"voice":n=i.AUDIO;break;default:n=i.FILES}const a=(await c()).transaction([n],"readonly"),s=a.objectStore(n).getAll();return new Promise((e,n)=>{s.onsuccess=n=>{let a=n.target.result||[];if(a=t.sortBy?a.sort((e,n)=>"asc"===t.sortDirection?e[t.sortBy]>n[t.sortBy]?1:-1:e[t.sortBy]<n[t.sortBy]?1:-1):a.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)),t.offset||t.limit){const e=t.offset||0,n=t.limit||a.length;a=a.slice(e,e+n)}e(a)},s.onerror=e=>n(e.target.error)})}catch(n){throw console.error("Error getting ".concat(e," items:"),n),n}},deleteMediaItem:async(e,t)=>{try{let n;switch(e.toLowerCase()){case"photo":n=i.PHOTOS;break;case"video":n=i.VIDEOS;break;case"audio":case"voice":n=i.AUDIO;break;default:n=i.FILES}const a=(await c()).transaction([n],"readwrite"),s=a.objectStore(n).delete(t);return new Promise((t,n)=>{s.onsuccess=()=>{g(e),t(!0)},s.onerror=e=>n(e.target.error)})}catch(n){throw console.error("Error deleting ".concat(e," item:"),n),n}},toggleFavorite:async e=>{try{const t=await c(),n=t.transaction([i.FAVORITES],"readwrite").objectStore(i.FAVORITES),a=n.get(e.id);return new Promise((t,s)=>{a.onsuccess=async a=>{if(a.target.result){const a=n.delete(e.id);a.onsuccess=()=>{t((0,r.A)((0,r.A)({},e),{},{isFavorite:!1}))},a.onerror=e=>s(e.target.error)}else{const a=(0,r.A)((0,r.A)({},e),{},{isFavorite:!0,favoritedAt:(new Date).toISOString()}),i=n.put(a);i.onsuccess=()=>{t(a)},i.onerror=e=>s(e.target.error)}},a.onerror=e=>s(e.target.error)})}catch(t){throw console.error("Error toggling favorite:",t),t}},getFavorites:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=(await c()).transaction([i.FAVORITES],"readonly"),n=t.objectStore(i.FAVORITES).getAll();return new Promise((t,a)=>{n.onsuccess=n=>{let a=n.target.result||[];if(a=e.sortBy?a.sort((t,n)=>"asc"===e.sortDirection?t[e.sortBy]>n[e.sortBy]?1:-1:t[e.sortBy]<n[e.sortBy]?1:-1):a.sort((e,t)=>new Date(t.favoritedAt)-new Date(e.favoritedAt)),e.offset||e.limit){const t=e.offset||0,n=e.limit||a.length;a=a.slice(t,t+n)}t(a)},n.onerror=e=>a(e.target.error)})}catch(t){throw console.error("Error getting favorites:",t),t}},isFavorited:async e=>{try{const t=(await c()).transaction([i.FAVORITES],"readonly"),n=t.objectStore(i.FAVORITES).get(e);return new Promise((e,t)=>{n.onsuccess=t=>{e(!!t.target.result)},n.onerror=e=>t(e.target.error)})}catch(t){throw console.error("Error checking if item is favorited:",t),t}},getStorageUsage:async()=>{try{if("storage"in navigator&&"estimate"in navigator.storage){const e=await navigator.storage.estimate();return{quota:e.quota,usage:e.usage,percentUsed:e.usage/e.quota*100,usageDetails:e.usageDetails}}{await c();const e={photos:0,videos:0,audio:0,files:0},t=localStorage.getItem("mediaItemCounts")||"{}";return{counts:JSON.parse(t),usage:e,estimatedSize:"Not available",lastUpdated:(new Date).toISOString()}}}catch(e){throw console.error("Error getting storage usage:",e),e}},clearAllUserData:async()=>{try{const e=await c(),t=Object.values(i),n=e.transaction(t,"readwrite"),a=t.map(e=>new Promise((t,a)=>{const s=n.objectStore(e).clear();s.onsuccess=()=>t(),s.onerror=e=>a(e.target.error)}));return await Promise.all(a),localStorage.removeItem("userProfile"),localStorage.removeItem("mediaItemCounts"),!0}catch(e){throw console.error("Error clearing user data:",e),e}},fetchUserProfile:async e=>{try{return await new Promise(e=>setTimeout(e,1e3)),{userId:e,username:"user".concat(e),displayName:"User ".concat(e),bio:"This is the bio for user ".concat(e,". They are a valued member of our community."),avatarUrl:"https://randomuser.me/api/portraits/".concat(e%2===0?"men":"women","/").concat(e%10,".jpg"),uploadCount:Math.floor(50*Math.random()),connectionCount:Math.floor(100*Math.random()),activityScore:Math.floor(1e3*Math.random()),joinDate:new Date(Date.now()-1e10*Math.random()).toISOString()}}catch(t){throw console.error("Error fetching user profile for user ".concat(e,":"),t),t}},fetchUserUploads:async e=>{try{await new Promise(e=>setTimeout(e,800));const t=["image","video","document","gif"],n=10+Math.floor(10*Math.random()),a=[];for(let s=0;s<n;s++){const n=t[Math.floor(Math.random()*t.length)],r=new Date(Date.now()-5e9*Math.random()).toISOString();a.push({id:"upload_".concat(e,"_").concat(s),name:"".concat(n,"_file_").concat(s,".").concat("image"===n?"jpg":"video"===n?"mp4":"gif"===n?"gif":"pdf"),type:n,size:Math.floor(1e7*Math.random()),date:r,url:"image"===n?"https://picsum.photos/seed/".concat(e,"_").concat(s,"/300/300"):null,thumbnailUrl:"video"===n?"https://picsum.photos/seed/".concat(e,"_").concat(s,"_thumb/300/300"):null})}return a.sort((e,t)=>new Date(t.date)-new Date(e.date))}catch(t){throw console.error("Error fetching uploads for user ".concat(e,":"),t),t}},fetchUserViewHistory:async e=>{try{await new Promise(e=>setTimeout(e,600));const t=["image","video","document","gif","article","profile"],n=8+Math.floor(12*Math.random()),a=[];for(let s=0;s<n;s++){const n=t[Math.floor(Math.random()*t.length)],r=new Date(Date.now()-3e9*Math.random()).toISOString();a.push({id:"history_".concat(e,"_").concat(s),title:"profile"===n?"User Profile: user".concat(Math.floor(100*Math.random())):"".concat(n.charAt(0).toUpperCase()+n.slice(1)," ").concat(Math.floor(1e3*Math.random())),contentType:n,contentId:"content_".concat(Math.floor(1e4*Math.random())),viewedAt:r})}return a.sort((e,t)=>new Date(t.viewedAt)-new Date(e.viewedAt))}catch(t){throw console.error("Error fetching view history for user ".concat(e,":"),t),t}},fetchUserAnalytics:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"month";try{await new Promise(e=>setTimeout(e,1200));const n="week"===t?.3:"month"===t?1:"quarter"===t?3:12;return{profileViews:Math.floor((200+800*Math.random())*n),monthlyViews:Math.floor((50+200*Math.random())*n),topViewers:Array.from({length:5},(e,t)=>({id:"viewer_".concat(t),name:"Viewer ".concat(t+1),avatar:"https://randomuser.me/api/portraits/".concat(t%2===0?"men":"women","/").concat(t+5,".jpg"),viewCount:Math.floor((5+20*Math.random())*n)})).sort((e,t)=>t.viewCount-e.viewCount),uploadStats:{totalUploads:Math.floor((10+40*Math.random())*n),totalViews:Math.floor((500+2e3*Math.random())*n),totalLikes:Math.floor((100+500*Math.random())*n),mostViewedContent:{name:"summer_vacation_2024.jpg",views:Math.floor((50+200*Math.random())*n),thumbnail:"https://picsum.photos/seed/".concat(e,"_popular/300/300")}},activityStats:{messagesCount:Math.floor((100+400*Math.random())*n),reactionsGiven:Math.floor((50+200*Math.random())*n),connectionsCount:Math.floor(20+80*Math.random()),joinDate:new Date(Date.now()-31536e6*Math.random()).toISOString()}}}catch(n){throw console.error("Error fetching analytics for user ".concat(e,":"),n),n}},updateUserProfile:async(e,t)=>{try{if(localStorage.getItem("token"))try{const n=await m(t);return await f((0,r.A)((0,r.A)({},n),{},{userId:e})),n}catch(n){console.warn("API update failed, falling back to local storage:",n)}const a=await p(t.username||e),s=(0,r.A)((0,r.A)((0,r.A)({},a),t),{},{userId:e,lastUpdated:(new Date).toISOString()});return await f(s),s}catch(a){throw console.error("Error updating profile for user ".concat(e,":"),a),a}},api:{getUserProfile:async()=>await h("/users/profile",{method:"GET",headers:u()}),updateUserProfile:m,updateUserEmail:async e=>await h("/users/email",{method:"PUT",headers:u(),body:JSON.stringify({email:e})}),uploadAvatar:async e=>{const t=new FormData;return t.append("avatar",e),await h("/users/avatar",{method:"POST",headers:d(),body:t})},uploadMedia:async e=>{const t=new FormData;return e.forEach(e=>t.append("media",e)),await h("/upload/media",{method:"POST",headers:d(),body:t})},getUserMedia:async()=>await h("/upload/media",{method:"GET",headers:u()}),deleteMedia:async e=>await h("/upload/media/".concat(e),{method:"DELETE",headers:u()}),setupTwoFactor:async()=>{try{const e=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),t=await fetch("".concat(o,"/auth/2fa/setup"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}),n=await t.json();if(!t.ok)throw new Error(n.error||"Failed to setup 2FA");return n}catch(e){throw console.error("Setup 2FA error:",e),e}},verifyTwoFactorSetup:async e=>{try{const t=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),n=await fetch("".concat(o,"/auth/2fa/verify-setup"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({token:e})}),a=await n.json();if(!n.ok)throw new Error(a.error||"Failed to verify 2FA setup");return a}catch(t){throw console.error("Verify 2FA setup error:",t),t}},verifyTwoFactor:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const a=await fetch("".concat(o,"/auth/2fa/verify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,token:t,isBackupCode:n})}),s=await a.json();if(!a.ok)throw new Error(s.error||"Failed to verify 2FA");return s}catch(a){throw console.error("Verify 2FA error:",a),a}},completeTwoFactorLogin:async e=>{try{const t=await fetch("".concat(o,"/auth/complete-login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})}),n=await t.json();if(!t.ok)throw new Error(n.error||"Failed to complete login");return n}catch(t){throw console.error("Complete 2FA login error:",t),t}},disableTwoFactor:async(e,t)=>{try{const n=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),a=await fetch("".concat(o,"/auth/2fa/disable"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({password:e,token:t})}),s=await a.json();if(!a.ok)throw new Error(s.error||"Failed to disable 2FA");return s}catch(n){throw console.error("Disable 2FA error:",n),n}},getTwoFactorStatus:async()=>{try{const e=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),t=await fetch("".concat(o,"/auth/2fa/status"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}),n=await t.json();if(!t.ok)throw new Error(n.error||"Failed to get 2FA status");return n}catch(e){throw console.error("Get 2FA status error:",e),e}},generateBackupCodes:async()=>{try{const e=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),t=await fetch("".concat(o,"/auth/2fa/backup-codes"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}),n=await t.json();if(!t.ok)throw new Error(n.error||"Failed to generate backup codes");return n}catch(e){throw console.error("Generate backup codes error:",e),e}}},utils:{formatFileSize:e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},validateFile:e=>{if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","video/mp4","video/webm","video/ogg","video/avi","video/mov"].includes(e.type))return{valid:!1,error:"Invalid file type. Only images and videos are allowed."};const t=e.type.startsWith("video/")?52428800:10485760;if(e.size>t){const t=e.type.startsWith("video/")?"50MB":"10MB";return{valid:!1,error:"File too large. Maximum size is ".concat(t,".")}}return{valid:!0}},createThumbnail:e=>new Promise(t=>{if(e.type.startsWith("image/")){const n=new FileReader;n.onload=e=>t(e.target.result),n.readAsDataURL(e)}else if(e.type.startsWith("video/")){const n=document.createElement("video"),a=document.createElement("canvas"),s=a.getContext("2d");n.onloadedmetadata=()=>{a.width=200,a.height=n.videoHeight/n.videoWidth*200,n.currentTime=1},n.onseeked=()=>{s.drawImage(n,0,0,a.width,a.height),t(a.toDataURL()),URL.revokeObjectURL(n.src)},n.src=URL.createObjectURL(e)}else t(null)})}};var y=n(414);const b=e=>{var t,n,s,i,o,l;let{userProfile:c,onClose:u,onSave:d}=e;const[h,m]=(0,a.useState)({name:(null===c||void 0===c?void 0:c.name)||"",displayName:(null===c||void 0===c?void 0:c.displayName)||"",bio:(null===c||void 0===c?void 0:c.bio)||"",phone:(null===c||void 0===c?void 0:c.phone)||"",location:(null===c||void 0===c?void 0:c.location)||"",company:(null===c||void 0===c?void 0:c.company)||"",jobTitle:(null===c||void 0===c?void 0:c.jobTitle)||"",website:(null===c||void 0===c?void 0:c.website)||"",statusMessage:(null===c||void 0===c?void 0:c.statusMessage)||"",socialLinks:{twitter:(null===c||void 0===c||null===(t=c.socialLinks)||void 0===t?void 0:t.twitter)||"",linkedin:(null===c||void 0===c||null===(n=c.socialLinks)||void 0===n?void 0:n.linkedin)||"",github:(null===c||void 0===c||null===(s=c.socialLinks)||void 0===s?void 0:s.github)||"",instagram:(null===c||void 0===c||null===(i=c.socialLinks)||void 0===i?void 0:i.instagram)||"",facebook:(null===c||void 0===c||null===(o=c.socialLinks)||void 0===o?void 0:o.facebook)||"",youtube:(null===c||void 0===c||null===(l=c.socialLinks)||void 0===l?void 0:l.youtube)||""}}),[f,p]=(0,a.useState)((null===c||void 0===c?void 0:c.avatar)||null),[g,b]=(0,a.useState)(null),[x,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)({}),[N,S]=(0,a.useState)(!1),C=(0,a.useRef)(null),E=(e,t)=>{if(e.includes(".")){const[n,a]=e.split(".");m(e=>(0,r.A)((0,r.A)({},e),{},{[n]:(0,r.A)((0,r.A)({},e[n]),{},{[a]:t})}))}else m(n=>(0,r.A)((0,r.A)({},n),{},{[e]:t}));j[e]&&k(t=>(0,r.A)((0,r.A)({},t),{},{[e]:null}))},A=(e,t)=>{const n={email:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||!e,website:e=>/^https?:\/\/.+\..+/.test(e)||!e,phone:e=>/^[\d\s\-+()]+$/.test(e)||!e,"socialLinks.twitter":e=>/^@?[\w]+$/.test(e)||!e,"socialLinks.linkedin":e=>/^[\w-]+$/.test(e)||!e,"socialLinks.github":e=>/^[\w-]+$/.test(e)||!e,"socialLinks.instagram":e=>/^@?[\w.]+$/.test(e)||!e};return!n[e]||n[e](t)},P=(e,t)=>{A(e,t)||k(t=>(0,r.A)((0,r.A)({},t),{},{[e]:"Invalid format"}))},T=(0,a.useCallback)(e=>{if(e&&e.type.startsWith("image/")){const t=new FileReader;t.onload=t=>{p(t.target.result),b(e)},t.readAsDataURL(e)}},[]),L=(0,a.useCallback)(e=>{e.preventDefault(),S(!0)},[]),M=(0,a.useCallback)(e=>{e.preventDefault(),S(!1)},[]),O=(0,a.useCallback)(e=>{e.preventDefault(),S(!1);const t=e.dataTransfer.files;t.length>0&&T(t[0])},[T]);return(0,y.jsx)("div",{className:"edit-profile-modal-overlay",onClick:u,children:(0,y.jsxs)("div",{className:"edit-profile-modal",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"edit-profile-header",children:[(0,y.jsx)("h2",{children:"Edit Profile"}),(0,y.jsx)("button",{className:"close-btn",onClick:u,children:"\xd7"})]}),(0,y.jsxs)("div",{className:"edit-profile-content",children:[(0,y.jsxs)("div",{className:"avatar-section",children:[(0,y.jsx)("div",{className:"avatar-upload-area ".concat(N?"dragging":""),onDragOver:L,onDragLeave:M,onDrop:O,onClick:()=>{var e;return null===(e=C.current)||void 0===e?void 0:e.click()},children:f?(0,y.jsx)("img",{src:f,alt:"Avatar preview",className:"avatar-preview"}):(0,y.jsxs)("div",{className:"avatar-placeholder",children:[(0,y.jsx)("span",{className:"avatar-icon",children:"\ud83d\udcf7"}),(0,y.jsx)("span",{children:"Drop image or click to upload"})]})}),(0,y.jsx)("input",{ref:C,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&T(t)},style:{display:"none"}})]}),(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Basic Information"}),(0,y.jsxs)("div",{className:"form-row",children:[(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Full Name"}),(0,y.jsx)("input",{type:"text",value:h.name,onChange:e=>E("name",e.target.value),placeholder:"Your full name"})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Display Name"}),(0,y.jsx)("input",{type:"text",value:h.displayName,onChange:e=>E("displayName",e.target.value),placeholder:"How others see you"})]})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Bio"}),(0,y.jsx)("textarea",{value:h.bio,onChange:e=>E("bio",e.target.value),placeholder:"Tell us about yourself...",rows:"3",maxLength:"500"}),(0,y.jsxs)("span",{className:"char-count",children:[h.bio.length,"/500"]})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Status Message"}),(0,y.jsx)("input",{type:"text",value:h.statusMessage,onChange:e=>E("statusMessage",e.target.value),placeholder:"What's on your mind?",maxLength:"100"})]})]}),(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Contact Information"}),(0,y.jsxs)("div",{className:"form-row",children:[(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Phone"}),(0,y.jsx)("input",{type:"tel",value:h.phone,onChange:e=>E("phone",e.target.value),onBlur:e=>P("phone",e.target.value),placeholder:"+1 (555) 123-4567",className:j.phone?"error":""}),j.phone&&(0,y.jsx)("span",{className:"error-text",children:j.phone})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Location"}),(0,y.jsx)("input",{type:"text",value:h.location,onChange:e=>E("location",e.target.value),placeholder:"City, Country"})]})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Website"}),(0,y.jsx)("input",{type:"url",value:h.website,onChange:e=>E("website",e.target.value),onBlur:e=>P("website",e.target.value),placeholder:"https://yourwebsite.com",className:j.website?"error":""}),j.website&&(0,y.jsx)("span",{className:"error-text",children:j.website})]})]}),(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Professional Information"}),(0,y.jsxs)("div",{className:"form-row",children:[(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Company"}),(0,y.jsx)("input",{type:"text",value:h.company,onChange:e=>E("company",e.target.value),placeholder:"Your company"})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Job Title"}),(0,y.jsx)("input",{type:"text",value:h.jobTitle,onChange:e=>E("jobTitle",e.target.value),placeholder:"Your role"})]})]})]}),(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Social Media"}),(0,y.jsx)("div",{className:"social-links-grid",children:[{key:"twitter",icon:"\ud83d\udc26",label:"Twitter",placeholder:"@username"},{key:"linkedin",icon:"\ud83d\udcbc",label:"LinkedIn",placeholder:"username"},{key:"github",icon:"\ud83d\udc19",label:"GitHub",placeholder:"username"},{key:"instagram",icon:"\ud83d\udcf7",label:"Instagram",placeholder:"@username"},{key:"facebook",icon:"\ud83d\udc64",label:"Facebook",placeholder:"username"},{key:"youtube",icon:"\ud83d\udcfa",label:"YouTube",placeholder:"channel-name"}].map(e=>(0,y.jsxs)("div",{className:"form-group social-input",children:[(0,y.jsxs)("label",{children:[(0,y.jsx)("span",{className:"social-icon",children:e.icon}),e.label]}),(0,y.jsx)("input",{type:"text",value:h.socialLinks[e.key],onChange:t=>E("socialLinks.".concat(e.key),t.target.value),onBlur:t=>P("socialLinks.".concat(e.key),t.target.value),placeholder:e.placeholder,className:j["socialLinks.".concat(e.key)]?"error":""}),j["socialLinks.".concat(e.key)]&&(0,y.jsx)("span",{className:"error-text",children:j["socialLinks.".concat(e.key)]})]},e.key))})]}),j.general&&(0,y.jsx)("div",{className:"error-message",children:j.general})]}),(0,y.jsxs)("div",{className:"edit-profile-footer",children:[(0,y.jsx)("button",{className:"cancel-btn",onClick:u,disabled:x,children:"Cancel"}),(0,y.jsx)("button",{className:"save-btn",onClick:async()=>{w(!0);try{const t={};if(Object.keys(h).forEach(e=>{"object"===typeof h[e]?Object.keys(h[e]).forEach(n=>{const a="".concat(e,".").concat(n);A(a,h[e][n])||(t[a]="Invalid format")}):A(e,h[e])||(t[e]="Invalid format")}),Object.keys(t).length>0)return k(t),void w(!1);let n=null===c||void 0===c?void 0:c.avatar;if(g)try{const e=await v.api.uploadAvatar(g);n=e.avatarUrl,console.log("\u2705 Avatar uploaded successfully in EditProfileModal:",e)}catch(e){console.error("\u274c Avatar upload failed in EditProfileModal:",e)}const a=(0,r.A)((0,r.A)({},h),{},{avatar:n});await v.updateUserProfile(c.id,a),d(a),u()}catch(t){console.error("Error saving profile:",t),k({general:"Failed to save profile. Please try again."})}finally{w(!1)}},disabled:x,children:x?"Saving...":"Save Changes"})]})]})})},x=e=>{var t,n,s,i,o,l,c,u,d,h,m,f,p,g,b,x,w,j,k,N,S,C;let{userProfile:E,onClose:A,onSave:P}=e;const[T,L]=(0,a.useState)({profileVisibility:(null===E||void 0===E||null===(t=E.privacy)||void 0===t?void 0:t.profileVisibility)||"public",lastSeenVisibility:(null===E||void 0===E||null===(n=E.privacy)||void 0===n?void 0:n.lastSeenVisibility)||"everyone",onlineStatusVisibility:(null===E||void 0===E||null===(s=E.privacy)||void 0===s?void 0:s.onlineStatusVisibility)||"everyone",phoneVisibility:(null===E||void 0===E||null===(i=E.privacy)||void 0===i?void 0:i.phoneVisibility)||"contacts",emailVisibility:(null===E||void 0===E||null===(o=E.privacy)||void 0===o?void 0:o.emailVisibility)||"contacts",locationVisibility:(null===E||void 0===E||null===(l=E.privacy)||void 0===l?void 0:l.locationVisibility)||"contacts"}),[M,O]=(0,a.useState)({email:null===(c=null===E||void 0===E||null===(u=E.notifications)||void 0===u?void 0:u.email)||void 0===c||c,push:null===(d=null===E||void 0===E||null===(h=E.notifications)||void 0===h?void 0:h.push)||void 0===d||d,desktop:null===(m=null===E||void 0===E||null===(f=E.notifications)||void 0===f?void 0:f.desktop)||void 0===m||m,sound:null===(p=null===E||void 0===E||null===(g=E.notifications)||void 0===g?void 0:g.sound)||void 0===p||p,mentions:null===(b=null===E||void 0===E||null===(x=E.notifications)||void 0===x?void 0:x.mentions)||void 0===b||b,directMessages:null===(w=null===E||void 0===E||null===(j=E.notifications)||void 0===j?void 0:j.directMessages)||void 0===w||w,groupMessages:null===(k=null===E||void 0===E||null===(N=E.notifications)||void 0===N?void 0:N.groupMessages)||void 0===k||k,marketing:null!==(S=null===E||void 0===E||null===(C=E.notifications)||void 0===C?void 0:C.marketing)&&void 0!==S&&S}),[R,D]=(0,a.useState)(!1),I=[{value:"everyone",label:"Everyone",icon:"\ud83c\udf0d",description:"Visible to all users"},{value:"contacts",label:"Contacts Only",icon:"\ud83d\udc65",description:"Only your connections can see this"},{value:"nobody",label:"Nobody",icon:"\ud83d\udd12",description:"Keep this information private"}],F=e=>{let{setting:t,value:n,options:a=I,title:s,description:i}=e;return(0,y.jsxs)("div",{className:"privacy-setting",children:[(0,y.jsxs)("div",{className:"setting-header",children:[(0,y.jsx)("h4",{children:s}),(0,y.jsx)("p",{className:"setting-description",children:i})]}),(0,y.jsx)("div",{className:"visibility-options",children:a.map(e=>(0,y.jsxs)("button",{className:"visibility-option ".concat(n===e.value?"active":""),onClick:()=>((e,t)=>{L(n=>(0,r.A)((0,r.A)({},n),{},{[e]:t}))})(t,e.value),children:[(0,y.jsx)("div",{className:"option-icon",children:e.icon}),(0,y.jsxs)("div",{className:"option-content",children:[(0,y.jsx)("span",{className:"option-label",children:e.label}),(0,y.jsx)("span",{className:"option-desc",children:e.description})]})]},e.value))})]})},z=e=>{let{setting:t,value:n,title:a,description:s}=e;return(0,y.jsxs)("div",{className:"notification-setting",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("h4",{children:a}),(0,y.jsx)("p",{className:"setting-description",children:s})]}),(0,y.jsxs)("label",{className:"toggle-switch",children:[(0,y.jsx)("input",{type:"checkbox",checked:n,onChange:e=>((e,t)=>{O(n=>(0,r.A)((0,r.A)({},n),{},{[e]:t}))})(t,e.target.checked)}),(0,y.jsx)("span",{className:"toggle-slider"})]})]})};return(0,y.jsx)("div",{className:"privacy-settings-overlay",onClick:A,children:(0,y.jsxs)("div",{className:"privacy-settings-modal",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"privacy-settings-header",children:[(0,y.jsx)("h2",{children:"Privacy & Notifications"}),(0,y.jsx)("button",{className:"close-btn",onClick:A,children:"\xd7"})]}),(0,y.jsxs)("div",{className:"privacy-settings-content",children:[(0,y.jsxs)("div",{className:"settings-section",children:[(0,y.jsx)("h3",{children:"\ud83d\udc41\ufe0f Privacy Settings"}),(0,y.jsx)(F,{setting:"profileVisibility",value:T.profileVisibility,options:[{value:"public",label:"Public",icon:"\ud83c\udf0d",description:"Anyone can view your profile"},{value:"contacts",label:"Contacts Only",icon:"\ud83d\udc65",description:"Only connections can view your profile"},{value:"private",label:"Private",icon:"\ud83d\udd12",description:"Profile is completely private"}],title:"Profile Visibility",description:"Who can view your profile information"}),(0,y.jsx)(F,{setting:"onlineStatusVisibility",value:T.onlineStatusVisibility,title:"Online Status",description:"Who can see when you're online"}),(0,y.jsx)(F,{setting:"lastSeenVisibility",value:T.lastSeenVisibility,title:"Last Seen",description:"Who can see when you were last active"}),(0,y.jsx)(F,{setting:"phoneVisibility",value:T.phoneVisibility,title:"Phone Number",description:"Who can see your phone number"}),(0,y.jsx)(F,{setting:"emailVisibility",value:T.emailVisibility,title:"Email Address",description:"Who can see your email address"}),(0,y.jsx)(F,{setting:"locationVisibility",value:T.locationVisibility,title:"Location",description:"Who can see your location information"})]}),(0,y.jsxs)("div",{className:"settings-section",children:[(0,y.jsx)("h3",{children:"\ud83d\udd14 Notification Preferences"}),(0,y.jsxs)("div",{className:"notification-group",children:[(0,y.jsx)("h4",{children:"Communication"}),(0,y.jsx)(z,{setting:"directMessages",value:M.directMessages,title:"Direct Messages",description:"Get notified when someone sends you a direct message"}),(0,y.jsx)(z,{setting:"groupMessages",value:M.groupMessages,title:"Group Messages",description:"Receive notifications for group conversations"}),(0,y.jsx)(z,{setting:"mentions",value:M.mentions,title:"Mentions",description:"Get notified when someone mentions you"})]}),(0,y.jsxs)("div",{className:"notification-group",children:[(0,y.jsx)("h4",{children:"Delivery Methods"}),(0,y.jsx)(z,{setting:"push",value:M.push,title:"Push Notifications",description:"Receive push notifications on your device"}),(0,y.jsx)(z,{setting:"email",value:M.email,title:"Email Notifications",description:"Get notifications via email"}),(0,y.jsx)(z,{setting:"desktop",value:M.desktop,title:"Desktop Notifications",description:"Show notifications on your desktop"}),(0,y.jsx)(z,{setting:"sound",value:M.sound,title:"Sound Alerts",description:"Play sounds for notifications"})]}),(0,y.jsxs)("div",{className:"notification-group",children:[(0,y.jsx)("h4",{children:"Marketing"}),(0,y.jsx)(z,{setting:"marketing",value:M.marketing,title:"Marketing Emails",description:"Receive promotional content and updates"})]})]})]}),(0,y.jsxs)("div",{className:"privacy-settings-footer",children:[(0,y.jsx)("button",{className:"cancel-btn",onClick:A,disabled:R,children:"Cancel"}),(0,y.jsx)("button",{className:"save-btn",onClick:async()=>{D(!0);try{const e={privacy:T,notifications:M};await v.updateUserProfile(E.id,e),P(e),A()}catch(e){console.error("Error saving privacy settings:",e)}finally{D(!1)}},disabled:R,children:R?"Saving...":"Save Settings"})]})]})})},w=e=>{let{userProfile:t,onClose:n}=e;const[s,r]=(0,a.useState)({profileViews:0,monthlyViews:0,topViewers:[],uploadStats:{totalUploads:0,totalViews:0,totalLikes:0,mostViewedContent:null},activityStats:{messagesCount:0,reactionsGiven:0,connectionsCount:0,joinDate:null}}),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)("month");(0,a.useEffect)(()=>{(async()=>{try{o(!0);const e=await v.fetchUserAnalytics(t.id,l);r(e)}catch(e){console.error("Error loading analytics:",e)}finally{o(!1)}})()},[t.id,l]);const u=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString(),d=e=>{let{icon:t,title:n,value:a,subtitle:s,trend:r}=e;return(0,y.jsxs)("div",{className:"stat-card",children:[(0,y.jsx)("div",{className:"stat-icon",children:t}),(0,y.jsxs)("div",{className:"stat-content",children:[(0,y.jsx)("h3",{children:u(a)}),(0,y.jsx)("p",{className:"stat-title",children:n}),s&&(0,y.jsx)("p",{className:"stat-subtitle",children:s}),r&&(0,y.jsxs)("div",{className:"stat-trend ".concat(r>0?"positive":"negative"),children:[r>0?"\u2197\ufe0f":"\u2198\ufe0f"," ",Math.abs(r),"%"]})]})]})};return(0,y.jsx)("div",{className:"analytics-overlay",onClick:n,children:(0,y.jsxs)("div",{className:"analytics-modal",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"analytics-header",children:[(0,y.jsx)("h2",{children:"\ud83d\udcca Profile Analytics"}),(0,y.jsx)("div",{className:"timeframe-selector",children:(0,y.jsxs)("select",{value:l,onChange:e=>c(e.target.value),children:[(0,y.jsx)("option",{value:"week",children:"Last 7 days"}),(0,y.jsx)("option",{value:"month",children:"Last 30 days"}),(0,y.jsx)("option",{value:"quarter",children:"Last 3 months"}),(0,y.jsx)("option",{value:"year",children:"Last year"})]})}),(0,y.jsx)("button",{className:"close-btn",onClick:n,children:"\xd7"})]}),(0,y.jsx)("div",{className:"analytics-content",children:i?(0,y.jsx)("div",{className:"loading-spinner",children:"Loading analytics..."}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"stats-grid",children:[(0,y.jsx)(d,{icon:"\ud83d\udc41\ufe0f",title:"Profile Views",value:s.profileViews,subtitle:"Total views",trend:12}),(0,y.jsx)(d,{icon:"\ud83d\udcc8",title:"Monthly Growth",value:s.monthlyViews,subtitle:"Views this month",trend:8}),(0,y.jsx)(d,{icon:"\ud83d\udcc1",title:"Total Uploads",value:s.uploadStats.totalUploads,subtitle:"Content shared"}),(0,y.jsx)(d,{icon:"\ud83d\udc65",title:"Connections",value:s.activityStats.connectionsCount,subtitle:"People connected",trend:5})]}),(0,y.jsxs)("div",{className:"verification-section",children:[(0,y.jsx)("h3",{children:"\ud83d\udee1\ufe0f Profile Verification"}),(0,y.jsxs)("div",{className:"verification-badges",children:[(0,y.jsxs)("div",{className:"verification-badge ".concat(t.email?"verified":"pending"),children:[(0,y.jsx)("span",{className:"badge-icon",children:"\u2709\ufe0f"}),(0,y.jsxs)("div",{className:"badge-content",children:[(0,y.jsx)("span",{className:"badge-title",children:"Email Verified"}),(0,y.jsx)("span",{className:"badge-status",children:t.email?"Verified":"Pending verification"})]})]}),(0,y.jsxs)("div",{className:"verification-badge ".concat(t.phone?"verified":"pending"),children:[(0,y.jsx)("span",{className:"badge-icon",children:"\ud83d\udcf1"}),(0,y.jsxs)("div",{className:"badge-content",children:[(0,y.jsx)("span",{className:"badge-title",children:"Phone Verified"}),(0,y.jsx)("span",{className:"badge-status",children:t.phone?"Verified":"Add phone number"})]})]}),(0,y.jsxs)("div",{className:"verification-badge ".concat(t.socialLinks&&Object.values(t.socialLinks).some(e=>e)?"verified":"pending"),children:[(0,y.jsx)("span",{className:"badge-icon",children:"\ud83d\udd17"}),(0,y.jsxs)("div",{className:"badge-content",children:[(0,y.jsx)("span",{className:"badge-title",children:"Social Links"}),(0,y.jsx)("span",{className:"badge-status",children:t.socialLinks&&Object.values(t.socialLinks).some(e=>e)?"Connected":"Add social links"})]})]})]})]}),(0,y.jsxs)("div",{className:"content-section",children:[(0,y.jsx)("h3",{children:"\ud83d\udcca Content Performance"}),(0,y.jsxs)("div",{className:"content-stats",children:[(0,y.jsxs)("div",{className:"content-stat",children:[(0,y.jsx)("span",{className:"content-icon",children:"\ud83d\udc40"}),(0,y.jsxs)("div",{className:"content-info",children:[(0,y.jsx)("span",{className:"content-value",children:u(s.uploadStats.totalViews)}),(0,y.jsx)("span",{className:"content-label",children:"Total Views"})]})]}),(0,y.jsxs)("div",{className:"content-stat",children:[(0,y.jsx)("span",{className:"content-icon",children:"\u2764\ufe0f"}),(0,y.jsxs)("div",{className:"content-info",children:[(0,y.jsx)("span",{className:"content-value",children:u(s.uploadStats.totalLikes)}),(0,y.jsx)("span",{className:"content-label",children:"Reactions Received"})]})]}),(0,y.jsxs)("div",{className:"content-stat",children:[(0,y.jsx)("span",{className:"content-icon",children:"\ud83d\udcac"}),(0,y.jsxs)("div",{className:"content-info",children:[(0,y.jsx)("span",{className:"content-value",children:u(s.activityStats.messagesCount)}),(0,y.jsx)("span",{className:"content-label",children:"Messages Sent"})]})]})]}),s.uploadStats.mostViewedContent&&(0,y.jsxs)("div",{className:"most-viewed",children:[(0,y.jsx)("h4",{children:"\ud83c\udfc6 Most Viewed Content"}),(0,y.jsxs)("div",{className:"content-preview",children:[(0,y.jsx)("img",{src:s.uploadStats.mostViewedContent.thumbnail,alt:"Most viewed content"}),(0,y.jsxs)("div",{className:"content-details",children:[(0,y.jsx)("span",{className:"content-name",children:s.uploadStats.mostViewedContent.name}),(0,y.jsxs)("span",{className:"content-views",children:[u(s.uploadStats.mostViewedContent.views)," views"]})]})]})]})]}),s.topViewers.length>0&&(0,y.jsxs)("div",{className:"viewers-section",children:[(0,y.jsx)("h3",{children:"\ud83d\udd25 Top Profile Viewers"}),(0,y.jsx)("div",{className:"viewers-list",children:s.topViewers.slice(0,5).map((e,t)=>(0,y.jsxs)("div",{className:"viewer-item",children:[(0,y.jsxs)("div",{className:"viewer-rank",children:["#",t+1]}),(0,y.jsx)("img",{src:e.avatar,alt:e.name,className:"viewer-avatar"}),(0,y.jsxs)("div",{className:"viewer-info",children:[(0,y.jsx)("span",{className:"viewer-name",children:e.name}),(0,y.jsxs)("span",{className:"viewer-views",children:[e.viewCount," views"]})]})]},e.id))})]}),(0,y.jsxs)("div",{className:"account-section",children:[(0,y.jsx)("h3",{children:"\ud83d\udcc5 Account Information"}),(0,y.jsxs)("div",{className:"account-info",children:[(0,y.jsxs)("div",{className:"info-item",children:[(0,y.jsx)("span",{className:"info-label",children:"Member since:"}),(0,y.jsx)("span",{className:"info-value",children:s.activityStats.joinDate?(h=s.activityStats.joinDate,new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})):"N/A"})]}),(0,y.jsxs)("div",{className:"info-item",children:[(0,y.jsx)("span",{className:"info-label",children:"Account type:"}),(0,y.jsx)("span",{className:"info-value",children:t.role||"Standard"})]}),(0,y.jsxs)("div",{className:"info-item",children:[(0,y.jsx)("span",{className:"info-label",children:"Status:"}),(0,y.jsx)("span",{className:"status-badge ".concat(t.isOnline?"online":"offline"),children:t.isOnline?"Online":"Offline"})]})]})]})]})})]})});var h},j=e=>{if(!e||isNaN(e))return"0:00";const t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(n.toString().padStart(2,"0"))},k=e=>{let{userUploads:t,userId:n,isOwnProfile:s,onRefresh:r}=e;const[i,o]=(0,a.useState)(t||[]),[l,c]=(0,a.useState)("all"),[u,d]=(0,a.useState)("date"),[h,m]=(0,a.useState)("desc"),[f,p]=(0,a.useState)(""),[g,b]=(0,a.useState)(new Set),[x,w]=(0,a.useState)("grid"),[k,N]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[E,A]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=[...t||[]];"all"!==l&&(e=e.filter(e=>e.type===l)),f&&(e=e.filter(e=>e.name.toLowerCase().includes(f.toLowerCase()))),e.sort((e,t)=>{let n=e[u],a=t[u];return"date"===u?(n=new Date(n),a=new Date(a)):"size"===u&&(n=parseInt(n)||0,a=parseInt(a)||0),"asc"===h?n>a?1:-1:n<a?1:-1}),o(e)},[t,l,f,u,h]);const P=[{value:"all",label:"All Files",icon:"\ud83d\udcc1",count:(null===t||void 0===t?void 0:t.length)||0},{value:"image",label:"Images",icon:"\ud83d\uddbc\ufe0f",count:(null===t||void 0===t?void 0:t.filter(e=>"image"===e.type).length)||0},{value:"video",label:"Videos",icon:"\ud83c\udfa5",count:(null===t||void 0===t?void 0:t.filter(e=>"video"===e.type).length)||0},{value:"gif",label:"GIFs",icon:"\u2728",count:(null===t||void 0===t?void 0:t.filter(e=>"gif"===e.type).length)||0},{value:"document",label:"Documents",icon:"\ud83d\udcc4",count:(null===t||void 0===t?void 0:t.filter(e=>"document"===e.type).length)||0}],T=e=>{b(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},L=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},M=e=>{switch(e){case"image":return"\ud83d\uddbc\ufe0f";case"video":return"\ud83c\udfa5";case"gif":return"\u2728";case"document":case"pdf":return"\ud83d\udcc4";default:return"\ud83d\udcc1"}},O=(()=>{const e=(null===t||void 0===t?void 0:t.reduce((e,t)=>e+(t.size||0),0))||0,n=(null===t||void 0===t?void 0:t.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+1,e),{}))||{};return{totalFiles:(null===t||void 0===t?void 0:t.length)||0,totalSize:L(e),types:n,averageSize:null!==t&&void 0!==t&&t.length?L(e/t.length):"0 Bytes"}})(),R=e=>{var t;let{item:n,isSelected:a,onSelect:r,onView:i}=e;return(0,y.jsxs)("div",{className:"media-item ".concat(a?"selected":""," ").concat(x),children:[s&&(0,y.jsx)("div",{className:"item-checkbox",children:(0,y.jsx)("input",{type:"checkbox",checked:a,onChange:()=>r(n.id)})}),(0,y.jsxs)("div",{className:"item-preview",onClick:()=>i(n),children:["image"===n.type&&(0,y.jsx)("img",{src:n.url,alt:n.name,loading:"lazy"}),"video"===n.type&&(0,y.jsxs)("div",{className:"video-preview",children:[n.thumbnailUrl?(0,y.jsx)("img",{src:n.thumbnailUrl,alt:n.name,loading:"lazy"}):(0,y.jsx)("div",{className:"video-placeholder",children:"\ud83c\udfa5"}),(0,y.jsx)("div",{className:"video-overlay",children:"\u25b6\ufe0f"})]}),"gif"===n.type&&(0,y.jsx)("img",{src:n.url,alt:n.name,loading:"lazy"}),("document"===n.type||"pdf"===n.type)&&(0,y.jsxs)("div",{className:"document-preview",children:[(0,y.jsx)("span",{className:"file-icon",children:M(n.type)}),(0,y.jsx)("span",{className:"file-extension",children:"PDF"})]}),"document"===n.type&&n.name&&!n.name.toLowerCase().endsWith(".pdf")&&(0,y.jsxs)("div",{className:"document-preview",children:[(0,y.jsx)("span",{className:"file-icon",children:M(n.type)}),(0,y.jsx)("span",{className:"file-extension",children:null===(t=n.name.split(".").pop())||void 0===t?void 0:t.toUpperCase()})]})]}),(0,y.jsxs)("div",{className:"item-info",children:[(0,y.jsx)("span",{className:"item-name",title:n.name,children:n.name}),(0,y.jsxs)("div",{className:"item-meta",children:[(0,y.jsx)("span",{className:"item-size",children:L(n.size)}),(0,y.jsx)("span",{className:"item-date",children:(o=n.date,new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]})]})]});var o};return(0,y.jsxs)("div",{className:"enhanced-media-gallery",children:[(0,y.jsxs)("div",{className:"gallery-controls",children:[(0,y.jsx)("div",{className:"search-section",children:(0,y.jsxs)("div",{className:"search-input-wrapper",children:[(0,y.jsx)("input",{type:"text",placeholder:"Search files...",value:f,onChange:e=>p(e.target.value),className:"search-input"}),(0,y.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]})}),(0,y.jsx)("div",{className:"filter-section",children:(0,y.jsx)("div",{className:"filter-buttons",children:P.map(e=>(0,y.jsxs)("button",{className:"filter-btn ".concat(l===e.value?"active":""),onClick:()=>c(e.value),children:[(0,y.jsx)("span",{className:"filter-icon",children:e.icon}),(0,y.jsx)("span",{className:"filter-label",children:e.label}),(0,y.jsxs)("span",{className:"filter-count",children:["(",e.count,")"]})]},e.value))})}),(0,y.jsxs)("div",{className:"view-controls",children:[(0,y.jsxs)("div",{className:"sort-controls",children:[(0,y.jsx)("select",{value:u,onChange:e=>d(e.target.value),className:"sort-select",children:[{value:"date",label:"Date"},{value:"name",label:"Name"},{value:"size",label:"Size"},{value:"type",label:"Type"}].map(e=>(0,y.jsxs)("option",{value:e.value,children:["Sort by ",e.label]},e.value))}),(0,y.jsx)("button",{className:"sort-direction-btn",onClick:()=>m(e=>"asc"===e?"desc":"asc"),title:"Sort ".concat("asc"===h?"Descending":"Ascending"),children:"asc"===h?"\u2191":"\u2193"})]}),(0,y.jsxs)("div",{className:"view-mode-controls",children:[(0,y.jsx)("button",{className:"view-mode-btn ".concat("grid"===x?"active":""),onClick:()=>w("grid"),title:"Grid View",children:"\u229e"}),(0,y.jsx)("button",{className:"view-mode-btn ".concat("list"===x?"active":""),onClick:()=>w("list"),title:"List View",children:"\u2630"})]}),(0,y.jsx)("button",{className:"stats-btn ".concat(k?"active":""),onClick:()=>N(!k),title:"Toggle Statistics",children:"\ud83d\udcca"})]})]}),k&&(0,y.jsxs)("div",{className:"stats-panel",children:[(0,y.jsx)("h4",{children:"\ud83d\udcca Media Statistics"}),(0,y.jsxs)("div",{className:"stats-grid",children:[(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Total Files:"}),(0,y.jsx)("span",{className:"stat-value",children:O.totalFiles})]}),(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Total Size:"}),(0,y.jsx)("span",{className:"stat-value",children:O.totalSize})]}),(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Average Size:"}),(0,y.jsx)("span",{className:"stat-value",children:O.averageSize})]}),(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"File Types:"}),(0,y.jsx)("div",{className:"type-breakdown",children:Object.entries(O.types).map(e=>{let[t,n]=e;return(0,y.jsxs)("span",{className:"type-stat",children:[M(t)," ",n]},t)})})]})]})]}),s&&g.size>0&&(0,y.jsxs)("div",{className:"bulk-actions",children:[(0,y.jsxs)("span",{className:"selection-count",children:[g.size," of ",i.length," selected"]}),(0,y.jsxs)("div",{className:"bulk-buttons",children:[(0,y.jsx)("button",{onClick:()=>{g.size===i.length?b(new Set):b(new Set(i.map(e=>e.id)))},className:"select-all-btn",children:g.size===i.length?"Deselect All":"Select All"}),(0,y.jsx)("button",{onClick:async()=>{if(s&&0!==g.size){C(!0);try{const e=Array.from(g).map(e=>{const t=i.find(t=>t.id===e);return v.deleteMediaItem(t.type,e)});await Promise.all(e),b(new Set),r&&r()}catch(e){console.error("Error deleting items:",e)}finally{C(!1)}}},className:"bulk-delete-btn",disabled:S,children:S?"Deleting...":"Delete (".concat(g.size,")")})]})]}),(0,y.jsx)("div",{className:"media-container ".concat(x),children:0===i.length?(0,y.jsxs)("div",{className:"empty-state",children:[(0,y.jsx)("div",{className:"empty-icon",children:"\ud83d\udcc2"}),(0,y.jsx)("h3",{children:"No files found"}),(0,y.jsx)("p",{children:f?'No files match "'.concat(f,'"'):"all"!==l?"No ".concat(l," files found"):"No files uploaded yet"})]}):i.map(e=>(0,y.jsx)(R,{item:e,isSelected:g.has(e.id),onSelect:T,onView:e=>{A(e)}},e.id))}),(0,y.jsxs)("div",{className:"results-summary",children:["Showing ",i.length," of ",(null===t||void 0===t?void 0:t.length)||0," files",f&&' matching "'.concat(f,'"'),"all"!==l&&" (".concat(l," only)")]}),E&&(0,y.jsx)("div",{className:"media-viewer-overlay",onClick:()=>A(null),children:(0,y.jsxs)("div",{className:"media-viewer-modal",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"media-viewer-header",children:[(0,y.jsx)("h3",{children:E.name}),(0,y.jsx)("button",{className:"close-viewer-btn",onClick:()=>A(null),children:"\xd7"})]}),(0,y.jsxs)("div",{className:"media-viewer-content",children:["image"===E.type&&(0,y.jsx)("img",{src:E.url,alt:E.name,className:"viewer-image"}),"video"===E.type&&(0,y.jsxs)("video",{src:E.url.startsWith("http")?E.url:"http://localhost:5001".concat(E.url),controls:!0,autoPlay:!0,playsInline:!0,className:"viewer-video",poster:E.thumbnailUrl,onError:e=>{console.error("Video playback error in viewer:",e),console.log("Selected media details:",E)},children:[(0,y.jsx)("source",{src:E.url.startsWith("http")?E.url:"http://localhost:5001".concat(E.url),type:E.mimeType||"video/mp4"}),"Your browser does not support the video tag."]}),"gif"===E.type&&(0,y.jsx)("img",{src:E.url,alt:E.name,className:"viewer-gif"}),("document"===E.type||"pdf"===E.type)&&(0,y.jsxs)("div",{className:"pdf-viewer",children:[(0,y.jsx)("iframe",{src:E.url.startsWith("http")?E.url:"http://localhost:5001".concat(E.url),width:"100%",height:"500px",title:E.name,style:{border:"none",borderRadius:"8px"}}),(0,y.jsx)("div",{className:"pdf-actions",children:(0,y.jsx)("a",{href:E.url.startsWith("http")?E.url:"http://localhost:5001".concat(E.url),target:"_blank",rel:"noopener noreferrer",className:"pdf-open-btn",children:"Open in New Tab"})})]})]}),(0,y.jsx)("div",{className:"media-viewer-info",children:(0,y.jsxs)("div",{className:"media-details",children:[(0,y.jsxs)("span",{children:[(0,y.jsx)("strong",{children:"Type:"})," ",E.type]}),(0,y.jsxs)("span",{children:[(0,y.jsx)("strong",{children:"Size:"})," ",L(E.size)]}),E.dimensions&&(0,y.jsxs)("span",{children:[(0,y.jsx)("strong",{children:"Dimensions:"})," ",E.dimensions]}),E.duration&&(0,y.jsxs)("span",{children:[(0,y.jsx)("strong",{children:"Duration:"})," ",j(E.duration)]}),(0,y.jsxs)("span",{children:[(0,y.jsx)("strong",{children:"Uploaded:"})," ",new Date(E.uploadedAt).toLocaleDateString()]})]})})]})})]})},N=e=>{let{currentAvatar:t,onAvatarChange:n,isOwnProfile:s}=e;const[r,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(t),d=(0,a.useRef)(null),h=(0,a.useCallback)(async e=>{console.log("\ud83d\udd04 Avatar upload started:",{fileCount:e.length});const a=e[0];if(a){if(console.log("\ud83d\udcc1 File details:",{name:a.name,size:a.size,type:a.type}),!a.type.startsWith("image/"))return console.error("\u274c Invalid file type:",a.type),void alert("Please select an image file (PNG, JPG, GIF, etc.)");if(a.size>5242880)return console.error("\u274c File too large:",a.size),void alert("File size must be less than 5MB");i(!0),console.log("\u23f3 Upload started...");try{const e=new FileReader;e.onload=e=>{u(e.target.result),console.log("\ud83d\uddbc\ufe0f Preview created")},e.readAsDataURL(a);const t=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");if(console.log("\ud83d\udd11 Auth token check:",{hasToken:!!t,tokenLength:t?t.length:0,localStorage:!!localStorage.getItem("authToken"),sessionStorage:!!sessionStorage.getItem("authToken")}),!t){console.log("\ud83c\udfad No auth token found, running in demo mode");const e=new FileReader;return e.onload=e=>{const t=e.target.result;u(t),n(t),console.log("\u2705 Demo mode avatar update successful")},void e.readAsDataURL(a)}console.log("\ud83c\udf10 Uploading to server...");try{const e=await v.api.uploadAvatar(a);if(console.log("\u2705 Upload successful via userDataService:",e),!e||!e.avatarUrl)throw console.error("\u274c No avatar URL in response:",e),new Error("Invalid response: no avatar URL returned");console.log("\ud83d\uddbc\ufe0f Setting new avatar URL:",e.avatarUrl),n(e.avatarUrl)}catch(s){throw console.error("\u274c API upload failed:",s),new Error(s.message||"Upload failed")}}catch(r){if(console.error("\ud83d\udca5 Avatar upload error:",r),console.error("\ud83d\udca5 Error details:",{message:r.message,stack:r.stack,name:r.name}),r.message.includes("Network Error")||r.message.includes("fetch")||r.message.includes("API call failed")){console.log("\ud83d\udd04 Network error, falling back to demo mode");const e=new FileReader;e.onload=e=>{const t=e.target.result;u(t),n(t),console.log("\u2705 Fallback demo mode avatar update successful")},e.readAsDataURL(a)}else alert("Failed to upload avatar: ".concat(r.message)),u(t)}finally{i(!1),console.log("\ud83c\udfc1 Upload process completed")}}},[t,n]),m=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?l(!0):"dragleave"===e.type&&l(!1)},[]),f=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),l(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&h(e.dataTransfer.files)},[h]),p=(0,a.useCallback)(e=>{e.preventDefault(),e.target.files&&e.target.files[0]&&h(e.target.files)},[h]),g=(0,a.useCallback)(()=>{s&&d.current&&d.current.click()},[s]);return(0,y.jsxs)("div",{className:"avatar-upload-container",children:[(0,y.jsxs)("div",{className:"profile-avatar ".concat(s?"editable":""," ").concat(o?"drag-active":""," ").concat(r?"uploading":""),onDragEnter:s?m:void 0,onDragLeave:s?m:void 0,onDragOver:s?m:void 0,onDrop:s?f:void 0,onClick:g,children:[(0,y.jsxs)("div",{className:"avatar-image-container",children:[(0,y.jsx)("img",{src:c||"/default-avatar.png",alt:"Profile Avatar",className:"avatar-image"}),s&&(0,y.jsx)("div",{className:"avatar-overlay",children:r?(0,y.jsxs)("div",{className:"upload-spinner",children:[(0,y.jsx)("div",{className:"spinner"}),(0,y.jsx)("span",{children:"Uploading..."})]}):(0,y.jsxs)("div",{className:"upload-prompt",children:[(0,y.jsx)("div",{className:"upload-icon",children:"\ud83d\udcf7"}),(0,y.jsx)("span",{children:"Change Photo"})]})})]}),s&&(0,y.jsx)("input",{ref:d,type:"file",accept:"image/*",onChange:p,className:"avatar-file-input"})]}),s&&(0,y.jsxs)("div",{className:"avatar-upload-tips",children:[(0,y.jsx)("p",{className:"upload-hint",children:"Click or drag & drop to change your profile photo"}),(0,y.jsx)("p",{className:"upload-requirements",children:"Supports: JPG, PNG, GIF \u2022 Max size: 5MB"})]})]})},S=e=>{let{userId:t,username:n,onClose:s,isVisible:i,isClosing:o}=e;const[l,c]=(0,a.useState)("profile"),[u,d]=(0,a.useState)(null),[h,m]=(0,a.useState)([]),[f,p]=(0,a.useState)([]),[g,j]=(0,a.useState)(!0),[S,C]=(0,a.useState)(null),[E,A]=(0,a.useState)(!1),[P,T]=(0,a.useState)(!1),[L,M]=(0,a.useState)(!1),O=(()=>{const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e);return t.id||t.username}catch(S){console.error("Error parsing localStorage user data:",S)}const t=sessionStorage.getItem("user");if(t)try{const e=JSON.parse(t);return e.id||e.username}catch(S){console.error("Error parsing sessionStorage user data:",S)}return null})(),R=t===O;console.log("UserProfile authentication check:",{userId:t,currentUserId:O,isOwnProfile:R,localStorageUser:localStorage.getItem("user"),sessionStorageUser:sessionStorage.getItem("user")}),(0,a.useEffect)(()=>{(async()=>{try{j(!0);const e=await v.fetchUserProfile(t);if(d(e),"uploads"===l||"profile"===l){const e=await v.fetchUserUploads(t);m(e)}if("history"===l||"profile"===l){const e=await v.fetchUserViewHistory(t);p(e)}j(!1)}catch(e){console.error("Error loading user data:",e),C("Failed to load user data. Please try again later."),j(!1)}})()},[t,l]);const D=e=>{c(e)},I=e=>{d(t=>(0,r.A)((0,r.A)({},t),e))},F=async e=>{try{const n=(0,r.A)((0,r.A)({},u),{},{avatar:e});await v.updateUserProfile(t,{avatar:e}),d(n)}catch(S){console.error("Failed to update avatar:",S)}},z=e=>{switch(e){case"image":return"\ud83d\uddbc\ufe0f";case"video":return"\ud83c\udfac";case"gif":return"\ud83c\udfad";case"document":return"\ud83d\udcc4";default:return"\ud83d\udcc1"}},_=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),U=()=>f&&0!==f.length?(0,y.jsx)("div",{className:"history-list",children:f.map(e=>(0,y.jsxs)("div",{className:"history-item",children:[(0,y.jsx)("div",{className:"history-icon",children:z(e.contentType)}),(0,y.jsxs)("div",{className:"history-info",children:[(0,y.jsx)("span",{className:"history-title",children:e.title}),(0,y.jsxs)("span",{className:"history-details",children:[e.contentType," \u2022 Viewed ",_(e.viewedAt)]})]})]},e.id))}):(0,y.jsx)("p",{className:"empty-state",children:"No view history to display"});return(0,y.jsxs)("div",{className:"user-profile-container ".concat(i?"visible":""," ").concat(o?"closing":""),children:[(0,y.jsx)("div",{className:"profile-header-gradient"}),(0,y.jsxs)("div",{className:"user-profile-header",children:[(0,y.jsxs)("div",{className:"header-content",children:[(0,y.jsxs)("div",{className:"profile-title-section",children:[(0,y.jsxs)("h2",{className:"profile-title",children:[n,"'s Profile"]}),(0,y.jsx)("div",{className:"profile-subtitle",children:null!==u&&void 0!==u&&u.isOnline?(0,y.jsx)("span",{className:"online-indicator",children:"\ud83d\udfe2 Online"}):(0,y.jsx)("span",{className:"offline-indicator",children:"\u26aa Offline"})})]}),(0,y.jsx)("button",{className:"close-btn",onClick:s,children:(0,y.jsx)("span",{className:"close-icon",children:"\xd7"})})]}),(0,y.jsx)("div",{className:"profile-tabs",children:(0,y.jsxs)("div",{className:"tabs-container",children:[(0,y.jsxs)("button",{className:"tab-btn ".concat("profile"===l?"active":""),onClick:()=>D("profile"),children:[(0,y.jsx)("span",{className:"tab-icon",children:"\ud83d\udc64"}),(0,y.jsx)("span",{className:"tab-label",children:"Profile"})]}),(0,y.jsxs)("button",{className:"tab-btn ".concat("uploads"===l?"active":""),onClick:()=>D("uploads"),children:[(0,y.jsx)("span",{className:"tab-icon",children:"\ud83d\udcc1"}),(0,y.jsx)("span",{className:"tab-label",children:"Media"})]}),(0,y.jsxs)("button",{className:"tab-btn ".concat("history"===l?"active":""),onClick:()=>D("history"),children:[(0,y.jsx)("span",{className:"tab-icon",children:"\ud83d\udcda"}),(0,y.jsx)("span",{className:"tab-label",children:"History"})]}),(0,y.jsx)("div",{className:"tab-indicator"})]})})]}),(0,y.jsx)("div",{className:"user-profile-content",children:(0,y.jsx)("div",{className:"content-wrapper",children:g?(0,y.jsxs)("div",{className:"loading-container",children:[(0,y.jsxs)("div",{className:"loading-spinner",children:[(0,y.jsx)("div",{className:"spinner-ring"}),(0,y.jsx)("div",{className:"spinner-ring"}),(0,y.jsx)("div",{className:"spinner-ring"})]}),(0,y.jsx)("p",{className:"loading-text",children:"Loading profile..."})]}):S?(0,y.jsxs)("div",{className:"error-container",children:[(0,y.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,y.jsx)("p",{className:"error-message",children:S}),(0,y.jsx)("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Retry"})]}):(0,y.jsxs)("div",{className:"tab-content",children:["profile"===l&&(()=>{return u?(0,y.jsxs)("div",{className:"profile-info",children:[(0,y.jsxs)("div",{className:"profile-header",children:[(0,y.jsx)(N,{currentAvatar:u.avatar,onAvatarChange:F,isOwnProfile:R}),(0,y.jsxs)("div",{className:"profile-details",children:[(0,y.jsx)("h2",{children:u.displayName||u.name}),(0,y.jsxs)("p",{className:"username",children:["@",u.username]}),u.statusMessage&&(0,y.jsxs)("p",{className:"status-message",children:["\ud83d\udcad ",u.statusMessage]}),(0,y.jsx)("p",{className:"bio",children:u.bio||"No bio available"}),(0,y.jsx)("div",{className:"profile-actions",children:R&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:"edit-profile-btn",onClick:()=>A(!0),children:"\u270f\ufe0f Edit Profile"}),(0,y.jsx)("button",{className:"privacy-settings-btn",onClick:()=>T(!0),children:"\ud83d\udd12 Privacy & Notifications"}),(0,y.jsx)("button",{className:"analytics-btn",onClick:()=>M(!0),children:"\ud83d\udcca View Analytics"})]})}),(0,y.jsxs)("div",{className:"profile-stats",children:[(0,y.jsxs)("div",{className:"stat",children:[(0,y.jsx)("span",{className:"stat-value",children:(null===h||void 0===h?void 0:h.length)||0}),(0,y.jsx)("span",{className:"stat-label",children:"Uploads"})]}),(0,y.jsxs)("div",{className:"stat",children:[(0,y.jsx)("span",{className:"stat-value",children:u.connectionCount||0}),(0,y.jsx)("span",{className:"stat-label",children:"Connections"})]})]}),(0,y.jsxs)("div",{className:"profile-extended-info",children:[(u.location||u.company||u.jobTitle)&&(0,y.jsxs)("div",{className:"info-section",children:[u.location&&(0,y.jsxs)("div",{className:"info-item",children:[(0,y.jsx)("span",{className:"info-icon",children:"\ud83d\udccd"}),(0,y.jsx)("span",{children:u.location})]}),u.company&&(0,y.jsxs)("div",{className:"info-item",children:[(0,y.jsx)("span",{className:"info-icon",children:"\ud83c\udfe2"}),(0,y.jsx)("span",{children:u.company}),u.jobTitle&&(0,y.jsxs)("span",{className:"job-title",children:[" \u2022 ",u.jobTitle]})]}),u.website&&(0,y.jsxs)("div",{className:"info-item",children:[(0,y.jsx)("span",{className:"info-icon",children:"\ud83d\udd17"}),(0,y.jsx)("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",children:u.website})]})]}),u.socialLinks&&Object.values(u.socialLinks).some(e=>e)&&(0,y.jsxs)("div",{className:"social-links",children:[(0,y.jsx)("h4",{children:"Social Links"}),(0,y.jsxs)("div",{className:"social-icons",children:[u.socialLinks.twitter&&(0,y.jsx)("a",{href:"https://twitter.com/".concat(u.socialLinks.twitter.replace("@","")),target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"\ud83d\udc26"}),u.socialLinks.linkedin&&(0,y.jsx)("a",{href:"https://linkedin.com/in/".concat(u.socialLinks.linkedin),target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"\ud83d\udcbc"}),u.socialLinks.github&&(0,y.jsx)("a",{href:"https://github.com/".concat(u.socialLinks.github),target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"\ud83d\udc19"}),u.socialLinks.instagram&&(0,y.jsx)("a",{href:"https://instagram.com/".concat(u.socialLinks.instagram.replace("@","")),target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"\ud83d\udcf7"}),u.socialLinks.facebook&&(0,y.jsx)("a",{href:"https://facebook.com/".concat(u.socialLinks.facebook),target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"\ud83d\udc64"}),u.socialLinks.youtube&&(0,y.jsx)("a",{href:"https://youtube.com/c/".concat(u.socialLinks.youtube),target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"\ud83d\udcfa"})]})]})]})]})]}),(0,y.jsxs)("div",{className:"profile-sections",children:[(0,y.jsx)("h3",{children:"Recent Uploads"}),(0,y.jsxs)("div",{className:"profile-section",children:[(e=h.slice(0,4),e&&0!==e.length?(0,y.jsx)("div",{className:"media-grid",children:e.map(e=>(0,y.jsxs)("div",{className:"media-item",children:["image"===e.type?(0,y.jsx)("div",{className:"media-preview",children:(0,y.jsx)("img",{src:e.url,alt:e.name})}):(0,y.jsx)("div",{className:"media-preview file-icon",children:z(e.type)}),(0,y.jsxs)("div",{className:"media-info",children:[(0,y.jsx)("span",{className:"media-name",children:e.name}),(0,y.jsx)("span",{className:"media-date",children:_(e.date)})]})]},e.id))}):(0,y.jsx)("p",{className:"empty-state",children:"No content to display"})),h.length>4&&(0,y.jsx)("button",{className:"view-more-btn",onClick:()=>D("uploads"),children:"View all uploads"})]}),(0,y.jsx)("h3",{children:"Recently Viewed"}),(0,y.jsxs)("div",{className:"profile-section",children:[U(f.slice(0,3)),f.length>3&&(0,y.jsx)("button",{className:"view-more-btn",onClick:()=>D("history"),children:"View full history"})]})]})]}):(0,y.jsx)("p",{className:"empty-state",children:"User profile not available"});var e})(),"uploads"===l&&(0,y.jsxs)("div",{className:"uploads-container",children:[(0,y.jsx)("h3",{children:"Media Gallery"}),(0,y.jsx)(k,{userUploads:h,userId:t,isOwnProfile:R,onRefresh:()=>{v.fetchUserUploads(t).then(m)}})]}),"history"===l&&(0,y.jsxs)("div",{className:"history-container",children:[(0,y.jsx)("h3",{children:"View History"}),U()]})]})})}),E&&(0,y.jsx)(b,{userProfile:u,onClose:()=>A(!1),onSave:I}),P&&(0,y.jsx)(x,{userProfile:u,onClose:()=>T(!1),onSave:I}),L&&(0,y.jsx)(w,{userProfile:u,onClose:()=>M(!1)})]})},C=e=>{let{userId:t,username:n,onClose:s}=e;const[r,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),c=(0,a.useCallback)(()=>{l(!0),setTimeout(()=>{s()},300)},[s]);(0,a.useEffect)(()=>{i(!0)},[]),(0,a.useEffect)(()=>{const e=e=>{"Escape"===e.key&&c()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[c]),(0,a.useEffect)(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);return(0,y.jsx)("div",{className:"user-profile-modal-backdrop ".concat(r?"visible":""," ").concat(o?"closing":""),onClick:e=>{e.target.className.includes("user-profile-modal-backdrop")&&c()},children:(0,y.jsx)("div",{className:"modal-glass-effect",children:(0,y.jsx)(S,{userId:t,username:n,onClose:c,isVisible:r,isClosing:o})})})};var E=n(589);const A=e=>{var t,n,s,i,o,l,c,u,d,h;let{user:m,onClose:f,onUpdate:p,darkMode:g=!1}=e;const[v,b]=(0,a.useState)({username:(null===m||void 0===m?void 0:m.username)||"",email:(null===m||void 0===m?void 0:m.email)||"",name:(null===m||void 0===m?void 0:m.name)||"",displayName:(null===m||void 0===m?void 0:m.displayName)||"",bio:(null===m||void 0===m?void 0:m.bio)||"",phone:(null===m||void 0===m?void 0:m.phone)||"",location:(null===m||void 0===m?void 0:m.location)||"",website:(null===m||void 0===m?void 0:m.website)||"",company:(null===m||void 0===m?void 0:m.company)||"",jobTitle:(null===m||void 0===m?void 0:m.jobTitle)||"",twitter:(null===m||void 0===m||null===(t=m.socialLinks)||void 0===t?void 0:t.twitter)||"",linkedin:(null===m||void 0===m||null===(n=m.socialLinks)||void 0===n?void 0:n.linkedin)||"",github:(null===m||void 0===m||null===(s=m.socialLinks)||void 0===s?void 0:s.github)||"",theme:(null===m||void 0===m?void 0:m.theme)||"light",language:(null===m||void 0===m?void 0:m.language)||"en",timezone:(null===m||void 0===m?void 0:m.timezone)||Intl.DateTimeFormat().resolvedOptions().timeZone,notifications:{email:!1!==(null===m||void 0===m||null===(i=m.notifications)||void 0===i?void 0:i.email),push:!1!==(null===m||void 0===m||null===(o=m.notifications)||void 0===o?void 0:o.push),mentions:!1!==(null===m||void 0===m||null===(l=m.notifications)||void 0===l?void 0:l.mentions),messages:!1!==(null===m||void 0===m||null===(c=m.notifications)||void 0===c?void 0:c.messages)},profileVisibility:(null===m||void 0===m||null===(u=m.privacy)||void 0===u?void 0:u.profileVisibility)||"public",showOnlineStatus:!1!==(null===m||void 0===m||null===(d=m.privacy)||void 0===d?void 0:d.showOnlineStatus),allowDirectMessages:!1!==(null===m||void 0===m||null===(h=m.privacy)||void 0===h?void 0:h.allowDirectMessages),avatar:(null===m||void 0===m?void 0:m.avatar)||null,avatarColor:(null===m||void 0===m?void 0:m.avatarColor)||"#6366f1",statusMessage:(null===m||void 0===m?void 0:m.statusMessage)||""}),[x,w]=(0,a.useState)("profile"),[j,k]=(0,a.useState)((null===m||void 0===m?void 0:m.avatar)||null),[N,S]=(0,a.useState)(!1),[C,A]=(0,a.useState)(null),[P,T]=(0,a.useState)(null),[L,M]=(0,a.useState)(!1),[O,R]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),D=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=JSON.stringify(v)!==JSON.stringify({username:(null===m||void 0===m?void 0:m.username)||"",email:(null===m||void 0===m?void 0:m.email)||"",name:(null===m||void 0===m?void 0:m.name)||""});M(e)},[v,m]);const I=e=>{const{name:t,value:n,type:a,checked:s}=e.target;if(t.includes(".")){const[e,i]=t.split(".");b(t=>(0,r.A)((0,r.A)({},t),{},{[e]:(0,r.A)((0,r.A)({},t[e]),{},{[i]:"checkbox"===a?s:n})}))}else b(e=>(0,r.A)((0,r.A)({},e),{},{[t]:"checkbox"===a?s:n}))};return(0,y.jsxs)("div",{className:"enhanced-profile ".concat(g?"dark":""),children:[(0,y.jsxs)("div",{className:"profile-header",children:[(0,y.jsx)("h2",{children:"Account Settings"}),L&&(0,y.jsx)("span",{className:"unsaved-indicator",children:"Unsaved changes"}),(0,y.jsx)("button",{className:"close-button",onClick:f,children:(0,y.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,y.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,y.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,y.jsxs)("div",{className:"profile-tabs",children:[(0,y.jsxs)("button",{className:"tab-button ".concat("profile"===x?"active":""),onClick:()=>w("profile"),children:[(0,y.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,y.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,y.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),"Profile"]}),(0,y.jsxs)("button",{className:"tab-button ".concat("preferences"===x?"active":""),onClick:()=>w("preferences"),children:[(0,y.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,y.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,y.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),"Preferences"]}),(0,y.jsxs)("button",{className:"tab-button ".concat("security"===x?"active":""),onClick:()=>w("security"),children:[(0,y.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,y.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,y.jsx)("circle",{cx:"12",cy:"16",r:"1"}),(0,y.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),C&&(0,y.jsx)("div",{className:"profile-error",children:C}),P&&(0,y.jsx)("div",{className:"profile-success",children:P}),"profile"===x&&(0,y.jsxs)("form",{className:"profile-form",onSubmit:async e=>{e.preventDefault(),console.log("Save Profile Button Clicked!"),console.log("Current user prop:",m),console.log("FormData state:",v),S(!0),A(null),T(null);try{const e=localStorage.getItem("authToken"),t=localStorage.getItem("token"),n=sessionStorage.getItem("authToken"),a=sessionStorage.getItem("token"),s=localStorage.getItem("user")||sessionStorage.getItem("user");console.log("Profile Save Debug - Available tokens:",{authToken:e?"present":"missing",token:t?"present":"missing",sessionAuthToken:n?"present":"missing",sessionToken:a?"present":"missing",currentUser:s?"present":"missing"});if(!(e||t||n||a))throw new Error("No authentication token found. Please log in again.");const r={name:v.name,displayName:v.displayName,bio:v.bio,phone:v.phone,location:v.location,website:v.website,company:v.company,jobTitle:v.jobTitle,statusMessage:v.statusMessage,avatarColor:v.avatarColor,socialLinks:{twitter:v.twitter,linkedin:v.linkedin,github:v.github,instagram:v.instagram,facebook:v.facebook,youtube:v.youtube,website:v.socialWebsite}};console.log("Profile Save Debug - Update data:",r);const i=await E.y1.updateProfile(r);console.log("Profile Save Debug - API response:",i),i.success&&(T("Profile updated successfully!"),M(!1),p&&p(i.user))}catch(n){var t;console.error("Profile update error details:",{error:n,message:n.message,stack:n.stack,response:null===(t=n.response)||void 0===t?void 0:t.data}),A(n.message||"Failed to update profile")}finally{S(!1)}},children:[(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Profile Picture"}),(0,y.jsxs)("div",{className:"avatar-section",children:[(0,y.jsx)("div",{className:"avatar-container",children:j?(0,y.jsx)("img",{src:j,alt:"Profile",className:"avatar-preview"}):(0,y.jsx)("div",{className:"avatar-placeholder",style:{backgroundColor:v.avatarColor},children:(F=v.name,(null===F||void 0===F?void 0:F.split(" ").map(e=>e.charAt(0)).join("").substring(0,2).toUpperCase())||"U")})}),(0,y.jsxs)("div",{className:"avatar-controls",children:[(0,y.jsxs)("label",{className:"upload-button ".concat(N?"loading":""),children:[(0,y.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.size>5242880)A("Avatar file size must be less than 5MB");else if(t.type.startsWith("image/")){S(!0),A(null);try{const e=new FileReader;e.onloadend=()=>{k(e.result)},e.readAsDataURL(t);const n=await E.y1.uploadAvatar(t);if(!n.success)throw new Error(n.error||"Upload failed");{b(e=>(0,r.A)((0,r.A)({},e),{},{avatar:n.avatarUrl})),T("Avatar uploaded successfully!");const e=E.y1.getUser();if(e){const t=(0,r.A)((0,r.A)({},e),{},{avatar:n.avatarUrl}),a=E.y1.getToken();E.y1.saveUserSession(t,a,!0)}}}catch(C){console.error("Avatar upload error:",C),A("Failed to upload avatar: ".concat(C.message)),k((null===m||void 0===m?void 0:m.avatar)||null)}finally{S(!1)}}else A("Please select a valid image file")},ref:D,hidden:!0,disabled:N}),N?"Uploading...":"Upload Photo"]}),j&&(0,y.jsx)("button",{type:"button",className:"remove-button",onClick:async()=>{S(!0),A(null);try{await E.y1.removeAvatar(),k(null),b(e=>(0,r.A)((0,r.A)({},e),{},{avatar:null})),D.current&&(D.current.value="");const e=E.y1.getUser();if(e){const t=(0,r.A)((0,r.A)({},e),{},{avatar:null}),n=E.y1.getToken();E.y1.saveUserSession(t,n,!0)}T("Avatar removed successfully!")}catch(C){console.error("Remove avatar error:",C),A("Failed to remove avatar: ".concat(C.message))}finally{S(!1)}},disabled:N,children:N?"Removing...":"Remove"}),(0,y.jsxs)("div",{className:"avatar-color-picker",children:[(0,y.jsx)("label",{children:"Avatar Color:"}),(0,y.jsx)("input",{type:"color",value:v.avatarColor,onChange:e=>b(t=>(0,r.A)((0,r.A)({},t),{},{avatarColor:e.target.value}))})]})]})]})]}),(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Basic Information"}),(0,y.jsxs)("div",{className:"form-grid",children:[(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,y.jsx)("input",{id:"name",name:"name",type:"text",value:v.name,onChange:I,required:!0})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"displayName",children:"Display Name"}),(0,y.jsx)("input",{id:"displayName",name:"displayName",type:"text",value:v.displayName,onChange:I,placeholder:"How others see you"})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,y.jsx)("input",{id:"email",name:"email",type:"email",value:v.email,onChange:I,required:!0})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,y.jsx)("input",{id:"phone",name:"phone",type:"tel",value:v.phone,onChange:I})]})]})]}),(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"About"}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"statusMessage",children:"Status Message"}),(0,y.jsx)("input",{id:"statusMessage",name:"statusMessage",type:"text",value:v.statusMessage,onChange:I,placeholder:"What's on your mind?",maxLength:"100"})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"bio",children:"Bio"}),(0,y.jsx)("textarea",{id:"bio",name:"bio",value:v.bio,onChange:I,rows:"4",placeholder:"Tell us about yourself...",maxLength:"500"}),(0,y.jsxs)("div",{className:"char-count",children:[v.bio.length,"/500"]})]})]}),(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Professional Information"}),(0,y.jsxs)("div",{className:"form-grid",children:[(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"company",children:"Company"}),(0,y.jsx)("input",{id:"company",name:"company",type:"text",value:v.company,onChange:I})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"jobTitle",children:"Job Title"}),(0,y.jsx)("input",{id:"jobTitle",name:"jobTitle",type:"text",value:v.jobTitle,onChange:I})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"location",children:"Location"}),(0,y.jsx)("input",{id:"location",name:"location",type:"text",value:v.location,onChange:I,placeholder:"City, Country"})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"website",children:"Website"}),(0,y.jsx)("input",{id:"website",name:"website",type:"url",value:v.website,onChange:I,placeholder:"https://yourwebsite.com"})]})]})]}),(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Social Links"}),(0,y.jsxs)("div",{className:"form-grid",children:[(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"twitter",children:"Twitter"}),(0,y.jsx)("input",{id:"twitter",name:"twitter",type:"text",value:v.twitter,onChange:I,placeholder:"@username"})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"linkedin",children:"LinkedIn"}),(0,y.jsx)("input",{id:"linkedin",name:"linkedin",type:"url",value:v.linkedin,onChange:I,placeholder:"https://linkedin.com/in/username"})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"github",children:"GitHub"}),(0,y.jsx)("input",{id:"github",name:"github",type:"text",value:v.github,onChange:I,placeholder:"username"})]})]})]}),(0,y.jsx)("div",{className:"form-actions",children:(0,y.jsx)("button",{type:"submit",className:"save-button",disabled:N,onClick:e=>{console.log("Save button clicked directly!")},children:N?"Saving...":"Save Profile"})})]}),"preferences"===x&&(0,y.jsxs)("form",{className:"profile-form",onSubmit:async e=>{e.preventDefault(),S(!0),A(null),T(null);try{const e={theme:v.theme,language:v.language,timezone:v.timezone,notifications:v.notifications,privacy:{profileVisibility:v.profileVisibility,showOnlineStatus:v.showOnlineStatus,allowDirectMessages:v.allowDirectMessages,lastSeenVisibility:v.lastSeenVisibility||"everyone",onlineStatusVisibility:v.onlineStatusVisibility||"everyone",phoneVisibility:v.phoneVisibility||"contacts",emailVisibility:v.emailVisibility||"contacts",locationVisibility:v.locationVisibility||"contacts"}},t=await E.y1.updateCurrentUserPreferences(e);t.success&&(T("Preferences updated successfully!"),M(!1),p&&p(t.user))}catch(t){console.error("Preferences update error:",t),A(t.message||"Failed to update preferences")}finally{S(!1)}},children:[(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Appearance"}),(0,y.jsxs)("div",{className:"form-grid",children:[(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"theme",children:"Theme"}),(0,y.jsxs)("select",{id:"theme",name:"theme",value:v.theme,onChange:I,children:[(0,y.jsx)("option",{value:"light",children:"Light"}),(0,y.jsx)("option",{value:"dark",children:"Dark"}),(0,y.jsx)("option",{value:"system",children:"System Default"})]})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"language",children:"Language"}),(0,y.jsxs)("select",{id:"language",name:"language",value:v.language,onChange:I,children:[(0,y.jsx)("option",{value:"en",children:"English"}),(0,y.jsx)("option",{value:"es",children:"Espa\xf1ol"}),(0,y.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),(0,y.jsx)("option",{value:"de",children:"Deutsch"}),(0,y.jsx)("option",{value:"pt",children:"Portugu\xeas"}),(0,y.jsx)("option",{value:"zh",children:"\u4e2d\u6587"}),(0,y.jsx)("option",{value:"ja",children:"\u65e5\u672c\u8a9e"})]})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"timezone",children:"Timezone"}),(0,y.jsxs)("select",{id:"timezone",name:"timezone",value:v.timezone,onChange:I,children:[(0,y.jsx)("option",{value:"America/New_York",children:"Eastern Time"}),(0,y.jsx)("option",{value:"America/Chicago",children:"Central Time"}),(0,y.jsx)("option",{value:"America/Denver",children:"Mountain Time"}),(0,y.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time"}),(0,y.jsx)("option",{value:"Europe/London",children:"GMT"}),(0,y.jsx)("option",{value:"Europe/Paris",children:"Central European Time"}),(0,y.jsx)("option",{value:"Asia/Tokyo",children:"Japan Standard Time"}),(0,y.jsx)("option",{value:"Australia/Sydney",children:"Australian Eastern Time"})]})]})]})]}),(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Notifications"}),(0,y.jsxs)("div",{className:"checkbox-group",children:[(0,y.jsxs)("label",{className:"checkbox-label",children:[(0,y.jsx)("input",{type:"checkbox",name:"notifications.email",checked:v.notifications.email,onChange:I}),"Email notifications"]}),(0,y.jsxs)("label",{className:"checkbox-label",children:[(0,y.jsx)("input",{type:"checkbox",name:"notifications.push",checked:v.notifications.push,onChange:I}),"Push notifications"]}),(0,y.jsxs)("label",{className:"checkbox-label",children:[(0,y.jsx)("input",{type:"checkbox",name:"notifications.mentions",checked:v.notifications.mentions,onChange:I}),"Notify when mentioned"]}),(0,y.jsxs)("label",{className:"checkbox-label",children:[(0,y.jsx)("input",{type:"checkbox",name:"notifications.messages",checked:v.notifications.messages,onChange:I}),"New message notifications"]})]})]}),(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Privacy"}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"profileVisibility",children:"Profile Visibility"}),(0,y.jsxs)("select",{id:"profileVisibility",name:"profileVisibility",value:v.profileVisibility,onChange:I,children:[(0,y.jsx)("option",{value:"public",children:"Public"}),(0,y.jsx)("option",{value:"friends",children:"Friends Only"}),(0,y.jsx)("option",{value:"private",children:"Private"})]})]}),(0,y.jsxs)("div",{className:"checkbox-group",children:[(0,y.jsxs)("label",{className:"checkbox-label",children:[(0,y.jsx)("input",{type:"checkbox",name:"showOnlineStatus",checked:v.showOnlineStatus,onChange:I}),"Show online status"]}),(0,y.jsxs)("label",{className:"checkbox-label",children:[(0,y.jsx)("input",{type:"checkbox",name:"allowDirectMessages",checked:v.allowDirectMessages,onChange:I}),"Allow direct messages"]})]})]}),(0,y.jsx)("div",{className:"form-actions",children:(0,y.jsx)("button",{type:"submit",className:"save-button",disabled:N,children:N?"Saving...":"Save Preferences"})})]}),"security"===x&&(0,y.jsxs)("div",{className:"security-tab-content",children:[(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Account Security"}),(0,y.jsx)("div",{className:"security-status-card",children:(0,y.jsxs)("div",{className:"security-score",children:[(0,y.jsx)("div",{className:"score-icon",children:"\ud83d\udee1\ufe0f"}),(0,y.jsxs)("div",{className:"score-info",children:[(0,y.jsx)("div",{className:"score-title",children:"Security Level"}),(0,y.jsx)("div",{className:"score-description",children:"Your account security status"})]}),(0,y.jsx)("button",{type:"button",className:"view-security-btn",onClick:()=>{console.log("Open security dashboard")},children:"View Details"})]})})]}),(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Two-Factor Authentication"}),(0,y.jsxs)("div",{className:"two-factor-status",children:[(0,y.jsxs)("div",{className:"status-indicator",children:[(0,y.jsx)("div",{className:"status-icon",children:(0,y.jsx)("span",{className:"icon-placeholder",children:"\ud83d\udd13"})}),(0,y.jsxs)("div",{className:"status-content",children:[(0,y.jsx)("div",{className:"status-title",children:"Two-Factor Authentication is Off"}),(0,y.jsx)("div",{className:"status-description",children:"Add an extra layer of security to protect your account"})]}),(0,y.jsx)("button",{type:"button",className:"enable-2fa-btn",onClick:()=>{console.log("Enable 2FA")},children:"Enable 2FA"})]}),(0,y.jsxs)("div",{className:"security-benefits",children:[(0,y.jsx)("h4",{children:"Benefits of enabling 2FA:"}),(0,y.jsxs)("ul",{children:[(0,y.jsx)("li",{children:"\ud83d\udee1\ufe0f Protects against password breaches"}),(0,y.jsx)("li",{children:"\ud83d\udd10 Adds an extra layer of security"}),(0,y.jsx)("li",{children:"\ud83d\udcf1 Works with popular authenticator apps"}),(0,y.jsx)("li",{children:"\ud83d\udd11 Includes backup codes for recovery"})]})]})]})]}),(0,y.jsxs)("form",{className:"password-change-form",onSubmit:async e=>{if(e.preventDefault(),O.newPassword===O.confirmPassword)if(O.newPassword.length<8)A("Password must be at least 8 characters long");else{S(!0),A(null),T(null);try{(await E.y1.changeCurrentUserPassword(O.currentPassword,O.newPassword)).success&&(T("Password changed successfully!"),R({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(t){console.error("Password change error:",t),A(t.message||"Failed to change password")}finally{S(!1)}}else A("New passwords do not match")},children:[(0,y.jsxs)("div",{className:"form-section",children:[(0,y.jsx)("h3",{children:"Change Password"}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"currentPassword",children:"Current Password"}),(0,y.jsx)("input",{id:"currentPassword",type:"password",value:O.currentPassword,onChange:e=>R(t=>(0,r.A)((0,r.A)({},t),{},{currentPassword:e.target.value})),required:!0})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),(0,y.jsx)("input",{id:"newPassword",type:"password",value:O.newPassword,onChange:e=>R(t=>(0,r.A)((0,r.A)({},t),{},{newPassword:e.target.value})),required:!0,minLength:"8"}),(0,y.jsx)("div",{className:"password-requirements",children:"Password must be at least 8 characters long"})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,y.jsx)("input",{id:"confirmPassword",type:"password",value:O.confirmPassword,onChange:e=>R(t=>(0,r.A)((0,r.A)({},t),{},{confirmPassword:e.target.value})),required:!0})]})]}),(0,y.jsx)("div",{className:"form-actions",children:(0,y.jsx)("button",{type:"submit",className:"save-button",disabled:N,children:N?"Changing...":"Change Password"})})]})]})]});var F},P="quibish_user_activity_log",T="login",L="logout",M="message_sent",O="message_received",R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=D(),a={timestamp:Date.now(),type:e,data:t};return n.push(a),n.length>100&&n.shift(),localStorage.setItem(P,JSON.stringify(n)),!0}catch(n){return console.error("Failed to log activity:",n),!1}},D=()=>{try{const e=localStorage.getItem(P);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to retrieve activity log:",e),[]}},I=e=>{let{darkMode:t}=e;const[n,s]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0);(0,a.useEffect)(()=>{o();const e=setInterval(o,6e4);return()=>clearInterval(e)},[]);const o=()=>{i(!0);const e=(()=>{const e=D(),t=Date.now(),n=864e5,a=7*n,s=e.filter(e=>t-e.timestamp<n),r=e.filter(e=>t-e.timestamp<a),i=(e,t)=>e.filter(e=>e.type===t).length;return{totalActivities:e.length,today:{total:s.length,messagesSent:i(s,M),messagesReceived:i(s,O),logins:i(s,T)},week:{total:r.length,messagesSent:i(r,M),messagesReceived:i(r,O),logins:i(r,T)},lastActivity:e.length>0?e[e.length-1]:null}})();s(e),i(!1)};return r?(0,y.jsx)("div",{className:"user-analytics-loading",children:"Loading activity data..."}):(0,y.jsxs)("div",{className:"user-analytics ".concat(t?"dark":""),children:[(0,y.jsxs)("div",{className:"analytics-header",children:[(0,y.jsx)("h2",{children:"Activity Overview"}),(0,y.jsx)("button",{className:"refresh-button",onClick:o,"aria-label":"Refresh statistics",children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,y.jsx)("path",{d:"M23 4v6h-6"}),(0,y.jsx)("path",{d:"M1 20v-6h6"}),(0,y.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"}),(0,y.jsx)("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"})]})})]}),(0,y.jsxs)("div",{className:"analytics-summary",children:[(0,y.jsxs)("div",{className:"analytics-card",children:[(0,y.jsx)("h3",{children:"Today"}),(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Messages Sent"}),(0,y.jsx)("span",{className:"stat-value",children:n.today.messagesSent})]}),(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Messages Received"}),(0,y.jsx)("span",{className:"stat-value",children:n.today.messagesReceived})]}),(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Logins"}),(0,y.jsx)("span",{className:"stat-value",children:n.today.logins})]}),(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Total Activity"}),(0,y.jsx)("span",{className:"stat-value",children:n.today.total})]})]}),(0,y.jsxs)("div",{className:"analytics-card",children:[(0,y.jsx)("h3",{children:"This Week"}),(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Messages Sent"}),(0,y.jsx)("span",{className:"stat-value",children:n.week.messagesSent})]}),(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Messages Received"}),(0,y.jsx)("span",{className:"stat-value",children:n.week.messagesReceived})]}),(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Logins"}),(0,y.jsx)("span",{className:"stat-value",children:n.week.logins})]}),(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Total Activity"}),(0,y.jsx)("span",{className:"stat-value",children:n.week.total})]})]})]}),(0,y.jsxs)("div",{className:"last-activity",children:[(0,y.jsx)("h3",{children:"Last Activity"}),n.lastActivity?(0,y.jsxs)("div",{className:"last-activity-item",children:[(0,y.jsx)("div",{className:"activity-type",children:(c=n.lastActivity.type,c.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()))}),(0,y.jsx)("div",{className:"activity-time",children:(l=n.lastActivity.timestamp,new Date(l).toLocaleString())})]}):(0,y.jsx)("div",{className:"no-activity",children:"No activity recorded"})]}),(0,y.jsx)("div",{className:"analytics-actions",children:(0,y.jsx)("button",{className:"clear-log-button",onClick:()=>{window.confirm("Are you sure you want to clear your activity log? This cannot be undone.")&&((()=>{try{return localStorage.removeItem(P),!0}catch(e){return console.error("Failed to clear activity log:",e),!1}})(),o())},children:"Clear Activity Log"})})]});var l,c};var F,z=Object.defineProperty,_=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,V=(e,t,n)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H=(e,t)=>{for(var n in t||(t={}))U.call(t,n)&&V(e,n,t[n]);if(_)for(var n of _(t))B.call(t,n)&&V(e,n,t[n]);return e},q=(e,t)=>{var n={};for(var a in e)U.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&_)for(var a of _(e))t.indexOf(a)<0&&B.call(e,a)&&(n[a]=e[a]);return n};(e=>{const t=class t{constructor(e,n,a,r){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let i=[];for(let t=0;t<this.size;t++)i.push(!1);for(let t=0;t<this.size;t++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();const o=this.addEccAndInterleave(a);if(this.drawCodewords(o),-1==r){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const n=this.getPenaltyScore();n<e&&(r=t,e=n),this.applyMask(t)}}s(0<=r&&r<=7),this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}static encodeText(n,a){const s=e.QrSegment.makeSegments(n);return t.encodeSegments(s,a)}static encodeBinary(n,a){const s=e.QrSegment.makeBytes(n);return t.encodeSegments([s],a)}static encodeSegments(e,a){let r,o,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=l&&l<=c&&c<=t.MAX_VERSION)||u<-1||u>7)throw new RangeError("Invalid value");for(r=l;;r++){const n=8*t.getNumDataCodewords(r,a),s=i.getTotalBits(e,r);if(s<=n){o=s;break}if(r>=c)throw new RangeError("Data too long")}for(const n of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])d&&o<=8*t.getNumDataCodewords(r,n)&&(a=n);let h=[];for(const t of e){n(t.mode.modeBits,4,h),n(t.numChars,t.mode.numCharCountBits(r),h);for(const e of t.getData())h.push(e)}s(h.length==o);const m=8*t.getNumDataCodewords(r,a);s(h.length<=m),n(0,Math.min(4,m-h.length),h),n(0,(8-h.length%8)%8,h),s(h.length%8==0);for(let t=236;h.length<m;t^=253)n(t,8,h);let f=[];for(;8*f.length<h.length;)f.push(0);return h.forEach((e,t)=>f[t>>>3]|=e<<7-(7&t)),new t(r,a,f,u)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let a=0;a<t;a++)0==n&&0==a||0==n&&a==t-1||n==t-1&&0==a||this.drawAlignmentPattern(e[n],e[a]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let a=0;a<10;a++)n=n<<1^1335*(n>>>9);const r=21522^(t<<10|n);s(r>>>15==0);for(let s=0;s<=5;s++)this.setFunctionModule(8,s,a(r,s));this.setFunctionModule(8,7,a(r,6)),this.setFunctionModule(8,8,a(r,7)),this.setFunctionModule(7,8,a(r,8));for(let s=9;s<15;s++)this.setFunctionModule(14-s,8,a(r,s));for(let s=0;s<8;s++)this.setFunctionModule(this.size-1-s,8,a(r,s));for(let s=8;s<15;s++)this.setFunctionModule(8,this.size-15+s,a(r,s));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;s(t>>>18==0);for(let n=0;n<18;n++){const e=a(t,n),s=this.size-11+n%3,r=Math.floor(n/3);this.setFunctionModule(s,r,e),this.setFunctionModule(r,s,e)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let a=-4;a<=4;a++){const s=Math.max(Math.abs(a),Math.abs(n)),r=e+a,i=t+n;0<=r&&r<this.size&&0<=i&&i<this.size&&this.setFunctionModule(r,i,2!=s&&4!=s)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let a=-2;a<=2;a++)this.setFunctionModule(e+a,t+n,1!=Math.max(Math.abs(a),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const n=this.version,a=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,a))throw new RangeError("Invalid argument");const r=t.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][n],i=t.ECC_CODEWORDS_PER_BLOCK[a.ordinal][n],o=Math.floor(t.getNumRawDataModules(n)/8),l=r-o%r,c=Math.floor(o/r);let u=[];const d=t.reedSolomonComputeDivisor(i);for(let s=0,m=0;s<r;s++){let n=e.slice(m,m+c-i+(s<l?0:1));m+=n.length;const a=t.reedSolomonComputeRemainder(n,d);s<l&&n.push(0),u.push(n.concat(a))}let h=[];for(let t=0;t<u[0].length;t++)u.forEach((e,n)=>{(t!=c-i||n>=l)&&h.push(e[t])});return s(h.length==o),h}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let s=0;s<this.size;s++)for(let r=0;r<2;r++){const i=t-r,o=0==(t+1&2)?this.size-1-s:s;!this.isFunction[o][i]&&n<8*e.length&&(this.modules[o][i]=a(e[n>>>3],7-(7&n)),n++)}}s(n==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let a;switch(e){case 0:a=(n+t)%2==0;break;case 1:a=t%2==0;break;case 2:a=n%3==0;break;case 3:a=(n+t)%3==0;break;case 4:a=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:a=n*t%2+n*t%3==0;break;case 6:a=(n*t%2+n*t%3)%2==0;break;case 7:a=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&a&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let s=0;s<this.size;s++){let n=!1,a=0,r=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[s][i]==n?(a++,5==a?e+=t.PENALTY_N1:a>5&&e++):(this.finderPenaltyAddHistory(a,r),n||(e+=this.finderPenaltyCountPatterns(r)*t.PENALTY_N3),n=this.modules[s][i],a=1);e+=this.finderPenaltyTerminateAndCount(n,a,r)*t.PENALTY_N3}for(let s=0;s<this.size;s++){let n=!1,a=0,r=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[i][s]==n?(a++,5==a?e+=t.PENALTY_N1:a>5&&e++):(this.finderPenaltyAddHistory(a,r),n||(e+=this.finderPenaltyCountPatterns(r)*t.PENALTY_N3),n=this.modules[i][s],a=1);e+=this.finderPenaltyTerminateAndCount(n,a,r)*t.PENALTY_N3}for(let s=0;s<this.size-1;s++)for(let n=0;n<this.size-1;n++){const a=this.modules[s][n];a==this.modules[s][n+1]&&a==this.modules[s+1][n]&&a==this.modules[s+1][n+1]&&(e+=t.PENALTY_N2)}let n=0;for(const t of this.modules)n=t.reduce((e,t)=>e+(t?1:0),n);const a=this.size*this.size,r=Math.ceil(Math.abs(20*n-10*a)/a)-1;return s(0<=r&&r<=9),e+=r*t.PENALTY_N4,s(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let n=[6];for(let a=this.size-7;n.length<e;a-=t)n.splice(1,0,a);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return s(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let a=1;for(let s=0;s<e;s++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],a),e+1<n.length&&(n[e]^=n[e+1]);a=t.reedSolomonMultiply(a,2)}return n}static reedSolomonComputeRemainder(e,n){let a=n.map(e=>0);for(const s of e){const e=s^a.shift();a.push(0),n.forEach((n,s)=>a[s]^=t.reedSolomonMultiply(n,e))}return a}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let n=0;for(let a=7;a>=0;a--)n=n<<1^285*(n>>>7),n^=(t>>>a&1)*e;return s(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];s(t<=3*this.size);const n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];function n(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let a=t-1;a>=0;a--)n.push(e>>>a&1)}function a(e,t){return 0!=(e>>>t&1)}function s(e){if(!e)throw new Error("Assertion error")}e.QrCode=t;const r=class e{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(t){let a=[];for(const e of t)n(e,8,a);return new e(e.Mode.BYTE,t.length,a)}static makeNumeric(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");let a=[];for(let e=0;e<t.length;){const s=Math.min(t.length-e,3);n(parseInt(t.substring(e,e+s),10),3*s+1,a),e+=s}return new e(e.Mode.NUMERIC,t.length,a)}static makeAlphanumeric(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let a,s=[];for(a=0;a+2<=t.length;a+=2){let r=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(a));r+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(a+1)),n(r,11,s)}return a<t.length&&n(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(a)),6,s),new e(e.Mode.ALPHANUMERIC,t.length,s)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let a=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)n(t,8,a);else if(t<16384)n(2,2,a),n(t,14,a);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");n(6,3,a),n(t,21,a)}return new e(e.Mode.ECI,0,a)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const a of e){const e=a.mode.numCharCountBits(t);if(a.numChars>=1<<e)return 1/0;n+=4+e+a.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t}};r.NUMERIC_REGEX=/^[0-9]*$/,r.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,r.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let i=r;e.QrSegment=r})(F||(F={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2);e.Ecc=t})(t=e.QrCode||(e.QrCode={}))})(F||(F={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]);e.Mode=t})(t=e.QrSegment||(e.QrSegment={}))})(F||(F={}));var W=F,G={L:W.QrCode.Ecc.LOW,M:W.QrCode.Ecc.MEDIUM,Q:W.QrCode.Ecc.QUARTILE,H:W.QrCode.Ecc.HIGH},Q=128,$="L",J="#FFFFFF",K="#000000",Y=!1,X=1;function Z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];return e.forEach(function(e,a){let s=null;e.forEach(function(r,i){if(!r&&null!==s)return n.push("M".concat(s+t," ").concat(a+t,"h").concat(i-s,"v1H").concat(s+t,"z")),void(s=null);if(i!==e.length-1)r&&null===s&&(s=i);else{if(!r)return;null===s?n.push("M".concat(i+t,",").concat(a+t," h1v1H").concat(i+t,"z")):n.push("M".concat(s+t,",").concat(a+t," h").concat(i+1-s,"v1H").concat(s+t,"z"))}})}),n.join("")}function ee(e,t){return e.slice().map((e,n)=>n<t.y||n>=t.y+t.h?e:e.map((e,n)=>(n<t.x||n>=t.x+t.w)&&e))}function te(e){let{value:t,level:n,minVersion:s,includeMargin:r,marginSize:i,imageSettings:o,size:l,boostLevel:c}=e,u=a.useMemo(()=>{const e=(Array.isArray(t)?t:[t]).reduce((e,t)=>(e.push(...W.QrSegment.makeSegments(t)),e),[]);return W.QrCode.encodeSegments(e,G[n],s,void 0,void 0,c)},[t,n,s,c]);const{cells:d,margin:h,numCells:m,calculatedImageSettings:f}=a.useMemo(()=>{let e=u.getModules();const t=function(e,t){return null!=t?Math.max(Math.floor(t),0):e?4:0}(r,i),n=e.length+2*t,a=function(e,t,n,a){if(null==a)return null;const s=e.length+2*n,r=Math.floor(.1*t),i=s/t,o=(a.width||r)*i,l=(a.height||r)*i,c=null==a.x?e.length/2-o/2:a.x*i,u=null==a.y?e.length/2-l/2:a.y*i,d=null==a.opacity?1:a.opacity;let h=null;if(a.excavate){let e=Math.floor(c),t=Math.floor(u);h={x:e,y:t,w:Math.ceil(o+c-e),h:Math.ceil(l+u-t)}}return{x:c,y:u,h:l,w:o,excavation:h,opacity:d,crossOrigin:a.crossOrigin}}(e,l,t,o);return{cells:e,margin:t,numCells:n,calculatedImageSettings:a}},[u,l,o,r,i]);return{qrcode:u,margin:h,cells:d,numCells:m,calculatedImageSettings:f}}var ne=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}();a.forwardRef(function(e,t){const n=e,{value:s,size:r=Q,level:i=$,bgColor:o=J,fgColor:l=K,includeMargin:c=Y,minVersion:u=X,boostLevel:d,marginSize:h,imageSettings:m}=n,f=q(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:p}=f,g=q(f,["style"]),v=null==m?void 0:m.src,y=a.useRef(null),b=a.useRef(null),x=a.useCallback(e=>{y.current=e,"function"===typeof t?t(e):t&&(t.current=e)},[t]),[w,j]=a.useState(!1),{margin:k,cells:N,numCells:S,calculatedImageSettings:C}=te({value:s,level:i,minVersion:u,boostLevel:d,includeMargin:c,marginSize:h,imageSettings:m,size:r});a.useEffect(()=>{if(null!=y.current){const e=y.current,t=e.getContext("2d");if(!t)return;let n=N;const a=b.current,s=null!=C&&null!==a&&a.complete&&0!==a.naturalHeight&&0!==a.naturalWidth;s&&null!=C.excavation&&(n=ee(N,C.excavation));const i=window.devicePixelRatio||1;e.height=e.width=r*i;const c=r/S*i;t.scale(c,c),t.fillStyle=o,t.fillRect(0,0,S,S),t.fillStyle=l,ne?t.fill(new Path2D(Z(n,k))):N.forEach(function(e,n){e.forEach(function(e,a){e&&t.fillRect(a+k,n+k,1,1)})}),C&&(t.globalAlpha=C.opacity),s&&t.drawImage(a,C.x+k,C.y+k,C.w,C.h)}}),a.useEffect(()=>{j(!1)},[v]);const E=H({height:r,width:r},p);let A=null;return null!=v&&(A=a.createElement("img",{src:v,key:v,style:{display:"none"},onLoad:()=>{j(!0)},ref:b,crossOrigin:null==C?void 0:C.crossOrigin})),a.createElement(a.Fragment,null,a.createElement("canvas",H({style:E,height:r,width:r,ref:x,role:"img"},g)),A)}).displayName="QRCodeCanvas";var ae=a.forwardRef(function(e,t){const n=e,{value:s,size:r=Q,level:i=$,bgColor:o=J,fgColor:l=K,includeMargin:c=Y,minVersion:u=X,boostLevel:d,title:h,marginSize:m,imageSettings:f}=n,p=q(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:v,numCells:y,calculatedImageSettings:b}=te({value:s,level:i,minVersion:u,boostLevel:d,includeMargin:c,marginSize:m,imageSettings:f,size:r});let x=v,w=null;null!=f&&null!=b&&(null!=b.excavation&&(x=ee(v,b.excavation)),w=a.createElement("image",{href:f.src,height:b.h,width:b.w,x:b.x+g,y:b.y+g,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const j=Z(x,g);return a.createElement("svg",H({height:r,width:r,viewBox:"0 0 ".concat(y," ").concat(y),ref:t,role:"img"},p),!!h&&a.createElement("title",null,h),a.createElement("path",{fill:o,d:"M0,0 h".concat(y,"v").concat(y,"H0z"),shapeRendering:"crispEdges"}),a.createElement("path",{fill:l,d:j,shapeRendering:"crispEdges"}),w)});ae.displayName="QRCodeSVG";const se=e=>{let{onClose:t,onSetupComplete:n}=e;const[s,r]=(0,a.useState)(1),[i,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[f,p]=(0,a.useState)([]),[g,b]=(0,a.useState)(!1),[x,w]=(0,a.useState)("");(0,a.useEffect)(()=>{j()},[]);const j=async()=>{try{b(!0),w("");const e=await v.api.setupTwoFactor();if(!e.success)throw new Error(e.error||"Failed to initialize 2FA setup");o(e.qrCode),c(e.secret),d(e.manualEntryKey)}catch(e){console.error("2FA setup initialization error:",e),w(e.message||"Failed to initialize 2FA setup")}finally{b(!1)}},k=e=>{navigator.clipboard.writeText(e).then(()=>{})};return g&&1===s?(0,y.jsx)("div",{className:"two-factor-setup-overlay",children:(0,y.jsx)("div",{className:"two-factor-setup-container",children:(0,y.jsxs)("div",{className:"loading-state",children:[(0,y.jsx)("div",{className:"loading-spinner"}),(0,y.jsx)("p",{children:"Setting up Two-Factor Authentication..."})]})})}):(0,y.jsx)("div",{className:"two-factor-setup-overlay",children:(0,y.jsxs)("div",{className:"two-factor-setup-container",children:[(0,y.jsxs)("div",{className:"setup-header",children:[(0,y.jsx)("h2",{children:"Enable Two-Factor Authentication"}),(0,y.jsx)("button",{onClick:t,className:"close-button",disabled:g,children:"\xd7"})]}),1===s&&(0,y.jsxs)("div",{className:"setup-step",children:[(0,y.jsxs)("div",{className:"step-indicator",children:[(0,y.jsx)("span",{className:"step active",children:"1"}),(0,y.jsx)("span",{className:"step",children:"2"}),(0,y.jsx)("span",{className:"step",children:"3"})]}),(0,y.jsx)("h3",{children:"Step 1: Install Authenticator App"}),(0,y.jsx)("p",{children:"Download and install an authenticator app on your phone:"}),(0,y.jsxs)("div",{className:"app-recommendations",children:[(0,y.jsxs)("div",{className:"app-option",children:[(0,y.jsx)("span",{className:"app-icon",children:"\ud83d\udcf1"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("strong",{children:"Google Authenticator"}),(0,y.jsx)("p",{children:"Free, simple, and reliable"})]})]}),(0,y.jsxs)("div",{className:"app-option",children:[(0,y.jsx)("span",{className:"app-icon",children:"\ud83d\udd10"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("strong",{children:"Authy"}),(0,y.jsx)("p",{children:"Cross-device sync and backup"})]})]}),(0,y.jsxs)("div",{className:"app-option",children:[(0,y.jsx)("span",{className:"app-icon",children:"\ud83d\udee1\ufe0f"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("strong",{children:"Microsoft Authenticator"}),(0,y.jsx)("p",{children:"Integration with Microsoft services"})]})]})]}),(0,y.jsx)("button",{onClick:()=>r(2),className:"next-button",disabled:g,children:"I have an authenticator app"})]}),2===s&&(0,y.jsxs)("div",{className:"setup-step",children:[(0,y.jsxs)("div",{className:"step-indicator",children:[(0,y.jsx)("span",{className:"step completed",children:"\u2713"}),(0,y.jsx)("span",{className:"step active",children:"2"}),(0,y.jsx)("span",{className:"step",children:"3"})]}),(0,y.jsx)("h3",{children:"Step 2: Scan QR Code"}),(0,y.jsx)("p",{children:"Scan this QR code with your authenticator app:"}),(0,y.jsxs)("div",{className:"qr-code-section",children:[i&&(0,y.jsx)("div",{className:"qr-code-container",children:(0,y.jsx)(ae,{value:i,size:200})}),(0,y.jsxs)("div",{className:"manual-entry",children:[(0,y.jsx)("p",{children:"Can't scan? Enter this code manually:"}),(0,y.jsxs)("div",{className:"manual-key",children:[(0,y.jsx)("code",{children:u}),(0,y.jsx)("button",{onClick:()=>k(u),className:"copy-button",title:"Copy to clipboard",children:"\ud83d\udccb"})]})]})]}),(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h.trim())try{b(!0),w("");const e=await v.api.verifyTwoFactorSetup(h.trim());if(!e.success)throw new Error(e.error||"Verification failed");p(e.backupCodes),r(3)}catch(t){console.error("2FA verification error:",t),w(t.message||"Verification failed. Please try again.")}finally{b(!1)}else w("Please enter the verification code")},className:"verification-form",children:[(0,y.jsx)("h4",{children:"Enter the 6-digit code from your app:"}),(0,y.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:"6",value:h,onChange:e=>{m(e.target.value),w("")},placeholder:"000000",className:"verification-input",disabled:g}),x&&(0,y.jsxs)("div",{className:"error-message",children:[(0,y.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),x]}),(0,y.jsxs)("div",{className:"form-actions",children:[(0,y.jsx)("button",{type:"button",onClick:()=>r(1),className:"back-button",disabled:g,children:"Back"}),(0,y.jsx)("button",{type:"submit",className:"verify-button",disabled:g||6!==h.length,children:g?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"loading-spinner small"}),"Verifying..."]}):"Verify & Enable"})]})]})]}),3===s&&(0,y.jsxs)("div",{className:"setup-step",children:[(0,y.jsxs)("div",{className:"step-indicator",children:[(0,y.jsx)("span",{className:"step completed",children:"\u2713"}),(0,y.jsx)("span",{className:"step completed",children:"\u2713"}),(0,y.jsx)("span",{className:"step active",children:"3"})]}),(0,y.jsxs)("div",{className:"success-message",children:[(0,y.jsx)("span",{className:"success-icon",children:"\ud83c\udf89"}),(0,y.jsx)("h3",{children:"2FA Successfully Enabled!"}),(0,y.jsx)("p",{children:"Your account is now protected with two-factor authentication."})]}),(0,y.jsxs)("div",{className:"backup-codes-section",children:[(0,y.jsx)("h4",{children:"Save Your Backup Codes"}),(0,y.jsx)("p",{children:"These codes can be used to access your account if you lose your phone:"}),(0,y.jsxs)("div",{className:"backup-codes-container",children:[(0,y.jsx)("div",{className:"backup-codes-grid",children:f.map((e,t)=>(0,y.jsx)("div",{className:"backup-code",children:(0,y.jsx)("code",{children:e})},t))}),(0,y.jsxs)("div",{className:"backup-codes-actions",children:[(0,y.jsx)("button",{onClick:()=>{const e="Quibish 2FA Backup Codes\n\nGenerated: ".concat((new Date).toLocaleDateString(),"\n\nBackup Codes:\n").concat(f.join("\n"),"\n\nImportant:\n- Each code can only be used once\n- Keep these codes in a safe place\n- Generate new codes if you lose these"),t=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="quibish-2fa-backup-codes.txt",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)},className:"download-button",children:"\ud83d\udce5 Download Codes"}),(0,y.jsx)("button",{onClick:()=>k(f.join("\n")),className:"copy-button",children:"\ud83d\udccb Copy All"})]})]}),(0,y.jsxs)("div",{className:"warning-message",children:[(0,y.jsx)("span",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Important:"})," Save these backup codes in a secure location. Each code can only be used once."]})]})]}),(0,y.jsx)("button",{onClick:()=>{n(),t()},className:"complete-button",children:"Complete Setup"})]})]})})},re=()=>{const[e,t]=(0,a.useState)({enabled:!1,method:"totp",setupAt:null,lastUsed:null,unusedBackupCodes:0}),[n,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[d,h]=(0,a.useState)(""),[m,f]=(0,a.useState)(""),[p,g]=(0,a.useState)(!1),[b,x]=(0,a.useState)(!1),[w,j]=(0,a.useState)([]),[k,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{S()},[]);const S=async()=>{try{s(!0),i("");const e=await v.api.getTwoFactorStatus();if(!e.success)throw new Error(e.error||"Failed to load 2FA status");t(e)}catch(e){console.error("Load 2FA status error:",e),i(e.message||"Failed to load 2FA status")}finally{s(!1)}};return n?(0,y.jsx)("div",{className:"two-factor-settings",children:(0,y.jsxs)("div",{className:"loading-state",children:[(0,y.jsx)("div",{className:"loading-spinner"}),(0,y.jsx)("p",{children:"Loading 2FA settings..."})]})}):(0,y.jsxs)("div",{className:"two-factor-settings",children:[(0,y.jsxs)("div",{className:"settings-header",children:[(0,y.jsx)("h3",{children:"Two-Factor Authentication"}),(0,y.jsx)("p",{children:"Add an extra layer of security to your account"})]}),r&&(0,y.jsxs)("div",{className:"error-message",children:[(0,y.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),r]}),(0,y.jsx)("div",{className:"settings-content",children:e.enabled?(0,y.jsxs)("div",{className:"two-factor-enabled",children:[(0,y.jsxs)("div",{className:"status-card enabled",children:[(0,y.jsx)("div",{className:"status-icon",children:"\ud83d\udee1\ufe0f"}),(0,y.jsxs)("div",{className:"status-content",children:[(0,y.jsx)("h4",{children:"Two-Factor Authentication is On"}),(0,y.jsxs)("p",{children:["Your account is protected with ",e.method.toUpperCase(),"."]}),(0,y.jsxs)("div",{className:"status-details",children:[e.setupAt&&(0,y.jsxs)("p",{className:"detail",children:[(0,y.jsx)("strong",{children:"Enabled:"})," ",new Date(e.setupAt).toLocaleDateString()]}),e.lastUsed&&(0,y.jsxs)("p",{className:"detail",children:[(0,y.jsx)("strong",{children:"Last Used:"})," ",new Date(e.lastUsed).toLocaleDateString()]}),(0,y.jsxs)("p",{className:"detail",children:[(0,y.jsx)("strong",{children:"Backup Codes:"})," ",e.unusedBackupCodes," remaining"]})]})]})]}),(0,y.jsxs)("div",{className:"management-actions",children:[(0,y.jsxs)("div",{className:"action-group",children:[(0,y.jsx)("h4",{children:"Backup Codes"}),(0,y.jsx)("p",{children:"Generate new backup codes if you've lost your existing ones."}),(0,y.jsx)("button",{onClick:async()=>{try{N(!0),i("");const e=await v.api.generateBackupCodes();if(!e.success)throw new Error(e.error||"Failed to generate backup codes");j(e.backupCodes),x(!0),await S()}catch(e){console.error("Generate backup codes error:",e),i(e.message||"Failed to generate backup codes")}finally{N(!1)}},className:"secondary-button",disabled:k,children:k?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"loading-spinner small"}),"Generating..."]}):"Generate New Backup Codes"})]}),(0,y.jsxs)("div",{className:"action-group",children:[(0,y.jsx)("h4",{children:"Disable 2FA"}),(0,y.jsx)("p",{children:"Remove two-factor authentication from your account."}),(0,y.jsx)("button",{onClick:()=>u(!0),className:"danger-button",children:"Disable 2FA"})]})]})]}):(0,y.jsxs)("div",{className:"two-factor-disabled",children:[(0,y.jsxs)("div",{className:"status-card",children:[(0,y.jsx)("div",{className:"status-icon",children:"\ud83d\udd13"}),(0,y.jsxs)("div",{className:"status-content",children:[(0,y.jsx)("h4",{children:"Two-Factor Authentication is Off"}),(0,y.jsx)("p",{children:"Protect your account by requiring a second form of authentication."})]}),(0,y.jsx)("button",{onClick:()=>l(!0),className:"enable-button",children:"Enable 2FA"})]}),(0,y.jsxs)("div",{className:"benefits-section",children:[(0,y.jsx)("h4",{children:"Benefits of 2FA:"}),(0,y.jsxs)("ul",{children:[(0,y.jsx)("li",{children:"\ud83d\udee1\ufe0f Enhanced account security"}),(0,y.jsx)("li",{children:"\ud83d\udd10 Protection against password breaches"}),(0,y.jsx)("li",{children:"\ud83d\udcf1 Works with popular authenticator apps"}),(0,y.jsx)("li",{children:"\ud83d\udd11 Backup codes for recovery"})]})]})]})}),o&&(0,y.jsx)(se,{onClose:()=>l(!1),onSetupComplete:async()=>{l(!1),await S()}}),c&&(0,y.jsx)("div",{className:"modal-overlay",children:(0,y.jsxs)("div",{className:"modal-container",children:[(0,y.jsxs)("div",{className:"modal-header",children:[(0,y.jsx)("h3",{children:"Disable Two-Factor Authentication"}),(0,y.jsx)("button",{onClick:()=>u(!1),className:"close-button",disabled:p,children:"\xd7"})]}),(0,y.jsxs)("div",{className:"modal-content",children:[(0,y.jsxs)("div",{className:"warning-message",children:[(0,y.jsx)("span",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Warning:"})," Disabling 2FA will make your account less secure. You'll only need your password to log in."]})]}),(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d.trim())if(m.trim())try{g(!0),i("");const e=await v.api.disableTwoFactor(d,m);if(!e.success)throw new Error(e.error||"Failed to disable 2FA");u(!1),h(""),f(""),await S()}catch(t){console.error("Disable 2FA error:",t),i(t.message||"Failed to disable 2FA")}finally{g(!1)}else i("2FA code is required to disable 2FA");else i("Password is required to disable 2FA")},className:"disable-form",children:[(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"disable-password",children:"Current Password"}),(0,y.jsx)("input",{id:"disable-password",type:"password",value:d,onChange:e=>{h(e.target.value),i("")},placeholder:"Enter your password",disabled:p,required:!0})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"disable-code",children:"2FA Code"}),(0,y.jsx)("input",{id:"disable-code",type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:"6",value:m,onChange:e=>{f(e.target.value),i("")},placeholder:"000000",disabled:p,required:!0})]}),(0,y.jsxs)("div",{className:"form-actions",children:[(0,y.jsx)("button",{type:"button",onClick:()=>u(!1),className:"cancel-button",disabled:p,children:"Cancel"}),(0,y.jsx)("button",{type:"submit",className:"danger-button",disabled:p||!d.trim()||!m.trim(),children:p?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"loading-spinner small"}),"Disabling..."]}):"Disable 2FA"})]})]})]})]})}),b&&(0,y.jsx)("div",{className:"modal-overlay",children:(0,y.jsxs)("div",{className:"modal-container",children:[(0,y.jsxs)("div",{className:"modal-header",children:[(0,y.jsx)("h3",{children:"New Backup Codes Generated"}),(0,y.jsx)("button",{onClick:()=>x(!1),className:"close-button",children:"\xd7"})]}),(0,y.jsxs)("div",{className:"modal-content",children:[(0,y.jsx)("p",{children:"Save these backup codes in a secure location. Each code can only be used once."}),(0,y.jsxs)("div",{className:"backup-codes-container",children:[(0,y.jsx)("div",{className:"backup-codes-grid",children:w.map((e,t)=>(0,y.jsx)("div",{className:"backup-code",children:(0,y.jsx)("code",{children:e})},t))}),(0,y.jsxs)("div",{className:"backup-codes-actions",children:[(0,y.jsx)("button",{onClick:()=>{const e="Quibish 2FA Backup Codes\n\nGenerated: ".concat((new Date).toLocaleDateString(),"\n\nBackup Codes:\n").concat(w.join("\n"),"\n\nImportant:\n- Each code can only be used once\n- Keep these codes in a safe place\n- Generate new codes if you lose these"),t=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="quibish-2fa-backup-codes.txt",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)},className:"download-button",children:"\ud83d\udce5 Download"}),(0,y.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(w.join("\n")).then(()=>{})},className:"copy-button",children:"\ud83d\udccb Copy All"})]})]}),(0,y.jsxs)("div",{className:"warning-message",children:[(0,y.jsx)("span",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Important:"})," Your old backup codes are no longer valid."]})]}),(0,y.jsx)("button",{onClick:()=>x(!1),className:"primary-button",children:"I've Saved These Codes"})]})]})})]})},ie=e=>{var t;let{user:n,onSave:s,darkMode:i}=e;const o=[{id:"blue",name:"Ocean Blue",bg:"#e3f2fd",border:"#2196f3",accent:"#1976d2"},{id:"purple",name:"Royal Purple",bg:"#f3e5f5",border:"#9c27b0",accent:"#7b1fa2"},{id:"green",name:"Forest Green",bg:"#e8f5e8",border:"#4caf50",accent:"#388e3c"},{id:"orange",name:"Sunset Orange",bg:"#fff3e0",border:"#ff9800",accent:"#f57c00"},{id:"pink",name:"Rose Pink",bg:"#fce4ec",border:"#e91e63",accent:"#c2185b"},{id:"teal",name:"Mystic Teal",bg:"#e0f2f1",border:"#009688",accent:"#00695c"},{id:"lightgreen",name:"Spring Green",bg:"#f1f8e9",border:"#8bc34a",accent:"#689f38"},{id:"indigo",name:"Deep Indigo",bg:"#e8eaf6",border:"#3f51b5",accent:"#303f9f"},{id:"amber",name:"Golden Amber",bg:"#fff8e1",border:"#ffc107",accent:"#ffa000"},{id:"peach",name:"Warm Peach",bg:"#ffeaa7",border:"#fdcb6e",accent:"#e17055"},{id:"coral",name:"Coral Reef",bg:"#fab1a0",border:"#e17055",accent:"#d63031"},{id:"lavender",name:"Lavender Dream",bg:"#a29bfe",border:"#6c5ce7",accent:"#5f3dc4"}],[l,c]=(0,a.useState)((null===n||void 0===n||null===(t=n.preferences)||void 0===t?void 0:t.messageColor)||"auto"),[u,d]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),f=(()=>{if(null===n||void 0===n||!n.id)return o[0];let e=0;for(let a=0;a<n.id.toString().length;a++){e=(e<<5)-e+n.id.toString().charCodeAt(a),e&=e}const t=Math.abs(e)%o.length;return o[t]})(),p=e=>{c(e)};return(0,y.jsxs)("div",{className:"color-preferences ".concat(i?"dark":""),children:[(0,y.jsxs)("div",{className:"preferences-header",children:[(0,y.jsx)("h3",{children:"Message Card Colors"}),(0,y.jsx)("p",{children:"Customize how your messages appear to other users in conversations"})]}),(0,y.jsxs)("div",{className:"current-preview",children:[(0,y.jsx)("h4",{children:"Current Selection Preview"}),(e=>{const t="auto"===e?f:o.find(t=>t.id===e);return t?(0,y.jsxs)("div",{className:"color-preview-card",style:{backgroundColor:t.bg,borderLeftColor:t.border,borderLeftWidth:"4px",borderLeftStyle:"solid"},children:[(0,y.jsxs)("div",{className:"preview-header",children:[(0,y.jsx)("span",{className:"preview-username",style:{color:t.accent},children:(null===n||void 0===n?void 0:n.name)||"Your Name"}),(0,y.jsx)("span",{className:"preview-time",children:"2:34 PM"})]}),(0,y.jsx)("div",{className:"preview-message",children:"This is how your messages will look with this color theme! \ud83c\udfa8"})]}):null})(l)]}),(0,y.jsxs)("div",{className:"color-options",children:[(0,y.jsx)("h4",{children:"Choose Your Color Theme"}),(0,y.jsxs)("div",{className:"color-grid",children:[(0,y.jsxs)("div",{className:"color-option ".concat("auto"===l?"selected":""),onClick:()=>p("auto"),children:[(0,y.jsx)("div",{className:"color-swatch auto-swatch",style:{background:"linear-gradient(45deg, ".concat(f.bg,", ").concat(f.border,")")},children:(0,y.jsx)("span",{className:"auto-label",children:"AUTO"})}),(0,y.jsx)("span",{className:"color-name",children:"Auto-Assigned"}),(0,y.jsx)("span",{className:"color-description",children:"Based on your unique ID"})]}),o.map(e=>(0,y.jsxs)("div",{className:"color-option ".concat(l===e.id?"selected":""),onClick:()=>p(e.id),children:[(0,y.jsx)("div",{className:"color-swatch",style:{backgroundColor:e.bg,border:"3px solid ".concat(e.border)},children:(0,y.jsx)("div",{className:"swatch-accent",style:{backgroundColor:e.accent}})}),(0,y.jsx)("span",{className:"color-name",children:e.name})]},e.id))]})]}),(0,y.jsxs)("div",{className:"preferences-actions",children:[(0,y.jsx)("button",{className:"reset-button",onClick:()=>{c("auto"),localStorage.removeItem("userColorPreference")},disabled:h,children:"Reset to Auto"}),(0,y.jsx)("button",{className:"save-button",onClick:async()=>{m(!0);try{const e=(0,r.A)((0,r.A)({},n),{},{preferences:(0,r.A)((0,r.A)({},n.preferences),{},{messageColor:l})});localStorage.setItem("userColorPreference",l),window.dispatchEvent(new CustomEvent("userColorChanged",{detail:{colorTheme:l}})),s&&await s(e),alert("Color preference saved successfully!")}catch(e){console.error("Error saving color preference:",e),alert("Failed to save color preference. Please try again.")}finally{m(!1)}},disabled:h,children:h?"Saving...":"Save Changes"})]}),(0,y.jsxs)("div",{className:"preferences-info",children:[(0,y.jsx)("h4",{children:"About Message Colors"}),(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{children:["\ud83c\udfa8 ",(0,y.jsx)("strong",{children:"Auto-Assigned:"})," A unique color is automatically chosen based on your user ID"]}),(0,y.jsxs)("li",{children:["\ud83c\udf08 ",(0,y.jsx)("strong",{children:"Custom Colors:"})," Choose your preferred color theme from our curated palette"]}),(0,y.jsxs)("li",{children:["\ud83d\udc65 ",(0,y.jsx)("strong",{children:"Consistency:"})," Your chosen color will appear consistently across all conversations"]}),(0,y.jsxs)("li",{children:["\ud83d\udd04 ",(0,y.jsx)("strong",{children:"Live Updates:"})," Changes are applied immediately to new messages"]})]})]})]})},oe=e=>{let{user:t,darkMode:n,onUnsavedChanges:s}=e;const[i,o]=(0,a.useState)({messageNotifications:!0,messageSounds:!0,messagePreview:!0,emailDigest:!0,emailNewMessages:!1,emailSecurityAlerts:!0,pushEnabled:!0,pushMessages:!0,pushMentions:!0,pushGroupActivity:!1,dndEnabled:!1,dndStart:"22:00",dndEnd:"08:00",dndDays:["saturday","sunday"],vibration:!0,ledFlash:!1,notificationGrouping:!0,customTones:!1}),[l,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{null===s||void 0===s||s(l)},[l,s]);const u=(e,t)=>{o(n=>(0,r.A)((0,r.A)({},n),{},{[e]:t})),c(!0)},d=e=>{let{checked:t,onChange:n,disabled:a=!1}=e;return(0,y.jsxs)("label",{className:"toggle-switch ".concat(a?"disabled":""),children:[(0,y.jsx)("input",{type:"checkbox",checked:t,onChange:e=>n(e.target.checked),disabled:a}),(0,y.jsx)("span",{className:"toggle-slider"})]})};return(0,y.jsxs)("div",{className:"notification-settings ".concat(n?"dark":""),children:[(0,y.jsxs)("div",{className:"settings-group",children:[(0,y.jsxs)("h3",{className:"group-title",children:[(0,y.jsx)("span",{className:"group-icon",children:"\ud83d\udcac"}),"Message Notifications"]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Enable Message Notifications"}),(0,y.jsx)("p",{className:"setting-description",children:"Receive notifications for new messages"})]}),(0,y.jsx)(d,{checked:i.messageNotifications,onChange:e=>u("messageNotifications",e)})]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Notification Sounds"}),(0,y.jsx)("p",{className:"setting-description",children:"Play sound when receiving messages"})]}),(0,y.jsx)(d,{checked:i.messageSounds,onChange:e=>u("messageSounds",e),disabled:!i.messageNotifications})]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Message Preview"}),(0,y.jsx)("p",{className:"setting-description",children:"Show message content in notifications"})]}),(0,y.jsx)(d,{checked:i.messagePreview,onChange:e=>u("messagePreview",e),disabled:!i.messageNotifications})]})]}),(0,y.jsxs)("div",{className:"settings-group",children:[(0,y.jsxs)("h3",{className:"group-title",children:[(0,y.jsx)("span",{className:"group-icon",children:"\ud83d\udce7"}),"Email Notifications"]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Daily Email Digest"}),(0,y.jsx)("p",{className:"setting-description",children:"Daily summary of your activity"})]}),(0,y.jsx)(d,{checked:i.emailDigest,onChange:e=>u("emailDigest",e)})]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"New Message Emails"}),(0,y.jsx)("p",{className:"setting-description",children:"Email notifications for new messages"})]}),(0,y.jsx)(d,{checked:i.emailNewMessages,onChange:e=>u("emailNewMessages",e)})]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Security Alerts"}),(0,y.jsx)("p",{className:"setting-description",children:"Important security notifications"})]}),(0,y.jsx)(d,{checked:i.emailSecurityAlerts,onChange:e=>u("emailSecurityAlerts",e)})]})]}),(0,y.jsxs)("div",{className:"settings-group",children:[(0,y.jsxs)("h3",{className:"group-title",children:[(0,y.jsx)("span",{className:"group-icon",children:"\ud83d\udcf1"}),"Push Notifications"]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Enable Push Notifications"}),(0,y.jsx)("p",{className:"setting-description",children:"Receive push notifications on your device"})]}),(0,y.jsx)(d,{checked:i.pushEnabled,onChange:e=>u("pushEnabled",e)})]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Message Notifications"}),(0,y.jsx)("p",{className:"setting-description",children:"Push notifications for new messages"})]}),(0,y.jsx)(d,{checked:i.pushMessages,onChange:e=>u("pushMessages",e),disabled:!i.pushEnabled})]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Mentions & Replies"}),(0,y.jsx)("p",{className:"setting-description",children:"When someone mentions or replies to you"})]}),(0,y.jsx)(d,{checked:i.pushMentions,onChange:e=>u("pushMentions",e),disabled:!i.pushEnabled})]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Group Activity"}),(0,y.jsx)("p",{className:"setting-description",children:"Activity in your groups and channels"})]}),(0,y.jsx)(d,{checked:i.pushGroupActivity,onChange:e=>u("pushGroupActivity",e),disabled:!i.pushEnabled})]})]}),(0,y.jsxs)("div",{className:"settings-group",children:[(0,y.jsxs)("h3",{className:"group-title",children:[(0,y.jsx)("span",{className:"group-icon",children:"\ud83c\udf19"}),"Do Not Disturb"]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Enable Do Not Disturb"}),(0,y.jsx)("p",{className:"setting-description",children:"Quiet hours with no notifications"})]}),(0,y.jsx)(d,{checked:i.dndEnabled,onChange:e=>u("dndEnabled",e)})]}),i.dndEnabled&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Time Range"}),(0,y.jsx)("p",{className:"setting-description",children:"When do not disturb should be active"})]}),(0,y.jsxs)("div",{className:"time-range",children:[(0,y.jsx)("input",{type:"time",value:i.dndStart,onChange:e=>u("dndStart",e.target.value),className:"time-input"}),(0,y.jsx)("span",{className:"time-separator",children:"to"}),(0,y.jsx)("input",{type:"time",value:i.dndEnd,onChange:e=>u("dndEnd",e.target.value),className:"time-input"})]})]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Active Days"}),(0,y.jsx)("p",{className:"setting-description",children:"Days when do not disturb is active"})]}),(0,y.jsx)("div",{className:"days-selector",children:[{id:"monday",label:"Mon"},{id:"tuesday",label:"Tue"},{id:"wednesday",label:"Wed"},{id:"thursday",label:"Thu"},{id:"friday",label:"Fri"},{id:"saturday",label:"Sat"},{id:"sunday",label:"Sun"}].map(e=>(0,y.jsx)("button",{className:"day-btn ".concat(i.dndDays.includes(e.id)?"active":""),onClick:()=>{return t="dndDays",n=e.id,o(e=>(0,r.A)((0,r.A)({},e),{},{[t]:e[t].includes(n)?e[t].filter(e=>e!==n):[...e[t],n]})),void c(!0);var t,n},children:e.label},e.id))})]})]})]}),(0,y.jsxs)("div",{className:"settings-group",children:[(0,y.jsxs)("h3",{className:"group-title",children:[(0,y.jsx)("span",{className:"group-icon",children:"\u2699\ufe0f"}),"Advanced"]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Vibration"}),(0,y.jsx)("p",{className:"setting-description",children:"Vibrate on notifications"})]}),(0,y.jsx)(d,{checked:i.vibration,onChange:e=>u("vibration",e)})]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"LED Flash"}),(0,y.jsx)("p",{className:"setting-description",children:"Flash LED light for notifications"})]}),(0,y.jsx)(d,{checked:i.ledFlash,onChange:e=>u("ledFlash",e)})]}),(0,y.jsxs)("div",{className:"setting-item",children:[(0,y.jsxs)("div",{className:"setting-info",children:[(0,y.jsx)("label",{className:"setting-label",children:"Group Notifications"}),(0,y.jsx)("p",{className:"setting-description",children:"Bundle similar notifications together"})]}),(0,y.jsx)(d,{checked:i.notificationGrouping,onChange:e=>u("notificationGrouping",e)})]})]}),(0,y.jsxs)("div",{className:"settings-actions",children:[(0,y.jsx)("button",{className:"settings-btn secondary",onClick:()=>{window.confirm("Reset all notification settings to default?")&&(o({messageNotifications:!0,messageSounds:!0,messagePreview:!0,emailDigest:!0,emailNewMessages:!1,emailSecurityAlerts:!0,pushEnabled:!0,pushMessages:!0,pushMentions:!0,pushGroupActivity:!1,dndEnabled:!1,dndStart:"22:00",dndEnd:"08:00",dndDays:["saturday","sunday"],vibration:!0,ledFlash:!1,notificationGrouping:!0,customTones:!1}),c(!0))},children:"Reset to Default"}),(0,y.jsx)("button",{className:"settings-btn primary ".concat(l?"has-changes":""),onClick:()=>{console.log("Saving notification settings:",i),c(!1);const e=new CustomEvent("showToast",{detail:{message:"Notification settings saved!",type:"success"}});window.dispatchEvent(e)},disabled:!l,children:l?"Save Changes":"All Saved"})]})]})},le=e=>{let{isOpen:t,onClose:n,initialSection:s="profile",user:r,onSaveProfile:i,darkMode:o}=e;const[l,c]=(0,a.useState)(s),[u,d]=(0,a.useState)(!1),[h,m]=(0,a.useState)(""),[f,p]=(0,a.useState)(!1),g=[{id:"profile",title:"Profile",icon:"\ud83d\udc64",description:"Manage your profile information and avatar",badge:null},{id:"preferences",title:"Preferences",icon:"\ud83c\udfa8",description:"Customize your experience and appearance",badge:"NEW"},{id:"notifications",title:"Notifications",icon:"\ud83d\udd14",description:"Control how you receive notifications",badge:null},{id:"privacy",title:"Privacy & Security",icon:"\ud83d\udd12",description:"Security settings and two-factor authentication",badge:null},{id:"analytics",title:"Analytics",icon:"\ud83d\udcca",description:"View your usage statistics and insights",badge:null}],v=g.filter(e=>e.title.toLowerCase().includes(h.toLowerCase())||e.description.toLowerCase().includes(h.toLowerCase()));(0,a.useEffect)(()=>{c(s)},[s]);const b=(0,a.useCallback)(e=>{e!==l&&(d(!0),setTimeout(()=>{c(e),d(!1)},150))},[l]);(0,a.useEffect)(()=>{if(!t)return;const e=document.body.style.overflow;document.body.style.overflow="hidden";const a=e=>{if("Escape"===e.key){if(f){if(!window.confirm("You have unsaved changes. Are you sure you want to close?"))return}p(!1),n()}};return window.addEventListener("keydown",a),()=>{document.body.style.overflow=e,window.removeEventListener("keydown",a)}},[t,f,n]);const x=(0,a.useCallback)(e=>{if(!e||e.target===e.currentTarget){if(f){if(!window.confirm("You have unsaved changes. Are you sure you want to close?"))return}p(!1),n()}},[f,n]),w=(0,a.useCallback)(()=>{if(f){if(!window.confirm("You have unsaved changes. Are you sure you want to close?"))return}p(!1),n()},[f,n]),j=[{title:"Export Data",icon:"\ud83d\udcbe",action:()=>console.log("Export data"),description:"Download your account data"},{title:"Reset Settings",icon:"\ud83d\udd04",action:()=>console.log("Reset settings"),description:"Reset all settings to default"},{title:"Contact Support",icon:"\ud83d\udcac",action:()=>console.log("Contact support"),description:"Get help with your account"}];if(!t)return null;const k=g.find(e=>e.id===l)||g[0];return(0,y.jsx)("div",{className:"settings-modal-overlay",onClick:x,children:(0,y.jsxs)("div",{className:"settings-modal ".concat(o?"dark":""),onClick:e=>{e.stopPropagation()},children:[(0,y.jsxs)("div",{className:"settings-modal-header",children:[(0,y.jsxs)("div",{className:"header-content",children:[(0,y.jsxs)("div",{className:"header-main",children:[(0,y.jsxs)("h2",{className:"settings-modal-title",children:[(0,y.jsx)("span",{className:"title-icon",children:"\u2699\ufe0f"}),"Settings"]}),(0,y.jsx)("p",{className:"settings-subtitle",children:"Customize your Quibish experience"})]}),(0,y.jsxs)("div",{className:"header-actions",children:[f&&(0,y.jsxs)("div",{className:"unsaved-indicator",title:"You have unsaved changes",children:[(0,y.jsx)("div",{className:"indicator-dot"}),(0,y.jsx)("span",{children:"Unsaved"})]}),(0,y.jsx)("button",{className:"settings-modal-close",onClick:w,"aria-label":"Close settings",children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,y.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,y.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),(0,y.jsx)("div",{className:"settings-search",children:(0,y.jsxs)("div",{className:"search-input-container",children:[(0,y.jsxs)("svg",{className:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,y.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,y.jsx)("path",{d:"m21 21-4.35-4.35"})]}),(0,y.jsx)("input",{type:"text",placeholder:"Search settings...",value:h,onChange:e=>m(e.target.value),className:"search-input"}),h&&(0,y.jsx)("button",{className:"search-clear",onClick:()=>m(""),"aria-label":"Clear search",children:"\xd7"})]})})]}),(0,y.jsxs)("div",{className:"settings-modal-content",children:[(0,y.jsxs)("div",{className:"settings-navigation",children:[(0,y.jsxs)("div",{className:"navigation-section",children:[(0,y.jsx)("h3",{className:"section-title",children:"User Settings"}),(0,y.jsx)("ul",{className:"navigation-items",children:v.slice(0,2).map(e=>(0,y.jsx)("li",{className:"navigation-item ".concat(l===e.id?"active":""),children:(0,y.jsxs)("button",{onClick:()=>b(e.id),children:[(0,y.jsx)("span",{className:"nav-icon",children:e.icon}),(0,y.jsxs)("div",{className:"nav-content",children:[(0,y.jsx)("div",{className:"nav-title",children:e.title}),(0,y.jsx)("p",{className:"nav-description",children:e.description})]})]})},e.id))})]}),(0,y.jsxs)("div",{className:"navigation-section",children:[(0,y.jsx)("h3",{className:"section-title",children:"Privacy & Security"}),(0,y.jsx)("ul",{className:"navigation-items",children:v.slice(2).map(e=>(0,y.jsx)("li",{className:"navigation-item ".concat(l===e.id?"active":""),children:(0,y.jsxs)("button",{onClick:()=>b(e.id),children:[(0,y.jsx)("span",{className:"nav-icon",children:e.icon}),(0,y.jsxs)("div",{className:"nav-content",children:[(0,y.jsx)("div",{className:"nav-title",children:e.title}),(0,y.jsx)("p",{className:"nav-description",children:e.description})]})]})},e.id))})]}),(0,y.jsxs)("div",{className:"quick-actions",children:[(0,y.jsx)("h4",{children:"Quick Actions"}),(0,y.jsx)("div",{className:"quick-action-buttons",children:j.map((e,t)=>(0,y.jsxs)("button",{className:"quick-action-button",onClick:e.action,title:e.description,children:[(0,y.jsx)("span",{children:e.icon}),e.title]},t))})]})]}),(0,y.jsx)("div",{className:"settings-content",children:(0,y.jsx)("div",{className:"content-section",children:(()=>{const e=(()=>{switch(l){case"profile":return(0,y.jsxs)("div",{className:"enhanced-profile-container",children:[(0,y.jsxs)("div",{className:"section-header",children:[(0,y.jsxs)("h2",{children:[(0,y.jsx)("span",{className:"section-icon",children:k.icon}),k.title]}),(0,y.jsx)("p",{children:k.description})]}),(0,y.jsx)(A,{user:r,onUpdate:i,onClose:n,darkMode:o,onUnsavedChanges:p})]});case"analytics":return(0,y.jsxs)("div",{className:"settings-section",children:[(0,y.jsxs)("div",{className:"section-header",children:[(0,y.jsxs)("h2",{children:[(0,y.jsx)("span",{className:"section-icon",children:k.icon}),k.title]}),(0,y.jsx)("p",{children:k.description})]}),(0,y.jsx)(I,{userId:null===r||void 0===r?void 0:r.id,darkMode:o})]});case"preferences":return(0,y.jsxs)("div",{className:"settings-section",children:[(0,y.jsxs)("div",{className:"section-header",children:[(0,y.jsxs)("h2",{children:[(0,y.jsx)("span",{className:"section-icon",children:k.icon}),k.title]}),(0,y.jsx)("p",{children:k.description}),k.badge&&(0,y.jsx)("span",{className:"section-badge",children:k.badge})]}),(0,y.jsx)(ie,{user:r,onSave:i,darkMode:o,onUnsavedChanges:p})]});case"notifications":return(0,y.jsxs)("div",{className:"settings-section",children:[(0,y.jsxs)("div",{className:"section-header",children:[(0,y.jsxs)("h2",{children:[(0,y.jsx)("span",{className:"section-icon",children:k.icon}),k.title]}),(0,y.jsx)("p",{children:k.description})]}),(0,y.jsx)(oe,{user:r,darkMode:o,onUnsavedChanges:p})]});case"privacy":return(0,y.jsxs)("div",{className:"settings-section",children:[(0,y.jsxs)("div",{className:"section-header",children:[(0,y.jsxs)("h2",{children:[(0,y.jsx)("span",{className:"section-icon",children:k.icon}),k.title]}),(0,y.jsx)("p",{children:k.description})]}),(0,y.jsx)(re,{onUnsavedChanges:p})]});default:return(0,y.jsx)("div",{className:"settings-section",children:(0,y.jsxs)("div",{className:"section-header",children:[(0,y.jsxs)("h2",{children:[(0,y.jsx)("span",{className:"section-icon",children:"\u2699\ufe0f"}),"Settings"]}),(0,y.jsx)("p",{children:"Select a section from the navigation above."})]})})}})();return(0,y.jsx)("div",{className:"section-content ".concat(u?"animating":""),children:e})})()})})]}),(0,y.jsxs)("div",{className:"settings-modal-footer",children:[(0,y.jsxs)("div",{className:"footer-info",children:[(0,y.jsx)("span",{className:"app-version",children:"Quibish v2.0.0"}),(0,y.jsxs)("span",{children:["Logged in as ",(null===r||void 0===r?void 0:r.name)||"User"]})]}),(0,y.jsxs)("div",{className:"footer-actions",children:[(0,y.jsx)("button",{className:"footer-button",onClick:()=>m(""),children:"Reset Search"}),(0,y.jsx)("button",{className:"footer-button primary",onClick:x,children:"Done"})]})]})]})})},ce=(0,a.memo)(e=>{let{callState:t,onEndCall:n,onToggleMinimize:s}=e;const[r,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(0),[d,h]=(0,a.useState)("connecting"),m=(0,a.useRef)(null),f=(0,a.useRef)(null),p=(0,a.useRef)(null),{active:g,withUser:v,minimized:b,audioOnly:x}=t||{},w=(null===v||void 0===v?void 0:v.avatar)||"https://via.placeholder.com/100",j=(null===v||void 0===v?void 0:v.name)||"Unknown User";if((0,a.useEffect)(()=>("connected"===d&&(p.current=setInterval(()=>{u(e=>e+1)},1e3)),()=>{p.current&&clearInterval(p.current)}),[d]),(0,a.useEffect)(()=>{if(g&&"connecting"===d){const e=setTimeout(()=>{h("connected")},3e3);return()=>clearTimeout(e)}},[g,d]),(0,a.useEffect)(()=>{g?x&&l(!0):(i(!1),l(!1),u(0),h("connecting"))},[g,x]),!t.active)return null;return(0,y.jsxs)("div",{className:"video-call-container ".concat(b?"minimized":"full"," ").concat(x?"audio-only":""),children:[(0,y.jsxs)("div",{className:"video-call-header",children:[(0,y.jsxs)("div",{className:"video-call-title",children:[x?(0,y.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,y.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M15 10L19.5528 7.72361C20.2177 7.39116 21 7.87465 21 8.61803V15.382C21 16.1253 20.2177 16.6088 19.5528 16.2764L15 14M5 20H13C14.1046 20 15 19.1046 15 18V6C15 4.89543 14.1046 4 13 4H5C3.89543 4 3 4.89543 3 6V18C3 19.1046 3.89543 20 5 20Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),j]}),"connected"===d&&(0,y.jsx)("div",{className:"video-call-timer",children:(e=>{const t=Math.floor(e/60).toString().padStart(2,"0"),n=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(n)})(c)}),(0,y.jsx)("div",{className:"video-call-actions",children:(0,y.jsx)("button",{className:"video-call-action",onClick:s,title:b?"Expand":"Minimize",children:b?(0,y.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M4 14H10V20M20 10H14V4M14 10L21 3M3 21L10 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,y.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M8 3H5C3.89543 3 3 3.89543 3 5V8M21 8V5C21 3.89543 20.1046 3 19 3H16M16 21H19C20.1046 21 21 20.1046 21 19V16M3 16V19C3 20.1046 3.89543 21 5 21H8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]}),(0,y.jsxs)("div",{className:"video-call-streams",children:[x||o||"connecting"===d?(0,y.jsxs)("div",{className:"video-call-placeholder",children:[(0,y.jsx)("img",{className:"video-call-avatar",src:w,alt:j}),(0,y.jsx)("div",{className:"video-call-status",children:j}),"connecting"===d?(0,y.jsxs)("div",{className:"video-call-connecting",children:["Connecting",(0,y.jsxs)("span",{className:"connecting-dots",children:[(0,y.jsx)("span",{className:"connecting-dot"}),(0,y.jsx)("span",{className:"connecting-dot"}),(0,y.jsx)("span",{className:"connecting-dot"})]})]}):x?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"audio-visualization",children:[(0,y.jsx)("div",{className:"audio-bar"}),(0,y.jsx)("div",{className:"audio-bar"}),(0,y.jsx)("div",{className:"audio-bar"}),(0,y.jsx)("div",{className:"audio-bar"}),(0,y.jsx)("div",{className:"audio-bar"})]}),(0,y.jsx)("div",{className:"video-call-connecting",children:"Voice call in progress"})]}):(0,y.jsx)("div",{className:"video-call-connecting",children:"Video turned off"})]}):(0,y.jsx)("div",{className:"video-call-remote-stream",ref:f}),!x&&(0,y.jsx)("div",{className:"video-call-local-stream",ref:m,style:{background:"#1e293b",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:b?"8px":"12px"},children:o?(0,y.jsxs)("div",{style:{textAlign:"center",padding:"5px"},children:[(0,y.jsx)("div",{style:{width:b?"30px":"50px",height:b?"30px":"50px",borderRadius:"50%",background:"#475569",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 5px"},children:(0,y.jsx)("svg",{width:b?"16":"24",height:b?"16":"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),!b&&(0,y.jsx)("div",{children:"You"})]}):(0,y.jsx)("div",{children:"Your camera"})})]}),(0,y.jsxs)("div",{className:"video-call-controls",children:[(0,y.jsx)("button",{className:"video-call-control-btn mute ".concat(r?"active":""),onClick:()=>{i(!r)},title:r?"Unmute":"Mute",children:r?(0,y.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{d:"M5.58579 15.0001L3.87868 16.7072C2.70711 15.5356 2 13.8787 2 12.0001C2 10.1215 2.70711 8.46459 3.87868 7.29302L5.58579 9.00013M18.4142 9.00013L20.1213 7.29302C21.2929 8.46459 22 10.1215 22 12.0001C22 13.8787 21.2929 15.5356 20.1213 16.7072L18.4142 15.0001M16 6.5L8 17.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,y.jsx)("path",{d:"M9.5 6.5V11L14.5 12V17.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,y.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{d:"M8 7C8 4.79086 9.79086 3 12 3V3C14.2091 3 16 4.79086 16 7V15C16 17.2091 14.2091 19 12 19V19C9.79086 19 8 17.2091 8 15V7Z",stroke:"currentColor",strokeWidth:"2"}),(0,y.jsx)("path",{d:"M5 12C5 15.866 8.13401 19 12 19M12 19C15.866 19 19 15.866 19 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,y.jsx)("path",{d:"M12 19V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),!x&&(0,y.jsx)("button",{className:"video-call-control-btn video-off ".concat(o?"active":""),onClick:()=>{x||l(!o)},title:o?"Turn on camera":"Turn off camera",children:o?(0,y.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{d:"M3 8.68861V15.3114C3 16.7943 4.20557 17.9999 5.68851 17.9999H14.3115C15.7944 17.9999 17 16.7943 17 15.3114V8.68861C17 7.20567 15.7944 6.0001 14.3115 6.0001H5.68851C4.20557 6.0001 3 7.20567 3 8.68861Z",stroke:"currentColor",strokeWidth:"2"}),(0,y.jsx)("path",{d:"M17 10.0001L20.6343 7.36791C20.8732 7.20746 21.2 7.37558 21.2 7.66818V16.3321C21.2 16.6247 20.8732 16.7928 20.6343 16.6324L17 14.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,y.jsx)("path",{d:"M3 3L21 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}):(0,y.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{d:"M3 8.68861V15.3114C3 16.7943 4.20557 17.9999 5.68851 17.9999H14.3115C15.7944 17.9999 17 16.7943 17 15.3114V8.68861C17 7.20567 15.7944 6.0001 14.3115 6.0001H5.68851C4.20557 6.0001 3 7.20567 3 8.68861Z",stroke:"currentColor",strokeWidth:"2"}),(0,y.jsx)("path",{d:"M17 10.0001L20.6343 7.36791C20.8732 7.20746 21.2 7.37558 21.2 7.66818V16.3321C21.2 16.6247 20.8732 16.7928 20.6343 16.6324L17 14.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),(0,y.jsx)("button",{className:"video-call-control-btn end-call",onClick:n,title:"End call",children:(0,y.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M22 12C22 10.6868 21.7413 9.38647 21.2388 8.1731C20.7362 6.95996 19.9997 5.85742 19.0711 4.92896C18.1425 4.00024 17.0401 3.26367 15.8268 2.76123C14.6136 2.25854 13.3132 2 12 2C10.6868 2 9.38647 2.25854 8.1731 2.76123C6.95996 3.26367 5.85742 4.00024 4.92896 4.92896C3.26367 6.59424 2 9.0218 2 12M3.29289 18.7071L7.5 14.5M7.5 14.5V18M7.5 14.5H4M20.7071 18.7071L16.5 14.5M16.5 14.5V18M16.5 14.5H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})}),ue=e=>{let{onGifSelect:t,onClose:n,isOpen:s}=e;const[r,i]=(0,a.useState)(""),[o,l]=(0,a.useState)("trending"),c={trending:[{id:1,url:"https://media.giphy.com/media/3o7TKF1fSIs1R19B8Y/giphy.gif",preview:"https://media.giphy.com/media/3o7TKF1fSIs1R19B8Y/200w_d.gif",title:"Success Dance"},{id:2,url:"https://media.giphy.com/media/26u4lOMA8JKSnL9Uk/giphy.gif",preview:"https://media.giphy.com/media/26u4lOMA8JKSnL9Uk/200w_d.gif",title:"Celebration"},{id:3,url:"https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif",preview:"https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/200w_d.gif",title:"Mind Blown"},{id:4,url:"https://media.giphy.com/media/3o6Zt6KHxJTbXCnSvu/giphy.gif",preview:"https://media.giphy.com/media/3o6Zt6KHxJTbXCnSvu/200w_d.gif",title:"Thumbs Up"}],reactions:[{id:5,url:"https://media.giphy.com/media/3o7aCSPqXE5C6T8tBC/giphy.gif",preview:"https://media.giphy.com/media/3o7aCSPqXE5C6T8tBC/200w_d.gif",title:"Shocked"},{id:6,url:"https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif",preview:"https://media.giphy.com/media/26ufdipQqU2lhNA4g/200w_d.gif",title:"Laughing"}],emotions:[{id:7,url:"https://media.giphy.com/media/3o6ZtpvPW6fqxkE1xu/giphy.gif",preview:"https://media.giphy.com/media/3o6ZtpvPW6fqxkE1xu/200w_d.gif",title:"Love Heart"}],animals:[{id:8,url:"https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif",preview:"https://media.giphy.com/media/JIX9t2j0ZTN9S/200w_d.gif",title:"Cute Cat"}]},u=(0,a.useCallback)(e=>{t({name:"".concat(e.title,".gif"),url:e.url,size:0,type:"image/gif",isGif:!0}),n()},[t,n]),d=()=>{const e=c[o]||c.trending;return r?e.filter(e=>e.title.toLowerCase().includes(r.toLowerCase())):e};return s?(0,y.jsx)("div",{className:"gif-picker-overlay",children:(0,y.jsxs)("div",{className:"gif-picker",children:[(0,y.jsxs)("div",{className:"gif-picker-header",children:[(0,y.jsx)("h3",{children:"Choose a GIF"}),(0,y.jsx)("button",{className:"close-btn",onClick:n,children:"\xd7"})]}),(0,y.jsx)("div",{className:"gif-search",children:(0,y.jsx)("input",{type:"text",placeholder:"Search GIFs...",value:r,onChange:e=>i(e.target.value),className:"gif-search-input"})}),(0,y.jsx)("div",{className:"gif-categories",children:[{id:"trending",name:"Trending",emoji:"\ud83d\udd25"},{id:"reactions",name:"Reactions",emoji:"\ud83d\ude02"},{id:"emotions",name:"Emotions",emoji:"\u2764\ufe0f"},{id:"animals",name:"Animals",emoji:"\ud83d\udc31"},{id:"sports",name:"Sports",emoji:"\u26bd"},{id:"entertainment",name:"Entertainment",emoji:"\ud83c\udfac"}].map(e=>(0,y.jsxs)("button",{className:"category-btn ".concat(o===e.id?"active":""),onClick:()=>l(e.id),children:[(0,y.jsx)("span",{className:"category-emoji",children:e.emoji}),(0,y.jsx)("span",{className:"category-name",children:e.name})]},e.id))}),(0,y.jsx)("div",{className:"gif-grid",children:d().map(e=>(0,y.jsxs)("div",{className:"gif-item",onClick:()=>u(e),children:[(0,y.jsx)("img",{src:e.preview,alt:e.title,className:"gif-preview"}),(0,y.jsx)("div",{className:"gif-overlay",children:(0,y.jsx)("span",{className:"gif-title",children:e.title})})]},e.id))}),0===d().length&&(0,y.jsxs)("div",{className:"no-gifs",children:[(0,y.jsxs)("p",{children:['No GIFs found for "',r,'"']}),(0,y.jsx)("p",{children:"Try a different search term"})]})]})}):null},de=[{id:"user2",name:"Alice Johnson",email:"alice@example.com",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=40&h=40&fit=crop&crop=face",status:"online"},{id:"user3",name:"Bob Smith",email:"bob@example.com",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face",status:"away"},{id:"user4",name:"Carol White",email:"carol@example.com",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=40&h=40&fit=crop&crop=face",status:"offline"},{id:"user5",name:"David Brown",email:"david@example.com",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",status:"online"},{id:"user6",name:"Eva Green",email:"eva@example.com",avatar:"https://images.unsplash.com/photo-1517841905240-472988babdf9?w=40&h=40&fit=crop&crop=face",status:"busy"}],he=e=>{let{isOpen:t,onClose:s,onCreateChat:r,currentUser:i,darkMode:o=!1}=e;const[l,c]=(0,a.useState)(""),[u,d]=(0,a.useState)([]),[h,m]=(0,a.useState)([]),[f,p]=(0,a.useState)([]),[g,v]=(0,a.useState)(!1),[b,x]=(0,a.useState)(""),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)(null),S=(0,a.useRef)(null),C=(0,a.useCallback)(()=>{c(""),d([]),p([]),v(!1),x(""),N(null),j(!1),s()},[s]),E=(0,a.useCallback)(async()=>{try{j(!0);const{userService:e}=await Promise.resolve().then(n.bind(n,589)),t=await e.getAllUsers(5);if(t.success){const e=t.users.filter(e=>e.id!==(null===i||void 0===i?void 0:i.id));m(e.slice(0,3))}else{const e=de.filter(e=>e.id!==(null===i||void 0===i?void 0:i.id));m(e.slice(0,3))}}catch(k){console.error("Error loading recent contacts:",k);const t=de.filter(e=>e.id!==(null===i||void 0===i?void 0:i.id));m(t.slice(0,3))}finally{j(!1)}},[i]);(0,a.useEffect)(()=>{t&&S.current&&setTimeout(()=>{S.current.focus()},100)},[t]),(0,a.useEffect)(()=>{t&&E()},[t,E]);const A=(0,a.useCallback)(async e=>{if(e.trim()){j(!0),N(null);try{const{userService:t}=await Promise.resolve().then(n.bind(n,589)),a=await t.searchUsers(e);a.success?d(a.users):(N(a.error||"Search failed"),d([]))}catch(t){N("Failed to search users"),console.error("Search error:",t),d([])}finally{j(!1)}}else d([])},[]),P=(0,a.useCallback)(e=>{const t=e.target.value;c(t),A(t)},[A]),T=(0,a.useCallback)(e=>{p(t=>t.find(t=>t.id===e.id)?t.filter(t=>t.id!==e.id):[...t,e])},[]),L=(0,a.useCallback)(e=>{p(t=>t.filter(t=>t.id!==e))},[]),M=(0,a.useCallback)(async()=>{if(0!==f.length)if(!g||b.trim()){j(!0),N(null);try{const{conversationService:e}=await Promise.resolve().then(n.bind(n,589)),t=[i,...f],a=await e.createConversation(t,g?"group":"direct",g?b:null);a.success?(r&&await r(a.conversation),C()):N(a.error||"Failed to create chat")}catch(e){N(e.message||"Failed to create chat"),console.error("Create chat error:",e)}finally{j(!1)}}else N("Please enter a group name");else N("Please select at least one user")},[f,g,b,i,r,C]);if((0,a.useEffect)(()=>{const e=e=>{"Escape"===e.key&&t&&C()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,C]),!t)return null;const O=l?u:h;return(0,y.jsx)("div",{className:"new-chat-modal-overlay ".concat(o?"dark":""),onClick:C,children:(0,y.jsxs)("div",{className:"new-chat-modal",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"modal-header",children:[(0,y.jsx)("h2",{children:"New Chat"}),(0,y.jsx)("button",{className:"close-button",onClick:C,children:(0,y.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,y.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,y.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,y.jsxs)("div",{className:"modal-content",children:[(0,y.jsxs)("div",{className:"chat-type-toggle",children:[(0,y.jsx)("button",{className:"toggle-btn ".concat(g?"":"active"),onClick:()=>v(!1),children:"Direct Chat"}),(0,y.jsx)("button",{className:"toggle-btn ".concat(g?"active":""),onClick:()=>v(!0),children:"Group Chat"})]}),g&&(0,y.jsxs)("div",{className:"group-name-section",children:[(0,y.jsx)("label",{htmlFor:"groupName",children:"Group Name"}),(0,y.jsx)("input",{id:"groupName",type:"text",value:b,onChange:e=>x(e.target.value),placeholder:"Enter group name...",maxLength:"50"})]}),f.length>0&&(0,y.jsxs)("div",{className:"selected-users",children:[(0,y.jsxs)("h3",{children:["Selected Users (",f.length,")"]}),(0,y.jsx)("div",{className:"selected-users-list",children:f.map(e=>(0,y.jsxs)("div",{className:"selected-user",children:[(0,y.jsx)("img",{src:e.avatar,alt:e.name,className:"user-avatar"}),(0,y.jsx)("span",{className:"user-name",children:e.name}),(0,y.jsx)("button",{className:"remove-user",onClick:()=>L(e.id),title:"Remove user",children:"\xd7"})]},e.id))})]}),(0,y.jsx)("div",{className:"search-section",children:(0,y.jsxs)("div",{className:"search-input-container",children:[(0,y.jsxs)("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,y.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,y.jsx)("path",{d:"m21 21-4.35-4.35"})]}),(0,y.jsx)("input",{ref:S,type:"text",value:l,onChange:P,placeholder:"Search users by name or email...",className:"search-input"}),w&&(0,y.jsx)("div",{className:"search-loading",children:"\ud83d\udd04"})]})}),(0,y.jsxs)("div",{className:"users-section",children:[(0,y.jsx)("h3",{children:l?"Search Results":"Recent Contacts"}),O.length>0?(0,y.jsx)("div",{className:"users-list",children:O.map(e=>{const t=f.find(t=>t.id===e.id);return(0,y.jsxs)("div",{className:"user-item ".concat(t?"selected":""),onClick:()=>T(e),children:[(0,y.jsx)("img",{src:e.avatar,alt:e.name,className:"user-avatar"}),(0,y.jsxs)("div",{className:"user-info",children:[(0,y.jsx)("div",{className:"user-name",children:e.name}),(0,y.jsx)("div",{className:"user-email",children:e.email})]}),(0,y.jsx)("div",{className:"user-status ".concat(e.status)}),t&&(0,y.jsx)("div",{className:"selection-indicator",children:"\u2713"})]},e.id)})}):(0,y.jsx)("div",{className:"no-users",children:l?"No users found":"No recent contacts"})]}),k&&(0,y.jsx)("div",{className:"error-message",children:k})]}),(0,y.jsxs)("div",{className:"modal-footer",children:[(0,y.jsx)("button",{className:"cancel-button",onClick:C,disabled:w,children:"Cancel"}),(0,y.jsx)("button",{className:"create-button",onClick:M,disabled:w||0===f.length,children:w?"Creating...":"Create ".concat(g?"Group":"Chat")})]})]})})},me=e=>{var t;let{user:n={id:"user1",name:"Current User",avatar:null},conversations:s=[],currentConversation:i=null,onLogout:o=()=>{},darkMode:l=!1,onToggleDarkMode:c=()=>{}}=e;const[u]=(0,a.useState)(!0),[d,h]=(0,a.useState)(!1),[m,f]=(0,a.useState)((null===(t=s[0])||void 0===t?void 0:t.id)||null),[p,g]=(0,a.useState)(""),[v,b]=(0,a.useState)("all"),[x,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)(!1),[N,S]=(0,a.useState)(0),[E,A]=(0,a.useState)({open:!1,imageUrl:null,imageName:null,zoom:1,pan:{x:0,y:0},isDragging:!1,currentIndex:0,images:[],isLoading:!1}),[P,T]=(0,a.useState)({open:!1,videoUrl:null,videoName:null,poster:null,type:null}),[L,M]=(0,a.useState)(!1),[O,R]=(0,a.useState)(!1),[D,I]=(0,a.useState)({isUploading:!1,fileName:"",progress:0,fileSize:0,uploadedSize:0}),F=(0,a.useRef)(null),z=(0,a.useRef)(null),_=(0,a.useRef)(null),U=(0,a.useRef)(null),B=(0,a.useRef)(null),V=(0,a.useRef)(null),H=(0,a.useRef)(null),[q,W]=(0,a.useState)([{id:1,text:"Hey! \ud83d\udc4b",user:{id:"user1",name:"Alice Johnson",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=40&h=40&fit=crop&crop=face"},timestamp:new Date(Date.now()-3e5).toISOString(),reactions:[{emoji:"\ud83d\udc4b",count:2,userId:"user2"},{emoji:"\ud83d\ude0a",count:1,userId:"user3"}]},{id:2,text:"Welcome to the enhanced chat application! This is a medium-length message to demonstrate how the message cards scale based on content length.",user:{id:"system",name:"System",avatar:null},timestamp:new Date(Date.now()-24e4).toISOString(),reactions:[{emoji:"\ud83d\udc4d",count:3,userId:"user1"},{emoji:"\ud83c\udf89",count:1,userId:"user2"}]},{id:3,text:"This is a longer message that demonstrates the chat application's ability to handle various message lengths gracefully. The card automatically adjusts its height and the content flows naturally within the card boundaries.",user:{id:"user2",name:"Bob Smith",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face"},timestamp:new Date(Date.now()-18e4).toISOString(),reactions:[{emoji:"\ud83d\udcaf",count:1,userId:"user1"}]},{id:4,text:"Short one! \ud83d\ude04",user:{id:"user3",name:"Charlie Brown",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=40&h=40&fit=crop&crop=face"},timestamp:new Date(Date.now()-12e4).toISOString(),reactions:[{emoji:"\ud83d\ude04",count:2,userId:"user1"},{emoji:"\u2764\ufe0f",count:1,userId:"user2"}]},{id:5,text:"The chat interface supports real-time messaging, file uploads, voice messages, and many other features that make communication seamless and enjoyable.",user:{id:"user1",name:"Alice Johnson",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=40&h=40&fit=crop&crop=face"},timestamp:new Date(Date.now()-6e4).toISOString(),reactions:[]},{id:6,text:"\ud83c\udfad GIF: celebration.gif",user:{id:"user2",name:"Bob Smith",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face"},timestamp:new Date(Date.now()-3e4).toISOString(),reactions:[{emoji:"\ud83c\udf89",count:3,userId:"user1"},{emoji:"\ud83d\udd25",count:2,userId:"user3"}],file:{name:"celebration.gif",size:245760,type:"image/gif",url:"https://media.giphy.com/media/26u4lOMA8JKSnL9Uk/giphy.gif",isGif:!0}},{id:7,text:"\ud83c\udfac Check out this demo video!",user:{id:"user1",name:"Alice Johnson",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=40&h=40&fit=crop&crop=face"},timestamp:new Date(Date.now()-15e3).toISOString(),reactions:[],file:{name:"demo-video.mp4",size:1024e3,type:"video/mp4",url:"https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4",thumbnail:"https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4"}}]),[G,Q]=(0,a.useState)(null),[$,J]=(0,a.useState)(!1),K=(0,a.useCallback)(()=>{V.current&&V.current.scrollIntoView({behavior:"smooth",block:"end"})},[]);(0,a.useEffect)(()=>{K()},[q,K]),(0,a.useEffect)(()=>{const e=()=>{window.innerWidth<=480?h(!0):window.innerWidth>768&&h(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const Y=(0,a.useCallback)(()=>{h(e=>!e)},[]),X=(0,a.useCallback)(()=>{window.innerWidth<=480&&h(!0)},[]),Z=(0,a.useCallback)(e=>{f(e)},[]),ee=(0,a.useCallback)(e=>{g(e.target.value)},[]),te=(0,a.useCallback)(e=>{b(e)},[]),ne=(0,a.useCallback)(()=>{Oe(!0)},[]),ae=(0,a.useCallback)(()=>{console.log("Create group clicked")},[]),se=(0,a.useCallback)(async e=>{try{var t,a,s,r;console.log("New chat created:",e);const i={id:e.id||"conv_".concat(Date.now()),name:e.name||(null===(t=e.participants)||void 0===t||null===(a=t.find(e=>e.id!==n.id))||void 0===a?void 0:a.name)||"New Chat",type:e.type,participants:e.participants,lastMessage:{text:"Chat created",timestamp:e.createdAt||(new Date).toISOString(),user:{name:"System"}},unreadCount:0,isOnline:!0,avatar:"group"===e.type?null:null===(s=e.participants)||void 0===s||null===(r=s.find(e=>e.id!==n.id))||void 0===r?void 0:r.avatar};console.log("Formatted conversation:",i),f(i.id)}catch(i){throw console.error("Failed to handle new chat:",i),i}},[n]),re=(0,a.useCallback)(()=>{Le({open:!0,section:"profile"})},[]),ie=(0,a.useCallback)(e=>{const t=e.target.files;t&&t.length>0&&(Array.from(t).forEach(e=>{if(console.log("Processing file:",e.name,e.type),e.type.startsWith("image/")){const t=new FileReader;t.onload=t=>{var a;console.log("Image loaded, creating message with URL:",(null===(a=t.target.result)||void 0===a?void 0:a.substring(0,50))+"...");const s={id:Date.now()+Math.random(),text:"\ufffd ".concat(e.name),user:n,timestamp:(new Date).toISOString(),reactions:[],file:{name:e.name,size:e.size,type:e.type,url:t.target.result}};W(e=>[...e,s]),setTimeout(()=>{K()},100)},t.onerror=e=>{console.error("Error reading file:",e)},t.readAsDataURL(e)}else{const t={id:Date.now()+Math.random(),text:"\ud83d\udcce ".concat(e.name," (").concat((e.size/1024).toFixed(1)," KB)"),user:n,timestamp:(new Date).toISOString(),reactions:[],file:{name:e.name,size:e.size,type:e.type,url:URL.createObjectURL(e)}};W(e=>[...e,t]),setTimeout(()=>{K()},100)}}),e.target.value="")},[n,K]),oe=(0,a.useCallback)(()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),[]),de=(0,a.useCallback)(()=>{M(!0)},[]),me=(0,a.useCallback)(()=>{const e=document.createElement("input");e.type="file",e.accept="image/gif",e.multiple=!0,e.onchange=e=>{ie(e)},e.click()},[ie]),fe=(0,a.useCallback)(e=>{const t={id:Date.now()+Math.random(),text:"\ud83c\udfad ".concat(e.name),user:n,timestamp:(new Date).toISOString(),reactions:[],file:{name:e.name||"selected.gif",size:e.size||0,type:"image/gif",url:e.url,isGif:!0}};W(e=>[...e,t]),M(!1),setTimeout(()=>{K()},100)},[n,W,K]),pe=(0,a.useCallback)(()=>{M(!1)},[]),ge=(0,a.useCallback)(()=>{R(!0)},[]),ve=(0,a.useCallback)((e,t)=>{W(a=>a.map(a=>{if(a.id===e){return a.reactions.find(e=>e.emoji===t)?(0,r.A)((0,r.A)({},a),{},{reactions:a.reactions.map(e=>e.emoji===t?(0,r.A)((0,r.A)({},e),{},{count:e.count+1}):e)}):(0,r.A)((0,r.A)({},a),{},{reactions:[...a.reactions,{emoji:t,count:1,userId:n.id}]})}return a}))},[n.id]),ye=(0,a.useCallback)(e=>{G?ve(G,e):Ee(t=>t+e),w(!1),J(!1),Q(null)},[G,ve]),be=(0,a.useCallback)(e=>{Q(e),J(!0),w(!1)},[]),xe=(0,a.useCallback)(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))},[]),we=(0,a.useCallback)(()=>{k(!0),S(0),w(!1),B.current=setInterval(()=>{S(e=>e+1)},1e3),console.log("Voice recording started")},[]),je=(0,a.useCallback)(function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(clearInterval(B.current),k(!1),e&&N>0){const e={id:Date.now(),text:"\ud83c\udfa4 Voice message (".concat(xe(N),")"),user:n,timestamp:(new Date).toISOString(),reactions:[],type:"voice",duration:N};W(t=>[...t,e]),setTimeout(()=>{K()},100)}S(0)},[N,xe,n,K]);(0,a.useEffect)(()=>()=>{B.current&&clearInterval(B.current)},[]);const ke=(0,a.useMemo)(()=>{let e=s;switch(p.trim()&&(e=e.filter(e=>{var t;return e.name.toLowerCase().includes(p.toLowerCase())||(null===(t=e.lastMessage)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase()))})),v){case"unread":e=e.filter(e=>e.unreadCount>0);break;case"groups":e=e.filter(e=>e.name.includes("Team")||e.name.includes("Group"))}return e},[s,p,v]),Ne=(0,a.useMemo)(()=>({all:s.length,unread:s.filter(e=>e.unreadCount>0).length,groups:s.filter(e=>e.name.includes("Team")||e.name.includes("Group")).length}),[s]),Se=(0,a.useMemo)(()=>s.reduce((e,t)=>e+t.unreadCount,0),[s]),[Ce,Ee]=(0,a.useState)(""),[Ae,Pe]=(0,a.useState)({open:!1,userId:null,username:null}),[Te,Le]=(0,a.useState)({open:!1,section:"profile"}),[Me,Oe]=(0,a.useState)(!1),[Re,De]=(0,a.useState)({active:!1,withUser:null,minimized:!1,audioOnly:!1}),Ie=(0,a.useCallback)(()=>{if(!Ce.trim())return;const e={id:Date.now(),text:Ce,user:n,timestamp:(new Date).toISOString(),reactions:[]};W(t=>[...t,e]),Ee(""),setTimeout(()=>{K()},100)},[Ce,n,K]),Fe=(0,a.useCallback)(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),Ie())},[Ie]),ze=(0,a.useCallback)((e,t)=>{Pe({open:!0,userId:e,username:t})},[]),_e=(0,a.useCallback)(()=>{Pe({open:!1,userId:null,username:null})},[]),Ue=(0,a.useCallback)(()=>{Le({open:!1,section:"profile"})},[]),Be=(0,a.useCallback)(()=>q.filter(e=>e.file&&e.file.type.startsWith("image/")).map(e=>({url:e.file.url,name:e.file.name,messageId:e.id})),[q]),Ve=(0,a.useCallback)((e,t)=>{const n=Be(),a=n.findIndex(t=>t.url===e);A({open:!0,imageUrl:e,imageName:t,zoom:1,pan:{x:0,y:0},isDragging:!1,currentIndex:Math.max(0,a),images:n})},[Be]),He=(0,a.useCallback)((e,t,n,a)=>{T({open:!0,videoUrl:e,videoName:t,poster:n,type:a})},[]),qe=(0,a.useCallback)(()=>{T({open:!1,videoUrl:null,videoName:null,poster:null,type:null})},[]),We=(0,a.useCallback)(e=>{A(t=>{const n="next"===e?Math.min(t.currentIndex+1,t.images.length-1):Math.max(t.currentIndex-1,0),a=t.images[n];return a?(0,r.A)((0,r.A)({},t),{},{currentIndex:n,imageUrl:a.url,imageName:a.name,zoom:1,pan:{x:0,y:0},isLoading:!0}):t})},[]),Ge=(0,a.useCallback)(()=>{A(e=>(0,r.A)((0,r.A)({},e),{},{isLoading:!1}))},[]),Qe=(0,a.useCallback)(()=>{A(e=>(0,r.A)((0,r.A)({},e),{},{isLoading:!1}))},[]),$e=(0,a.useCallback)(()=>{A({open:!1,imageUrl:null,imageName:null,zoom:1,pan:{x:0,y:0},isDragging:!1,currentIndex:0,images:[],isLoading:!1})},[]),Je=(0,a.useCallback)(()=>{A(e=>(0,r.A)((0,r.A)({},e),{},{zoom:Math.min(1.2*e.zoom,3)}))},[]),Ke=(0,a.useCallback)(()=>{A(e=>(0,r.A)((0,r.A)({},e),{},{zoom:Math.max(e.zoom/1.2,.5),pan:e.zoom<=1?{x:0,y:0}:e.pan}))},[]),Ye=(0,a.useCallback)(()=>{A(e=>(0,r.A)((0,r.A)({},e),{},{zoom:1,pan:{x:0,y:0}}))},[]),Xe=(0,a.useCallback)(e=>{E.zoom>1&&A(e=>(0,r.A)((0,r.A)({},e),{},{isDragging:!0}))},[E.zoom]),Ze=(0,a.useCallback)(e=>{E.isDragging&&E.zoom>1&&A(t=>(0,r.A)((0,r.A)({},t),{},{pan:{x:t.pan.x+e.movementX,y:t.pan.y+e.movementY}}))},[E.isDragging,E.zoom]),et=(0,a.useCallback)(()=>{A(e=>(0,r.A)((0,r.A)({},e),{},{isDragging:!1}))},[]);(0,a.useEffect)(()=>{const e=e=>{if(E.open)switch(e.key){case"Escape":$e();break;case"ArrowLeft":e.preventDefault(),We("prev");break;case"ArrowRight":e.preventDefault(),We("next");break;case"+":case"=":e.preventDefault(),Je();break;case"-":e.preventDefault(),Ke();break;case"0":e.preventDefault(),Ye()}else if(P.open&&"Escape"===e.key)qe()},t=e=>{E.open&&(e.preventDefault(),e.deltaY<0?Je():Ke())};return document.addEventListener("keydown",e),document.addEventListener("wheel",t,{passive:!1}),()=>{document.removeEventListener("keydown",e),document.removeEventListener("wheel",t)}},[E.open,$e,We,Je,Ke,Ye]);const tt=(0,a.useCallback)(()=>{De(e=>(0,r.A)((0,r.A)({},e),{},{active:!1}))},[]),nt=(0,a.useCallback)(()=>{De(e=>(0,r.A)((0,r.A)({},e),{},{minimized:!e.minimized}))},[]),at=(0,a.useMemo)(()=>(0,y.jsx)(ce,{callState:Re,onEndCall:tt,onToggleMinimize:nt}),[Re,tt,nt]),st=e=>{const t=e.length;return t<=50?"short":t<=200?"medium":t<=500?"long":"very-long"};return(0,y.jsxs)("div",{className:"pro-layout",children:[at,(0,y.jsxs)("div",{className:"pro-sidebar enhanced-sidebar ".concat(d?"collapsed":""),children:[(0,y.jsxs)("div",{className:"pro-sidebar-header",children:[(0,y.jsxs)("div",{className:"sidebar-logo",children:[(0,y.jsxs)("div",{className:"logo-icon",children:["\ud83d\udcac",Se>0&&(0,y.jsx)("div",{className:"logo-unread-badge",children:Se>99?"99+":Se}),","]}),!d&&(0,y.jsxs)("div",{className:"logo-text",children:[(0,y.jsx)("h2",{children:"Quibish"}),(0,y.jsx)("span",{className:"version",children:"v2.0"})]})]}),(0,y.jsx)("button",{onClick:Y,className:"sidebar-toggle-btn",title:d?"Expand sidebar":"Collapse sidebar",children:d?"\u2b9e":"\u2b9c"})]}),(0,y.jsxs)("div",{className:"sidebar-user-profile",children:[(0,y.jsxs)("div",{className:"user-avatar",children:[(0,y.jsx)("img",{src:(null===n||void 0===n?void 0:n.avatar)||"https://ui-avatars.com/api/?name=".concat((null===n||void 0===n?void 0:n.name)||"User","&background=4f46e5&color=fff&size=40"),alt:(null===n||void 0===n?void 0:n.name)||"User"}),(0,y.jsx)("div",{className:"status-indicator online"})]}),!d&&(0,y.jsxs)("div",{className:"user-info",children:[(0,y.jsx)("h3",{className:"user-name",children:(null===n||void 0===n?void 0:n.name)||"User"}),(0,y.jsx)("p",{className:"user-status",children:"Online"})]}),!d&&(0,y.jsxs)("div",{className:"user-actions",children:[(0,y.jsx)("button",{className:"action-btn",title:"Settings",onClick:re,children:"\u2699\ufe0f"}),(0,y.jsx)("button",{className:"action-btn",title:"Profile",onClick:()=>ze(null===n||void 0===n?void 0:n.id,null===n||void 0===n?void 0:n.name),children:"\ud83d\udc64"}),(0,y.jsx)("button",{className:"action-btn logout-btn",title:"Logout / Disconnect",onClick:o,children:"\ud83d\udeaa"})]})]}),!d&&(0,y.jsxs)("div",{className:"sidebar-quick-actions",children:[(0,y.jsxs)("button",{className:"quick-action-btn primary",onClick:ne,children:[(0,y.jsx)("span",{className:"icon",children:"\u2795"}),(0,y.jsx)("span",{className:"text",children:"New Chat"})]}),(0,y.jsxs)("button",{className:"quick-action-btn secondary",onClick:ae,children:[(0,y.jsx)("span",{className:"icon",children:"\ud83d\udc65"}),(0,y.jsx)("span",{className:"text",children:"Create Group"})]})]}),!d&&(0,y.jsx)("div",{className:"sidebar-search",children:(0,y.jsxs)("div",{className:"search-container",children:[(0,y.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"}),(0,y.jsx)("input",{type:"text",placeholder:"Search conversations...",className:"search-input",value:p,onChange:ee})]})}),!d&&(0,y.jsxs)("div",{className:"sidebar-filters",children:[(0,y.jsxs)("button",{className:"filter-tab ".concat("all"===v?"active":""),onClick:()=>te("all"),children:[(0,y.jsx)("span",{className:"tab-text",children:"All"}),(0,y.jsx)("span",{className:"tab-count",children:Ne.all})]}),(0,y.jsxs)("button",{className:"filter-tab ".concat("unread"===v?"active":""),onClick:()=>te("unread"),children:[(0,y.jsx)("span",{className:"tab-text",children:"Unread"}),(0,y.jsx)("span",{className:"tab-count",children:Ne.unread})]}),(0,y.jsxs)("button",{className:"filter-tab ".concat("groups"===v?"active":""),onClick:()=>te("groups"),children:[(0,y.jsx)("span",{className:"tab-text",children:"Groups"}),(0,y.jsx)("span",{className:"tab-count",children:Ne.groups})]})]}),(0,y.jsxs)("div",{className:"pro-sidebar-content",children:[(0,y.jsx)("div",{className:"conversations-header",children:!d&&(0,y.jsx)("h4",{children:"Recent Conversations"})}),(0,y.jsx)("div",{className:"conversations-list",children:ke.map(e=>(0,y.jsxs)("div",{className:"conversation-item enhanced ".concat(m===e.id?"active":""),onClick:()=>Z(e.id),children:[(0,y.jsxs)("div",{className:"conversation-avatar",children:[(0,y.jsx)("img",{src:e.avatar||"https://ui-avatars.com/api/?name=".concat(e.name,"&background=random&size=40"),alt:e.name}),e.isOnline&&(0,y.jsx)("div",{className:"online-dot"}),e.unreadCount>0&&(0,y.jsx)("div",{className:"unread-badge",children:e.unreadCount})]}),!d&&(0,y.jsxs)("div",{className:"conversation-details",children:[(0,y.jsxs)("div",{className:"conversation-header",children:[(0,y.jsx)("h5",{className:"conversation-name",children:e.name}),(0,y.jsx)("span",{className:"conversation-time",children:e.lastMessageTime||"2m"})]}),(0,y.jsxs)("div",{className:"conversation-preview",children:[(0,y.jsx)("p",{className:"last-message",children:e.lastMessage||"Hey there! How are you doing?"}),(0,y.jsxs)("div",{className:"conversation-meta",children:[e.isPinned&&(0,y.jsx)("span",{className:"pin-icon",children:"\ud83d\udccc"}),e.isMuted&&(0,y.jsx)("span",{className:"mute-icon",children:"\ud83d\udd07"}),e.messageStatus&&(0,y.jsx)("span",{className:"message-status ".concat(e.messageStatus),children:"\u2713"})]})]})]}),d&&e.unreadCount>0&&(0,y.jsx)("div",{className:"collapsed-unread-indicator"})]},e.id))})]}),(0,y.jsxs)("div",{className:"sidebar-footer",children:[!d&&(0,y.jsxs)("div",{className:"footer-stats",children:[(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Active"}),(0,y.jsx)("span",{className:"stat-value",children:"12"})]}),(0,y.jsxs)("div",{className:"stat-item",children:[(0,y.jsx)("span",{className:"stat-label",children:"Total"}),(0,y.jsx)("span",{className:"stat-value",children:"156"})]})]}),(0,y.jsxs)("div",{className:"footer-actions",children:[(0,y.jsx)("button",{className:"footer-btn",title:"Help",onClick:()=>console.log("Help clicked"),children:"\u2753"}),!d&&(0,y.jsx)("button",{className:"footer-btn",title:"Feedback",onClick:()=>console.log("Feedback clicked"),children:"\ud83d\udcac"}),(0,y.jsx)("button",{className:"footer-btn",title:"Settings",onClick:re,children:"\u2699\ufe0f"})]})]})]}),!d&&(0,y.jsx)("div",{className:"pro-sidebar-overlay",onClick:X,"aria-hidden":"true"}),(0,y.jsxs)("div",{className:"pro-main ".concat(d?"collapsed":""),children:[(0,y.jsxs)("div",{className:"pro-header enhanced-chat-header",children:[(0,y.jsxs)("div",{className:"header-left",children:[(0,y.jsxs)("div",{className:"conversation-avatar",children:[(0,y.jsx)("img",{src:(null===i||void 0===i?void 0:i.avatar)||"https://images.unsplash.com/photo-1516726817505-f5ed825624d8?w=40&h=40&fit=crop&crop=face",alt:(null===i||void 0===i?void 0:i.name)||"Chat"}),(0,y.jsx)("div",{className:"online-indicator ".concat(u?"online":"offline")})]}),(0,y.jsxs)("div",{className:"conversation-info",children:[(0,y.jsx)("h3",{className:"conversation-title",children:(null===i||void 0===i?void 0:i.name)||"General Chat"}),(0,y.jsxs)("div",{className:"conversation-status",children:[(0,y.jsx)("span",{className:"connection-status ".concat(u?"connected":"disconnected"),children:u?"\u25cf Online":"\u25cf Disconnected"}),(0,y.jsxs)("span",{className:"participant-count",children:[(null===i||void 0===i?void 0:i.participants)||5," participants"]})]})]})]}),(0,y.jsx)("div",{className:"header-center",children:(0,y.jsxs)("div",{className:"header-search",children:[(0,y.jsx)("input",{type:"text",placeholder:"Search messages...",className:"search-input"}),(0,y.jsx)("button",{className:"search-btn",children:"\ud83d\udd0d"})]})}),(0,y.jsxs)("div",{className:"header-actions",children:[(0,y.jsx)("button",{className:"action-btn video-call-btn",title:"Start video call",children:"\ud83d\udcf9"}),(0,y.jsx)("button",{className:"action-btn voice-call-btn",title:"Start voice call",children:"\ud83d\udcde"}),(0,y.jsx)("button",{className:"action-btn info-btn",title:"Chat info",children:"\u2139\ufe0f"}),(0,y.jsx)("button",{onClick:c,className:"action-btn theme-toggle",title:"Toggle theme",children:l?"\u2600\ufe0f":"\ud83c\udf19"}),(0,y.jsx)("button",{onClick:o,className:"action-btn logout-btn",title:"Logout / Disconnect",children:"\ud83d\udeaa"}),(0,y.jsxs)("div",{className:"header-menu",children:[(0,y.jsx)("button",{className:"action-btn menu-btn",title:"More options",children:"\u22ee"}),(0,y.jsxs)("div",{className:"dropdown-menu",children:[(0,y.jsx)("button",{className:"dropdown-item",onClick:re,children:"Settings"}),(0,y.jsx)("button",{className:"dropdown-item",children:"Export Chat"}),(0,y.jsx)("button",{className:"dropdown-item",children:"Mute Notifications"}),(0,y.jsx)("hr",{className:"dropdown-divider"}),(0,y.jsx)("button",{onClick:o,className:"dropdown-item logout-item",children:"Logout"})]})]})]})]}),(0,y.jsxs)("div",{className:"pro-message-list",ref:H,children:[q.map(e=>(0,y.jsxs)("div",{className:"pro-message-blurb","data-message-id":e.id,children:[(0,y.jsx)("div",{className:"message-avatar",children:(0,y.jsx)("img",{src:e.user.avatar||"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=32&h=32&fit=crop&crop=face",alt:e.user.name,onClick:()=>ze(e.user.id,e.user.name)})}),(0,y.jsxs)("div",{className:"message-content",onClick:()=>be(e.id),children:[(0,y.jsxs)("div",{className:"message-header",children:[(0,y.jsx)("span",{className:"user-name",children:e.user.name}),(0,y.jsx)("span",{className:"timestamp",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,y.jsx)("div",{className:"message-text","data-length":st(e.text),children:e.text}),e.file&&(0,y.jsx)("div",{className:"message-attachment",children:e.file.type.startsWith("image/")?(0,y.jsxs)("div",{className:"image-attachment ".concat(e.file.isGif?"gif-attachment":""),children:[e.file.isGif&&(0,y.jsx)("div",{className:"gif-badge",children:(0,y.jsx)("span",{className:"gif-label",children:"GIF"})}),(0,y.jsx)("img",{src:e.file.url,alt:e.file.name,className:"attached-image ".concat(e.file.isGif?"gif-image":""),onClick:()=>{Ve(e.file.url,e.file.name)},style:{maxWidth:e.file.isGif?"350px":"300px",maxHeight:e.file.isGif?"250px":"200px",borderRadius:"8px",cursor:"pointer",objectFit:"cover"}}),(0,y.jsxs)("div",{className:"image-caption ".concat(e.file.isGif?"gif-caption":""),children:[e.file.isGif&&"\ud83c\udfad ",e.file.name," (",(e.file.size/1024).toFixed(1)," KB)",e.file.isGif&&(0,y.jsx)("span",{className:"gif-info",children:" \u2022 Animated GIF"})]})]}):e.file.type.startsWith("video/")?(0,y.jsxs)("div",{className:"video-attachment",children:[(0,y.jsxs)("div",{className:"video-container",children:[(0,y.jsxs)("video",{src:e.file.url,poster:e.file.thumbnail,controls:!0,preload:"metadata",muted:!1,playsInline:!0,"webkit-playsinline":"true",onClick:()=>{He(e.file.url,e.file.name,e.file.thumbnail,e.file.type)},onError:t=>{console.error("Video playback error:",t),console.log("Video details:",{src:e.file.url,type:e.file.type,poster:e.file.thumbnail?"Has thumbnail":"No thumbnail",error:t.target.error})},onLoadedMetadata:e=>{console.log("Video loaded for playback:",{duration:e.target.duration,videoWidth:e.target.videoWidth,videoHeight:e.target.videoHeight,readyState:e.target.readyState})},onLoadStart:()=>console.log("Video load started"),onCanPlay:()=>console.log("Video can play"),onCanPlayThrough:()=>console.log("Video can play through"),style:{maxWidth:"400px",maxHeight:"300px",borderRadius:"8px",width:"100%",height:"auto",cursor:"pointer"},children:[(0,y.jsx)("source",{src:e.file.url,type:e.file.type}),"Your browser does not support the video tag."]}),e.file.duration&&(0,y.jsx)("div",{className:"video-duration-badge",children:e.file.duration})]}),(0,y.jsxs)("div",{className:"video-caption",children:["\ud83c\udfa5 ",e.file.name,e.file.size&&" (".concat((e.file.size/1048576).toFixed(1)," MB)"),e.file.width&&e.file.height&&" \u2022 ".concat(e.file.width,"\xd7").concat(e.file.height)]})]}):(0,y.jsxs)("div",{className:"file-attachment",children:[(0,y.jsx)("div",{className:"file-icon",children:"\ud83d\udcc4"}),(0,y.jsxs)("div",{className:"file-info",children:[(0,y.jsx)("div",{className:"file-name",children:e.file.name}),(0,y.jsxs)("div",{className:"file-size",children:[(e.file.size/1024).toFixed(1)," KB"]})]}),(0,y.jsx)("button",{className:"download-btn",onClick:()=>{const t=document.createElement("a");t.href=e.file.url,t.download=e.file.name,t.click()},children:"Download"})]})}),"voice"===e.type&&(0,y.jsxs)("div",{className:"voice-message",children:[(0,y.jsx)("div",{className:"voice-icon",children:"\ud83c\udfa4"}),(0,y.jsx)("div",{className:"voice-duration",children:xe(e.duration||0)}),(0,y.jsx)("button",{className:"play-voice-btn",children:"\u25b6\ufe0f"})]}),e.reactions&&e.reactions.length>0&&(0,y.jsx)("div",{className:"message-reactions",children:e.reactions.map((t,n)=>(0,y.jsxs)("button",{className:"reaction-bubble",onClick:n=>{n.stopPropagation(),ve(e.id,t.emoji)},children:[(0,y.jsx)("span",{className:"reaction-emoji",children:t.emoji}),(0,y.jsx)("span",{className:"reaction-count",children:t.count})]},n))})]})]},e.id)),(0,y.jsx)("div",{ref:V})]}),(0,y.jsxs)("div",{className:"pro-chat-input-container enhanced",children:[(0,y.jsxs)("div",{className:"input-wrapper enhanced",children:[j&&(0,y.jsxs)("div",{className:"recording-interface",children:[(0,y.jsxs)("div",{className:"recording-indicator",children:[(0,y.jsx)("div",{className:"recording-dot"}),(0,y.jsxs)("span",{children:["Recording... ",xe(N)]})]}),(0,y.jsxs)("div",{className:"recording-actions",children:[(0,y.jsx)("button",{className:"recording-btn cancel",onClick:()=>je(!1),type:"button",children:"Cancel"}),(0,y.jsx)("button",{className:"recording-btn send",onClick:()=>je(!0),type:"button",children:"Send"})]})]}),!j&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("input",{ref:F,type:"file",accept:"image/*,image/gif,video/*,audio/*,.pdf,.doc,.docx,.txt",style:{display:"none"},multiple:!0,onChange:ie}),(0,y.jsx)("input",{ref:z,id:"mobile-camera-photo",type:"file",accept:"image/*",capture:"environment",style:{display:"none"},onChange:ie}),(0,y.jsx)("input",{ref:_,id:"mobile-camera-video",type:"file",accept:"video/*",capture:"environment",style:{display:"none"},onChange:ie}),(0,y.jsx)("input",{ref:U,id:"mobile-gallery",type:"file",accept:"image/*,video/*,image/gif",style:{display:"none"},multiple:!0,onChange:ie}),(0,y.jsxs)("div",{className:"input-actions left",children:[(0,y.jsx)("button",{className:"input-btn attachment-btn",onClick:oe()?ge:()=>{var e;return null===(e=F.current)||void 0===e?void 0:e.click()},type:"button",title:oe()?"Upload menu":"Attach files",children:"\ud83d\udcce"}),(0,y.jsx)("button",{className:"input-btn gif-btn",onClick:de,type:"button",title:"Choose GIF",children:"\ud83c\udfad"}),(0,y.jsx)("button",{className:"input-btn gif-upload-btn",onClick:me,type:"button",title:"Upload your own GIF",children:"\ud83d\udce4"}),(0,y.jsx)("button",{className:"input-btn voice-btn",onClick:we,type:"button",title:"Voice message",children:"\ud83c\udfa4"}),(0,y.jsx)("button",{className:"input-btn emoji-btn",onClick:()=>w(!x),type:"button",title:"Add emoji",children:"\ud83d\ude0a"})]}),(0,y.jsx)("textarea",{value:Ce,onChange:e=>Ee(e.target.value),onKeyPress:Fe,placeholder:"Type your message...",className:"message-input enhanced",rows:"1"}),(0,y.jsx)("button",{onClick:Ie,disabled:!Ce.trim(),className:"send-button enhanced",type:"button",children:(0,y.jsx)("span",{className:"send-icon",children:"\u27a4"})})]})]}),x&&(0,y.jsx)("div",{className:"emoji-picker-overlay",onClick:()=>w(!1),children:(0,y.jsxs)("div",{className:"emoji-picker",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"emoji-picker-header",children:[(0,y.jsx)("span",{children:"Choose an emoji"}),(0,y.jsx)("button",{className:"emoji-close",onClick:()=>w(!1),children:"\u2715"})]}),(0,y.jsx)("div",{className:"emoji-grid",children:["\ud83d\ude0a","\ud83d\ude02","\ud83e\udd70","\ud83d\ude0d","\ud83e\udd14","\ud83d\ude2e","\ud83d\ude05","\ud83d\udc4d","\ud83d\udc4e","\u2764\ufe0f","\ud83d\udd25","\ud83c\udf89","\ud83d\udc4f","\ud83d\ude4c","\u2728","\ud83d\udcaf","\ud83d\ude80","\ud83d\udca1","\ud83c\udfaf","\u2705","\u274c","\u26a1","\ud83c\udf1f","\ud83e\udd1d","\ud83d\udcaa","\ud83c\udf08","\u2600\ufe0f","\ud83c\udf19","\u2b50","\ud83d\udc9d","\ud83c\udf88"].map(e=>(0,y.jsx)("button",{className:"emoji-item",onClick:()=>ye(e),children:e},e))})]})}),$&&G&&(0,y.jsx)("div",{className:"emoji-picker-overlay",onClick:()=>{J(!1),Q(null)},children:(0,y.jsxs)("div",{className:"emoji-picker",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"emoji-picker-header",children:[(0,y.jsx)("span",{children:"Add Reaction"}),(0,y.jsx)("button",{className:"emoji-close",onClick:()=>{J(!1),Q(null)},children:"\u2715"})]}),(0,y.jsx)("div",{className:"emoji-grid",children:["\ud83d\ude0a","\ud83d\ude02","\ud83e\udd70","\ud83d\ude0d","\ud83e\udd14","\ud83d\ude2e","\ud83d\ude05","\ud83d\udc4d","\ud83d\udc4e","\u2764\ufe0f","\ud83d\udd25","\ud83c\udf89","\ud83d\udc4f","\ud83d\ude4c","\u2728","\ud83d\udcaf","\ud83d\ude80","\ud83d\udca1","\ud83c\udfaf","\u2705","\u274c","\u26a1","\ud83c\udf1f","\ud83e\udd1d","\ud83d\udcaa","\ud83c\udf08","\u2600\ufe0f","\ud83c\udf19","\u2b50","\ud83d\udc9d","\ud83c\udf88"].map(e=>(0,y.jsx)("button",{className:"emoji-item",onClick:()=>ye(e),children:e},e))})]})})]})]}),Ae.open&&(0,y.jsx)(C,{userId:Ae.userId,username:Ae.username,onClose:_e}),Te.open&&(0,y.jsx)(le,{isOpen:Te.open,onClose:Ue,initialSection:Te.section,user:n,onSaveProfile:e=>{console.log("Profile updated:",e)},darkMode:l}),E.open&&(0,y.jsx)("div",{className:"pro-lightbox-overlay",onClick:$e,children:(0,y.jsxs)("div",{className:"pro-lightbox-content",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"pro-lightbox-header",children:[(0,y.jsxs)("div",{className:"pro-lightbox-info",children:[(0,y.jsx)("div",{className:"pro-lightbox-title",children:E.imageName}),(0,y.jsxs)("div",{className:"pro-lightbox-meta",children:[(0,y.jsxs)("span",{className:"pro-lightbox-zoom-info",children:[Math.round(100*E.zoom),"%"]}),E.images.length>1&&(0,y.jsxs)("span",{className:"pro-lightbox-counter",children:[E.currentIndex+1," / ",E.images.length]})]})]}),(0,y.jsxs)("div",{className:"pro-lightbox-controls",children:[(0,y.jsx)("button",{className:"pro-lightbox-btn",onClick:Ke,title:"Zoom out (-)",children:"\ud83d\udd0d-"}),(0,y.jsx)("button",{className:"pro-lightbox-btn",onClick:Ye,title:"Reset zoom (0)",children:"\u22a1"}),(0,y.jsx)("button",{className:"pro-lightbox-btn",onClick:Je,title:"Zoom in (+)",children:"\ud83d\udd0d+"}),(0,y.jsx)("button",{className:"pro-lightbox-btn pro-lightbox-download",onClick:()=>{const e=document.createElement("a");e.href=E.imageUrl,e.download=E.imageName,e.click()},title:"Download image",children:"\ud83d\udcbe"})]}),(0,y.jsx)("button",{className:"pro-lightbox-close",onClick:$e,children:"\xd7"})]}),(0,y.jsxs)("div",{className:"pro-lightbox-image-container",onMouseDown:Xe,onMouseMove:Ze,onMouseUp:et,onMouseLeave:et,style:{cursor:E.zoom>1?E.isDragging?"grabbing":"grab":"zoom-in"},children:[E.images.length>1&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:"pro-lightbox-nav pro-lightbox-nav-prev",onClick:()=>We("prev"),disabled:0===E.currentIndex,title:"Previous image (\u2190)",children:"\u2190"}),(0,y.jsx)("button",{className:"pro-lightbox-nav pro-lightbox-nav-next",onClick:()=>We("next"),disabled:E.currentIndex===E.images.length-1,title:"Next image (\u2192)",children:"\u2192"})]}),(0,y.jsx)("img",{src:E.imageUrl,alt:E.imageName,className:"pro-lightbox-image ".concat(E.isLoading?"loading":"loaded"),style:{transform:"scale(".concat(E.zoom,") translate(").concat(E.pan.x,"px, ").concat(E.pan.y,"px)"),transition:E.isDragging?"none":"transform 0.3s ease",opacity:E.isLoading?.3:1},onLoad:Ge,onError:Qe,onDoubleClick:()=>{1===E.zoom?Je():Ye()},draggable:!1}),E.isLoading&&(0,y.jsxs)("div",{className:"pro-lightbox-loading",children:[(0,y.jsx)("div",{className:"pro-lightbox-spinner"}),(0,y.jsx)("span",{children:"Loading..."})]})]}),(0,y.jsx)("div",{className:"pro-lightbox-help",children:(0,y.jsx)("span",{children:"ESC to close \u2022 Arrow keys to navigate \u2022 Mouse wheel to zoom \u2022 Drag to pan \u2022 Double-click to zoom"})})]})}),P.open&&(0,y.jsx)("div",{className:"pro-lightbox-overlay",onClick:qe,children:(0,y.jsxs)("div",{className:"pro-lightbox-content",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"pro-lightbox-header",children:[(0,y.jsx)("div",{className:"pro-lightbox-info",children:(0,y.jsx)("div",{className:"pro-lightbox-title",children:(0,y.jsx)("h3",{children:P.videoName})})}),(0,y.jsx)("div",{className:"pro-lightbox-controls",children:(0,y.jsx)("button",{className:"pro-lightbox-btn pro-lightbox-download",onClick:()=>{const e=document.createElement("a");e.href=P.videoUrl,e.download=P.videoName,e.click()},title:"Download video",children:"\ud83d\udcbe"})}),(0,y.jsx)("button",{className:"pro-lightbox-close",onClick:qe,children:"\xd7"})]}),(0,y.jsx)("div",{className:"pro-lightbox-video-container",children:(0,y.jsxs)("video",{src:P.videoUrl,poster:P.poster,controls:!0,autoPlay:!0,playsInline:!0,className:"pro-lightbox-video",style:{maxWidth:"100%",maxHeight:"80vh",width:"auto",height:"auto"},children:[(0,y.jsx)("source",{src:P.videoUrl,type:P.type}),"Your browser does not support the video tag."]})}),(0,y.jsx)("div",{className:"pro-lightbox-help",children:(0,y.jsx)("span",{children:"ESC to close \u2022 Click outside to close \u2022 Download available"})})]})}),(0,y.jsx)(ue,{isOpen:L,onGifSelect:fe,onClose:pe}),(0,y.jsx)(he,{isOpen:Me,onClose:()=>Oe(!1),onCreateChat:se,currentUser:n,darkMode:l})]})},fe=(0,a.createContext)(),pe=e=>{let{children:t}=e;const[n,s]=(0,a.useState)(null),[r,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0),[c,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=localStorage.getItem("authToken"),t=sessionStorage.getItem("authToken"),n=localStorage.getItem("user"),a=sessionStorage.getItem("user");let r=null,o=null,c=!1;if(e&&n?(r=e,o=n,c=!0,console.log("Found remembered session in localStorage")):t&&a&&(r=t,o=a,c=!1,console.log("Found temporary session in sessionStorage")),r&&o)try{const e=JSON.parse(o);s(e),i(r),u(c),console.log("Restored user session:",{remembered:c,user:e.username})}catch(d){console.error("Error parsing stored user data:",d),localStorage.removeItem("user"),localStorage.removeItem("authToken"),sessionStorage.removeItem("user"),sessionStorage.removeItem("authToken")}l(!1)},[]);return(0,y.jsx)(fe.Provider,{value:{isAuthenticated:!!r,user:n,token:r,loading:o,rememberMe:c,login:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s(e),i(t),u(n),localStorage.removeItem("user"),localStorage.removeItem("authToken"),sessionStorage.removeItem("user"),sessionStorage.removeItem("authToken");const a=n?localStorage:sessionStorage;a.setItem("user",JSON.stringify(e)),a.setItem("authToken",t),console.log("User session saved to ".concat(n?"localStorage (remembered)":"sessionStorage (temporary)")),R(T,{userId:e.id||"anonymous",method:"manual",remembered:n})},logout:()=>{n&&R(L,{userId:n.id||"anonymous"}),s(null),i(null),u(!1),localStorage.removeItem("authToken"),localStorage.removeItem("user"),sessionStorage.removeItem("authToken"),sessionStorage.removeItem("user"),console.log("User session cleared from all storage")},refreshUser:()=>{console.log("User refresh requested - implement if needed")}},children:t})},ge=()=>{const e=(0,a.useContext)(fe);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ve=e=>{let{onVerify:t,onCancel:n,userId:s,username:r,loading:i=!1}=e;const[o,l]=(0,a.useState)(["","","","","",""]),[c,u]=(0,a.useState)(""),[d,h]=(0,a.useState)(!1),[m,f]=(0,a.useState)(""),p=(0,a.useRef)([]);(0,a.useEffect)(()=>{p.current[0]&&p.current[0].focus()},[]);const g=async e=>{let n;e.preventDefault(),u("");let a=d;if(d){if(!m.trim())return void u("Please enter a backup code");n=m.trim()}else{const e=o.join("");if(6!==e.length)return void u("Please enter a complete 6-digit code");n=e}try{await t(n,a)}catch(s){u(s.message||"Verification failed. Please try again.")}};return(0,y.jsx)("div",{className:"two-factor-verify",children:(0,y.jsxs)("div",{className:"two-factor-container",children:[(0,y.jsxs)("div",{className:"two-factor-header",children:[(0,y.jsx)("div",{className:"two-factor-icon",children:"\ud83d\udee1\ufe0f"}),(0,y.jsx)("h2",{children:"Two-Factor Authentication"}),(0,y.jsxs)("p",{children:["Enter the verification code for ",(0,y.jsx)("strong",{children:r})]})]}),(0,y.jsxs)("form",{onSubmit:g,className:"two-factor-form",children:[d?(0,y.jsxs)("div",{className:"backup-code-section",children:[(0,y.jsx)("p",{className:"instruction",children:"Enter one of your backup codes"}),(0,y.jsx)("input",{id:"backup-code-input",type:"text",value:m,onChange:e=>f(e.target.value.toUpperCase()),placeholder:"XXXXXXXX",className:"backup-code-input",disabled:i,maxLength:"8"})]}):(0,y.jsxs)("div",{className:"code-input-section",children:[(0,y.jsx)("p",{className:"instruction",children:"Enter the 6-digit code from your authenticator app"}),(0,y.jsx)("div",{className:"code-inputs",children:o.map((e,t)=>(0,y.jsx)("input",{ref:e=>p.current[t]=e,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:"1",value:e,onChange:e=>((e,t)=>{if(t.length>1)return;const n=[...o];var a;n[e]=t,l(n),u(""),t&&e<5&&(null===(a=p.current[e+1])||void 0===a||a.focus())})(t,e.target.value),onKeyDown:e=>((e,t)=>{var n;"Backspace"===t.key&&!o[e]&&e>0&&(null===(n=p.current[e-1])||void 0===n||n.focus()),"Enter"===t.key&&g(t)})(t,e),className:"code-input",disabled:i},t))})]}),c&&(0,y.jsxs)("div",{className:"error-message",children:[(0,y.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),c]}),(0,y.jsxs)("div",{className:"form-actions",children:[(0,y.jsx)("button",{type:"submit",className:"verify-button",disabled:i||!d&&6!==o.join("").length||d&&!m.trim(),children:i?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"loading-spinner"}),"Verifying..."]}):"Verify Code"}),(0,y.jsx)("button",{type:"button",onClick:n,className:"cancel-button",disabled:i,children:"Cancel"})]}),(0,y.jsx)("div",{className:"alternative-options",children:(0,y.jsx)("button",{type:"button",onClick:()=>{h(!d),u(""),l(["","","","","",""]),f(""),setTimeout(()=>{var e,t;d?null===(e=p.current[0])||void 0===e||e.focus():null===(t=document.getElementById("backup-code-input"))||void 0===t||t.focus()},100)},className:"link-button",disabled:i,children:d?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"icon",children:"\ud83d\udcf1"}),"Use authenticator app instead"]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"icon",children:"\ud83d\udd11"}),"Use backup code instead"]})})})]}),(0,y.jsx)("div",{className:"help-section",children:(0,y.jsxs)("details",{className:"help-details",children:[(0,y.jsx)("summary",{children:"Need help?"}),(0,y.jsx)("div",{className:"help-content",children:(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{children:[(0,y.jsx)("strong",{children:"Authenticator App:"})," Open your authenticator app (Google Authenticator, Authy, etc.) and enter the 6-digit code."]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("strong",{children:"Backup Codes:"})," Use one of the 8-character backup codes you saved when setting up 2FA."]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("strong",{children:"Can't access codes?"})," Contact support for account recovery."]})]})})]})})]})})},ye=e=>{let{onLogin:t,switchToRegister:n}=e;const{login:s}=ge(),[r,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),[d,h]=(0,a.useState)(null),[m,f]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[b,x]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)("checking"),[S,C]=(0,a.useState)(!1),[A,P]=(0,a.useState)(null),[T,L]=(0,a.useState)(""),M=(0,a.useRef)(null);(0,a.useEffect)(()=>{M.current&&M.current.focus(),(0,E.$n)().then(e=>{e?(console.log("API server is online"),N("online")):(console.log("API server appears to be offline"),h("\ud83c\udf10 No backend server detected. The app is running in demo mode - you can still log in and use all features!"),N("offline"),j(!0))})},[]);return(0,y.jsxs)("div",{className:"login-container",children:[(0,y.jsxs)("div",{className:"auth-form",children:[(0,y.jsxs)("div",{className:"elegant-header",children:[(0,y.jsxs)("div",{className:"brand-section",children:[(0,y.jsx)("div",{className:"brand-icon",children:(0,y.jsx)("span",{className:"brand-emoji",children:"\ud83d\udcac"})}),(0,y.jsxs)("div",{className:"brand-content",children:[(0,y.jsx)("h2",{className:"brand-title",children:"Welcome Back"}),(0,y.jsx)("p",{className:"brand-subtitle",children:"Sign in to continue your conversation"})]})]}),(0,y.jsx)("div",{className:"decorative-line"})]}),"checking"!==k&&(0,y.jsxs)("div",{className:"server-status ".concat(k),children:[(0,y.jsx)("div",{className:"status-indicator"}),(0,y.jsx)("div",{className:"status-text",children:"online"===k?"Server Online":"Server Offline - Demo Mode"})]}),(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),x(!0),r.trim()?o?["demo","admin","password"].includes(o)||!(o.length<6)||(h("Password must be at least 6 characters (or use demo credentials)"),0):(h("Password is required"),0):(h("Username or email is required"),0)){f(!0),h(null);try{if(console.log("Login Component - Attempting login with:",{username:r}),w){console.log("Demo mode active, using offline authentication");const e=[{username:"demo",password:"demo",email:"demo@quibish.com",name:"Demo User"},{username:"john",password:"password",email:"john@example.com",name:"John Doe"},{username:"jane",password:"password",email:"jane@example.com",name:"Jane Smith"},{username:"admin",password:"admin",email:"admin@quibish.com",name:"Admin User"},{username:"alice",password:"password123",email:"alice@example.com",name:"Alice Cooper"},{username:"bob",password:"password456",email:"bob@example.com",name:"Bob Wilson"}].find(e=>(e.username===r||e.email===r)&&e.password===o);if(e){const n={id:Date.now(),username:e.username,email:e.email,name:e.name};return E.y1.saveUserSession(n,"demo-token-local",c),void t(n,"demo-token-local")}throw new Error("Invalid demo credentials")}const e=await E.y1.login(r,o);if(console.log("Login Component - Login response:",e),!e)throw console.error("Login Component - Empty response received"),new Error("No response from server");if(e.requiresTwoFactor)return console.log("Login Component - 2FA required for user:",e.userId),P(e.userId),L(r),C(!0),void f(!1);if(!e.user)throw console.error("Login Component - Missing user data in response"),new Error("User data missing from response");if(!e.token)throw console.error("Login Component - Missing token in response"),new Error("Authentication token missing from response");console.log("Login Component - Login successful, saving session"),E.y1.saveUserSession(e.user,e.token,c),t(e.user,e.token),console.log("Login Component - Session saved and parent notified")}catch(n){if(console.error("Login Component - Login error:",n),n.response){const e=n.response.data;console.error("Login Component - Server error response:",e),e.error?h(e.error):e.message?h(e.message):401===n.response.status?h("Invalid username or password. Please try again."):404===n.response.status?h("Server endpoint not found. Is the server running?"):h("Server error (".concat(n.response.status,"). Please try again later."))}else n.request?(console.error("Login Component - Network error, no response received"),h("Unable to connect to server. Please check your internet connection and try again."),(0,E.$n)().then(e=>{e||h("Server appears to be offline. Please try again later or use demo mode.")})):(console.error("Login Component - Other error:",n.message),h(n.message||"Login failed. Please try again."))}finally{f(!1)}}},children:[(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"username",children:"Username or Email"}),(0,y.jsxs)("div",{className:"input-wrapper",children:[(0,y.jsx)("input",{id:"username",type:"text",value:r,onChange:e=>i(e.target.value),onBlur:()=>x(!0),ref:M,required:!0,autoComplete:"username email",placeholder:"Enter your username or email",className:b&&!r.trim()?"error-input":""}),r&&(0,y.jsx)("button",{type:"button",className:"clear-input",onClick:()=>i(""),"aria-label":"Clear username",children:"\u2715"})]}),b&&!r.trim()&&(0,y.jsx)("div",{className:"field-error",children:"Username or email is required"})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"password",children:"Password"}),(0,y.jsxs)("div",{className:"input-wrapper",children:[(0,y.jsx)("input",{id:"password",type:p?"text":"password",value:o,onChange:e=>l(e.target.value),onBlur:()=>x(!0),required:!0,autoComplete:"current-password",placeholder:"Enter your password",className:b&&!o?"error-input":""}),(0,y.jsx)("button",{type:"button",className:"toggle-password",onClick:()=>g(!p),"aria-label":p?"Hide password":"Show password",children:p?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]}),b&&!o&&(0,y.jsx)("div",{className:"field-error",children:"Password is required"}),b&&o&&o.length<6&&(0,y.jsx)("div",{className:"field-error",children:"Password must be at least 6 characters"})]}),(0,y.jsxs)("div",{className:"form-options",children:[(0,y.jsxs)("label",{className:"checkbox-container",children:[(0,y.jsx)("input",{type:"checkbox",checked:c,onChange:e=>u(e.target.checked)}),(0,y.jsx)("span",{className:"checkmark"}),"Remember me"]}),(0,y.jsx)("button",{type:"button",className:"forgot-password",onClick:()=>console.log("Forgot password clicked"),children:"Forgot password?"})]}),(0,y.jsx)("button",{type:"submit",className:"auth-button",disabled:m,children:m?(0,y.jsxs)("span",{className:"button-with-loader",children:[(0,y.jsx)("span",{className:"loader"}),(0,y.jsx)("span",{children:"Signing in..."})]}):(0,y.jsx)("span",{children:"Sign In"})}),d&&(0,y.jsxs)("div",{className:"auth-error",children:[(0,y.jsx)("div",{className:"error-icon",children:"\u2757"}),(0,y.jsx)("div",{className:"error-message",children:d})]})]}),(0,y.jsxs)("div",{className:"auth-switch",children:["Don't have an account?"," ",(0,y.jsx)("button",{className:"text-button",onClick:n,children:"Sign Up"})]}),(0,y.jsx)("div",{className:"demo-mode-switch",children:(0,y.jsxs)("label",{className:"checkbox-container",children:[(0,y.jsx)("input",{type:"checkbox",checked:w,onChange:e=>j(e.target.checked)}),(0,y.jsx)("span",{className:"checkmark"}),"Use Demo Mode ",w&&"(Server connection will be ignored)"]})}),(0,y.jsxs)("div",{className:"demo-accounts",children:[(0,y.jsx)("p",{className:"demo-title",children:"Quick Login with Demo Accounts"}),(0,y.jsxs)("div",{className:"demo-cards",children:[(0,y.jsxs)("div",{className:"demo-card",onClick:()=>{i("demo"),l("demo"),h(null)},children:[(0,y.jsx)("div",{className:"demo-avatar",children:"D"}),(0,y.jsxs)("div",{className:"demo-info",children:[(0,y.jsx)("div",{className:"demo-name",children:"Demo"}),(0,y.jsx)("div",{className:"demo-creds",children:"demo / demo"})]})]}),(0,y.jsxs)("div",{className:"demo-card",onClick:()=>{i("alice"),l("password123"),h(null)},children:[(0,y.jsx)("div",{className:"demo-avatar",children:"A"}),(0,y.jsxs)("div",{className:"demo-info",children:[(0,y.jsx)("div",{className:"demo-name",children:"Alice"}),(0,y.jsx)("div",{className:"demo-creds",children:"alice / password123"})]})]}),(0,y.jsxs)("div",{className:"demo-card",onClick:()=>{i("bob"),l("password456"),h(null)},children:[(0,y.jsx)("div",{className:"demo-avatar",children:"B"}),(0,y.jsxs)("div",{className:"demo-info",children:[(0,y.jsx)("div",{className:"demo-name",children:"Bob"}),(0,y.jsx)("div",{className:"demo-creds",children:"bob / password456"})]})]})]})]})]}),S&&(0,y.jsx)(ve,{userId:A,username:T,onVerify:async(e,n)=>{try{f(!0);const a=await v.api.verifyTwoFactor(A,e,n);if(!a.success)throw new Error(a.error||"2FA verification failed");const s=await v.api.completeTwoFactorLogin(A);if(!s.success||!s.user||!s.token)throw new Error("Failed to complete login after 2FA verification");console.log("Login Component - 2FA successful, completing login"),E.y1.saveUserSession(s.user,s.token,c),t(s.user,s.token)}catch(d){throw console.error("2FA verification error:",d),d}finally{f(!1)}},onCancel:()=>{C(!1),P(null),L(""),h(null)},loading:m})]})},be=e=>{let{onRegisterSuccess:t,switchToLogin:n}=e;const[s,r]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[h,m]=(0,a.useState)(null),[f,p]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!1),[b,x]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)({}),[S,C]=(0,a.useState)("checking"),[A,P]=(0,a.useState)(!1),T=(0,a.useRef)(null);(0,a.useEffect)(()=>{T.current&&T.current.focus(),(0,E.$n)().then(e=>{e?(console.log("API server is online"),C("online")):(console.log("API server appears to be offline"),m("Server connection failed. Registration may not work."),C("offline"),P(!0))})},[]);return(0,y.jsx)("div",{className:"login-container",children:(0,y.jsxs)("div",{className:"auth-form",children:[(0,y.jsxs)("div",{className:"elegant-header",children:[(0,y.jsxs)("div",{className:"brand-section",children:[(0,y.jsx)("div",{className:"brand-icon",children:(0,y.jsx)("span",{className:"brand-emoji",children:"\u2728"})}),(0,y.jsxs)("div",{className:"brand-content",children:[(0,y.jsx)("h2",{className:"brand-title",children:"Create Account"}),(0,y.jsx)("p",{className:"brand-subtitle",children:"Join the conversation and get started"})]})]}),(0,y.jsx)("div",{className:"decorative-line"})]}),"checking"!==S&&(0,y.jsxs)("div",{className:"server-status ".concat(S),children:[(0,y.jsx)("div",{className:"status-indicator"}),(0,y.jsx)("div",{className:"status-text",children:"online"===S?"Server Online":"Server Offline - Demo Mode"})]}),(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{j(!0);const e={};return s.trim()?s.length<3?e.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(s)||(e.username="Username can only contain letters, numbers and underscore"):e.username="Username is required",u.trim()?/\S+@\S+\.\S+/.test(u)||(e.email="Please enter a valid email address"):e.email="Email is required",i?i.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",l?i!==l&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",N(e),0===Object.keys(e).length})())if(p(!0),m(null),A)setTimeout(()=>{p(!1),(()=>{console.log("Using demo mode registration");const e={id:Date.now(),username:s,email:u},n=JSON.parse(localStorage.getItem("demoUsers")||"[]");n.push({username:s,email:u,password:i,id:e.id}),localStorage.setItem("demoUsers",JSON.stringify(n));const a="demo-token-"+Date.now().toString().slice(-6);E.y1.saveUserSession(e,a,!0),t(e,a)})()},1e3);else try{console.log("Register Component - Attempting registration for:",{username:s,email:u});const e=await E.y1.register(s,u,i);if(console.log("Register Component - Registration response:",e),!e)throw console.error("Register Component - Empty response received"),new Error("No response from server");if(!e.user)throw console.error("Register Component - Missing user data in response"),new Error("User data missing from response");if(!e.token)throw console.error("Register Component - Missing token in response"),new Error("Authentication token missing from response");console.log("Register Component - Registration successful"),t(e.user,e.token)}catch(n){if(console.error("Register Component - Registration error:",n),n.response){const e=n.response.data;console.error("Register Component - Server error response:",e),e.error?m(e.error):e.message?m(e.message):m("Server error: ".concat(n.response.status))}else n.request?(console.error("Register Component - Network error, no response received"),m("Unable to connect to server. Please check your internet connection and try again."),(0,E.$n)().then(e=>{e||(m("Server appears to be offline. Please try again later or use demo mode."),P(!0))})):(console.error("Register Component - Other error:",n.message),m(n.message||"Registration failed. Please try again."))}finally{p(!1)}},children:[(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"username",children:"Username"}),(0,y.jsxs)("div",{className:"input-wrapper",children:[(0,y.jsx)("input",{id:"username",type:"text",value:s,onChange:e=>r(e.target.value),onBlur:()=>j(!0),ref:T,required:!0,placeholder:"Choose a username",className:w&&k.username?"error-input":""}),s&&(0,y.jsx)("button",{type:"button",className:"clear-input",onClick:()=>r(""),"aria-label":"Clear username",children:"\u2715"})]}),w&&k.username&&(0,y.jsx)("div",{className:"field-error",children:k.username})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"email",children:"Email"}),(0,y.jsxs)("div",{className:"input-wrapper",children:[(0,y.jsx)("input",{id:"email",type:"email",value:u,onChange:e=>d(e.target.value),onBlur:()=>j(!0),required:!0,placeholder:"Your email address",className:w&&k.email?"error-input":""}),u&&(0,y.jsx)("button",{type:"button",className:"clear-input",onClick:()=>d(""),"aria-label":"Clear email",children:"\u2715"})]}),w&&k.email&&(0,y.jsx)("div",{className:"field-error",children:k.email})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"password",children:"Password"}),(0,y.jsxs)("div",{className:"input-wrapper",children:[(0,y.jsx)("input",{id:"password",type:g?"text":"password",value:i,onChange:e=>o(e.target.value),onBlur:()=>j(!0),required:!0,placeholder:"Choose a password",className:w&&k.password?"error-input":""}),(0,y.jsx)("button",{type:"button",className:"toggle-password",onClick:()=>v(!g),"aria-label":g?"Hide password":"Show password",children:g?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]}),w&&k.password&&(0,y.jsx)("div",{className:"field-error",children:k.password})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,y.jsxs)("div",{className:"input-wrapper",children:[(0,y.jsx)("input",{id:"confirmPassword",type:b?"text":"password",value:l,onChange:e=>c(e.target.value),onBlur:()=>j(!0),required:!0,placeholder:"Confirm your password",className:w&&k.confirmPassword?"error-input":""}),(0,y.jsx)("button",{type:"button",className:"toggle-password",onClick:()=>x(!b),"aria-label":b?"Hide password":"Show password",children:b?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]}),w&&k.confirmPassword&&(0,y.jsx)("div",{className:"field-error",children:k.confirmPassword})]}),(0,y.jsx)("button",{type:"submit",className:"auth-button",disabled:f,children:f?(0,y.jsxs)("span",{className:"button-with-loader",children:[(0,y.jsx)("span",{className:"loader"}),(0,y.jsx)("span",{children:"Creating account..."})]}):(0,y.jsx)("span",{children:"Sign Up"})}),h&&(0,y.jsxs)("div",{className:"auth-error",children:[(0,y.jsx)("div",{className:"error-icon",children:"\u2757"}),(0,y.jsx)("div",{className:"error-message",children:h})]})]}),(0,y.jsxs)("div",{className:"auth-switch",children:["Already have an account?"," ",(0,y.jsx)("button",{className:"text-button",onClick:n,children:"Log In"})]}),(0,y.jsx)("div",{className:"demo-mode-switch",children:(0,y.jsxs)("label",{className:"checkbox-container",children:[(0,y.jsx)("input",{type:"checkbox",checked:A,onChange:e=>P(e.target.checked)}),(0,y.jsx)("span",{className:"checkmark"}),"Use Demo Mode ",A&&"(Account will be stored locally)"]})})]})})},xe=e=>{let{size:t="medium",dark:n=!1,message:a}=e;const s="loading-spinner ".concat(t," ").concat(n?"dark":"light");return(0,y.jsxs)("div",{className:"loading-container",children:[(0,y.jsxs)("div",{className:s,children:[(0,y.jsx)("div",{className:"spinner-ring"}),(0,y.jsx)("div",{className:"spinner-ring"}),(0,y.jsx)("div",{className:"spinner-ring"}),(0,y.jsx)("div",{className:"spinner-ring"})]}),a&&(0,y.jsx)("p",{className:"loading-message",children:a})]})},we=e=>{let{darkMode:t=!1,appVersion:n="1.0.0",onComplete:s}=e;const[i,o]=(0,a.useState)(0),[l,c]=(0,a.useState)("Initializing..."),[u,d]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),[g,v]=(0,a.useState)([]),b=((0,a.useRef)(null),(0,a.useRef)(null)),x=(0,a.useMemo)(()=>[{progress:10,text:"Initializing QuibiChat..."},{progress:25,text:"Loading components..."},{progress:40,text:"Setting up connection..."},{progress:60,text:"Preparing interface..."},{progress:80,text:"Almost ready..."},{progress:95,text:"Finalizing setup..."},{progress:100,text:"Welcome to QuibiChat!"}],[]);(0,a.useEffect)(()=>{(()=>{const e=[];for(let t=0;t<50;t++)e.push({id:t,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,vx:2*(Math.random()-.5),vy:2*(Math.random()-.5),size:3*Math.random()+1,opacity:.5*Math.random()+.2,hue:60*Math.random()+200});v(e)})()},[]),(0,a.useEffect)(()=>{const e=()=>{v(e=>e.map(e=>{let t=e.x+e.vx,n=e.y+e.vy;return t<0&&(t=window.innerWidth),t>window.innerWidth&&(t=0),n<0&&(n=window.innerHeight),n>window.innerHeight&&(n=0),(0,r.A)((0,r.A)({},e),{},{x:t,y:n,opacity:Math.max(.1,Math.min(.8,e.opacity+.02*(Math.random()-.5)))})})),b.current=requestAnimationFrame(e)};return b.current=requestAnimationFrame(e),()=>{b.current&&cancelAnimationFrame(b.current)}},[]),(0,a.useEffect)(()=>{let e=0;const t=setInterval(()=>{if(e<x.length){const t=x[e];o(t.progress),c(t.text),e++}else clearInterval(t),s&&setTimeout(s,1e3)},600);return()=>clearInterval(t)},[s,x]),(0,a.useEffect)(()=>{const e=[setTimeout(()=>d(!0),300),setTimeout(()=>m(!0),900),setTimeout(()=>p(!0),1500)];return()=>e.forEach(clearTimeout)},[]);return(0,y.jsxs)("div",{className:"dynamic-splash-screen ".concat(t?"dark":"light"),children:[(0,y.jsx)("div",{className:"animated-background"}),(0,y.jsx)("div",{className:"background-shapes",children:(()=>{const e=[];for(let t=0;t<8;t++)e.push((0,y.jsx)("div",{className:"floating-shape shape-".concat(t+1),style:{"--delay":"".concat(.5*t,"s"),"--duration":"".concat(8+2*t,"s")}},t));return e})()}),(0,y.jsx)("div",{className:"particles-container",children:g.map(e=>(0,y.jsx)("div",{className:"particle",style:{left:"".concat(e.x,"px"),top:"".concat(e.y,"px"),width:"".concat(e.size,"px"),height:"".concat(e.size,"px"),opacity:e.opacity,background:"hsl(".concat(e.hue,", 70%, 60%)")}},e.id))}),(0,y.jsxs)("div",{className:"splash-content",children:[(0,y.jsx)("div",{className:"splash-logo ".concat(u?"show":""),children:(0,y.jsxs)("div",{className:"logo-container",children:[(0,y.jsxs)("svg",{width:"120",height:"120",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"splash-logo-svg",children:[(0,y.jsxs)("defs",{children:[(0,y.jsxs)("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,y.jsx)("stop",{offset:"0%",stopColor:"#4f46e5"}),(0,y.jsx)("stop",{offset:"50%",stopColor:"#7c3aed"}),(0,y.jsx)("stop",{offset:"100%",stopColor:"#0ea5e9"})]}),(0,y.jsxs)("filter",{id:"glow",children:[(0,y.jsx)("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),(0,y.jsxs)("feMerge",{children:[(0,y.jsx)("feMergeNode",{in:"coloredBlur"}),(0,y.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,y.jsx)("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H5.17L4.58 16.59L4 17.17V4H20V16Z",fill:"url(#logoGradient)",filter:"url(#glow)",className:"logo-path-1"}),(0,y.jsx)("path",{d:"M12 15L16 11L12 7L10.59 8.41L13.17 11L10.59 13.59L12 15Z",fill:"url(#logoGradient)",filter:"url(#glow)",className:"logo-path-2"}),(0,y.jsx)("path",{d:"M6 11H9V13H6V11Z",fill:"url(#logoGradient)",filter:"url(#glow)",className:"logo-path-3"})]}),(0,y.jsx)("div",{className:"logo-ring ring-1"}),(0,y.jsx)("div",{className:"logo-ring ring-2"}),(0,y.jsx)("div",{className:"logo-ring ring-3"})]})}),(0,y.jsxs)("h1",{className:"splash-title ".concat(h?"show":""),children:[(0,y.jsx)("span",{className:"title-letter",style:{"--delay":"0.1s"},children:"Q"}),(0,y.jsx)("span",{className:"title-letter",style:{"--delay":"0.2s"},children:"u"}),(0,y.jsx)("span",{className:"title-letter",style:{"--delay":"0.3s"},children:"i"}),(0,y.jsx)("span",{className:"title-letter",style:{"--delay":"0.4s"},children:"b"}),(0,y.jsx)("span",{className:"title-letter",style:{"--delay":"0.5s"},children:"i"}),(0,y.jsx)("span",{className:"title-letter",style:{"--delay":"0.6s"},children:"C"}),(0,y.jsx)("span",{className:"title-letter",style:{"--delay":"0.7s"},children:"h"}),(0,y.jsx)("span",{className:"title-letter",style:{"--delay":"0.8s"},children:"a"}),(0,y.jsx)("span",{className:"title-letter",style:{"--delay":"0.9s"},children:"t"})]}),(0,y.jsxs)("div",{className:"splash-tagline ".concat(f?"show":""),children:[(0,y.jsx)("span",{className:"tagline-word",style:{"--delay":"0.1s"},children:"Professional"}),(0,y.jsx)("span",{className:"tagline-word",style:{"--delay":"0.3s"},children:"Communication"}),(0,y.jsx)("span",{className:"tagline-word",style:{"--delay":"0.5s"},children:"Platform"})]}),(0,y.jsxs)("div",{className:"loading-section",children:[(0,y.jsxs)("div",{className:"progress-container",children:[(0,y.jsxs)("div",{className:"progress-bar",children:[(0,y.jsx)("div",{className:"progress-fill",style:{width:"".concat(i,"%")}}),(0,y.jsx)("div",{className:"progress-glow",style:{left:"".concat(i,"%")}})]}),(0,y.jsxs)("div",{className:"progress-text",children:[i,"%"]})]}),(0,y.jsx)("div",{className:"loading-text",children:l}),(0,y.jsx)("div",{className:"pulse-indicator",children:(0,y.jsxs)("div",{className:"pulse-dot",children:[(0,y.jsx)("div",{className:"pulse-ring"}),(0,y.jsx)("div",{className:"pulse-ring"}),(0,y.jsx)("div",{className:"pulse-ring"})]})})]}),(0,y.jsxs)("div",{className:"splash-version",children:[(0,y.jsx)("span",{className:"version-label",children:"Version"}),(0,y.jsxs)("span",{className:"version-number",children:["v",n]})]})]}),(0,y.jsx)("div",{className:"corner-decoration top-left"}),(0,y.jsx)("div",{className:"corner-decoration top-right"}),(0,y.jsx)("div",{className:"corner-decoration bottom-left"}),(0,y.jsx)("div",{className:"corner-decoration bottom-right"}),(0,y.jsxs)("div",{className:"loading-dots-corner",children:[(0,y.jsx)("div",{className:"dot"}),(0,y.jsx)("div",{className:"dot"}),(0,y.jsx)("div",{className:"dot"})]})]})};class je extends a.Component{constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught by ErrorBoundary:",e,t),this.setState({error:e,errorInfo:t})}render(){var e;return this.state.hasError?(0,y.jsx)("div",{className:"error-boundary",children:(0,y.jsxs)("div",{className:"error-container",children:[(0,y.jsx)("div",{className:"error-icon",children:(0,y.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-7v2h2v-2h-2zm0-8v6h2V7h-2z",fill:"currentColor"})})}),(0,y.jsx)("h2",{className:"error-title",children:"Something went wrong"}),(0,y.jsx)("p",{className:"error-message",children:"We're sorry, but there was a problem loading this part of the application."}),this.props.showDetails&&this.state.error&&(0,y.jsxs)("details",{className:"error-details",children:[(0,y.jsx)("summary",{children:"Error details"}),(0,y.jsx)("pre",{children:this.state.error.toString()}),(0,y.jsx)("pre",{children:null===(e=this.state.errorInfo)||void 0===e?void 0:e.componentStack})]}),(0,y.jsxs)("div",{className:"error-actions",children:[(0,y.jsx)("button",{className:"retry-button",onClick:this.handleRetry,children:"Try Again"}),(0,y.jsx)("button",{className:"report-button",onClick:()=>window.location.reload(),children:"Reload Page"})]})]})}):this.props.children}}const ke=je;class Ne{constructor(){this.isOnline=navigator.onLine,this.backendConnected=!1,this.lastHealthCheck=null,this.healthCheckInterval=null,this.reconnectAttempts=0,this.maxReconnectAttempts=10,this.reconnectDelay=1e3,this.listeners=[],this.healthChecksEnabled=!1,this.init()}init(){window.addEventListener("online",this.handleOnline.bind(this)),window.addEventListener("offline",this.handleOffline.bind(this)),console.log("\u26a0\ufe0f Health checks temporarily disabled to fix rate limiting"),this.backendConnected=!0,this.notifyListeners()}addListener(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}notifyListeners(){this.listeners.forEach(e=>{try{e({isOnline:this.isOnline,backendConnected:this.backendConnected,reconnectAttempts:this.reconnectAttempts,lastHealthCheck:this.lastHealthCheck})}catch(t){console.error("Error notifying connection listener:",t)}})}handleOnline(){console.log("\ud83c\udf10 Network connection restored"),this.isOnline=!0,this.backendConnected=!0,this.notifyListeners()}handleOffline(){console.log("\ud83d\udd0c Network connection lost"),this.isOnline=!1,this.backendConnected=!1,this.stopHealthCheck(),this.notifyListeners()}async checkBackendHealth(){if(!this.healthChecksEnabled)return console.log("\u26a0\ufe0f Health checks are temporarily disabled"),this.backendConnected=!0,!0;if(!this.isOnline)return!1;try{const e=new AbortController,t=setTimeout(()=>e.abort(),5e3),n=await fetch("http://localhost:5001/api/ping",{method:"GET",signal:e.signal,headers:{"Cache-Control":"no-cache"}});if(clearTimeout(t),n.ok)return await n.json(),this.lastHealthCheck=new Date,this.backendConnected||(console.log("\u2705 Backend connection restored"),this.backendConnected=!0,this.reconnectAttempts=0,this.reconnectDelay=1e3),!0;throw new Error("HTTP ".concat(n.status))}catch(e){return(this.backendConnected||0===this.reconnectAttempts)&&console.log("\u274c Backend connection lost:",e.message),this.backendConnected=!1,this.scheduleReconnect(),!1}}scheduleReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts)return void console.log("\ud83d\udd04 Max reconnection attempts reached (".concat(this.maxReconnectAttempts,"). Will retry when network status changes."));this.reconnectAttempts++;const e=1e3*Math.random(),t=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1)+e,3e4);console.log("\ud83d\udd04 Scheduling reconnection attempt ".concat(this.reconnectAttempts,"/").concat(this.maxReconnectAttempts," in ").concat(Math.round(t),"ms")),setTimeout(()=>{this.isOnline&&this.checkBackendHealth().then(()=>this.notifyListeners())},t)}startHealthCheck(){this.healthCheckInterval&&clearInterval(this.healthCheckInterval),this.checkBackendHealth().then(()=>this.notifyListeners()),this.healthCheckInterval=setInterval(async()=>{await this.checkBackendHealth(),this.notifyListeners()},12e4)}stopHealthCheck(){this.healthCheckInterval&&(clearInterval(this.healthCheckInterval),this.healthCheckInterval=null)}getStatus(){return{isOnline:this.isOnline,backendConnected:this.backendConnected,reconnectAttempts:this.reconnectAttempts,maxReconnectAttempts:this.maxReconnectAttempts,lastHealthCheck:this.lastHealthCheck,isReconnecting:this.reconnectAttempts>0&&this.reconnectAttempts<this.maxReconnectAttempts}}async forceCheck(){console.log("\ud83d\udd0d Forcing connection check..."),await this.checkBackendHealth(),this.notifyListeners()}resetReconnectAttempts(){console.log("\ud83d\udd04 Resetting reconnection attempts"),this.reconnectAttempts=0,this.reconnectDelay=1e3}destroy(){window.removeEventListener("online",this.handleOnline.bind(this)),window.removeEventListener("offline",this.handleOffline.bind(this)),this.stopHealthCheck(),this.listeners=[]}}let Se=null;const Ce=()=>(Se||(Se=new Ne),Se),Ee=e=>{let{compact:t=!1}=e;const{isOnline:n,backendConnected:s,reconnectAttempts:i,maxReconnectAttempts:o,isReconnecting:l,lastHealthCheck:c,forceCheck:u,resetReconnect:d}=(()=>{const[e,t]=(0,a.useState)(()=>Ce().getStatus());(0,a.useEffect)(()=>{const e=Ce(),n=e.addListener(t);return t(e.getStatus()),n},[]);const n=(0,a.useCallback)(()=>{Ce().forceCheck()},[]),s=(0,a.useCallback)(()=>{Ce().resetReconnectAttempts(),Ce().forceCheck()},[]);return(0,r.A)((0,r.A)({},e),{},{forceCheck:n,resetReconnect:s})})(),h=()=>n?!s&&l?"#f59e0b":s?"#10b981":"#ef4444":"#ef4444",m=()=>n?!s&&l?"\ud83d\udd04":s?"\u2705":"\u274c":"\ud83d\udd0c";return t?(0,y.jsxs)("div",{className:"connection-status-compact",style:{color:h()},children:[(0,y.jsx)("span",{className:"status-icon",children:m()}),(0,y.jsx)("span",{className:"status-text",children:n?!s&&l?"Reconnecting... (".concat(i,"/").concat(o,")"):s?"Connected":"Server Offline":"No Internet"})]}):(0,y.jsxs)("div",{className:"connection-status-card",children:[(0,y.jsxs)("div",{className:"status-header",children:[(0,y.jsx)("span",{className:"status-icon",style:{color:h()},children:m()}),(0,y.jsx)("span",{className:"status-title",children:"Connection Status"})]}),(0,y.jsxs)("div",{className:"status-details",children:[(0,y.jsxs)("div",{className:"status-item",children:[(0,y.jsx)("span",{className:"status-label",children:"Internet:"}),(0,y.jsx)("span",{className:"status-value ".concat(n?"online":"offline"),children:n?"Connected":"Disconnected"})]}),(0,y.jsxs)("div",{className:"status-item",children:[(0,y.jsx)("span",{className:"status-label",children:"Backend:"}),(0,y.jsx)("span",{className:"status-value ".concat(s?"connected":"disconnected"),children:s?"Connected":"Disconnected"})]}),l&&(0,y.jsxs)("div",{className:"status-item",children:[(0,y.jsx)("span",{className:"status-label",children:"Reconnecting:"}),(0,y.jsxs)("span",{className:"status-value reconnecting",children:["Attempt ",i,"/",o]})]}),c&&(0,y.jsxs)("div",{className:"status-item",children:[(0,y.jsx)("span",{className:"status-label",children:"Last Check:"}),(0,y.jsx)("span",{className:"status-value",children:c.toLocaleTimeString()})]})]}),(0,y.jsxs)("div",{className:"status-actions",children:[(0,y.jsx)("button",{className:"status-button primary",onClick:u,disabled:l,children:"Check Now"}),i>0&&(0,y.jsx)("button",{className:"status-button secondary",onClick:d,children:"Reset & Retry"})]})]})},Ae=()=>{const{isAuthenticated:e,user:t,loading:n,logout:s}=ge(),[r,i]=(0,a.useState)("login"),[o,l]=(0,a.useState)(()=>!sessionStorage.getItem("quibish-splash-seen")),[c,u]=(0,a.useState)(()=>{const e=localStorage.getItem("quibish-dark-mode");return!!e&&JSON.parse(e)}),[d]=(0,a.useState)([{id:1,name:"Sarah Johnson",avatar:"https://ui-avatars.com/api/?name=Sarah+Johnson&background=8b5cf6&color=fff&size=40",lastMessage:"Hey! Are we still on for lunch today?",lastMessageTime:"2m",unreadCount:2,isOnline:!0,isPinned:!0,isMuted:!1,messageStatus:"delivered",timestamp:new Date(Date.now()-12e4)},{id:2,name:"Team Alpha",avatar:"https://ui-avatars.com/api/?name=Team+Alpha&background=10b981&color=fff&size=40",lastMessage:"Mike: The deployment went smoothly \ud83d\ude80",lastMessageTime:"15m",unreadCount:5,isOnline:!1,isPinned:!1,isMuted:!1,messageStatus:"read",timestamp:new Date(Date.now()-9e5)},{id:3,name:"Alex Chen",avatar:"https://ui-avatars.com/api/?name=Alex+Chen&background=f59e0b&color=fff&size=40",lastMessage:"Thanks for the code review!",lastMessageTime:"1h",unreadCount:0,isOnline:!0,isPinned:!1,isMuted:!0,messageStatus:"sent",timestamp:new Date(Date.now()-36e5)},{id:4,name:"Design Team",avatar:"https://ui-avatars.com/api/?name=Design+Team&background=ef4444&color=fff&size=40",lastMessage:"Lisa: New mockups are ready for review",lastMessageTime:"3h",unreadCount:1,isOnline:!1,isPinned:!0,isMuted:!1,messageStatus:"delivered",timestamp:new Date(Date.now()-108e5)},{id:5,name:"Mom",avatar:"https://ui-avatars.com/api/?name=Mom&background=ec4899&color=fff&size=40",lastMessage:"Don't forget to call grandma today! \u2764\ufe0f",lastMessageTime:"5h",unreadCount:0,isOnline:!1,isPinned:!1,isMuted:!1,messageStatus:"read",timestamp:new Date(Date.now()-18e6)}]),[h]=(0,a.useState)(d[0]);(0,a.useEffect)(()=>{localStorage.setItem("quibish-dark-mode",JSON.stringify(c)),document.documentElement.setAttribute("data-theme",c?"dark":"light"),c?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")},[c]);const m=()=>i("home"),f=()=>{l(!1),sessionStorage.setItem("quibish-splash-seen","true")};return n?(0,y.jsx)(xe,{size:"large",message:"Loading..."}):o?(0,y.jsx)(we,{darkMode:c,appVersion:"1.0.0",onComplete:f}):(0,y.jsx)(ke,{children:(0,y.jsx)("div",{className:"app ".concat(c?"dark-mode":""),children:(0,y.jsx)("div",{className:"app-content",children:e&&t&&!n?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Ee,{compact:!0}),(0,y.jsx)(me,{user:t,conversations:d,currentConversation:h,onLogout:()=>{s(),i("login")},darkMode:c,onToggleDarkMode:()=>u(e=>!e)})]}):(0,y.jsxs)("div",{className:"auth-container",children:["login"===r&&(0,y.jsx)(ye,{onLogin:m,switchToRegister:()=>i("register")}),"register"===r&&(0,y.jsx)(be,{onRegister:m,switchToLogin:()=>i("login")})]})})})})},Pe=()=>(0,y.jsx)(pe,{children:(0,y.jsx)(Ae,{})}),Te=e=>{e&&e instanceof Function&&n.e(206).then(n.bind(n,206)).then(t=>{let{getCLS:n,getFID:a,getFCP:s,getLCP:r,getTTFB:i}=t;n(e),a(e),s(e),r(e),i(e)})},Le=()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};Le(),window.addEventListener("resize",Le);window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark-theme");s.createRoot(document.getElementById("root")).render((0,y.jsx)(a.StrictMode,{children:(0,y.jsx)(Pe,{})})),Te(e=>{0})})();