"use strict";(self.webpackChunkquibish=self.webpackChunkquibish||[]).push([[37],{37:(e,o,r)=>{async function s(){console.log("\ud83d\ude80 Starting Voice Recorder Diagnostics...");const e={browserSupport:!1,mimeTypeSupport:!1,permissions:"unknown",getUserMedia:!1,mediaRecorder:!1};try{e.browserSupport=function(){console.log("\n=== Test 1: Browser Support ===");const e={mediaRecorder:!!window.MediaRecorder,getUserMedia:!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia),audioContext:!(!window.AudioContext&&!window.webkitAudioContext),permissions:!!navigator.permissions};return console.log("Browser Support:",e),e.mediaRecorder?e.getUserMedia?(console.log("\u2705 Basic browser support available"),!0):(console.error("\u274c getUserMedia not supported"),!1):(console.error("\u274c MediaRecorder not supported"),!1)}(),e.browserSupport&&(e.mimeTypeSupport=function(){console.log("\n=== Test 2: MIME Type Support ===");const e=["audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/ogg","audio/wav","audio/mp4","audio/aac"],o=e.filter(e=>{const o=MediaRecorder.isTypeSupported(e);return console.log("".concat(o?"\u2705":"\u274c"," ").concat(e,": ").concat(o)),o});return console.log("\nSupported MIME types: ".concat(o.length,"/").concat(e.length)),o.length>0}(),e.permissions=await async function(){console.log("\n=== Test 3: Permission Status ===");try{if(navigator.permissions){const e=await navigator.permissions.query({name:"microphone"});return console.log("\ud83c\udfa4 Microphone permission: ".concat(e.state)),e.addEventListener("change",()=>{console.log("\ud83d\udd04 Permission changed to: ".concat(e.state))}),e.state}return console.log("\u26a0\ufe0f Permissions API not supported"),"unknown"}catch(e){return console.error("\u274c Permission check failed:",e),"error"}}(),e.getUserMedia=await async function(){console.log("\n=== Test 4: getUserMedia Test ===");try{console.log("\ud83c\udfa4 Requesting microphone access...");const e=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:44100,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});console.log("\u2705 Microphone access granted"),console.log("\ud83d\udcca Stream info:",{id:e.id,active:e.active,tracks:e.getAudioTracks().length});const o=e.getAudioTracks()[0];return o&&(console.log("\ud83c\udfb5 Audio track settings:",o.getSettings()),console.log("\ud83c\udfb5 Audio track capabilities:",o.getCapabilities())),e.getTracks().forEach(e=>e.stop()),console.log("\ud83e\uddf9 Stream stopped"),!0}catch(e){if("NotFoundError"===e.name)return console.log("\u2139\ufe0f No microphone device found (this is expected if no mic is connected)"),!1;switch(console.error("\u274c getUserMedia failed:",e),console.error("\u274c Error name:",e.name),console.error("\u274c Error message:",e.message),e.name){case"NotAllowedError":console.log("\ud83d\udca1 User denied microphone permission or feature policy blocks it");break;case"NotSupportedError":console.log("\ud83d\udca1 Audio constraints not supported");break;case"AbortError":console.log("\ud83d\udca1 Request was aborted");break;default:console.log("\ud83d\udca1 Unknown error occurred")}return!1}}(),e.getUserMedia&&(e.mediaRecorder=await async function(){console.log("\n=== Test 5: MediaRecorder Test ===");try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});console.log("\u2705 Got media stream for MediaRecorder test");const o="audio/webm;codecs=opus",r=new MediaRecorder(e,{mimeType:MediaRecorder.isTypeSupported(o)?o:void 0});return console.log("\u2705 MediaRecorder created successfully"),console.log("\ud83d\udcca MediaRecorder info:",{mimeType:r.mimeType,state:r.state,stream:r.stream.id}),r.onstart=()=>console.log("\ud83c\udfa4 MediaRecorder started"),r.onstop=()=>console.log("\ud83d\uded1 MediaRecorder stopped"),r.ondataavailable=e=>{console.log("\ud83d\udce6 Data available: ".concat(e.data.size," bytes"))},r.onerror=e=>{console.error("\u274c MediaRecorder error:",e.error)},console.log("\ud83c\udfa4 Starting 2-second test recording..."),r.start(100),setTimeout(()=>{r.stop(),e.getTracks().forEach(e=>e.stop()),console.log("\u2705 Test recording completed")},2e3),!0}catch(e){return console.error("\u274c MediaRecorder test failed:",e),!1}}())),console.log("\n=== Final Results ==="),console.log("\ud83d\udcca Diagnostic Results:",e);e.browserSupport&&e.mimeTypeSupport&&e.getUserMedia&&e.mediaRecorder?console.log("\ud83c\udf89 Voice recording should work perfectly!"):(console.log("\u26a0\ufe0f Voice recording may have issues:"),e.browserSupport||console.log("  - Browser support missing"),e.mimeTypeSupport||console.log("  - No supported MIME types"),e.getUserMedia||console.log("  - Cannot access microphone"),e.mediaRecorder||console.log("  - MediaRecorder issues"),"denied"===e.permissions&&console.log("  - Microphone permission denied"))}catch(o){console.error("\u274c Diagnostic test failed:",o)}}r.r(o),r.d(o,{runDiagnostics:()=>s}),console.log("\ud83d\udd0d Voice Recorder Diagnostic Test Starting..."),window.runVoiceRecorderDiagnostics=s}}]);